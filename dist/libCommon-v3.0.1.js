function uiUploader($log) {
    "use strict";
    function addFiles(files) {
        for (var i = 0; i < files.length; i++) self.files.push(files[i]);
    }
    function getFiles() {
        return self.files;
    }
    function startUpload(options) {
        self.options = options;
        for (var i = 0; i < self.files.length && self.activeUploads != self.options.concurrency; i++) self.files[i].active || ajaxUpload(self.files[i], self.options.url);
    }
    function removeFile(file) {
        self.files.splice(self.files.indexOf(file), 1);
    }
    function removeAll() {
        self.files.splice(0, self.files.length);
    }
    function getHumanSize(bytes) {
        var sizes = [ "n/a", "bytes", "KiB", "MiB", "GiB", "TB", "PB", "EiB", "ZiB", "YiB" ], i = +Math.floor(Math.log(bytes) / Math.log(1024));
        return (bytes / Math.pow(1024, i)).toFixed(i ? 1 : 0) + " " + sizes[isNaN(bytes) ? 0 : i + 1];
    }
    function ajaxUpload(file, url) {
        var xhr, formData, prop, data = "", key = "file";
        if (self.activeUploads += 1, file.active = !0, xhr = new window.XMLHttpRequest(), 
        formData = new window.FormData(), xhr.open("POST", url), xhr.upload.onloadstart = function() {}, 
        xhr.upload.onprogress = function(event) {
            event.lengthComputable && (file.loaded = event.loaded, file.humanSize = getHumanSize(event.loaded), 
            self.options.onProgress(file));
        }, xhr.onload = function() {
            self.activeUploads -= 1, startUpload(self.options), self.options.onCompleted(file, xhr.responseText);
        }, xhr.onerror = function() {}, data) for (prop in data) data.hasOwnProperty(prop) && formData.append(prop, data[prop]);
        return formData.append(key, file, file.name), xhr.send(formData), xhr;
    }
    var self = this;
    return self.files = [], self.options = {}, self.activeUploads = 0, $log.info("uiUploader loaded"), 
    {
        addFiles: addFiles,
        getFiles: getFiles,
        files: self.files,
        startUpload: startUpload,
        removeFile: removeFile,
        removeAll: removeAll
    };
}

function RC4(seed) {
    this.s = new Array(256), this.i = 0, this.j = 0;
    for (var i = 0; i < 256; i++) this.s[i] = i;
    seed && this.mix(seed);
}

function RNG(seed) {
    null == seed ? seed = (Math.random() + Date.now()).toString() : "function" == typeof seed ? (this.uniform = seed, 
    this.nextByte = function() {
        return ~~(256 * this.uniform());
    }, seed = null) : "[object String]" !== Object.prototype.toString.call(seed) && (seed = JSON.stringify(seed)), 
    this._normal = null, seed ? this._state = new RC4(seed) : this._state = null;
}

function q(a) {
    throw a;
}

function y(a, b, c) {
    4 !== b.length && q(new sjcl.exception.invalid("invalid aes block size"));
    var d = a.a[c], e = b[0] ^ d[0], f = b[c ? 3 : 1] ^ d[1], g = b[2] ^ d[2];
    b = b[c ? 1 : 3] ^ d[3];
    var h, l, k, m, n = d.length / 4 - 2, p = 4, s = [ 0, 0, 0, 0 ];
    h = a.j[c], a = h[0];
    var r = h[1], v = h[2], w = h[3], x = h[4];
    for (m = 0; m < n; m++) h = a[e >>> 24] ^ r[f >> 16 & 255] ^ v[g >> 8 & 255] ^ w[255 & b] ^ d[p], 
    l = a[f >>> 24] ^ r[g >> 16 & 255] ^ v[b >> 8 & 255] ^ w[255 & e] ^ d[p + 1], k = a[g >>> 24] ^ r[b >> 16 & 255] ^ v[e >> 8 & 255] ^ w[255 & f] ^ d[p + 2], 
    b = a[b >>> 24] ^ r[e >> 16 & 255] ^ v[f >> 8 & 255] ^ w[255 & g] ^ d[p + 3], p += 4, 
    e = h, f = l, g = k;
    for (m = 0; 4 > m; m++) s[c ? 3 & -m : m] = x[e >>> 24] << 24 ^ x[f >> 16 & 255] << 16 ^ x[g >> 8 & 255] << 8 ^ x[255 & b] ^ d[p++], 
    h = e, e = f, f = g, g = b, b = h;
    return s;
}

function z(a, b) {
    var c, d, e, f = b.slice(0), g = a.q, h = a.a, l = g[0], k = g[1], n = g[2], m = g[3], p = g[4], s = g[5], r = g[6], v = g[7];
    for (c = 0; 64 > c; c++) 16 > c ? d = f[c] : (d = f[c + 1 & 15], e = f[c + 14 & 15], 
    d = f[15 & c] = (d >>> 7 ^ d >>> 18 ^ d >>> 3 ^ d << 25 ^ d << 14) + (e >>> 17 ^ e >>> 19 ^ e >>> 10 ^ e << 15 ^ e << 13) + f[15 & c] + f[c + 9 & 15] | 0), 
    d = d + v + (p >>> 6 ^ p >>> 11 ^ p >>> 25 ^ p << 26 ^ p << 21 ^ p << 7) + (r ^ p & (s ^ r)) + h[c], 
    v = r, r = s, s = p, p = m + d | 0, m = n, n = k, k = l, l = d + (k & n ^ m & (k ^ n)) + (k >>> 2 ^ k >>> 13 ^ k >>> 22 ^ k << 30 ^ k << 19 ^ k << 10) | 0;
    g[0] = g[0] + l | 0, g[1] = g[1] + k | 0, g[2] = g[2] + n | 0, g[3] = g[3] + m | 0, 
    g[4] = g[4] + p | 0, g[5] = g[5] + s | 0, g[6] = g[6] + r | 0, g[7] = g[7] + v | 0;
}

function C(a, b) {
    var c, d = sjcl.random.z[a], e = [];
    for (c in d) d.hasOwnProperty(c) && e.push(d[c]);
    for (c = 0; c < e.length; c++) e[c](b);
}

function A(a) {
    a.a = B(a).concat(B(a)), a.A = new sjcl.cipher.aes(a.a);
}

function B(a) {
    for (var b = 0; 4 > b && (a.e[b] = a.e[b] + 1 | 0, !a.e[b]); b++) ;
    return a.A.encrypt(a.e);
}

if ("undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery");

+function($) {
    "use strict";
    function transitionEnd() {
        var el = document.createElement("bootstrap"), transEndEventNames = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd otransitionend",
            transition: "transitionend"
        };
        for (var name in transEndEventNames) if (void 0 !== el.style[name]) return {
            end: transEndEventNames[name]
        };
        return !1;
    }
    $.fn.emulateTransitionEnd = function(duration) {
        var called = !1, $el = this;
        $(this).one($.support.transition.end, function() {
            called = !0;
        });
        var callback = function() {
            called || $($el).trigger($.support.transition.end);
        };
        return setTimeout(callback, duration), this;
    }, $(function() {
        $.support.transition = transitionEnd();
    });
}(jQuery), +function($) {
    "use strict";
    var dismiss = '[data-dismiss="alert"]', Alert = function(el) {
        $(el).on("click", dismiss, this.close);
    };
    Alert.prototype.close = function(e) {
        function removeElement() {
            $parent.trigger("closed.bs.alert").remove();
        }
        var $this = $(this), selector = $this.attr("data-target");
        selector || (selector = $this.attr("href"), selector = selector && selector.replace(/.*(?=#[^\s]*$)/, ""));
        var $parent = $(selector);
        e && e.preventDefault(), $parent.length || ($parent = $this.hasClass("alert") ? $this : $this.parent()), 
        $parent.trigger(e = $.Event("close.bs.alert")), e.isDefaultPrevented() || ($parent.removeClass("in"), 
        $.support.transition && $parent.hasClass("fade") ? $parent.one($.support.transition.end, removeElement).emulateTransitionEnd(150) : removeElement());
    };
    var old = $.fn.alert;
    $.fn.alert = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.alert");
            data || $this.data("bs.alert", data = new Alert(this)), "string" == typeof option && data[option].call($this);
        });
    }, $.fn.alert.Constructor = Alert, $.fn.alert.noConflict = function() {
        return $.fn.alert = old, this;
    }, $(document).on("click.bs.alert.data-api", dismiss, Alert.prototype.close);
}(jQuery), +function($) {
    "use strict";
    var Button = function(element, options) {
        this.$element = $(element), this.options = $.extend({}, Button.DEFAULTS, options), 
        this.isLoading = !1;
    };
    Button.DEFAULTS = {
        loadingText: "loading..."
    }, Button.prototype.setState = function(state) {
        var d = "disabled", $el = this.$element, val = $el.is("input") ? "val" : "html", data = $el.data();
        state += "Text", data.resetText || $el.data("resetText", $el[val]()), $el[val](data[state] || this.options[state]), 
        setTimeout($.proxy(function() {
            "loadingText" == state ? (this.isLoading = !0, $el.addClass(d).attr(d, d)) : this.isLoading && (this.isLoading = !1, 
            $el.removeClass(d).removeAttr(d));
        }, this), 0);
    }, Button.prototype.toggle = function() {
        var changed = !0, $parent = this.$element.closest('[data-toggle="buttons"]');
        if ($parent.length) {
            var $input = this.$element.find("input");
            "radio" == $input.prop("type") && ($input.prop("checked") && this.$element.hasClass("active") ? changed = !1 : $parent.find(".active").removeClass("active")), 
            changed && $input.prop("checked", !this.$element.hasClass("active")).trigger("change");
        }
        changed && this.$element.toggleClass("active");
    };
    var old = $.fn.button;
    $.fn.button = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.button"), options = "object" == typeof option && option;
            data || $this.data("bs.button", data = new Button(this, options)), "toggle" == option ? data.toggle() : option && data.setState(option);
        });
    }, $.fn.button.Constructor = Button, $.fn.button.noConflict = function() {
        return $.fn.button = old, this;
    }, $(document).on("click.bs.button.data-api", "[data-toggle^=button]", function(e) {
        var $btn = $(e.target);
        $btn.hasClass("btn") || ($btn = $btn.closest(".btn")), $btn.button("toggle"), e.preventDefault();
    });
}(jQuery), +function($) {
    "use strict";
    var Carousel = function(element, options) {
        this.$element = $(element), this.$indicators = this.$element.find(".carousel-indicators"), 
        this.options = options, this.paused = this.sliding = this.interval = this.$active = this.$items = null, 
        "hover" == this.options.pause && this.$element.on("mouseenter", $.proxy(this.pause, this)).on("mouseleave", $.proxy(this.cycle, this));
    };
    Carousel.DEFAULTS = {
        interval: 5e3,
        pause: "hover",
        wrap: !0
    }, Carousel.prototype.cycle = function(e) {
        return e || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval($.proxy(this.next, this), this.options.interval)), 
        this;
    }, Carousel.prototype.getActiveIndex = function() {
        return this.$active = this.$element.find(".item.active"), this.$items = this.$active.parent().children(), 
        this.$items.index(this.$active);
    }, Carousel.prototype.to = function(pos) {
        var that = this, activeIndex = this.getActiveIndex();
        if (!(pos > this.$items.length - 1 || pos < 0)) return this.sliding ? this.$element.one("slid.bs.carousel", function() {
            that.to(pos);
        }) : activeIndex == pos ? this.pause().cycle() : this.slide(pos > activeIndex ? "next" : "prev", $(this.$items[pos]));
    }, Carousel.prototype.pause = function(e) {
        return e || (this.paused = !0), this.$element.find(".next, .prev").length && $.support.transition && (this.$element.trigger($.support.transition.end), 
        this.cycle(!0)), this.interval = clearInterval(this.interval), this;
    }, Carousel.prototype.next = function() {
        if (!this.sliding) return this.slide("next");
    }, Carousel.prototype.prev = function() {
        if (!this.sliding) return this.slide("prev");
    }, Carousel.prototype.slide = function(type, next) {
        var $active = this.$element.find(".item.active"), $next = next || $active[type](), isCycling = this.interval, direction = "next" == type ? "left" : "right", fallback = "next" == type ? "first" : "last", that = this;
        if (!$next.length) {
            if (!this.options.wrap) return;
            $next = this.$element.find(".item")[fallback]();
        }
        if ($next.hasClass("active")) return this.sliding = !1;
        var e = $.Event("slide.bs.carousel", {
            relatedTarget: $next[0],
            direction: direction
        });
        return this.$element.trigger(e), e.isDefaultPrevented() ? void 0 : (this.sliding = !0, 
        isCycling && this.pause(), this.$indicators.length && (this.$indicators.find(".active").removeClass("active"), 
        this.$element.one("slid.bs.carousel", function() {
            var $nextIndicator = $(that.$indicators.children()[that.getActiveIndex()]);
            $nextIndicator && $nextIndicator.addClass("active");
        })), $.support.transition && this.$element.hasClass("slide") ? ($next.addClass(type), 
        $next[0].offsetWidth, $active.addClass(direction), $next.addClass(direction), $active.one($.support.transition.end, function() {
            $next.removeClass([ type, direction ].join(" ")).addClass("active"), $active.removeClass([ "active", direction ].join(" ")), 
            that.sliding = !1, setTimeout(function() {
                that.$element.trigger("slid.bs.carousel");
            }, 0);
        }).emulateTransitionEnd(1e3 * $active.css("transition-duration").slice(0, -1))) : ($active.removeClass("active"), 
        $next.addClass("active"), this.sliding = !1, this.$element.trigger("slid.bs.carousel")), 
        isCycling && this.cycle(), this);
    };
    var old = $.fn.carousel;
    $.fn.carousel = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.carousel"), options = $.extend({}, Carousel.DEFAULTS, $this.data(), "object" == typeof option && option), action = "string" == typeof option ? option : options.slide;
            data || $this.data("bs.carousel", data = new Carousel(this, options)), "number" == typeof option ? data.to(option) : action ? data[action]() : options.interval && data.pause().cycle();
        });
    }, $.fn.carousel.Constructor = Carousel, $.fn.carousel.noConflict = function() {
        return $.fn.carousel = old, this;
    }, $(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", function(e) {
        var href, $this = $(this), $target = $($this.attr("data-target") || (href = $this.attr("href")) && href.replace(/.*(?=#[^\s]+$)/, "")), options = $.extend({}, $target.data(), $this.data()), slideIndex = $this.attr("data-slide-to");
        slideIndex && (options.interval = !1), $target.carousel(options), (slideIndex = $this.attr("data-slide-to")) && $target.data("bs.carousel").to(slideIndex), 
        e.preventDefault();
    }), $(window).on("load", function() {
        $('[data-ride="carousel"]').each(function() {
            var $carousel = $(this);
            $carousel.carousel($carousel.data());
        });
    });
}(jQuery), +function($) {
    "use strict";
    var Collapse = function(element, options) {
        this.$element = $(element), this.options = $.extend({}, Collapse.DEFAULTS, options), 
        this.transitioning = null, this.options.parent && (this.$parent = $(this.options.parent)), 
        this.options.toggle && this.toggle();
    };
    Collapse.DEFAULTS = {
        toggle: !0
    }, Collapse.prototype.dimension = function() {
        var hasWidth = this.$element.hasClass("width");
        return hasWidth ? "width" : "height";
    }, Collapse.prototype.show = function() {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var startEvent = $.Event("show.bs.collapse");
            if (this.$element.trigger(startEvent), !startEvent.isDefaultPrevented()) {
                var actives = this.$parent && this.$parent.find("> .panel > .in");
                if (actives && actives.length) {
                    var hasData = actives.data("bs.collapse");
                    if (hasData && hasData.transitioning) return;
                    actives.collapse("hide"), hasData || actives.data("bs.collapse", null);
                }
                var dimension = this.dimension();
                this.$element.removeClass("collapse").addClass("collapsing")[dimension](0), this.transitioning = 1;
                var complete = function() {
                    this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("auto"), 
                    this.transitioning = 0, this.$element.trigger("shown.bs.collapse");
                };
                if (!$.support.transition) return complete.call(this);
                var scrollSize = $.camelCase([ "scroll", dimension ].join("-"));
                this.$element.one($.support.transition.end, $.proxy(complete, this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize]);
            }
        }
    }, Collapse.prototype.hide = function() {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var startEvent = $.Event("hide.bs.collapse");
            if (this.$element.trigger(startEvent), !startEvent.isDefaultPrevented()) {
                var dimension = this.dimension();
                this.$element[dimension](this.$element[dimension]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"), 
                this.transitioning = 1;
                var complete = function() {
                    this.transitioning = 0, this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse");
                };
                return $.support.transition ? void this.$element[dimension](0).one($.support.transition.end, $.proxy(complete, this)).emulateTransitionEnd(350) : complete.call(this);
            }
        }
    }, Collapse.prototype.toggle = function() {
        this[this.$element.hasClass("in") ? "hide" : "show"]();
    };
    var old = $.fn.collapse;
    $.fn.collapse = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.collapse"), options = $.extend({}, Collapse.DEFAULTS, $this.data(), "object" == typeof option && option);
            !data && options.toggle && "show" == option && (option = !option), data || $this.data("bs.collapse", data = new Collapse(this, options)), 
            "string" == typeof option && data[option]();
        });
    }, $.fn.collapse.Constructor = Collapse, $.fn.collapse.noConflict = function() {
        return $.fn.collapse = old, this;
    }, $(document).on("click.bs.collapse.data-api", "[data-toggle=collapse]", function(e) {
        var href, $this = $(this), target = $this.attr("data-target") || e.preventDefault() || (href = $this.attr("href")) && href.replace(/.*(?=#[^\s]+$)/, ""), $target = $(target), data = $target.data("bs.collapse"), option = data ? "toggle" : $this.data(), parent = $this.attr("data-parent"), $parent = parent && $(parent);
        data && data.transitioning || ($parent && $parent.find('[data-toggle=collapse][data-parent="' + parent + '"]').not($this).addClass("collapsed"), 
        $this[$target.hasClass("in") ? "addClass" : "removeClass"]("collapsed")), $target.collapse(option);
    });
}(jQuery), +function($) {
    "use strict";
    function clearMenus(e) {
        $(backdrop).remove(), $(toggle).each(function() {
            var $parent = getParent($(this)), relatedTarget = {
                relatedTarget: this
            };
            $parent.hasClass("open") && ($parent.trigger(e = $.Event("hide.bs.dropdown", relatedTarget)), 
            e.isDefaultPrevented() || $parent.removeClass("open").trigger("hidden.bs.dropdown", relatedTarget));
        });
    }
    function getParent($this) {
        var selector = $this.attr("data-target");
        selector || (selector = $this.attr("href"), selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, ""));
        var $parent = selector && $(selector);
        return $parent && $parent.length ? $parent : $this.parent();
    }
    var backdrop = ".dropdown-backdrop", toggle = "[data-toggle=dropdown]", Dropdown = function(element) {
        $(element).on("click.bs.dropdown", this.toggle);
    };
    Dropdown.prototype.toggle = function(e) {
        var $this = $(this);
        if (!$this.is(".disabled, :disabled")) {
            var $parent = getParent($this), isActive = $parent.hasClass("open");
            if (clearMenus(), !isActive) {
                "ontouchstart" in document.documentElement && !$parent.closest(".navbar-nav").length && $('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click", clearMenus);
                var relatedTarget = {
                    relatedTarget: this
                };
                if ($parent.trigger(e = $.Event("show.bs.dropdown", relatedTarget)), e.isDefaultPrevented()) return;
                $parent.toggleClass("open").trigger("shown.bs.dropdown", relatedTarget), $this.focus();
            }
            return !1;
        }
    }, Dropdown.prototype.keydown = function(e) {
        if (/(38|40|27)/.test(e.keyCode)) {
            var $this = $(this);
            if (e.preventDefault(), e.stopPropagation(), !$this.is(".disabled, :disabled")) {
                var $parent = getParent($this), isActive = $parent.hasClass("open");
                if (!isActive || isActive && 27 == e.keyCode) return 27 == e.which && $parent.find(toggle).focus(), 
                $this.click();
                var desc = " li:not(.divider):visible a", $items = $parent.find("[role=menu]" + desc + ", [role=listbox]" + desc);
                if ($items.length) {
                    var index = $items.index($items.filter(":focus"));
                    38 == e.keyCode && index > 0 && index--, 40 == e.keyCode && index < $items.length - 1 && index++, 
                    ~index || (index = 0), $items.eq(index).focus();
                }
            }
        }
    };
    var old = $.fn.dropdown;
    $.fn.dropdown = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.dropdown");
            data || $this.data("bs.dropdown", data = new Dropdown(this)), "string" == typeof option && data[option].call($this);
        });
    }, $.fn.dropdown.Constructor = Dropdown, $.fn.dropdown.noConflict = function() {
        return $.fn.dropdown = old, this;
    }, $(document).on("click.bs.dropdown.data-api", clearMenus).on("click.bs.dropdown.data-api", ".dropdown form", function(e) {
        e.stopPropagation();
    }).on("click.bs.dropdown.data-api", toggle, Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api", toggle + ", [role=menu], [role=listbox]", Dropdown.prototype.keydown);
}(jQuery), +function($) {
    "use strict";
    var Modal = function(element, options) {
        this.options = options, this.$element = $(element), this.$backdrop = this.isShown = null, 
        this.options.remote && this.$element.find(".modal-content").load(this.options.remote, $.proxy(function() {
            this.$element.trigger("loaded.bs.modal");
        }, this));
    };
    Modal.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    }, Modal.prototype.toggle = function(_relatedTarget) {
        return this[this.isShown ? "hide" : "show"](_relatedTarget);
    }, Modal.prototype.show = function(_relatedTarget) {
        var that = this, e = $.Event("show.bs.modal", {
            relatedTarget: _relatedTarget
        });
        this.$element.trigger(e), this.isShown || e.isDefaultPrevented() || (this.isShown = !0, 
        this.escape(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', $.proxy(this.hide, this)), 
        this.backdrop(function() {
            var transition = $.support.transition && that.$element.hasClass("fade");
            that.$element.parent().length || that.$element.appendTo(document.body), that.$element.show().scrollTop(0), 
            transition && that.$element[0].offsetWidth, that.$element.addClass("in").attr("aria-hidden", !1), 
            that.enforceFocus();
            var e = $.Event("shown.bs.modal", {
                relatedTarget: _relatedTarget
            });
            transition ? that.$element.find(".modal-dialog").one($.support.transition.end, function() {
                that.$element.focus().trigger(e);
            }).emulateTransitionEnd(300) : that.$element.focus().trigger(e);
        }));
    }, Modal.prototype.hide = function(e) {
        e && e.preventDefault(), e = $.Event("hide.bs.modal"), this.$element.trigger(e), 
        this.isShown && !e.isDefaultPrevented() && (this.isShown = !1, this.escape(), $(document).off("focusin.bs.modal"), 
        this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal"), 
        $.support.transition && this.$element.hasClass("fade") ? this.$element.one($.support.transition.end, $.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal());
    }, Modal.prototype.enforceFocus = function() {
        $(document).off("focusin.bs.modal").on("focusin.bs.modal", $.proxy(function(e) {
            this.$element[0] === e.target || this.$element.has(e.target).length || this.$element.focus();
        }, this));
    }, Modal.prototype.escape = function() {
        this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.bs.modal", $.proxy(function(e) {
            27 == e.which && this.hide();
        }, this)) : this.isShown || this.$element.off("keyup.dismiss.bs.modal");
    }, Modal.prototype.hideModal = function() {
        var that = this;
        this.$element.hide(), this.backdrop(function() {
            that.removeBackdrop(), that.$element.trigger("hidden.bs.modal");
        });
    }, Modal.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove(), this.$backdrop = null;
    }, Modal.prototype.backdrop = function(callback) {
        var animate = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var doAnimate = $.support.transition && animate;
            if (this.$backdrop = $('<div class="modal-backdrop ' + animate + '" />').appendTo(document.body), 
            this.$element.on("click.dismiss.bs.modal", $.proxy(function(e) {
                e.target === e.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this));
            }, this)), doAnimate && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), 
            !callback) return;
            doAnimate ? this.$backdrop.one($.support.transition.end, callback).emulateTransitionEnd(150) : callback();
        } else !this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"), $.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one($.support.transition.end, callback).emulateTransitionEnd(150) : callback()) : callback && callback();
    };
    var old = $.fn.modal;
    $.fn.modal = function(option, _relatedTarget) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.modal"), options = $.extend({}, Modal.DEFAULTS, $this.data(), "object" == typeof option && option);
            data || $this.data("bs.modal", data = new Modal(this, options)), "string" == typeof option ? data[option](_relatedTarget) : options.show && data.show(_relatedTarget);
        });
    }, $.fn.modal.Constructor = Modal, $.fn.modal.noConflict = function() {
        return $.fn.modal = old, this;
    }, $(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(e) {
        var $this = $(this), href = $this.attr("href"), $target = $($this.attr("data-target") || href && href.replace(/.*(?=#[^\s]+$)/, "")), option = $target.data("bs.modal") ? "toggle" : $.extend({
            remote: !/#/.test(href) && href
        }, $target.data(), $this.data());
        $this.is("a") && e.preventDefault(), $target.modal(option, this).one("hide", function() {
            $this.is(":visible") && $this.focus();
        });
    }), $(document).on("show.bs.modal", ".modal", function() {
        $(document.body).addClass("modal-open");
    }).on("hidden.bs.modal", ".modal", function() {
        $(document.body).removeClass("modal-open");
    });
}(jQuery), +function($) {
    "use strict";
    var Tooltip = function(element, options) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, 
        this.init("tooltip", element, options);
    };
    Tooltip.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1
    }, Tooltip.prototype.init = function(type, element, options) {
        this.enabled = !0, this.type = type, this.$element = $(element), this.options = this.getOptions(options);
        for (var triggers = this.options.trigger.split(" "), i = triggers.length; i--; ) {
            var trigger = triggers[i];
            if ("click" == trigger) this.$element.on("click." + this.type, this.options.selector, $.proxy(this.toggle, this)); else if ("manual" != trigger) {
                var eventIn = "hover" == trigger ? "mouseenter" : "focusin", eventOut = "hover" == trigger ? "mouseleave" : "focusout";
                this.$element.on(eventIn + "." + this.type, this.options.selector, $.proxy(this.enter, this)), 
                this.$element.on(eventOut + "." + this.type, this.options.selector, $.proxy(this.leave, this));
            }
        }
        this.options.selector ? this._options = $.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle();
    }, Tooltip.prototype.getDefaults = function() {
        return Tooltip.DEFAULTS;
    }, Tooltip.prototype.getOptions = function(options) {
        return options = $.extend({}, this.getDefaults(), this.$element.data(), options), 
        options.delay && "number" == typeof options.delay && (options.delay = {
            show: options.delay,
            hide: options.delay
        }), options;
    }, Tooltip.prototype.getDelegateOptions = function() {
        var options = {}, defaults = this.getDefaults();
        return this._options && $.each(this._options, function(key, value) {
            defaults[key] != value && (options[key] = value);
        }), options;
    }, Tooltip.prototype.enter = function(obj) {
        var self = obj instanceof this.constructor ? obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type);
        return clearTimeout(self.timeout), self.hoverState = "in", self.options.delay && self.options.delay.show ? void (self.timeout = setTimeout(function() {
            "in" == self.hoverState && self.show();
        }, self.options.delay.show)) : self.show();
    }, Tooltip.prototype.leave = function(obj) {
        var self = obj instanceof this.constructor ? obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type);
        return clearTimeout(self.timeout), self.hoverState = "out", self.options.delay && self.options.delay.hide ? void (self.timeout = setTimeout(function() {
            "out" == self.hoverState && self.hide();
        }, self.options.delay.hide)) : self.hide();
    }, Tooltip.prototype.show = function() {
        var e = $.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            if (this.$element.trigger(e), e.isDefaultPrevented()) return;
            var that = this, $tip = this.tip();
            this.setContent(), this.options.animation && $tip.addClass("fade");
            var placement = "function" == typeof this.options.placement ? this.options.placement.call(this, $tip[0], this.$element[0]) : this.options.placement, autoToken = /\s?auto?\s?/i, autoPlace = autoToken.test(placement);
            autoPlace && (placement = placement.replace(autoToken, "") || "top"), $tip.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(placement), this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element);
            var pos = this.getPosition(), actualWidth = $tip[0].offsetWidth, actualHeight = $tip[0].offsetHeight;
            if (autoPlace) {
                var $parent = this.$element.parent(), orgPlacement = placement, docScroll = document.documentElement.scrollTop || document.body.scrollTop, parentWidth = "body" == this.options.container ? window.innerWidth : $parent.outerWidth(), parentHeight = "body" == this.options.container ? window.innerHeight : $parent.outerHeight(), parentLeft = "body" == this.options.container ? 0 : $parent.offset().left;
                placement = "bottom" == placement && pos.top + pos.height + actualHeight - docScroll > parentHeight ? "top" : "top" == placement && pos.top - docScroll - actualHeight < 0 ? "bottom" : "right" == placement && pos.right + actualWidth > parentWidth ? "left" : "left" == placement && pos.left - actualWidth < parentLeft ? "right" : placement, 
                $tip.removeClass(orgPlacement).addClass(placement);
            }
            var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight);
            this.applyPlacement(calculatedOffset, placement), this.hoverState = null;
            var complete = function() {
                that.$element.trigger("shown.bs." + that.type);
            };
            $.support.transition && this.$tip.hasClass("fade") ? $tip.one($.support.transition.end, complete).emulateTransitionEnd(150) : complete();
        }
    }, Tooltip.prototype.applyPlacement = function(offset, placement) {
        var replace, $tip = this.tip(), width = $tip[0].offsetWidth, height = $tip[0].offsetHeight, marginTop = parseInt($tip.css("margin-top"), 10), marginLeft = parseInt($tip.css("margin-left"), 10);
        isNaN(marginTop) && (marginTop = 0), isNaN(marginLeft) && (marginLeft = 0), offset.top = offset.top + marginTop, 
        offset.left = offset.left + marginLeft, $.offset.setOffset($tip[0], $.extend({
            using: function(props) {
                $tip.css({
                    top: Math.round(props.top),
                    left: Math.round(props.left)
                });
            }
        }, offset), 0), $tip.addClass("in");
        var actualWidth = $tip[0].offsetWidth, actualHeight = $tip[0].offsetHeight;
        if ("top" == placement && actualHeight != height && (replace = !0, offset.top = offset.top + height - actualHeight), 
        /bottom|top/.test(placement)) {
            var delta = 0;
            offset.left < 0 && (delta = offset.left * -2, offset.left = 0, $tip.offset(offset), 
            actualWidth = $tip[0].offsetWidth, actualHeight = $tip[0].offsetHeight), this.replaceArrow(delta - width + actualWidth, actualWidth, "left");
        } else this.replaceArrow(actualHeight - height, actualHeight, "top");
        replace && $tip.offset(offset);
    }, Tooltip.prototype.replaceArrow = function(delta, dimension, position) {
        this.arrow().css(position, delta ? 50 * (1 - delta / dimension) + "%" : "");
    }, Tooltip.prototype.setContent = function() {
        var $tip = this.tip(), title = this.getTitle();
        $tip.find(".tooltip-inner")[this.options.html ? "html" : "text"](title), $tip.removeClass("fade in top bottom left right");
    }, Tooltip.prototype.hide = function() {
        function complete() {
            "in" != that.hoverState && $tip.detach(), that.$element.trigger("hidden.bs." + that.type);
        }
        var that = this, $tip = this.tip(), e = $.Event("hide.bs." + this.type);
        if (this.$element.trigger(e), !e.isDefaultPrevented()) return $tip.removeClass("in"), 
        $.support.transition && this.$tip.hasClass("fade") ? $tip.one($.support.transition.end, complete).emulateTransitionEnd(150) : complete(), 
        this.hoverState = null, this;
    }, Tooltip.prototype.fixTitle = function() {
        var $e = this.$element;
        ($e.attr("title") || "string" != typeof $e.attr("data-original-title")) && $e.attr("data-original-title", $e.attr("title") || "").attr("title", "");
    }, Tooltip.prototype.hasContent = function() {
        return this.getTitle();
    }, Tooltip.prototype.getPosition = function() {
        var el = this.$element[0];
        return $.extend({}, "function" == typeof el.getBoundingClientRect ? el.getBoundingClientRect() : {
            width: el.offsetWidth,
            height: el.offsetHeight
        }, this.$element.offset());
    }, Tooltip.prototype.getCalculatedOffset = function(placement, pos, actualWidth, actualHeight) {
        return "bottom" == placement ? {
            top: pos.top + pos.height,
            left: pos.left + pos.width / 2 - actualWidth / 2
        } : "top" == placement ? {
            top: pos.top - actualHeight,
            left: pos.left + pos.width / 2 - actualWidth / 2
        } : "left" == placement ? {
            top: pos.top + pos.height / 2 - actualHeight / 2,
            left: pos.left - actualWidth
        } : {
            top: pos.top + pos.height / 2 - actualHeight / 2,
            left: pos.left + pos.width
        };
    }, Tooltip.prototype.getTitle = function() {
        var title, $e = this.$element, o = this.options;
        return title = $e.attr("data-original-title") || ("function" == typeof o.title ? o.title.call($e[0]) : o.title);
    }, Tooltip.prototype.tip = function() {
        return this.$tip = this.$tip || $(this.options.template);
    }, Tooltip.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow");
    }, Tooltip.prototype.validate = function() {
        this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null);
    }, Tooltip.prototype.enable = function() {
        this.enabled = !0;
    }, Tooltip.prototype.disable = function() {
        this.enabled = !1;
    }, Tooltip.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled;
    }, Tooltip.prototype.toggle = function(e) {
        var self = e ? $(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type) : this;
        self.tip().hasClass("in") ? self.leave(self) : self.enter(self);
    }, Tooltip.prototype.destroy = function() {
        clearTimeout(this.timeout), this.hide().$element.off("." + this.type).removeData("bs." + this.type);
    };
    var old = $.fn.tooltip;
    $.fn.tooltip = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.tooltip"), options = "object" == typeof option && option;
            (data || "destroy" != option) && (data || $this.data("bs.tooltip", data = new Tooltip(this, options)), 
            "string" == typeof option && data[option]());
        });
    }, $.fn.tooltip.Constructor = Tooltip, $.fn.tooltip.noConflict = function() {
        return $.fn.tooltip = old, this;
    };
}(jQuery), +function($) {
    "use strict";
    var Popover = function(element, options) {
        this.init("popover", element, options);
    };
    if (!$.fn.tooltip) throw new Error("Popover requires tooltip.js");
    Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }), Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype), Popover.prototype.constructor = Popover, 
    Popover.prototype.getDefaults = function() {
        return Popover.DEFAULTS;
    }, Popover.prototype.setContent = function() {
        var $tip = this.tip(), title = this.getTitle(), content = this.getContent();
        $tip.find(".popover-title")[this.options.html ? "html" : "text"](title), $tip.find(".popover-content")[this.options.html ? "string" == typeof content ? "html" : "append" : "text"](content), 
        $tip.removeClass("fade top bottom left right in"), $tip.find(".popover-title").html() || $tip.find(".popover-title").hide();
    }, Popover.prototype.hasContent = function() {
        return this.getTitle() || this.getContent();
    }, Popover.prototype.getContent = function() {
        var $e = this.$element, o = this.options;
        return $e.attr("data-content") || ("function" == typeof o.content ? o.content.call($e[0]) : o.content);
    }, Popover.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".arrow");
    }, Popover.prototype.tip = function() {
        return this.$tip || (this.$tip = $(this.options.template)), this.$tip;
    };
    var old = $.fn.popover;
    $.fn.popover = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.popover"), options = "object" == typeof option && option;
            (data || "destroy" != option) && (data || $this.data("bs.popover", data = new Popover(this, options)), 
            "string" == typeof option && data[option]());
        });
    }, $.fn.popover.Constructor = Popover, $.fn.popover.noConflict = function() {
        return $.fn.popover = old, this;
    };
}(jQuery), +function($) {
    "use strict";
    function ScrollSpy(element, options) {
        var href, process = $.proxy(this.process, this);
        this.$element = $($(element).is("body") ? window : element), this.$body = $("body"), 
        this.$scrollElement = this.$element.on("scroll.bs.scroll-spy.data-api", process), 
        this.options = $.extend({}, ScrollSpy.DEFAULTS, options), this.selector = (this.options.target || (href = $(element).attr("href")) && href.replace(/.*(?=#[^\s]+$)/, "") || "") + " .nav li > a", 
        this.offsets = $([]), this.targets = $([]), this.activeTarget = null, this.refresh(), 
        this.process();
    }
    ScrollSpy.DEFAULTS = {
        offset: 10
    }, ScrollSpy.prototype.refresh = function() {
        var offsetMethod = this.$element[0] == window ? "offset" : "position";
        this.offsets = $([]), this.targets = $([]);
        var self = this;
        this.$body.find(this.selector).map(function() {
            var $el = $(this), href = $el.data("target") || $el.attr("href"), $href = /^#./.test(href) && $(href);
            return $href && $href.length && $href.is(":visible") && [ [ $href[offsetMethod]().top + (!$.isWindow(self.$scrollElement.get(0)) && self.$scrollElement.scrollTop()), href ] ] || null;
        }).sort(function(a, b) {
            return a[0] - b[0];
        }).each(function() {
            self.offsets.push(this[0]), self.targets.push(this[1]);
        });
    }, ScrollSpy.prototype.process = function() {
        var i, scrollTop = this.$scrollElement.scrollTop() + this.options.offset, scrollHeight = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight, maxScroll = scrollHeight - this.$scrollElement.height(), offsets = this.offsets, targets = this.targets, activeTarget = this.activeTarget;
        if (scrollTop >= maxScroll) return activeTarget != (i = targets.last()[0]) && this.activate(i);
        if (activeTarget && scrollTop <= offsets[0]) return activeTarget != (i = targets[0]) && this.activate(i);
        for (i = offsets.length; i--; ) activeTarget != targets[i] && scrollTop >= offsets[i] && (!offsets[i + 1] || scrollTop <= offsets[i + 1]) && this.activate(targets[i]);
    }, ScrollSpy.prototype.activate = function(target) {
        this.activeTarget = target, $(this.selector).parentsUntil(this.options.target, ".active").removeClass("active");
        var selector = this.selector + '[data-target="' + target + '"],' + this.selector + '[href="' + target + '"]', active = $(selector).parents("li").addClass("active");
        active.parent(".dropdown-menu").length && (active = active.closest("li.dropdown").addClass("active")), 
        active.trigger("activate.bs.scrollspy");
    };
    var old = $.fn.scrollspy;
    $.fn.scrollspy = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.scrollspy"), options = "object" == typeof option && option;
            data || $this.data("bs.scrollspy", data = new ScrollSpy(this, options)), "string" == typeof option && data[option]();
        });
    }, $.fn.scrollspy.Constructor = ScrollSpy, $.fn.scrollspy.noConflict = function() {
        return $.fn.scrollspy = old, this;
    }, $(window).on("load", function() {
        $('[data-spy="scroll"]').each(function() {
            var $spy = $(this);
            $spy.scrollspy($spy.data());
        });
    });
}(jQuery), +function($) {
    "use strict";
    var Tab = function(element) {
        this.element = $(element);
    };
    Tab.prototype.show = function() {
        var $this = this.element, $ul = $this.closest("ul:not(.dropdown-menu)"), selector = $this.data("target");
        if (selector || (selector = $this.attr("href"), selector = selector && selector.replace(/.*(?=#[^\s]*$)/, "")), 
        !$this.parent("li").hasClass("active")) {
            var previous = $ul.find(".active:last a")[0], e = $.Event("show.bs.tab", {
                relatedTarget: previous
            });
            if ($this.trigger(e), !e.isDefaultPrevented()) {
                var $target = $(selector);
                this.activate($this.parent("li"), $ul), this.activate($target, $target.parent(), function() {
                    $this.trigger({
                        type: "shown.bs.tab",
                        relatedTarget: previous
                    });
                });
            }
        }
    }, Tab.prototype.activate = function(element, container, callback) {
        function next() {
            $active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"), 
            element.addClass("active"), transition ? (element[0].offsetWidth, element.addClass("in")) : element.removeClass("fade"), 
            element.parent(".dropdown-menu") && element.closest("li.dropdown").addClass("active"), 
            callback && callback();
        }
        var $active = container.find("> .active"), transition = callback && $.support.transition && $active.hasClass("fade");
        transition ? $active.one($.support.transition.end, next).emulateTransitionEnd(150) : next(), 
        $active.removeClass("in");
    };
    var old = $.fn.tab;
    $.fn.tab = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.tab");
            data || $this.data("bs.tab", data = new Tab(this)), "string" == typeof option && data[option]();
        });
    }, $.fn.tab.Constructor = Tab, $.fn.tab.noConflict = function() {
        return $.fn.tab = old, this;
    }, $(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function(e) {
        e.preventDefault(), $(this).tab("show");
    });
}(jQuery), +function($) {
    "use strict";
    var Affix = function(element, options) {
        this.options = $.extend({}, Affix.DEFAULTS, options), this.$window = $(window).on("scroll.bs.affix.data-api", $.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", $.proxy(this.checkPositionWithEventLoop, this)), 
        this.$element = $(element), this.affixed = this.unpin = this.pinnedOffset = null, 
        this.checkPosition();
    };
    Affix.RESET = "affix affix-top affix-bottom", Affix.DEFAULTS = {
        offset: 0
    }, Affix.prototype.getPinnedOffset = function() {
        if (this.pinnedOffset) return this.pinnedOffset;
        this.$element.removeClass(Affix.RESET).addClass("affix");
        var scrollTop = this.$window.scrollTop(), position = this.$element.offset();
        return this.pinnedOffset = position.top - scrollTop;
    }, Affix.prototype.checkPositionWithEventLoop = function() {
        setTimeout($.proxy(this.checkPosition, this), 1);
    }, Affix.prototype.checkPosition = function() {
        if (this.$element.is(":visible")) {
            var scrollHeight = $(document).height(), scrollTop = this.$window.scrollTop(), position = this.$element.offset(), offset = this.options.offset, offsetTop = offset.top, offsetBottom = offset.bottom;
            "top" == this.affixed && (position.top += scrollTop), "object" != typeof offset && (offsetBottom = offsetTop = offset), 
            "function" == typeof offsetTop && (offsetTop = offset.top(this.$element)), "function" == typeof offsetBottom && (offsetBottom = offset.bottom(this.$element));
            var affix = !(null != this.unpin && scrollTop + this.unpin <= position.top) && (null != offsetBottom && position.top + this.$element.height() >= scrollHeight - offsetBottom ? "bottom" : null != offsetTop && scrollTop <= offsetTop && "top");
            if (this.affixed !== affix) {
                this.unpin && this.$element.css("top", "");
                var affixType = "affix" + (affix ? "-" + affix : ""), e = $.Event(affixType + ".bs.affix");
                this.$element.trigger(e), e.isDefaultPrevented() || (this.affixed = affix, this.unpin = "bottom" == affix ? this.getPinnedOffset() : null, 
                this.$element.removeClass(Affix.RESET).addClass(affixType).trigger($.Event(affixType.replace("affix", "affixed"))), 
                "bottom" == affix && this.$element.offset({
                    top: scrollHeight - offsetBottom - this.$element.height()
                }));
            }
        }
    };
    var old = $.fn.affix;
    $.fn.affix = function(option) {
        return this.each(function() {
            var $this = $(this), data = $this.data("bs.affix"), options = "object" == typeof option && option;
            data || $this.data("bs.affix", data = new Affix(this, options)), "string" == typeof option && data[option]();
        });
    }, $.fn.affix.Constructor = Affix, $.fn.affix.noConflict = function() {
        return $.fn.affix = old, this;
    }, $(window).on("load", function() {
        $('[data-spy="affix"]').each(function() {
            var $spy = $(this), data = $spy.data();
            data.offset = data.offset || {}, data.offsetBottom && (data.offset.bottom = data.offsetBottom), 
            data.offsetTop && (data.offset.top = data.offsetTop), $spy.affix(data);
        });
    });
}(jQuery), function() {
    function createReduce(dir) {
        function iterator(obj, iteratee, memo, keys, index, length) {
            for (;index >= 0 && index < length; index += dir) {
                var currentKey = keys ? keys[index] : index;
                memo = iteratee(memo, obj[currentKey], currentKey, obj);
            }
            return memo;
        }
        return function(obj, iteratee, memo, context) {
            iteratee = optimizeCb(iteratee, context, 4);
            var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length, index = dir > 0 ? 0 : length - 1;
            return arguments.length < 3 && (memo = obj[keys ? keys[index] : index], index += dir), 
            iterator(obj, iteratee, memo, keys, index, length);
        };
    }
    function createIndexFinder(dir) {
        return function(array, predicate, context) {
            predicate = cb(predicate, context);
            for (var length = null != array && array.length, index = dir > 0 ? 0 : length - 1; index >= 0 && index < length; index += dir) if (predicate(array[index], index, array)) return index;
            return -1;
        };
    }
    function collectNonEnumProps(obj, keys) {
        var nonEnumIdx = nonEnumerableProps.length, constructor = obj.constructor, proto = _.isFunction(constructor) && constructor.prototype || ObjProto, prop = "constructor";
        for (_.has(obj, prop) && !_.contains(keys, prop) && keys.push(prop); nonEnumIdx--; ) prop = nonEnumerableProps[nonEnumIdx], 
        prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop) && keys.push(prop);
    }
    var root = this, previousUnderscore = root._, ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype, push = ArrayProto.push, slice = ArrayProto.slice, toString = ObjProto.toString, hasOwnProperty = ObjProto.hasOwnProperty, nativeIsArray = Array.isArray, nativeKeys = Object.keys, nativeBind = FuncProto.bind, nativeCreate = Object.create, Ctor = function() {}, _ = function(obj) {
        return obj instanceof _ ? obj : this instanceof _ ? void (this._wrapped = obj) : new _(obj);
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = _), 
    exports._ = _) : root._ = _, _.VERSION = "1.8.2";
    var optimizeCb = function(func, context, argCount) {
        if (void 0 === context) return func;
        switch (null == argCount ? 3 : argCount) {
          case 1:
            return function(value) {
                return func.call(context, value);
            };

          case 2:
            return function(value, other) {
                return func.call(context, value, other);
            };

          case 3:
            return function(value, index, collection) {
                return func.call(context, value, index, collection);
            };

          case 4:
            return function(accumulator, value, index, collection) {
                return func.call(context, accumulator, value, index, collection);
            };
        }
        return function() {
            return func.apply(context, arguments);
        };
    }, cb = function(value, context, argCount) {
        return null == value ? _.identity : _.isFunction(value) ? optimizeCb(value, context, argCount) : _.isObject(value) ? _.matcher(value) : _.property(value);
    };
    _.iteratee = function(value, context) {
        return cb(value, context, 1 / 0);
    };
    var createAssigner = function(keysFunc, undefinedOnly) {
        return function(obj) {
            var length = arguments.length;
            if (length < 2 || null == obj) return obj;
            for (var index = 1; index < length; index++) for (var source = arguments[index], keys = keysFunc(source), l = keys.length, i = 0; i < l; i++) {
                var key = keys[i];
                undefinedOnly && void 0 !== obj[key] || (obj[key] = source[key]);
            }
            return obj;
        };
    }, baseCreate = function(prototype) {
        if (!_.isObject(prototype)) return {};
        if (nativeCreate) return nativeCreate(prototype);
        Ctor.prototype = prototype;
        var result = new Ctor();
        return Ctor.prototype = null, result;
    }, MAX_ARRAY_INDEX = Math.pow(2, 53) - 1, isArrayLike = function(collection) {
        var length = collection && collection.length;
        return "number" == typeof length && length >= 0 && length <= MAX_ARRAY_INDEX;
    };
    _.each = _.forEach = function(obj, iteratee, context) {
        iteratee = optimizeCb(iteratee, context);
        var i, length;
        if (isArrayLike(obj)) for (i = 0, length = obj.length; i < length; i++) iteratee(obj[i], i, obj); else {
            var keys = _.keys(obj);
            for (i = 0, length = keys.length; i < length; i++) iteratee(obj[keys[i]], keys[i], obj);
        }
        return obj;
    }, _.map = _.collect = function(obj, iteratee, context) {
        iteratee = cb(iteratee, context);
        for (var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length, results = Array(length), index = 0; index < length; index++) {
            var currentKey = keys ? keys[index] : index;
            results[index] = iteratee(obj[currentKey], currentKey, obj);
        }
        return results;
    }, _.reduce = _.foldl = _.inject = createReduce(1), _.reduceRight = _.foldr = createReduce(-1), 
    _.find = _.detect = function(obj, predicate, context) {
        var key;
        if (key = isArrayLike(obj) ? _.findIndex(obj, predicate, context) : _.findKey(obj, predicate, context), 
        void 0 !== key && key !== -1) return obj[key];
    }, _.filter = _.select = function(obj, predicate, context) {
        var results = [];
        return predicate = cb(predicate, context), _.each(obj, function(value, index, list) {
            predicate(value, index, list) && results.push(value);
        }), results;
    }, _.reject = function(obj, predicate, context) {
        return _.filter(obj, _.negate(cb(predicate)), context);
    }, _.every = _.all = function(obj, predicate, context) {
        predicate = cb(predicate, context);
        for (var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length, index = 0; index < length; index++) {
            var currentKey = keys ? keys[index] : index;
            if (!predicate(obj[currentKey], currentKey, obj)) return !1;
        }
        return !0;
    }, _.some = _.any = function(obj, predicate, context) {
        predicate = cb(predicate, context);
        for (var keys = !isArrayLike(obj) && _.keys(obj), length = (keys || obj).length, index = 0; index < length; index++) {
            var currentKey = keys ? keys[index] : index;
            if (predicate(obj[currentKey], currentKey, obj)) return !0;
        }
        return !1;
    }, _.contains = _.includes = _.include = function(obj, target, fromIndex) {
        return isArrayLike(obj) || (obj = _.values(obj)), _.indexOf(obj, target, "number" == typeof fromIndex && fromIndex) >= 0;
    }, _.invoke = function(obj, method) {
        var args = slice.call(arguments, 2), isFunc = _.isFunction(method);
        return _.map(obj, function(value) {
            var func = isFunc ? method : value[method];
            return null == func ? func : func.apply(value, args);
        });
    }, _.pluck = function(obj, key) {
        return _.map(obj, _.property(key));
    }, _.where = function(obj, attrs) {
        return _.filter(obj, _.matcher(attrs));
    }, _.findWhere = function(obj, attrs) {
        return _.find(obj, _.matcher(attrs));
    }, _.max = function(obj, iteratee, context) {
        var value, computed, result = -(1 / 0), lastComputed = -(1 / 0);
        if (null == iteratee && null != obj) {
            obj = isArrayLike(obj) ? obj : _.values(obj);
            for (var i = 0, length = obj.length; i < length; i++) value = obj[i], value > result && (result = value);
        } else iteratee = cb(iteratee, context), _.each(obj, function(value, index, list) {
            computed = iteratee(value, index, list), (computed > lastComputed || computed === -(1 / 0) && result === -(1 / 0)) && (result = value, 
            lastComputed = computed);
        });
        return result;
    }, _.min = function(obj, iteratee, context) {
        var value, computed, result = 1 / 0, lastComputed = 1 / 0;
        if (null == iteratee && null != obj) {
            obj = isArrayLike(obj) ? obj : _.values(obj);
            for (var i = 0, length = obj.length; i < length; i++) value = obj[i], value < result && (result = value);
        } else iteratee = cb(iteratee, context), _.each(obj, function(value, index, list) {
            computed = iteratee(value, index, list), (computed < lastComputed || computed === 1 / 0 && result === 1 / 0) && (result = value, 
            lastComputed = computed);
        });
        return result;
    }, _.shuffle = function(obj) {
        for (var rand, set = isArrayLike(obj) ? obj : _.values(obj), length = set.length, shuffled = Array(length), index = 0; index < length; index++) rand = _.random(0, index), 
        rand !== index && (shuffled[index] = shuffled[rand]), shuffled[rand] = set[index];
        return shuffled;
    }, _.sample = function(obj, n, guard) {
        return null == n || guard ? (isArrayLike(obj) || (obj = _.values(obj)), obj[_.random(obj.length - 1)]) : _.shuffle(obj).slice(0, Math.max(0, n));
    }, _.sortBy = function(obj, iteratee, context) {
        return iteratee = cb(iteratee, context), _.pluck(_.map(obj, function(value, index, list) {
            return {
                value: value,
                index: index,
                criteria: iteratee(value, index, list)
            };
        }).sort(function(left, right) {
            var a = left.criteria, b = right.criteria;
            if (a !== b) {
                if (a > b || void 0 === a) return 1;
                if (a < b || void 0 === b) return -1;
            }
            return left.index - right.index;
        }), "value");
    };
    var group = function(behavior) {
        return function(obj, iteratee, context) {
            var result = {};
            return iteratee = cb(iteratee, context), _.each(obj, function(value, index) {
                var key = iteratee(value, index, obj);
                behavior(result, value, key);
            }), result;
        };
    };
    _.groupBy = group(function(result, value, key) {
        _.has(result, key) ? result[key].push(value) : result[key] = [ value ];
    }), _.indexBy = group(function(result, value, key) {
        result[key] = value;
    }), _.countBy = group(function(result, value, key) {
        _.has(result, key) ? result[key]++ : result[key] = 1;
    }), _.toArray = function(obj) {
        return obj ? _.isArray(obj) ? slice.call(obj) : isArrayLike(obj) ? _.map(obj, _.identity) : _.values(obj) : [];
    }, _.size = function(obj) {
        return null == obj ? 0 : isArrayLike(obj) ? obj.length : _.keys(obj).length;
    }, _.partition = function(obj, predicate, context) {
        predicate = cb(predicate, context);
        var pass = [], fail = [];
        return _.each(obj, function(value, key, obj) {
            (predicate(value, key, obj) ? pass : fail).push(value);
        }), [ pass, fail ];
    }, _.first = _.head = _.take = function(array, n, guard) {
        if (null != array) return null == n || guard ? array[0] : _.initial(array, array.length - n);
    }, _.initial = function(array, n, guard) {
        return slice.call(array, 0, Math.max(0, array.length - (null == n || guard ? 1 : n)));
    }, _.last = function(array, n, guard) {
        if (null != array) return null == n || guard ? array[array.length - 1] : _.rest(array, Math.max(0, array.length - n));
    }, _.rest = _.tail = _.drop = function(array, n, guard) {
        return slice.call(array, null == n || guard ? 1 : n);
    }, _.compact = function(array) {
        return _.filter(array, _.identity);
    };
    var flatten = function(input, shallow, strict, startIndex) {
        for (var output = [], idx = 0, i = startIndex || 0, length = input && input.length; i < length; i++) {
            var value = input[i];
            if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {
                shallow || (value = flatten(value, shallow, strict));
                var j = 0, len = value.length;
                for (output.length += len; j < len; ) output[idx++] = value[j++];
            } else strict || (output[idx++] = value);
        }
        return output;
    };
    _.flatten = function(array, shallow) {
        return flatten(array, shallow, !1);
    }, _.without = function(array) {
        return _.difference(array, slice.call(arguments, 1));
    }, _.uniq = _.unique = function(array, isSorted, iteratee, context) {
        if (null == array) return [];
        _.isBoolean(isSorted) || (context = iteratee, iteratee = isSorted, isSorted = !1), 
        null != iteratee && (iteratee = cb(iteratee, context));
        for (var result = [], seen = [], i = 0, length = array.length; i < length; i++) {
            var value = array[i], computed = iteratee ? iteratee(value, i, array) : value;
            isSorted ? (i && seen === computed || result.push(value), seen = computed) : iteratee ? _.contains(seen, computed) || (seen.push(computed), 
            result.push(value)) : _.contains(result, value) || result.push(value);
        }
        return result;
    }, _.union = function() {
        return _.uniq(flatten(arguments, !0, !0));
    }, _.intersection = function(array) {
        if (null == array) return [];
        for (var result = [], argsLength = arguments.length, i = 0, length = array.length; i < length; i++) {
            var item = array[i];
            if (!_.contains(result, item)) {
                for (var j = 1; j < argsLength && _.contains(arguments[j], item); j++) ;
                j === argsLength && result.push(item);
            }
        }
        return result;
    }, _.difference = function(array) {
        var rest = flatten(arguments, !0, !0, 1);
        return _.filter(array, function(value) {
            return !_.contains(rest, value);
        });
    }, _.zip = function() {
        return _.unzip(arguments);
    }, _.unzip = function(array) {
        for (var length = array && _.max(array, "length").length || 0, result = Array(length), index = 0; index < length; index++) result[index] = _.pluck(array, index);
        return result;
    }, _.object = function(list, values) {
        for (var result = {}, i = 0, length = list && list.length; i < length; i++) values ? result[list[i]] = values[i] : result[list[i][0]] = list[i][1];
        return result;
    }, _.indexOf = function(array, item, isSorted) {
        var i = 0, length = array && array.length;
        if ("number" == typeof isSorted) i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted; else if (isSorted && length) return i = _.sortedIndex(array, item), 
        array[i] === item ? i : -1;
        if (item !== item) return _.findIndex(slice.call(array, i), _.isNaN);
        for (;i < length; i++) if (array[i] === item) return i;
        return -1;
    }, _.lastIndexOf = function(array, item, from) {
        var idx = array ? array.length : 0;
        if ("number" == typeof from && (idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1)), 
        item !== item) return _.findLastIndex(slice.call(array, 0, idx), _.isNaN);
        for (;--idx >= 0; ) if (array[idx] === item) return idx;
        return -1;
    }, _.findIndex = createIndexFinder(1), _.findLastIndex = createIndexFinder(-1), 
    _.sortedIndex = function(array, obj, iteratee, context) {
        iteratee = cb(iteratee, context, 1);
        for (var value = iteratee(obj), low = 0, high = array.length; low < high; ) {
            var mid = Math.floor((low + high) / 2);
            iteratee(array[mid]) < value ? low = mid + 1 : high = mid;
        }
        return low;
    }, _.range = function(start, stop, step) {
        arguments.length <= 1 && (stop = start || 0, start = 0), step = step || 1;
        for (var length = Math.max(Math.ceil((stop - start) / step), 0), range = Array(length), idx = 0; idx < length; idx++, 
        start += step) range[idx] = start;
        return range;
    };
    var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {
        if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);
        var self = baseCreate(sourceFunc.prototype), result = sourceFunc.apply(self, args);
        return _.isObject(result) ? result : self;
    };
    _.bind = function(func, context) {
        if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
        if (!_.isFunction(func)) throw new TypeError("Bind must be called on a function");
        var args = slice.call(arguments, 2), bound = function() {
            return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));
        };
        return bound;
    }, _.partial = function(func) {
        var boundArgs = slice.call(arguments, 1), bound = function() {
            for (var position = 0, length = boundArgs.length, args = Array(length), i = 0; i < length; i++) args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];
            for (;position < arguments.length; ) args.push(arguments[position++]);
            return executeBound(func, bound, this, this, args);
        };
        return bound;
    }, _.bindAll = function(obj) {
        var i, key, length = arguments.length;
        if (length <= 1) throw new Error("bindAll must be passed function names");
        for (i = 1; i < length; i++) key = arguments[i], obj[key] = _.bind(obj[key], obj);
        return obj;
    }, _.memoize = function(func, hasher) {
        var memoize = function(key) {
            var cache = memoize.cache, address = "" + (hasher ? hasher.apply(this, arguments) : key);
            return _.has(cache, address) || (cache[address] = func.apply(this, arguments)), 
            cache[address];
        };
        return memoize.cache = {}, memoize;
    }, _.delay = function(func, wait) {
        var args = slice.call(arguments, 2);
        return setTimeout(function() {
            return func.apply(null, args);
        }, wait);
    }, _.defer = _.partial(_.delay, _, 1), _.throttle = function(func, wait, options) {
        var context, args, result, timeout = null, previous = 0;
        options || (options = {});
        var later = function() {
            previous = options.leading === !1 ? 0 : _.now(), timeout = null, result = func.apply(context, args), 
            timeout || (context = args = null);
        };
        return function() {
            var now = _.now();
            previous || options.leading !== !1 || (previous = now);
            var remaining = wait - (now - previous);
            return context = this, args = arguments, remaining <= 0 || remaining > wait ? (timeout && (clearTimeout(timeout), 
            timeout = null), previous = now, result = func.apply(context, args), timeout || (context = args = null)) : timeout || options.trailing === !1 || (timeout = setTimeout(later, remaining)), 
            result;
        };
    }, _.debounce = function(func, wait, immediate) {
        var timeout, args, context, timestamp, result, later = function() {
            var last = _.now() - timestamp;
            last < wait && last >= 0 ? timeout = setTimeout(later, wait - last) : (timeout = null, 
            immediate || (result = func.apply(context, args), timeout || (context = args = null)));
        };
        return function() {
            context = this, args = arguments, timestamp = _.now();
            var callNow = immediate && !timeout;
            return timeout || (timeout = setTimeout(later, wait)), callNow && (result = func.apply(context, args), 
            context = args = null), result;
        };
    }, _.wrap = function(func, wrapper) {
        return _.partial(wrapper, func);
    }, _.negate = function(predicate) {
        return function() {
            return !predicate.apply(this, arguments);
        };
    }, _.compose = function() {
        var args = arguments, start = args.length - 1;
        return function() {
            for (var i = start, result = args[start].apply(this, arguments); i--; ) result = args[i].call(this, result);
            return result;
        };
    }, _.after = function(times, func) {
        return function() {
            if (--times < 1) return func.apply(this, arguments);
        };
    }, _.before = function(times, func) {
        var memo;
        return function() {
            return --times > 0 && (memo = func.apply(this, arguments)), times <= 1 && (func = null), 
            memo;
        };
    }, _.once = _.partial(_.before, 2);
    var hasEnumBug = !{
        toString: null
    }.propertyIsEnumerable("toString"), nonEnumerableProps = [ "valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString" ];
    _.keys = function(obj) {
        if (!_.isObject(obj)) return [];
        if (nativeKeys) return nativeKeys(obj);
        var keys = [];
        for (var key in obj) _.has(obj, key) && keys.push(key);
        return hasEnumBug && collectNonEnumProps(obj, keys), keys;
    }, _.allKeys = function(obj) {
        if (!_.isObject(obj)) return [];
        var keys = [];
        for (var key in obj) keys.push(key);
        return hasEnumBug && collectNonEnumProps(obj, keys), keys;
    }, _.values = function(obj) {
        for (var keys = _.keys(obj), length = keys.length, values = Array(length), i = 0; i < length; i++) values[i] = obj[keys[i]];
        return values;
    }, _.mapObject = function(obj, iteratee, context) {
        iteratee = cb(iteratee, context);
        for (var currentKey, keys = _.keys(obj), length = keys.length, results = {}, index = 0; index < length; index++) currentKey = keys[index], 
        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);
        return results;
    }, _.pairs = function(obj) {
        for (var keys = _.keys(obj), length = keys.length, pairs = Array(length), i = 0; i < length; i++) pairs[i] = [ keys[i], obj[keys[i]] ];
        return pairs;
    }, _.invert = function(obj) {
        for (var result = {}, keys = _.keys(obj), i = 0, length = keys.length; i < length; i++) result[obj[keys[i]]] = keys[i];
        return result;
    }, _.functions = _.methods = function(obj) {
        var names = [];
        for (var key in obj) _.isFunction(obj[key]) && names.push(key);
        return names.sort();
    }, _.extend = createAssigner(_.allKeys), _.extendOwn = _.assign = createAssigner(_.keys), 
    _.findKey = function(obj, predicate, context) {
        predicate = cb(predicate, context);
        for (var key, keys = _.keys(obj), i = 0, length = keys.length; i < length; i++) if (key = keys[i], 
        predicate(obj[key], key, obj)) return key;
    }, _.pick = function(object, oiteratee, context) {
        var iteratee, keys, result = {}, obj = object;
        if (null == obj) return result;
        _.isFunction(oiteratee) ? (keys = _.allKeys(obj), iteratee = optimizeCb(oiteratee, context)) : (keys = flatten(arguments, !1, !1, 1), 
        iteratee = function(value, key, obj) {
            return key in obj;
        }, obj = Object(obj));
        for (var i = 0, length = keys.length; i < length; i++) {
            var key = keys[i], value = obj[key];
            iteratee(value, key, obj) && (result[key] = value);
        }
        return result;
    }, _.omit = function(obj, iteratee, context) {
        if (_.isFunction(iteratee)) iteratee = _.negate(iteratee); else {
            var keys = _.map(flatten(arguments, !1, !1, 1), String);
            iteratee = function(value, key) {
                return !_.contains(keys, key);
            };
        }
        return _.pick(obj, iteratee, context);
    }, _.defaults = createAssigner(_.allKeys, !0), _.clone = function(obj) {
        return _.isObject(obj) ? _.isArray(obj) ? obj.slice() : _.extend({}, obj) : obj;
    }, _.tap = function(obj, interceptor) {
        return interceptor(obj), obj;
    }, _.isMatch = function(object, attrs) {
        var keys = _.keys(attrs), length = keys.length;
        if (null == object) return !length;
        for (var obj = Object(object), i = 0; i < length; i++) {
            var key = keys[i];
            if (attrs[key] !== obj[key] || !(key in obj)) return !1;
        }
        return !0;
    };
    var eq = function(a, b, aStack, bStack) {
        if (a === b) return 0 !== a || 1 / a === 1 / b;
        if (null == a || null == b) return a === b;
        a instanceof _ && (a = a._wrapped), b instanceof _ && (b = b._wrapped);
        var className = toString.call(a);
        if (className !== toString.call(b)) return !1;
        switch (className) {
          case "[object RegExp]":
          case "[object String]":
            return "" + a == "" + b;

          case "[object Number]":
            return +a !== +a ? +b !== +b : 0 === +a ? 1 / +a === 1 / b : +a === +b;

          case "[object Date]":
          case "[object Boolean]":
            return +a === +b;
        }
        var areArrays = "[object Array]" === className;
        if (!areArrays) {
            if ("object" != typeof a || "object" != typeof b) return !1;
            var aCtor = a.constructor, bCtor = b.constructor;
            if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor && _.isFunction(bCtor) && bCtor instanceof bCtor) && "constructor" in a && "constructor" in b) return !1;
        }
        aStack = aStack || [], bStack = bStack || [];
        for (var length = aStack.length; length--; ) if (aStack[length] === a) return bStack[length] === b;
        if (aStack.push(a), bStack.push(b), areArrays) {
            if (length = a.length, length !== b.length) return !1;
            for (;length--; ) if (!eq(a[length], b[length], aStack, bStack)) return !1;
        } else {
            var key, keys = _.keys(a);
            if (length = keys.length, _.keys(b).length !== length) return !1;
            for (;length--; ) if (key = keys[length], !_.has(b, key) || !eq(a[key], b[key], aStack, bStack)) return !1;
        }
        return aStack.pop(), bStack.pop(), !0;
    };
    _.isEqual = function(a, b) {
        return eq(a, b);
    }, _.isEmpty = function(obj) {
        return null == obj || (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)) ? 0 === obj.length : 0 === _.keys(obj).length);
    }, _.isElement = function(obj) {
        return !(!obj || 1 !== obj.nodeType);
    }, _.isArray = nativeIsArray || function(obj) {
        return "[object Array]" === toString.call(obj);
    }, _.isObject = function(obj) {
        var type = typeof obj;
        return "function" === type || "object" === type && !!obj;
    }, _.each([ "Arguments", "Function", "String", "Number", "Date", "RegExp", "Error" ], function(name) {
        _["is" + name] = function(obj) {
            return toString.call(obj) === "[object " + name + "]";
        };
    }), _.isArguments(arguments) || (_.isArguments = function(obj) {
        return _.has(obj, "callee");
    }), "function" != typeof /./ && "object" != typeof Int8Array && (_.isFunction = function(obj) {
        return "function" == typeof obj || !1;
    }), _.isFinite = function(obj) {
        return isFinite(obj) && !isNaN(parseFloat(obj));
    }, _.isNaN = function(obj) {
        return _.isNumber(obj) && obj !== +obj;
    }, _.isBoolean = function(obj) {
        return obj === !0 || obj === !1 || "[object Boolean]" === toString.call(obj);
    }, _.isNull = function(obj) {
        return null === obj;
    }, _.isUndefined = function(obj) {
        return void 0 === obj;
    }, _.has = function(obj, key) {
        return null != obj && hasOwnProperty.call(obj, key);
    }, _.noConflict = function() {
        return root._ = previousUnderscore, this;
    }, _.identity = function(value) {
        return value;
    }, _.constant = function(value) {
        return function() {
            return value;
        };
    }, _.noop = function() {}, _.property = function(key) {
        return function(obj) {
            return null == obj ? void 0 : obj[key];
        };
    }, _.propertyOf = function(obj) {
        return null == obj ? function() {} : function(key) {
            return obj[key];
        };
    }, _.matcher = _.matches = function(attrs) {
        return attrs = _.extendOwn({}, attrs), function(obj) {
            return _.isMatch(obj, attrs);
        };
    }, _.times = function(n, iteratee, context) {
        var accum = Array(Math.max(0, n));
        iteratee = optimizeCb(iteratee, context, 1);
        for (var i = 0; i < n; i++) accum[i] = iteratee(i);
        return accum;
    }, _.random = function(min, max) {
        return null == max && (max = min, min = 0), min + Math.floor(Math.random() * (max - min + 1));
    }, _.now = Date.now || function() {
        return new Date().getTime();
    };
    var escapeMap = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }, unescapeMap = _.invert(escapeMap), createEscaper = function(map) {
        var escaper = function(match) {
            return map[match];
        }, source = "(?:" + _.keys(map).join("|") + ")", testRegexp = RegExp(source), replaceRegexp = RegExp(source, "g");
        return function(string) {
            return string = null == string ? "" : "" + string, testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
        };
    };
    _.escape = createEscaper(escapeMap), _.unescape = createEscaper(unescapeMap), _.result = function(object, property, fallback) {
        var value = null == object ? void 0 : object[property];
        return void 0 === value && (value = fallback), _.isFunction(value) ? value.call(object) : value;
    };
    var idCounter = 0;
    _.uniqueId = function(prefix) {
        var id = ++idCounter + "";
        return prefix ? prefix + id : id;
    }, _.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var noMatch = /(.)^/, escapes = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }, escaper = /\\|'|\r|\n|\u2028|\u2029/g, escapeChar = function(match) {
        return "\\" + escapes[match];
    };
    _.template = function(text, settings, oldSettings) {
        !settings && oldSettings && (settings = oldSettings), settings = _.defaults({}, settings, _.templateSettings);
        var matcher = RegExp([ (settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source ].join("|") + "|$", "g"), index = 0, source = "__p+='";
        text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
            return source += text.slice(index, offset).replace(escaper, escapeChar), index = offset + match.length, 
            escape ? source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'" : interpolate ? source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'" : evaluate && (source += "';\n" + evaluate + "\n__p+='"), 
            match;
        }), source += "';\n", settings.variable || (source = "with(obj||{}){\n" + source + "}\n"), 
        source = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + source + "return __p;\n";
        try {
            var render = new Function(settings.variable || "obj", "_", source);
        } catch (e) {
            throw e.source = source, e;
        }
        var template = function(data) {
            return render.call(this, data, _);
        }, argument = settings.variable || "obj";
        return template.source = "function(" + argument + "){\n" + source + "}", template;
    }, _.chain = function(obj) {
        var instance = _(obj);
        return instance._chain = !0, instance;
    };
    var result = function(instance, obj) {
        return instance._chain ? _(obj).chain() : obj;
    };
    _.mixin = function(obj) {
        _.each(_.functions(obj), function(name) {
            var func = _[name] = obj[name];
            _.prototype[name] = function() {
                var args = [ this._wrapped ];
                return push.apply(args, arguments), result(this, func.apply(_, args));
            };
        });
    }, _.mixin(_), _.each([ "pop", "push", "reverse", "shift", "sort", "splice", "unshift" ], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
            var obj = this._wrapped;
            return method.apply(obj, arguments), "shift" !== name && "splice" !== name || 0 !== obj.length || delete obj[0], 
            result(this, obj);
        };
    }), _.each([ "concat", "join", "slice" ], function(name) {
        var method = ArrayProto[name];
        _.prototype[name] = function() {
            return result(this, method.apply(this._wrapped, arguments));
        };
    }), _.prototype.value = function() {
        return this._wrapped;
    }, _.prototype.valueOf = _.prototype.toJSON = _.prototype.value, _.prototype.toString = function() {
        return "" + this._wrapped;
    }, "function" == typeof define && define.amd && define("underscore", [], function() {
        return _;
    });
}.call(this), function(window, document, undefined) {
    "use strict";
    function minErr(module) {
        return function() {
            var message, i, code = arguments[0], prefix = "[" + (module ? module + ":" : "") + code + "] ", template = arguments[1], templateArgs = arguments, stringify = function(obj) {
                return "function" == typeof obj ? obj.toString().replace(/ \{[\s\S]*$/, "") : "undefined" == typeof obj ? "undefined" : "string" != typeof obj ? JSON.stringify(obj) : obj;
            };
            for (message = prefix + template.replace(/\{\d+\}/g, function(match) {
                var arg, index = +match.slice(1, -1);
                return index + 2 < templateArgs.length ? (arg = templateArgs[index + 2], "function" == typeof arg ? arg.toString().replace(/ ?\{[\s\S]*$/, "") : "undefined" == typeof arg ? "undefined" : "string" != typeof arg ? toJson(arg) : arg) : match;
            }), message = message + "\nhttp://errors.angularjs.org/1.2.32/" + (module ? module + "/" : "") + code, 
            i = 2; i < arguments.length; i++) message = message + (2 == i ? "?" : "&") + "p" + (i - 2) + "=" + encodeURIComponent(stringify(arguments[i]));
            return new Error(message);
        };
    }
    function isArrayLike(obj) {
        if (null == obj || isWindow(obj)) return !1;
        var length = obj.length;
        return !(1 !== obj.nodeType || !length) || (isString(obj) || isArray(obj) || 0 === length || "number" == typeof length && length > 0 && length - 1 in obj);
    }
    function forEach(obj, iterator, context) {
        var key;
        if (obj) if (isFunction(obj)) for (key in obj) "prototype" == key || "length" == key || "name" == key || obj.hasOwnProperty && !obj.hasOwnProperty(key) || iterator.call(context, obj[key], key); else if (isArray(obj) || isArrayLike(obj)) for (key = 0; key < obj.length; key++) iterator.call(context, obj[key], key); else if (obj.forEach && obj.forEach !== forEach) obj.forEach(iterator, context); else for (key in obj) obj.hasOwnProperty(key) && iterator.call(context, obj[key], key);
        return obj;
    }
    function sortedKeys(obj) {
        var keys = [];
        for (var key in obj) obj.hasOwnProperty(key) && keys.push(key);
        return keys.sort();
    }
    function forEachSorted(obj, iterator, context) {
        for (var keys = sortedKeys(obj), i = 0; i < keys.length; i++) iterator.call(context, obj[keys[i]], keys[i]);
        return keys;
    }
    function reverseParams(iteratorFn) {
        return function(value, key) {
            iteratorFn(key, value);
        };
    }
    function nextUid() {
        for (var digit, index = uid.length; index; ) {
            if (index--, digit = uid[index].charCodeAt(0), 57 == digit) return uid[index] = "A", 
            uid.join("");
            if (90 != digit) return uid[index] = String.fromCharCode(digit + 1), uid.join("");
            uid[index] = "0";
        }
        return uid.unshift("0"), uid.join("");
    }
    function setHashKey(obj, h) {
        h ? obj.$$hashKey = h : delete obj.$$hashKey;
    }
    function extend(dst) {
        var h = dst.$$hashKey;
        return forEach(arguments, function(obj) {
            obj !== dst && forEach(obj, function(value, key) {
                dst[key] = value;
            });
        }), setHashKey(dst, h), dst;
    }
    function int(str) {
        return parseInt(str, 10);
    }
    function inherit(parent, extra) {
        return extend(new (extend(function() {}, {
            prototype: parent
        }))(), extra);
    }
    function noop() {}
    function identity($) {
        return $;
    }
    function valueFn(value) {
        return function() {
            return value;
        };
    }
    function isUndefined(value) {
        return "undefined" == typeof value;
    }
    function isDefined(value) {
        return "undefined" != typeof value;
    }
    function isObject(value) {
        return null != value && "object" == typeof value;
    }
    function isString(value) {
        return "string" == typeof value;
    }
    function isNumber(value) {
        return "number" == typeof value;
    }
    function isDate(value) {
        return "[object Date]" === toString.call(value);
    }
    function isFunction(value) {
        return "function" == typeof value;
    }
    function isRegExp(value) {
        return "[object RegExp]" === toString.call(value);
    }
    function isWindow(obj) {
        return obj && obj.document && obj.location && obj.alert && obj.setInterval;
    }
    function isScope(obj) {
        return obj && obj.$evalAsync && obj.$watch;
    }
    function isFile(obj) {
        return "[object File]" === toString.call(obj);
    }
    function isBlob(obj) {
        return "[object Blob]" === toString.call(obj);
    }
    function isPromiseLike(obj) {
        return obj && isFunction(obj.then);
    }
    function isElement(node) {
        return !(!node || !(node.nodeName || node.prop && node.attr && node.find));
    }
    function map(obj, iterator, context) {
        var results = [];
        return forEach(obj, function(value, index, list) {
            results.push(iterator.call(context, value, index, list));
        }), results;
    }
    function includes(array, obj) {
        return indexOf(array, obj) != -1;
    }
    function indexOf(array, obj) {
        if (array.indexOf) return array.indexOf(obj);
        for (var i = 0; i < array.length; i++) if (obj === array[i]) return i;
        return -1;
    }
    function arrayRemove(array, value) {
        var index = indexOf(array, value);
        return index >= 0 && array.splice(index, 1), value;
    }
    function copy(source, destination, stackSource, stackDest) {
        if (isWindow(source) || isScope(source)) throw ngMinErr("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
        if (destination) {
            if (source === destination) throw ngMinErr("cpi", "Can't copy! Source and destination are identical.");
            if (stackSource = stackSource || [], stackDest = stackDest || [], isObject(source)) {
                var index = indexOf(stackSource, source);
                if (index !== -1) return stackDest[index];
                stackSource.push(source), stackDest.push(destination);
            }
            var result;
            if (isArray(source)) {
                destination.length = 0;
                for (var i = 0; i < source.length; i++) result = copy(source[i], null, stackSource, stackDest), 
                isObject(source[i]) && (stackSource.push(source[i]), stackDest.push(result)), destination.push(result);
            } else {
                var h = destination.$$hashKey;
                isArray(destination) ? destination.length = 0 : forEach(destination, function(value, key) {
                    delete destination[key];
                });
                for (var key in source) result = copy(source[key], null, stackSource, stackDest), 
                isObject(source[key]) && (stackSource.push(source[key]), stackDest.push(result)), 
                destination[key] = result;
                setHashKey(destination, h);
            }
        } else destination = source, source && (isArray(source) ? destination = copy(source, [], stackSource, stackDest) : isDate(source) ? destination = new Date(source.getTime()) : isRegExp(source) ? (destination = new RegExp(source.source, source.toString().match(/[^\/]*$/)[0]), 
        destination.lastIndex = source.lastIndex) : isObject(source) && (destination = copy(source, {}, stackSource, stackDest)));
        return destination;
    }
    function shallowCopy(src, dst) {
        if (isArray(src)) {
            dst = dst || [];
            for (var i = 0; i < src.length; i++) dst[i] = src[i];
        } else if (isObject(src)) {
            dst = dst || {};
            for (var key in src) !hasOwnProperty.call(src, key) || "$" === key.charAt(0) && "$" === key.charAt(1) || (dst[key] = src[key]);
        }
        return dst || src;
    }
    function equals(o1, o2) {
        if (o1 === o2) return !0;
        if (null === o1 || null === o2) return !1;
        if (o1 !== o1 && o2 !== o2) return !0;
        var length, key, keySet, t1 = typeof o1, t2 = typeof o2;
        if (t1 == t2 && "object" == t1) {
            if (!isArray(o1)) {
                if (isDate(o1)) return !!isDate(o2) && (isNaN(o1.getTime()) && isNaN(o2.getTime()) || o1.getTime() === o2.getTime());
                if (isRegExp(o1) && isRegExp(o2)) return o1.toString() == o2.toString();
                if (isScope(o1) || isScope(o2) || isWindow(o1) || isWindow(o2) || isArray(o2)) return !1;
                keySet = {};
                for (key in o1) if ("$" !== key.charAt(0) && !isFunction(o1[key])) {
                    if (!equals(o1[key], o2[key])) return !1;
                    keySet[key] = !0;
                }
                for (key in o2) if (!keySet.hasOwnProperty(key) && "$" !== key.charAt(0) && o2[key] !== undefined && !isFunction(o2[key])) return !1;
                return !0;
            }
            if (!isArray(o2)) return !1;
            if ((length = o1.length) == o2.length) {
                for (key = 0; key < length; key++) if (!equals(o1[key], o2[key])) return !1;
                return !0;
            }
        }
        return !1;
    }
    function concat(array1, array2, index) {
        return array1.concat(slice.call(array2, index));
    }
    function sliceArgs(args, startIndex) {
        return slice.call(args, startIndex || 0);
    }
    function bind(self, fn) {
        var curryArgs = arguments.length > 2 ? sliceArgs(arguments, 2) : [];
        return !isFunction(fn) || fn instanceof RegExp ? fn : curryArgs.length ? function() {
            return arguments.length ? fn.apply(self, curryArgs.concat(slice.call(arguments, 0))) : fn.apply(self, curryArgs);
        } : function() {
            return arguments.length ? fn.apply(self, arguments) : fn.call(self);
        };
    }
    function toJsonReplacer(key, value) {
        var val = value;
        return "string" == typeof key && "$" === key.charAt(0) ? val = undefined : isWindow(value) ? val = "$WINDOW" : value && document === value ? val = "$DOCUMENT" : isScope(value) && (val = "$SCOPE"), 
        val;
    }
    function toJson(obj, pretty) {
        return "undefined" == typeof obj ? undefined : JSON.stringify(obj, toJsonReplacer, pretty ? "  " : null);
    }
    function fromJson(json) {
        return isString(json) ? JSON.parse(json) : json;
    }
    function toBoolean(value) {
        if ("function" == typeof value) value = !0; else if (value && 0 !== value.length) {
            var v = lowercase("" + value);
            value = !("f" == v || "0" == v || "false" == v || "no" == v || "n" == v || "[]" == v);
        } else value = !1;
        return value;
    }
    function startingTag(element) {
        element = jqLite(element).clone();
        try {
            element.empty();
        } catch (e) {}
        var TEXT_NODE = 3, elemHtml = jqLite("<div>").append(element).html();
        try {
            return element[0].nodeType === TEXT_NODE ? lowercase(elemHtml) : elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function(match, nodeName) {
                return "<" + lowercase(nodeName);
            });
        } catch (e) {
            return lowercase(elemHtml);
        }
    }
    function tryDecodeURIComponent(value) {
        try {
            return decodeURIComponent(value);
        } catch (e) {}
    }
    function parseKeyValue(keyValue) {
        var key_value, key, obj = {};
        return forEach((keyValue || "").split("&"), function(keyValue) {
            if (keyValue && (key_value = keyValue.replace(/\+/g, "%20").split("="), key = tryDecodeURIComponent(key_value[0]), 
            isDefined(key))) {
                var val = !isDefined(key_value[1]) || tryDecodeURIComponent(key_value[1]);
                hasOwnProperty.call(obj, key) ? isArray(obj[key]) ? obj[key].push(val) : obj[key] = [ obj[key], val ] : obj[key] = val;
            }
        }), obj;
    }
    function toKeyValue(obj) {
        var parts = [];
        return forEach(obj, function(value, key) {
            isArray(value) ? forEach(value, function(arrayValue) {
                parts.push(encodeUriQuery(key, !0) + (arrayValue === !0 ? "" : "=" + encodeUriQuery(arrayValue, !0)));
            }) : parts.push(encodeUriQuery(key, !0) + (value === !0 ? "" : "=" + encodeUriQuery(value, !0)));
        }), parts.length ? parts.join("&") : "";
    }
    function encodeUriSegment(val) {
        return encodeUriQuery(val, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+");
    }
    function encodeUriQuery(val, pctEncodeSpaces) {
        return encodeURIComponent(val).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, pctEncodeSpaces ? "%20" : "+");
    }
    function angularInit(element, bootstrap) {
        function append(element) {
            element && elements.push(element);
        }
        var appElement, module, elements = [ element ], names = [ "ng:app", "ng-app", "x-ng-app", "data-ng-app" ], NG_APP_CLASS_REGEXP = /\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;
        forEach(names, function(name) {
            names[name] = !0, append(document.getElementById(name)), name = name.replace(":", "\\:"), 
            element.querySelectorAll && (forEach(element.querySelectorAll("." + name), append), 
            forEach(element.querySelectorAll("." + name + "\\:"), append), forEach(element.querySelectorAll("[" + name + "]"), append));
        }), forEach(elements, function(element) {
            if (!appElement) {
                var className = " " + element.className + " ", match = NG_APP_CLASS_REGEXP.exec(className);
                match ? (appElement = element, module = (match[2] || "").replace(/\s+/g, ",")) : forEach(element.attributes, function(attr) {
                    !appElement && names[attr.name] && (appElement = element, module = attr.value);
                });
            }
        }), appElement && bootstrap(appElement, module ? [ module ] : []);
    }
    function bootstrap(element, modules) {
        var doBootstrap = function() {
            if (element = jqLite(element), element.injector()) {
                var tag = element[0] === document ? "document" : startingTag(element);
                throw ngMinErr("btstrpd", "App Already Bootstrapped with this Element '{0}'", tag.replace(/</, "&lt;").replace(/>/, "&gt;"));
            }
            modules = modules || [], modules.unshift([ "$provide", function($provide) {
                $provide.value("$rootElement", element);
            } ]), modules.unshift("ng");
            var injector = createInjector(modules);
            return injector.invoke([ "$rootScope", "$rootElement", "$compile", "$injector", "$animate", function(scope, element, compile, injector, animate) {
                scope.$apply(function() {
                    element.data("$injector", injector), compile(element)(scope);
                });
            } ]), injector;
        }, NG_DEFER_BOOTSTRAP = /^NG_DEFER_BOOTSTRAP!/;
        return window && !NG_DEFER_BOOTSTRAP.test(window.name) ? doBootstrap() : (window.name = window.name.replace(NG_DEFER_BOOTSTRAP, ""), 
        void (angular.resumeBootstrap = function(extraModules) {
            forEach(extraModules, function(module) {
                modules.push(module);
            }), doBootstrap();
        }));
    }
    function snake_case(name, separator) {
        return separator = separator || "_", name.replace(SNAKE_CASE_REGEXP, function(letter, pos) {
            return (pos ? separator : "") + letter.toLowerCase();
        });
    }
    function bindJQuery() {
        jQuery = window.jQuery, jQuery && jQuery.fn.on ? (jqLite = jQuery, extend(jQuery.fn, {
            scope: JQLitePrototype.scope,
            isolateScope: JQLitePrototype.isolateScope,
            controller: JQLitePrototype.controller,
            injector: JQLitePrototype.injector,
            inheritedData: JQLitePrototype.inheritedData
        }), jqLitePatchJQueryRemove("remove", !0, !0, !1), jqLitePatchJQueryRemove("empty", !1, !1, !1), 
        jqLitePatchJQueryRemove("html", !1, !1, !0)) : jqLite = JQLite, angular.element = jqLite;
    }
    function assertArg(arg, name, reason) {
        if (!arg) throw ngMinErr("areq", "Argument '{0}' is {1}", name || "?", reason || "required");
        return arg;
    }
    function assertArgFn(arg, name, acceptArrayAnnotation) {
        return acceptArrayAnnotation && isArray(arg) && (arg = arg[arg.length - 1]), assertArg(isFunction(arg), name, "not a function, got " + (arg && "object" == typeof arg ? arg.constructor.name || "Object" : typeof arg)), 
        arg;
    }
    function assertNotHasOwnProperty(name, context) {
        if ("hasOwnProperty" === name) throw ngMinErr("badname", "hasOwnProperty is not a valid {0} name", context);
    }
    function getter(obj, path, bindFnToScope) {
        if (!path) return obj;
        for (var key, keys = path.split("."), lastInstance = obj, len = keys.length, i = 0; i < len; i++) key = keys[i], 
        obj && (obj = (lastInstance = obj)[key]);
        return !bindFnToScope && isFunction(obj) ? bind(lastInstance, obj) : obj;
    }
    function getBlockElements(nodes) {
        var startNode = nodes[0], endNode = nodes[nodes.length - 1];
        if (startNode === endNode) return jqLite(startNode);
        var element = startNode, elements = [ element ];
        do {
            if (element = element.nextSibling, !element) break;
            elements.push(element);
        } while (element !== endNode);
        return jqLite(elements);
    }
    function setupModuleLoader(window) {
        function ensure(obj, name, factory) {
            return obj[name] || (obj[name] = factory());
        }
        var $injectorMinErr = minErr("$injector"), ngMinErr = minErr("ng"), angular = ensure(window, "angular", Object);
        return angular.$$minErr = angular.$$minErr || minErr, ensure(angular, "module", function() {
            var modules = {};
            return function(name, requires, configFn) {
                var assertNotHasOwnProperty = function(name, context) {
                    if ("hasOwnProperty" === name) throw ngMinErr("badname", "hasOwnProperty is not a valid {0} name", context);
                };
                return assertNotHasOwnProperty(name, "module"), requires && modules.hasOwnProperty(name) && (modules[name] = null), 
                ensure(modules, name, function() {
                    function invokeLater(provider, method, insertMethod) {
                        return function() {
                            return invokeQueue[insertMethod || "push"]([ provider, method, arguments ]), moduleInstance;
                        };
                    }
                    if (!requires) throw $injectorMinErr("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", name);
                    var invokeQueue = [], runBlocks = [], config = invokeLater("$injector", "invoke"), moduleInstance = {
                        _invokeQueue: invokeQueue,
                        _runBlocks: runBlocks,
                        requires: requires,
                        name: name,
                        provider: invokeLater("$provide", "provider"),
                        factory: invokeLater("$provide", "factory"),
                        service: invokeLater("$provide", "service"),
                        value: invokeLater("$provide", "value"),
                        constant: invokeLater("$provide", "constant", "unshift"),
                        animation: invokeLater("$animateProvider", "register"),
                        filter: invokeLater("$filterProvider", "register"),
                        controller: invokeLater("$controllerProvider", "register"),
                        directive: invokeLater("$compileProvider", "directive"),
                        config: config,
                        run: function(block) {
                            return runBlocks.push(block), this;
                        }
                    };
                    return configFn && config(configFn), moduleInstance;
                });
            };
        });
    }
    function publishExternalAPI(angular) {
        extend(angular, {
            bootstrap: bootstrap,
            copy: copy,
            extend: extend,
            equals: equals,
            element: jqLite,
            forEach: forEach,
            injector: createInjector,
            noop: noop,
            bind: bind,
            toJson: toJson,
            fromJson: fromJson,
            identity: identity,
            isUndefined: isUndefined,
            isDefined: isDefined,
            isString: isString,
            isFunction: isFunction,
            isObject: isObject,
            isNumber: isNumber,
            isElement: isElement,
            isArray: isArray,
            version: version,
            isDate: isDate,
            lowercase: lowercase,
            uppercase: uppercase,
            callbacks: {
                counter: 0
            },
            $$minErr: minErr,
            $$csp: csp
        }), angularModule = setupModuleLoader(window);
        try {
            angularModule("ngLocale");
        } catch (e) {
            angularModule("ngLocale", []).provider("$locale", $LocaleProvider);
        }
        angularModule("ng", [ "ngLocale" ], [ "$provide", function($provide) {
            $provide.provider({
                $$sanitizeUri: $$SanitizeUriProvider
            }), $provide.provider("$compile", $CompileProvider).directive({
                a: htmlAnchorDirective,
                input: inputDirective,
                textarea: inputDirective,
                form: formDirective,
                script: scriptDirective,
                select: selectDirective,
                style: styleDirective,
                option: optionDirective,
                ngBind: ngBindDirective,
                ngBindHtml: ngBindHtmlDirective,
                ngBindTemplate: ngBindTemplateDirective,
                ngClass: ngClassDirective,
                ngClassEven: ngClassEvenDirective,
                ngClassOdd: ngClassOddDirective,
                ngCloak: ngCloakDirective,
                ngController: ngControllerDirective,
                ngForm: ngFormDirective,
                ngHide: ngHideDirective,
                ngIf: ngIfDirective,
                ngInclude: ngIncludeDirective,
                ngInit: ngInitDirective,
                ngNonBindable: ngNonBindableDirective,
                ngPluralize: ngPluralizeDirective,
                ngRepeat: ngRepeatDirective,
                ngShow: ngShowDirective,
                ngStyle: ngStyleDirective,
                ngSwitch: ngSwitchDirective,
                ngSwitchWhen: ngSwitchWhenDirective,
                ngSwitchDefault: ngSwitchDefaultDirective,
                ngOptions: ngOptionsDirective,
                ngTransclude: ngTranscludeDirective,
                ngModel: ngModelDirective,
                ngList: ngListDirective,
                ngChange: ngChangeDirective,
                required: requiredDirective,
                ngRequired: requiredDirective,
                ngValue: ngValueDirective
            }).directive({
                ngInclude: ngIncludeFillContentDirective
            }).directive(ngAttributeAliasDirectives).directive(ngEventDirectives), $provide.provider({
                $anchorScroll: $AnchorScrollProvider,
                $animate: $AnimateProvider,
                $browser: $BrowserProvider,
                $cacheFactory: $CacheFactoryProvider,
                $controller: $ControllerProvider,
                $document: $DocumentProvider,
                $exceptionHandler: $ExceptionHandlerProvider,
                $filter: $FilterProvider,
                $interpolate: $InterpolateProvider,
                $interval: $IntervalProvider,
                $http: $HttpProvider,
                $httpBackend: $HttpBackendProvider,
                $location: $LocationProvider,
                $log: $LogProvider,
                $parse: $ParseProvider,
                $rootScope: $RootScopeProvider,
                $q: $QProvider,
                $sce: $SceProvider,
                $sceDelegate: $SceDelegateProvider,
                $sniffer: $SnifferProvider,
                $templateCache: $TemplateCacheProvider,
                $timeout: $TimeoutProvider,
                $window: $WindowProvider,
                $$rAF: $$RAFProvider,
                $$asyncCallback: $$AsyncCallbackProvider
            });
        } ]);
    }
    function jqNextId() {
        return ++jqId;
    }
    function camelCase(name) {
        return name.replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {
            return offset ? letter.toUpperCase() : letter;
        }).replace(MOZ_HACK_REGEXP, "Moz$1");
    }
    function jqLitePatchJQueryRemove(name, dispatchThis, filterElems, getterIfNoArguments) {
        function removePatch(param) {
            var set, setIndex, setLength, element, childIndex, childLength, children, list = filterElems && param ? [ this.filter(param) ] : [ this ], fireEvent = dispatchThis;
            if (!getterIfNoArguments || null != param) for (;list.length; ) for (set = list.shift(), 
            setIndex = 0, setLength = set.length; setIndex < setLength; setIndex++) for (element = jqLite(set[setIndex]), 
            fireEvent ? element.triggerHandler("$destroy") : fireEvent = !fireEvent, childIndex = 0, 
            childLength = (children = element.children()).length; childIndex < childLength; childIndex++) list.push(jQuery(children[childIndex]));
            return originalJqFn.apply(this, arguments);
        }
        var originalJqFn = jQuery.fn[name];
        originalJqFn = originalJqFn.$original || originalJqFn, removePatch.$original = originalJqFn, 
        jQuery.fn[name] = removePatch;
    }
    function jqLiteIsTextNode(html) {
        return !HTML_REGEXP.test(html);
    }
    function jqLiteBuildFragment(html, context) {
        var tmp, tag, wrap, i, j, jj, fragment = context.createDocumentFragment(), nodes = [];
        if (jqLiteIsTextNode(html)) nodes.push(context.createTextNode(html)); else {
            for (tmp = fragment.appendChild(context.createElement("div")), tag = (TAG_NAME_REGEXP.exec(html) || [ "", "" ])[1].toLowerCase(), 
            wrap = wrapMap[tag] || wrapMap._default, tmp.innerHTML = "<div>&#160;</div>" + wrap[1] + html.replace(XHTML_TAG_REGEXP, "<$1></$2>") + wrap[2], 
            tmp.removeChild(tmp.firstChild), i = wrap[0]; i--; ) tmp = tmp.lastChild;
            for (j = 0, jj = tmp.childNodes.length; j < jj; ++j) nodes.push(tmp.childNodes[j]);
            tmp = fragment.firstChild, tmp.textContent = "";
        }
        return fragment.textContent = "", fragment.innerHTML = "", nodes;
    }
    function jqLiteParseHTML(html, context) {
        context = context || document;
        var parsed;
        return (parsed = SINGLE_TAG_REGEXP.exec(html)) ? [ context.createElement(parsed[1]) ] : jqLiteBuildFragment(html, context);
    }
    function JQLite(element) {
        if (element instanceof JQLite) return element;
        if (isString(element) && (element = trim(element)), !(this instanceof JQLite)) {
            if (isString(element) && "<" != element.charAt(0)) throw jqLiteMinErr("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
            return new JQLite(element);
        }
        if (isString(element)) {
            jqLiteAddNodes(this, jqLiteParseHTML(element));
            var fragment = jqLite(document.createDocumentFragment());
            fragment.append(this);
        } else jqLiteAddNodes(this, element);
    }
    function jqLiteClone(element) {
        return element.cloneNode(!0);
    }
    function jqLiteDealoc(element) {
        jqLiteRemoveData(element);
        for (var i = 0, children = element.childNodes || []; i < children.length; i++) jqLiteDealoc(children[i]);
    }
    function jqLiteOff(element, type, fn, unsupported) {
        if (isDefined(unsupported)) throw jqLiteMinErr("offargs", "jqLite#off() does not support the `selector` argument");
        var events = jqLiteExpandoStore(element, "events"), handle = jqLiteExpandoStore(element, "handle");
        handle && (isUndefined(type) ? forEach(events, function(eventHandler, type) {
            removeEventListenerFn(element, type, eventHandler), delete events[type];
        }) : forEach(type.split(" "), function(type) {
            isUndefined(fn) ? (removeEventListenerFn(element, type, events[type]), delete events[type]) : arrayRemove(events[type] || [], fn);
        }));
    }
    function jqLiteRemoveData(element, name) {
        var expandoId = element.ng339, expandoStore = jqCache[expandoId];
        if (expandoStore) {
            if (name) return void delete jqCache[expandoId].data[name];
            expandoStore.handle && (expandoStore.events.$destroy && expandoStore.handle({}, "$destroy"), 
            jqLiteOff(element)), delete jqCache[expandoId], element.ng339 = undefined;
        }
    }
    function jqLiteExpandoStore(element, key, value) {
        var expandoId = element.ng339, expandoStore = jqCache[expandoId || -1];
        return isDefined(value) ? (expandoStore || (element.ng339 = expandoId = jqNextId(), 
        expandoStore = jqCache[expandoId] = {}), void (expandoStore[key] = value)) : expandoStore && expandoStore[key];
    }
    function jqLiteData(element, key, value) {
        var data = jqLiteExpandoStore(element, "data"), isSetter = isDefined(value), keyDefined = !isSetter && isDefined(key), isSimpleGetter = keyDefined && !isObject(key);
        if (data || isSimpleGetter || jqLiteExpandoStore(element, "data", data = {}), isSetter) data[key] = value; else {
            if (!keyDefined) return data;
            if (isSimpleGetter) return data && data[key];
            extend(data, key);
        }
    }
    function jqLiteHasClass(element, selector) {
        return !!element.getAttribute && (" " + (element.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + selector + " ") > -1;
    }
    function jqLiteRemoveClass(element, cssClasses) {
        cssClasses && element.setAttribute && forEach(cssClasses.split(" "), function(cssClass) {
            element.setAttribute("class", trim((" " + (element.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + trim(cssClass) + " ", " ")));
        });
    }
    function jqLiteAddClass(element, cssClasses) {
        if (cssClasses && element.setAttribute) {
            var existingClasses = (" " + (element.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
            forEach(cssClasses.split(" "), function(cssClass) {
                cssClass = trim(cssClass), existingClasses.indexOf(" " + cssClass + " ") === -1 && (existingClasses += cssClass + " ");
            }), element.setAttribute("class", trim(existingClasses));
        }
    }
    function jqLiteAddNodes(root, elements) {
        if (elements) {
            elements = elements.nodeName || !isDefined(elements.length) || isWindow(elements) ? [ elements ] : elements;
            for (var i = 0; i < elements.length; i++) root.push(elements[i]);
        }
    }
    function jqLiteController(element, name) {
        return jqLiteInheritedData(element, "$" + (name || "ngController") + "Controller");
    }
    function jqLiteInheritedData(element, name, value) {
        9 == element.nodeType && (element = element.documentElement);
        for (var names = isArray(name) ? name : [ name ]; element; ) {
            for (var i = 0, ii = names.length; i < ii; i++) if ((value = jqLite.data(element, names[i])) !== undefined) return value;
            element = element.parentNode || 11 === element.nodeType && element.host;
        }
    }
    function jqLiteEmpty(element) {
        for (var i = 0, childNodes = element.childNodes; i < childNodes.length; i++) jqLiteDealoc(childNodes[i]);
        for (;element.firstChild; ) element.removeChild(element.firstChild);
    }
    function getBooleanAttrName(element, name) {
        var booleanAttr = BOOLEAN_ATTR[name.toLowerCase()];
        return booleanAttr && BOOLEAN_ELEMENTS[element.nodeName] && booleanAttr;
    }
    function createEventHandler(element, events) {
        var eventHandler = function(event, type) {
            if (event.preventDefault || (event.preventDefault = function() {
                event.returnValue = !1;
            }), event.stopPropagation || (event.stopPropagation = function() {
                event.cancelBubble = !0;
            }), event.target || (event.target = event.srcElement || document), isUndefined(event.defaultPrevented)) {
                var prevent = event.preventDefault;
                event.preventDefault = function() {
                    event.defaultPrevented = !0, prevent.call(event);
                }, event.defaultPrevented = !1;
            }
            event.isDefaultPrevented = function() {
                return event.defaultPrevented || event.returnValue === !1;
            };
            var eventHandlersCopy = shallowCopy(events[type || event.type] || []);
            forEach(eventHandlersCopy, function(fn) {
                fn.call(element, event);
            }), msie <= 8 ? (event.preventDefault = null, event.stopPropagation = null, event.isDefaultPrevented = null) : (delete event.preventDefault, 
            delete event.stopPropagation, delete event.isDefaultPrevented);
        };
        return eventHandler.elem = element, eventHandler;
    }
    function hashKey(obj, nextUidFn) {
        var key, objType = typeof obj;
        return "function" == objType || "object" == objType && null !== obj ? "function" == typeof (key = obj.$$hashKey) ? key = obj.$$hashKey() : key === undefined && (key = obj.$$hashKey = (nextUidFn || nextUid)()) : key = obj, 
        objType + ":" + key;
    }
    function HashMap(array, isolatedUid) {
        if (isolatedUid) {
            var uid = 0;
            this.nextUid = function() {
                return ++uid;
            };
        }
        forEach(array, this.put, this);
    }
    function annotate(fn) {
        var $inject, fnText, argDecl, last;
        return "function" == typeof fn ? ($inject = fn.$inject) || ($inject = [], fn.length && (fnText = fn.toString().replace(STRIP_COMMENTS, ""), 
        argDecl = fnText.match(FN_ARGS), forEach(argDecl[1].split(FN_ARG_SPLIT), function(arg) {
            arg.replace(FN_ARG, function(all, underscore, name) {
                $inject.push(name);
            });
        })), fn.$inject = $inject) : isArray(fn) ? (last = fn.length - 1, assertArgFn(fn[last], "fn"), 
        $inject = fn.slice(0, last)) : assertArgFn(fn, "fn", !0), $inject;
    }
    function createInjector(modulesToLoad) {
        function supportObject(delegate) {
            return function(key, value) {
                return isObject(key) ? void forEach(key, reverseParams(delegate)) : delegate(key, value);
            };
        }
        function provider(name, provider_) {
            if (assertNotHasOwnProperty(name, "service"), (isFunction(provider_) || isArray(provider_)) && (provider_ = providerInjector.instantiate(provider_)), 
            !provider_.$get) throw $injectorMinErr("pget", "Provider '{0}' must define $get factory method.", name);
            return providerCache[name + providerSuffix] = provider_;
        }
        function factory(name, factoryFn) {
            return provider(name, {
                $get: factoryFn
            });
        }
        function service(name, constructor) {
            return factory(name, [ "$injector", function($injector) {
                return $injector.instantiate(constructor);
            } ]);
        }
        function value(name, val) {
            return factory(name, valueFn(val));
        }
        function constant(name, value) {
            assertNotHasOwnProperty(name, "constant"), providerCache[name] = value, instanceCache[name] = value;
        }
        function decorator(serviceName, decorFn) {
            var origProvider = providerInjector.get(serviceName + providerSuffix), orig$get = origProvider.$get;
            origProvider.$get = function() {
                var origInstance = instanceInjector.invoke(orig$get, origProvider);
                return instanceInjector.invoke(decorFn, null, {
                    $delegate: origInstance
                });
            };
        }
        function loadModules(modulesToLoad) {
            var moduleFn, invokeQueue, i, ii, runBlocks = [];
            return forEach(modulesToLoad, function(module) {
                if (!loadedModules.get(module)) {
                    loadedModules.put(module, !0);
                    try {
                        if (isString(module)) for (moduleFn = angularModule(module), runBlocks = runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks), 
                        invokeQueue = moduleFn._invokeQueue, i = 0, ii = invokeQueue.length; i < ii; i++) {
                            var invokeArgs = invokeQueue[i], provider = providerInjector.get(invokeArgs[0]);
                            provider[invokeArgs[1]].apply(provider, invokeArgs[2]);
                        } else isFunction(module) ? runBlocks.push(providerInjector.invoke(module)) : isArray(module) ? runBlocks.push(providerInjector.invoke(module)) : assertArgFn(module, "module");
                    } catch (e) {
                        throw isArray(module) && (module = module[module.length - 1]), e.message && e.stack && e.stack.indexOf(e.message) == -1 && (e = e.message + "\n" + e.stack), 
                        $injectorMinErr("modulerr", "Failed to instantiate module {0} due to:\n{1}", module, e.stack || e.message || e);
                    }
                }
            }), runBlocks;
        }
        function createInternalInjector(cache, factory) {
            function getService(serviceName) {
                if (cache.hasOwnProperty(serviceName)) {
                    if (cache[serviceName] === INSTANTIATING) throw $injectorMinErr("cdep", "Circular dependency found: {0}", serviceName + " <- " + path.join(" <- "));
                    return cache[serviceName];
                }
                try {
                    return path.unshift(serviceName), cache[serviceName] = INSTANTIATING, cache[serviceName] = factory(serviceName);
                } catch (err) {
                    throw cache[serviceName] === INSTANTIATING && delete cache[serviceName], err;
                } finally {
                    path.shift();
                }
            }
            function invoke(fn, self, locals) {
                var length, i, key, args = [], $inject = annotate(fn);
                for (i = 0, length = $inject.length; i < length; i++) {
                    if (key = $inject[i], "string" != typeof key) throw $injectorMinErr("itkn", "Incorrect injection token! Expected service name as string, got {0}", key);
                    args.push(locals && locals.hasOwnProperty(key) ? locals[key] : getService(key));
                }
                return isArray(fn) && (fn = fn[length]), fn.apply(self, args);
            }
            function instantiate(Type, locals) {
                var instance, returnedValue, Constructor = function() {};
                return Constructor.prototype = (isArray(Type) ? Type[Type.length - 1] : Type).prototype, 
                instance = new Constructor(), returnedValue = invoke(Type, instance, locals), isObject(returnedValue) || isFunction(returnedValue) ? returnedValue : instance;
            }
            return {
                invoke: invoke,
                instantiate: instantiate,
                get: getService,
                annotate: annotate,
                has: function(name) {
                    return providerCache.hasOwnProperty(name + providerSuffix) || cache.hasOwnProperty(name);
                }
            };
        }
        var INSTANTIATING = {}, providerSuffix = "Provider", path = [], loadedModules = new HashMap([], !0), providerCache = {
            $provide: {
                provider: supportObject(provider),
                factory: supportObject(factory),
                service: supportObject(service),
                value: supportObject(value),
                constant: supportObject(constant),
                decorator: decorator
            }
        }, providerInjector = providerCache.$injector = createInternalInjector(providerCache, function() {
            throw $injectorMinErr("unpr", "Unknown provider: {0}", path.join(" <- "));
        }), instanceCache = {}, instanceInjector = instanceCache.$injector = createInternalInjector(instanceCache, function(servicename) {
            var provider = providerInjector.get(servicename + providerSuffix);
            return instanceInjector.invoke(provider.$get, provider);
        });
        return forEach(loadModules(modulesToLoad), function(fn) {
            instanceInjector.invoke(fn || noop);
        }), instanceInjector;
    }
    function $AnchorScrollProvider() {
        var autoScrollingEnabled = !0;
        this.disableAutoScrolling = function() {
            autoScrollingEnabled = !1;
        }, this.$get = [ "$window", "$location", "$rootScope", function($window, $location, $rootScope) {
            function getFirstAnchor(list) {
                var result = null;
                return forEach(list, function(element) {
                    result || "a" !== lowercase(element.nodeName) || (result = element);
                }), result;
            }
            function scroll() {
                var elm, hash = $location.hash();
                hash ? (elm = document.getElementById(hash)) ? elm.scrollIntoView() : (elm = getFirstAnchor(document.getElementsByName(hash))) ? elm.scrollIntoView() : "top" === hash && $window.scrollTo(0, 0) : $window.scrollTo(0, 0);
            }
            var document = $window.document;
            return autoScrollingEnabled && $rootScope.$watch(function() {
                return $location.hash();
            }, function() {
                $rootScope.$evalAsync(scroll);
            }), scroll;
        } ];
    }
    function $$AsyncCallbackProvider() {
        this.$get = [ "$$rAF", "$timeout", function($$rAF, $timeout) {
            return $$rAF.supported ? function(fn) {
                return $$rAF(fn);
            } : function(fn) {
                return $timeout(fn, 0, !1);
            };
        } ];
    }
    function Browser(window, document, $log, $sniffer) {
        function completeOutstandingRequest(fn) {
            try {
                fn.apply(null, sliceArgs(arguments, 1));
            } finally {
                if (outstandingRequestCount--, 0 === outstandingRequestCount) for (;outstandingRequestCallbacks.length; ) try {
                    outstandingRequestCallbacks.pop()();
                } catch (e) {
                    $log.error(e);
                }
            }
        }
        function getHash(url) {
            var index = url.indexOf("#");
            return index === -1 ? "" : url.substr(index + 1);
        }
        function startPoller(interval, setTimeout) {
            !function check() {
                forEach(pollFns, function(pollFn) {
                    pollFn();
                }), pollTimeout = setTimeout(check, interval);
            }();
        }
        function fireUrlChange() {
            lastBrowserUrl != self.url() && (lastBrowserUrl = self.url(), forEach(urlChangeListeners, function(listener) {
                listener(self.url());
            }));
        }
        var self = this, rawDocument = document[0], location = window.location, history = window.history, setTimeout = window.setTimeout, clearTimeout = window.clearTimeout, pendingDeferIds = {};
        self.isMock = !1;
        var outstandingRequestCount = 0, outstandingRequestCallbacks = [];
        self.$$completeOutstandingRequest = completeOutstandingRequest, self.$$incOutstandingRequestCount = function() {
            outstandingRequestCount++;
        }, self.notifyWhenNoOutstandingRequests = function(callback) {
            forEach(pollFns, function(pollFn) {
                pollFn();
            }), 0 === outstandingRequestCount ? callback() : outstandingRequestCallbacks.push(callback);
        };
        var pollTimeout, pollFns = [];
        self.addPollFn = function(fn) {
            return isUndefined(pollTimeout) && startPoller(100, setTimeout), pollFns.push(fn), 
            fn;
        };
        var lastBrowserUrl = location.href, baseElement = document.find("base"), reloadLocation = null;
        self.url = function(url, replace) {
            if (location !== window.location && (location = window.location), history !== window.history && (history = window.history), 
            url) {
                if (lastBrowserUrl == url) return;
                var sameBase = lastBrowserUrl && stripHash(lastBrowserUrl) === stripHash(url);
                return lastBrowserUrl = url, !sameBase && $sniffer.history ? replace ? history.replaceState(null, "", url) : (history.pushState(null, "", url), 
                baseElement.attr("href", baseElement.attr("href"))) : (sameBase || (reloadLocation = url), 
                replace ? location.replace(url) : sameBase ? location.hash = getHash(url) : location.href = url), 
                self;
            }
            return reloadLocation || location.href.replace(/%27/g, "'");
        };
        var urlChangeListeners = [], urlChangeInit = !1;
        self.onUrlChange = function(callback) {
            return urlChangeInit || ($sniffer.history && jqLite(window).on("popstate", fireUrlChange), 
            $sniffer.hashchange ? jqLite(window).on("hashchange", fireUrlChange) : self.addPollFn(fireUrlChange), 
            urlChangeInit = !0), urlChangeListeners.push(callback), callback;
        }, self.$$checkUrlChange = fireUrlChange, self.baseHref = function() {
            var href = baseElement.attr("href");
            return href ? href.replace(/^(https?\:)?\/\/[^\/]*/, "") : "";
        };
        var lastCookies = {}, lastCookieString = "", cookiePath = self.baseHref();
        self.cookies = function(name, value) {
            var cookieLength, cookieArray, cookie, i, index;
            if (!name) {
                if (rawDocument.cookie !== lastCookieString) for (lastCookieString = rawDocument.cookie, 
                cookieArray = lastCookieString.split("; "), lastCookies = {}, i = 0; i < cookieArray.length; i++) cookie = cookieArray[i], 
                index = cookie.indexOf("="), index > 0 && (name = unescape(cookie.substring(0, index)), 
                lastCookies[name] === undefined && (lastCookies[name] = unescape(cookie.substring(index + 1))));
                return lastCookies;
            }
            value === undefined ? rawDocument.cookie = escape(name) + "=;path=" + cookiePath + ";expires=Thu, 01 Jan 1970 00:00:00 GMT" : isString(value) && (cookieLength = (rawDocument.cookie = escape(name) + "=" + escape(value) + ";path=" + cookiePath).length + 1, 
            cookieLength > 4096 && $log.warn("Cookie '" + name + "' possibly not set or overflowed because it was too large (" + cookieLength + " > 4096 bytes)!"));
        }, self.defer = function(fn, delay) {
            var timeoutId;
            return outstandingRequestCount++, timeoutId = setTimeout(function() {
                delete pendingDeferIds[timeoutId], completeOutstandingRequest(fn);
            }, delay || 0), pendingDeferIds[timeoutId] = !0, timeoutId;
        }, self.defer.cancel = function(deferId) {
            return !!pendingDeferIds[deferId] && (delete pendingDeferIds[deferId], clearTimeout(deferId), 
            completeOutstandingRequest(noop), !0);
        };
    }
    function $BrowserProvider() {
        this.$get = [ "$window", "$log", "$sniffer", "$document", function($window, $log, $sniffer, $document) {
            return new Browser($window, $document, $log, $sniffer);
        } ];
    }
    function $CacheFactoryProvider() {
        this.$get = function() {
            function cacheFactory(cacheId, options) {
                function refresh(entry) {
                    entry != freshEnd && (staleEnd ? staleEnd == entry && (staleEnd = entry.n) : staleEnd = entry, 
                    link(entry.n, entry.p), link(entry, freshEnd), freshEnd = entry, freshEnd.n = null);
                }
                function link(nextEntry, prevEntry) {
                    nextEntry != prevEntry && (nextEntry && (nextEntry.p = prevEntry), prevEntry && (prevEntry.n = nextEntry));
                }
                if (cacheId in caches) throw minErr("$cacheFactory")("iid", "CacheId '{0}' is already taken!", cacheId);
                var size = 0, stats = extend({}, options, {
                    id: cacheId
                }), data = {}, capacity = options && options.capacity || Number.MAX_VALUE, lruHash = {}, freshEnd = null, staleEnd = null;
                return caches[cacheId] = {
                    put: function(key, value) {
                        if (capacity < Number.MAX_VALUE) {
                            var lruEntry = lruHash[key] || (lruHash[key] = {
                                key: key
                            });
                            refresh(lruEntry);
                        }
                        if (!isUndefined(value)) return key in data || size++, data[key] = value, size > capacity && this.remove(staleEnd.key), 
                        value;
                    },
                    get: function(key) {
                        if (capacity < Number.MAX_VALUE) {
                            var lruEntry = lruHash[key];
                            if (!lruEntry) return;
                            refresh(lruEntry);
                        }
                        return data[key];
                    },
                    remove: function(key) {
                        if (capacity < Number.MAX_VALUE) {
                            var lruEntry = lruHash[key];
                            if (!lruEntry) return;
                            lruEntry == freshEnd && (freshEnd = lruEntry.p), lruEntry == staleEnd && (staleEnd = lruEntry.n), 
                            link(lruEntry.n, lruEntry.p), delete lruHash[key];
                        }
                        delete data[key], size--;
                    },
                    removeAll: function() {
                        data = {}, size = 0, lruHash = {}, freshEnd = staleEnd = null;
                    },
                    destroy: function() {
                        data = null, stats = null, lruHash = null, delete caches[cacheId];
                    },
                    info: function() {
                        return extend({}, stats, {
                            size: size
                        });
                    }
                };
            }
            var caches = {};
            return cacheFactory.info = function() {
                var info = {};
                return forEach(caches, function(cache, cacheId) {
                    info[cacheId] = cache.info();
                }), info;
            }, cacheFactory.get = function(cacheId) {
                return caches[cacheId];
            }, cacheFactory;
        };
    }
    function $TemplateCacheProvider() {
        this.$get = [ "$cacheFactory", function($cacheFactory) {
            return $cacheFactory("templates");
        } ];
    }
    function $CompileProvider($provide, $$sanitizeUriProvider) {
        var hasDirectives = {}, Suffix = "Directive", COMMENT_DIRECTIVE_REGEXP = /^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/, CLASS_DIRECTIVE_REGEXP = /(([\d\w_\-]+)(?:\:([^;]+))?;?)/, EVENT_HANDLER_ATTR_REGEXP = /^(on[a-z]+|formaction)$/;
        this.directive = function registerDirective(name, directiveFactory) {
            return assertNotHasOwnProperty(name, "directive"), isString(name) ? (assertArg(directiveFactory, "directiveFactory"), 
            hasDirectives.hasOwnProperty(name) || (hasDirectives[name] = [], $provide.factory(name + Suffix, [ "$injector", "$exceptionHandler", function($injector, $exceptionHandler) {
                var directives = [];
                return forEach(hasDirectives[name], function(directiveFactory, index) {
                    try {
                        var directive = $injector.invoke(directiveFactory);
                        isFunction(directive) ? directive = {
                            compile: valueFn(directive)
                        } : !directive.compile && directive.link && (directive.compile = valueFn(directive.link)), 
                        directive.priority = directive.priority || 0, directive.index = index, directive.name = directive.name || name, 
                        directive.require = directive.require || directive.controller && directive.name, 
                        directive.restrict = directive.restrict || "A", directives.push(directive);
                    } catch (e) {
                        $exceptionHandler(e);
                    }
                }), directives;
            } ])), hasDirectives[name].push(directiveFactory)) : forEach(name, reverseParams(registerDirective)), 
            this;
        }, this.aHrefSanitizationWhitelist = function(regexp) {
            return isDefined(regexp) ? ($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp), 
            this) : $$sanitizeUriProvider.aHrefSanitizationWhitelist();
        }, this.imgSrcSanitizationWhitelist = function(regexp) {
            return isDefined(regexp) ? ($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp), 
            this) : $$sanitizeUriProvider.imgSrcSanitizationWhitelist();
        }, this.$get = [ "$injector", "$interpolate", "$exceptionHandler", "$http", "$templateCache", "$parse", "$controller", "$rootScope", "$document", "$sce", "$animate", "$$sanitizeUri", function($injector, $interpolate, $exceptionHandler, $http, $templateCache, $parse, $controller, $rootScope, $document, $sce, $animate, $$sanitizeUri) {
            function compile($compileNodes, transcludeFn, maxPriority, ignoreDirective, previousCompileContext) {
                $compileNodes instanceof jqLite || ($compileNodes = jqLite($compileNodes)), forEach($compileNodes, function(node, index) {
                    3 == node.nodeType && node.nodeValue.match(/\S+/) && ($compileNodes[index] = node = jqLite(node).wrap("<span></span>").parent()[0]);
                });
                var compositeLinkFn = compileNodes($compileNodes, transcludeFn, $compileNodes, maxPriority, ignoreDirective, previousCompileContext);
                return safeAddClass($compileNodes, "ng-scope"), function(scope, cloneConnectFn, transcludeControllers, parentBoundTranscludeFn) {
                    assertArg(scope, "scope");
                    var $linkNode = cloneConnectFn ? JQLitePrototype.clone.call($compileNodes) : $compileNodes;
                    forEach(transcludeControllers, function(instance, name) {
                        $linkNode.data("$" + name + "Controller", instance);
                    });
                    for (var i = 0, ii = $linkNode.length; i < ii; i++) {
                        var node = $linkNode[i], nodeType = node.nodeType;
                        1 !== nodeType && 9 !== nodeType || $linkNode.eq(i).data("$scope", scope);
                    }
                    return cloneConnectFn && cloneConnectFn($linkNode, scope), compositeLinkFn && compositeLinkFn(scope, $linkNode, $linkNode, parentBoundTranscludeFn), 
                    $linkNode;
                };
            }
            function safeAddClass($element, className) {
                try {
                    $element.addClass(className);
                } catch (e) {}
            }
            function compileNodes(nodeList, transcludeFn, $rootElement, maxPriority, ignoreDirective, previousCompileContext) {
                function compositeLinkFn(scope, nodeList, $rootElement, parentBoundTranscludeFn) {
                    var nodeLinkFn, childLinkFn, node, childScope, i, ii, n, childBoundTranscludeFn, nodeListLength = nodeList.length, stableNodeList = new Array(nodeListLength);
                    for (i = 0; i < nodeListLength; i++) stableNodeList[i] = nodeList[i];
                    for (i = 0, n = 0, ii = linkFns.length; i < ii; n++) node = stableNodeList[n], nodeLinkFn = linkFns[i++], 
                    childLinkFn = linkFns[i++], nodeLinkFn ? (nodeLinkFn.scope ? (childScope = scope.$new(), 
                    jqLite.data(node, "$scope", childScope)) : childScope = scope, childBoundTranscludeFn = nodeLinkFn.transcludeOnThisElement ? createBoundTranscludeFn(scope, nodeLinkFn.transclude, parentBoundTranscludeFn) : !nodeLinkFn.templateOnThisElement && parentBoundTranscludeFn ? parentBoundTranscludeFn : !parentBoundTranscludeFn && transcludeFn ? createBoundTranscludeFn(scope, transcludeFn) : null, 
                    nodeLinkFn(childLinkFn, childScope, node, $rootElement, childBoundTranscludeFn)) : childLinkFn && childLinkFn(scope, node.childNodes, undefined, parentBoundTranscludeFn);
                }
                for (var attrs, directives, nodeLinkFn, childNodes, childLinkFn, linkFnFound, linkFns = [], i = 0; i < nodeList.length; i++) attrs = new Attributes(), 
                directives = collectDirectives(nodeList[i], [], attrs, 0 === i ? maxPriority : undefined, ignoreDirective), 
                nodeLinkFn = directives.length ? applyDirectivesToNode(directives, nodeList[i], attrs, transcludeFn, $rootElement, null, [], [], previousCompileContext) : null, 
                nodeLinkFn && nodeLinkFn.scope && safeAddClass(attrs.$$element, "ng-scope"), childLinkFn = nodeLinkFn && nodeLinkFn.terminal || !(childNodes = nodeList[i].childNodes) || !childNodes.length ? null : compileNodes(childNodes, nodeLinkFn ? (nodeLinkFn.transcludeOnThisElement || !nodeLinkFn.templateOnThisElement) && nodeLinkFn.transclude : transcludeFn), 
                linkFns.push(nodeLinkFn, childLinkFn), linkFnFound = linkFnFound || nodeLinkFn || childLinkFn, 
                previousCompileContext = null;
                return linkFnFound ? compositeLinkFn : null;
            }
            function createBoundTranscludeFn(scope, transcludeFn, previousBoundTranscludeFn) {
                var boundTranscludeFn = function(transcludedScope, cloneFn, controllers) {
                    var scopeCreated = !1;
                    transcludedScope || (transcludedScope = scope.$new(), transcludedScope.$$transcluded = !0, 
                    scopeCreated = !0);
                    var clone = transcludeFn(transcludedScope, cloneFn, controllers, previousBoundTranscludeFn);
                    return scopeCreated && clone.on("$destroy", function() {
                        transcludedScope.$destroy();
                    }), clone;
                };
                return boundTranscludeFn;
            }
            function collectDirectives(node, directives, attrs, maxPriority, ignoreDirective) {
                var match, nodeName, className, nodeType = node.nodeType, attrsMap = attrs.$attr;
                switch (nodeType) {
                  case 1:
                    nodeName = nodeName_(node).toLowerCase(), addDirective(directives, directiveNormalize(nodeName), "E", maxPriority, ignoreDirective);
                    for (var attr, name, nName, ngAttrName, value, isNgAttr, nAttrs = node.attributes, j = 0, jj = nAttrs && nAttrs.length; j < jj; j++) {
                        var attrStartName = !1, attrEndName = !1;
                        if (attr = nAttrs[j], !msie || msie >= 8 || attr.specified) {
                            name = attr.name, value = trim(attr.value), ngAttrName = directiveNormalize(name), 
                            (isNgAttr = NG_ATTR_BINDING.test(ngAttrName)) && (name = snake_case(ngAttrName.substr(6), "-"));
                            var directiveNName = ngAttrName.replace(/(Start|End)$/, "");
                            ngAttrName === directiveNName + "Start" && (attrStartName = name, attrEndName = name.substr(0, name.length - 5) + "end", 
                            name = name.substr(0, name.length - 6)), nName = directiveNormalize(name.toLowerCase()), 
                            attrsMap[nName] = name, !isNgAttr && attrs.hasOwnProperty(nName) || (attrs[nName] = value, 
                            getBooleanAttrName(node, nName) && (attrs[nName] = !0)), addAttrInterpolateDirective(node, directives, value, nName), 
                            addDirective(directives, nName, "A", maxPriority, ignoreDirective, attrStartName, attrEndName);
                        }
                    }
                    if ("input" === nodeName && "hidden" === node.getAttribute("type") && node.setAttribute("autocomplete", "off"), 
                    className = node.className, isString(className) && "" !== className) for (;match = CLASS_DIRECTIVE_REGEXP.exec(className); ) nName = directiveNormalize(match[2]), 
                    addDirective(directives, nName, "C", maxPriority, ignoreDirective) && (attrs[nName] = trim(match[3])), 
                    className = className.substr(match.index + match[0].length);
                    break;

                  case 3:
                    if (11 === msie) for (;node.parentNode && node.nextSibling && 3 === node.nextSibling.nodeType; ) node.nodeValue = node.nodeValue + node.nextSibling.nodeValue, 
                    node.parentNode.removeChild(node.nextSibling);
                    addTextInterpolateDirective(directives, node.nodeValue);
                    break;

                  case 8:
                    try {
                        match = COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue), match && (nName = directiveNormalize(match[1]), 
                        addDirective(directives, nName, "M", maxPriority, ignoreDirective) && (attrs[nName] = trim(match[2])));
                    } catch (e) {}
                }
                return directives.sort(byPriority), directives;
            }
            function groupScan(node, attrStart, attrEnd) {
                var nodes = [], depth = 0;
                if (attrStart && node.hasAttribute && node.hasAttribute(attrStart)) {
                    do {
                        if (!node) throw $compileMinErr("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", attrStart, attrEnd);
                        1 == node.nodeType && (node.hasAttribute(attrStart) && depth++, node.hasAttribute(attrEnd) && depth--), 
                        nodes.push(node), node = node.nextSibling;
                    } while (depth > 0);
                } else nodes.push(node);
                return jqLite(nodes);
            }
            function groupElementsLinkFnWrapper(linkFn, attrStart, attrEnd) {
                return function(scope, element, attrs, controllers, transcludeFn) {
                    return element = groupScan(element[0], attrStart, attrEnd), linkFn(scope, element, attrs, controllers, transcludeFn);
                };
            }
            function applyDirectivesToNode(directives, compileNode, templateAttrs, transcludeFn, jqCollection, originalReplaceDirective, preLinkFns, postLinkFns, previousCompileContext) {
                function addLinkFns(pre, post, attrStart, attrEnd) {
                    pre && (attrStart && (pre = groupElementsLinkFnWrapper(pre, attrStart, attrEnd)), 
                    pre.require = directive.require, pre.directiveName = directiveName, (newIsolateScopeDirective === directive || directive.$$isolateScope) && (pre = cloneAndAnnotateFn(pre, {
                        isolateScope: !0
                    })), preLinkFns.push(pre)), post && (attrStart && (post = groupElementsLinkFnWrapper(post, attrStart, attrEnd)), 
                    post.require = directive.require, post.directiveName = directiveName, (newIsolateScopeDirective === directive || directive.$$isolateScope) && (post = cloneAndAnnotateFn(post, {
                        isolateScope: !0
                    })), postLinkFns.push(post));
                }
                function getControllers(directiveName, require, $element, elementControllers) {
                    var value, retrievalMethod = "data", optional = !1;
                    if (isString(require)) {
                        for (;"^" == (value = require.charAt(0)) || "?" == value; ) require = require.substr(1), 
                        "^" == value && (retrievalMethod = "inheritedData"), optional = optional || "?" == value;
                        if (value = null, elementControllers && "data" === retrievalMethod && (value = elementControllers[require]), 
                        value = value || $element[retrievalMethod]("$" + require + "Controller"), !value && !optional) throw $compileMinErr("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", require, directiveName);
                        return value;
                    }
                    return isArray(require) && (value = [], forEach(require, function(require) {
                        value.push(getControllers(directiveName, require, $element, elementControllers));
                    })), value;
                }
                function nodeLinkFn(childLinkFn, scope, linkNode, $rootElement, boundTranscludeFn) {
                    function controllersBoundTransclude(scope, cloneAttachFn) {
                        var transcludeControllers;
                        return arguments.length < 2 && (cloneAttachFn = scope, scope = undefined), hasElementTranscludeDirective && (transcludeControllers = elementControllers), 
                        boundTranscludeFn(scope, cloneAttachFn, transcludeControllers);
                    }
                    var attrs, $element, i, ii, linkFn, controller, isolateScope, transcludeFn, elementControllers = {};
                    if (attrs = compileNode === linkNode ? templateAttrs : shallowCopy(templateAttrs, new Attributes(jqLite(linkNode), templateAttrs.$attr)), 
                    $element = attrs.$$element, newIsolateScopeDirective) {
                        var LOCAL_REGEXP = /^\s*([@=&])(\??)\s*(\w*)\s*$/;
                        isolateScope = scope.$new(!0), !templateDirective || templateDirective !== newIsolateScopeDirective && templateDirective !== newIsolateScopeDirective.$$originalDirective ? $element.data("$isolateScopeNoTemplate", isolateScope) : $element.data("$isolateScope", isolateScope), 
                        safeAddClass($element, "ng-isolate-scope"), forEach(newIsolateScopeDirective.scope, function(definition, scopeName) {
                            var lastValue, parentGet, parentSet, compare, match = definition.match(LOCAL_REGEXP) || [], attrName = match[3] || scopeName, optional = "?" == match[2], mode = match[1];
                            switch (isolateScope.$$isolateBindings[scopeName] = mode + attrName, mode) {
                              case "@":
                                attrs.$observe(attrName, function(value) {
                                    isolateScope[scopeName] = value;
                                }), attrs.$$observers[attrName].$$scope = scope, attrs[attrName] && (isolateScope[scopeName] = $interpolate(attrs[attrName])(scope));
                                break;

                              case "=":
                                if (optional && !attrs[attrName]) return;
                                parentGet = $parse(attrs[attrName]), compare = parentGet.literal ? equals : function(a, b) {
                                    return a === b || a !== a && b !== b;
                                }, parentSet = parentGet.assign || function() {
                                    throw lastValue = isolateScope[scopeName] = parentGet(scope), $compileMinErr("nonassign", "Expression '{0}' used with directive '{1}' is non-assignable!", attrs[attrName], newIsolateScopeDirective.name);
                                }, lastValue = isolateScope[scopeName] = parentGet(scope), isolateScope.$watch(function() {
                                    var parentValue = parentGet(scope);
                                    return compare(parentValue, isolateScope[scopeName]) || (compare(parentValue, lastValue) ? parentSet(scope, parentValue = isolateScope[scopeName]) : isolateScope[scopeName] = parentValue), 
                                    lastValue = parentValue;
                                }, null, parentGet.literal);
                                break;

                              case "&":
                                parentGet = $parse(attrs[attrName]), isolateScope[scopeName] = function(locals) {
                                    return parentGet(scope, locals);
                                };
                                break;

                              default:
                                throw $compileMinErr("iscp", "Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}", newIsolateScopeDirective.name, scopeName, definition);
                            }
                        });
                    }
                    for (transcludeFn = boundTranscludeFn && controllersBoundTransclude, controllerDirectives && forEach(controllerDirectives, function(directive) {
                        var controllerInstance, locals = {
                            $scope: directive === newIsolateScopeDirective || directive.$$isolateScope ? isolateScope : scope,
                            $element: $element,
                            $attrs: attrs,
                            $transclude: transcludeFn
                        };
                        controller = directive.controller, "@" == controller && (controller = attrs[directive.name]), 
                        controllerInstance = $controller(controller, locals), elementControllers[directive.name] = controllerInstance, 
                        hasElementTranscludeDirective || $element.data("$" + directive.name + "Controller", controllerInstance), 
                        directive.controllerAs && (locals.$scope[directive.controllerAs] = controllerInstance);
                    }), i = 0, ii = preLinkFns.length; i < ii; i++) try {
                        linkFn = preLinkFns[i], linkFn(linkFn.isolateScope ? isolateScope : scope, $element, attrs, linkFn.require && getControllers(linkFn.directiveName, linkFn.require, $element, elementControllers), transcludeFn);
                    } catch (e) {
                        $exceptionHandler(e, startingTag($element));
                    }
                    var scopeToChild = scope;
                    for (newIsolateScopeDirective && (newIsolateScopeDirective.template || null === newIsolateScopeDirective.templateUrl) && (scopeToChild = isolateScope), 
                    childLinkFn && childLinkFn(scopeToChild, linkNode.childNodes, undefined, boundTranscludeFn), 
                    i = postLinkFns.length - 1; i >= 0; i--) try {
                        linkFn = postLinkFns[i], linkFn(linkFn.isolateScope ? isolateScope : scope, $element, attrs, linkFn.require && getControllers(linkFn.directiveName, linkFn.require, $element, elementControllers), transcludeFn);
                    } catch (e) {
                        $exceptionHandler(e, startingTag($element));
                    }
                }
                previousCompileContext = previousCompileContext || {};
                for (var newScopeDirective, directive, directiveName, $template, linkFn, directiveValue, terminalPriority = -Number.MAX_VALUE, controllerDirectives = previousCompileContext.controllerDirectives, newIsolateScopeDirective = previousCompileContext.newIsolateScopeDirective, templateDirective = previousCompileContext.templateDirective, nonTlbTranscludeDirective = previousCompileContext.nonTlbTranscludeDirective, hasTranscludeDirective = !1, hasTemplate = !1, hasElementTranscludeDirective = previousCompileContext.hasElementTranscludeDirective, $compileNode = templateAttrs.$$element = jqLite(compileNode), replaceDirective = originalReplaceDirective, childTranscludeFn = transcludeFn, i = 0, ii = directives.length; i < ii; i++) {
                    directive = directives[i];
                    var attrStart = directive.$$start, attrEnd = directive.$$end;
                    if (attrStart && ($compileNode = groupScan(compileNode, attrStart, attrEnd)), $template = undefined, 
                    terminalPriority > directive.priority) break;
                    if ((directiveValue = directive.scope) && (newScopeDirective = newScopeDirective || directive, 
                    directive.templateUrl || (assertNoDuplicate("new/isolated scope", newIsolateScopeDirective, directive, $compileNode), 
                    isObject(directiveValue) && (newIsolateScopeDirective = directive))), directiveName = directive.name, 
                    !directive.templateUrl && directive.controller && (directiveValue = directive.controller, 
                    controllerDirectives = controllerDirectives || {}, assertNoDuplicate("'" + directiveName + "' controller", controllerDirectives[directiveName], directive, $compileNode), 
                    controllerDirectives[directiveName] = directive), (directiveValue = directive.transclude) && (hasTranscludeDirective = !0, 
                    directive.$$tlb || (assertNoDuplicate("transclusion", nonTlbTranscludeDirective, directive, $compileNode), 
                    nonTlbTranscludeDirective = directive), "element" == directiveValue ? (hasElementTranscludeDirective = !0, 
                    terminalPriority = directive.priority, $template = $compileNode, $compileNode = templateAttrs.$$element = jqLite(document.createComment(" " + directiveName + ": " + templateAttrs[directiveName] + " ")), 
                    compileNode = $compileNode[0], replaceWith(jqCollection, sliceArgs($template), compileNode), 
                    childTranscludeFn = compile($template, transcludeFn, terminalPriority, replaceDirective && replaceDirective.name, {
                        nonTlbTranscludeDirective: nonTlbTranscludeDirective
                    })) : ($template = jqLite(jqLiteClone(compileNode)).contents(), $compileNode.empty(), 
                    childTranscludeFn = compile($template, transcludeFn))), directive.template) if (hasTemplate = !0, 
                    assertNoDuplicate("template", templateDirective, directive, $compileNode), templateDirective = directive, 
                    directiveValue = isFunction(directive.template) ? directive.template($compileNode, templateAttrs) : directive.template, 
                    directiveValue = denormalizeTemplate(directiveValue), directive.replace) {
                        if (replaceDirective = directive, $template = jqLiteIsTextNode(directiveValue) ? [] : jqLite(trim(directiveValue)), 
                        compileNode = $template[0], 1 != $template.length || 1 !== compileNode.nodeType) throw $compileMinErr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", directiveName, "");
                        replaceWith(jqCollection, $compileNode, compileNode);
                        var newTemplateAttrs = {
                            $attr: {}
                        }, templateDirectives = collectDirectives(compileNode, [], newTemplateAttrs), unprocessedDirectives = directives.splice(i + 1, directives.length - (i + 1));
                        newIsolateScopeDirective && markDirectivesAsIsolate(templateDirectives), directives = directives.concat(templateDirectives).concat(unprocessedDirectives), 
                        mergeTemplateAttributes(templateAttrs, newTemplateAttrs), ii = directives.length;
                    } else $compileNode.html(directiveValue);
                    if (directive.templateUrl) hasTemplate = !0, assertNoDuplicate("template", templateDirective, directive, $compileNode), 
                    templateDirective = directive, directive.replace && (replaceDirective = directive), 
                    nodeLinkFn = compileTemplateUrl(directives.splice(i, directives.length - i), $compileNode, templateAttrs, jqCollection, hasTranscludeDirective && childTranscludeFn, preLinkFns, postLinkFns, {
                        controllerDirectives: controllerDirectives,
                        newIsolateScopeDirective: newIsolateScopeDirective,
                        templateDirective: templateDirective,
                        nonTlbTranscludeDirective: nonTlbTranscludeDirective
                    }), ii = directives.length; else if (directive.compile) try {
                        linkFn = directive.compile($compileNode, templateAttrs, childTranscludeFn), isFunction(linkFn) ? addLinkFns(null, linkFn, attrStart, attrEnd) : linkFn && addLinkFns(linkFn.pre, linkFn.post, attrStart, attrEnd);
                    } catch (e) {
                        $exceptionHandler(e, startingTag($compileNode));
                    }
                    directive.terminal && (nodeLinkFn.terminal = !0, terminalPriority = Math.max(terminalPriority, directive.priority));
                }
                return nodeLinkFn.scope = newScopeDirective && newScopeDirective.scope === !0, nodeLinkFn.transcludeOnThisElement = hasTranscludeDirective, 
                nodeLinkFn.templateOnThisElement = hasTemplate, nodeLinkFn.transclude = childTranscludeFn, 
                previousCompileContext.hasElementTranscludeDirective = hasElementTranscludeDirective, 
                nodeLinkFn;
            }
            function markDirectivesAsIsolate(directives) {
                for (var j = 0, jj = directives.length; j < jj; j++) directives[j] = inherit(directives[j], {
                    $$isolateScope: !0
                });
            }
            function addDirective(tDirectives, name, location, maxPriority, ignoreDirective, startAttrName, endAttrName) {
                if (name === ignoreDirective) return null;
                var match = null;
                if (hasDirectives.hasOwnProperty(name)) for (var directive, directives = $injector.get(name + Suffix), i = 0, ii = directives.length; i < ii; i++) try {
                    directive = directives[i], (maxPriority === undefined || maxPriority > directive.priority) && directive.restrict.indexOf(location) != -1 && (startAttrName && (directive = inherit(directive, {
                        $$start: startAttrName,
                        $$end: endAttrName
                    })), tDirectives.push(directive), match = directive);
                } catch (e) {
                    $exceptionHandler(e);
                }
                return match;
            }
            function mergeTemplateAttributes(dst, src) {
                var srcAttr = src.$attr, dstAttr = dst.$attr, $element = dst.$$element;
                forEach(dst, function(value, key) {
                    "$" != key.charAt(0) && (src[key] && src[key] !== value && (value += ("style" === key ? ";" : " ") + src[key]), 
                    dst.$set(key, value, !0, srcAttr[key]));
                }), forEach(src, function(value, key) {
                    "class" == key ? (safeAddClass($element, value), dst.class = (dst.class ? dst.class + " " : "") + value) : "style" == key ? ($element.attr("style", $element.attr("style") + ";" + value), 
                    dst.style = (dst.style ? dst.style + ";" : "") + value) : "$" == key.charAt(0) || dst.hasOwnProperty(key) || (dst[key] = value, 
                    dstAttr[key] = srcAttr[key]);
                });
            }
            function compileTemplateUrl(directives, $compileNode, tAttrs, $rootElement, childTranscludeFn, preLinkFns, postLinkFns, previousCompileContext) {
                var afterTemplateNodeLinkFn, afterTemplateChildLinkFn, linkQueue = [], beforeTemplateCompileNode = $compileNode[0], origAsyncDirective = directives.shift(), derivedSyncDirective = extend({}, origAsyncDirective, {
                    templateUrl: null,
                    transclude: null,
                    replace: null,
                    $$originalDirective: origAsyncDirective
                }), templateUrl = isFunction(origAsyncDirective.templateUrl) ? origAsyncDirective.templateUrl($compileNode, tAttrs) : origAsyncDirective.templateUrl;
                return $compileNode.empty(), $http.get($sce.getTrustedResourceUrl(templateUrl), {
                    cache: $templateCache
                }).success(function(content) {
                    var compileNode, tempTemplateAttrs, $template, childBoundTranscludeFn;
                    if (content = denormalizeTemplate(content), origAsyncDirective.replace) {
                        if ($template = jqLiteIsTextNode(content) ? [] : jqLite(trim(content)), compileNode = $template[0], 
                        1 != $template.length || 1 !== compileNode.nodeType) throw $compileMinErr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", origAsyncDirective.name, templateUrl);
                        tempTemplateAttrs = {
                            $attr: {}
                        }, replaceWith($rootElement, $compileNode, compileNode);
                        var templateDirectives = collectDirectives(compileNode, [], tempTemplateAttrs);
                        isObject(origAsyncDirective.scope) && markDirectivesAsIsolate(templateDirectives), 
                        directives = templateDirectives.concat(directives), mergeTemplateAttributes(tAttrs, tempTemplateAttrs);
                    } else compileNode = beforeTemplateCompileNode, $compileNode.html(content);
                    for (directives.unshift(derivedSyncDirective), afterTemplateNodeLinkFn = applyDirectivesToNode(directives, compileNode, tAttrs, childTranscludeFn, $compileNode, origAsyncDirective, preLinkFns, postLinkFns, previousCompileContext), 
                    forEach($rootElement, function(node, i) {
                        node == compileNode && ($rootElement[i] = $compileNode[0]);
                    }), afterTemplateChildLinkFn = compileNodes($compileNode[0].childNodes, childTranscludeFn); linkQueue.length; ) {
                        var scope = linkQueue.shift(), beforeTemplateLinkNode = linkQueue.shift(), linkRootElement = linkQueue.shift(), boundTranscludeFn = linkQueue.shift(), linkNode = $compileNode[0];
                        if (beforeTemplateLinkNode !== beforeTemplateCompileNode) {
                            var oldClasses = beforeTemplateLinkNode.className;
                            previousCompileContext.hasElementTranscludeDirective && origAsyncDirective.replace || (linkNode = jqLiteClone(compileNode)), 
                            replaceWith(linkRootElement, jqLite(beforeTemplateLinkNode), linkNode), safeAddClass(jqLite(linkNode), oldClasses);
                        }
                        childBoundTranscludeFn = afterTemplateNodeLinkFn.transcludeOnThisElement ? createBoundTranscludeFn(scope, afterTemplateNodeLinkFn.transclude, boundTranscludeFn) : boundTranscludeFn, 
                        afterTemplateNodeLinkFn(afterTemplateChildLinkFn, scope, linkNode, $rootElement, childBoundTranscludeFn);
                    }
                    linkQueue = null;
                }).error(function(response, code, headers, config) {
                    throw $compileMinErr("tpload", "Failed to load template: {0}", config.url);
                }), function(ignoreChildLinkFn, scope, node, rootElement, boundTranscludeFn) {
                    var childBoundTranscludeFn = boundTranscludeFn;
                    linkQueue ? (linkQueue.push(scope), linkQueue.push(node), linkQueue.push(rootElement), 
                    linkQueue.push(childBoundTranscludeFn)) : (afterTemplateNodeLinkFn.transcludeOnThisElement && (childBoundTranscludeFn = createBoundTranscludeFn(scope, afterTemplateNodeLinkFn.transclude, boundTranscludeFn)), 
                    afterTemplateNodeLinkFn(afterTemplateChildLinkFn, scope, node, rootElement, childBoundTranscludeFn));
                };
            }
            function byPriority(a, b) {
                var diff = b.priority - a.priority;
                return 0 !== diff ? diff : a.name !== b.name ? a.name < b.name ? -1 : 1 : a.index - b.index;
            }
            function assertNoDuplicate(what, previousDirective, directive, element) {
                if (previousDirective) throw $compileMinErr("multidir", "Multiple directives [{0}, {1}] asking for {2} on: {3}", previousDirective.name, directive.name, what, startingTag(element));
            }
            function addTextInterpolateDirective(directives, text) {
                var interpolateFn = $interpolate(text, !0);
                interpolateFn && directives.push({
                    priority: 0,
                    compile: function(templateNode) {
                        var parent = templateNode.parent(), hasCompileParent = parent.length;
                        return hasCompileParent && safeAddClass(templateNode.parent(), "ng-binding"), function(scope, node) {
                            var parent = node.parent(), bindings = parent.data("$binding") || [];
                            bindings.push(interpolateFn), parent.data("$binding", bindings), hasCompileParent || safeAddClass(parent, "ng-binding"), 
                            scope.$watch(interpolateFn, function(value) {
                                node[0].nodeValue = value;
                            });
                        };
                    }
                });
            }
            function getTrustedContext(node, attrNormalizedName) {
                if ("srcdoc" == attrNormalizedName) return $sce.HTML;
                var tag = nodeName_(node);
                return "xlinkHref" == attrNormalizedName || "FORM" == tag && "action" == attrNormalizedName || "LINK" == tag && "href" == attrNormalizedName || "IMG" != tag && ("src" == attrNormalizedName || "ngSrc" == attrNormalizedName) ? $sce.RESOURCE_URL : void 0;
            }
            function addAttrInterpolateDirective(node, directives, value, name) {
                var interpolateFn = $interpolate(value, !0);
                if (interpolateFn) {
                    if ("multiple" === name && "SELECT" === nodeName_(node)) throw $compileMinErr("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", startingTag(node));
                    directives.push({
                        priority: 100,
                        compile: function() {
                            return {
                                pre: function(scope, element, attr) {
                                    var $$observers = attr.$$observers || (attr.$$observers = {});
                                    if (EVENT_HANDLER_ATTR_REGEXP.test(name)) throw $compileMinErr("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
                                    interpolateFn = $interpolate(attr[name], !0, getTrustedContext(node, name)), interpolateFn && (attr[name] = interpolateFn(scope), 
                                    ($$observers[name] || ($$observers[name] = [])).$$inter = !0, (attr.$$observers && attr.$$observers[name].$$scope || scope).$watch(interpolateFn, function(newValue, oldValue) {
                                        "class" === name && newValue != oldValue ? attr.$updateClass(newValue, oldValue) : attr.$set(name, newValue);
                                    }));
                                }
                            };
                        }
                    });
                }
            }
            function replaceWith($rootElement, elementsToRemove, newNode) {
                var i, ii, firstElementToRemove = elementsToRemove[0], removeCount = elementsToRemove.length, parent = firstElementToRemove.parentNode;
                if ($rootElement) for (i = 0, ii = $rootElement.length; i < ii; i++) if ($rootElement[i] == firstElementToRemove) {
                    $rootElement[i++] = newNode;
                    for (var j = i, j2 = j + removeCount - 1, jj = $rootElement.length; j < jj; j++, 
                    j2++) j2 < jj ? $rootElement[j] = $rootElement[j2] : delete $rootElement[j];
                    $rootElement.length -= removeCount - 1;
                    break;
                }
                parent && parent.replaceChild(newNode, firstElementToRemove);
                var fragment = document.createDocumentFragment();
                fragment.appendChild(firstElementToRemove), newNode[jqLite.expando] = firstElementToRemove[jqLite.expando];
                for (var k = 1, kk = elementsToRemove.length; k < kk; k++) {
                    var element = elementsToRemove[k];
                    jqLite(element).remove(), fragment.appendChild(element), delete elementsToRemove[k];
                }
                elementsToRemove[0] = newNode, elementsToRemove.length = 1;
            }
            function cloneAndAnnotateFn(fn, annotation) {
                return extend(function() {
                    return fn.apply(null, arguments);
                }, fn, annotation);
            }
            var Attributes = function(element, attr) {
                this.$$element = element, this.$attr = attr || {};
            };
            Attributes.prototype = {
                $normalize: directiveNormalize,
                $addClass: function(classVal) {
                    classVal && classVal.length > 0 && $animate.addClass(this.$$element, classVal);
                },
                $removeClass: function(classVal) {
                    classVal && classVal.length > 0 && $animate.removeClass(this.$$element, classVal);
                },
                $updateClass: function(newClasses, oldClasses) {
                    var toAdd = tokenDifference(newClasses, oldClasses), toRemove = tokenDifference(oldClasses, newClasses);
                    0 === toAdd.length ? $animate.removeClass(this.$$element, toRemove) : 0 === toRemove.length ? $animate.addClass(this.$$element, toAdd) : $animate.setClass(this.$$element, toAdd, toRemove);
                },
                $set: function(key, value, writeAttr, attrName) {
                    var nodeName, booleanKey = getBooleanAttrName(this.$$element[0], key);
                    booleanKey && (this.$$element.prop(key, value), attrName = booleanKey), this[key] = value, 
                    attrName ? this.$attr[key] = attrName : (attrName = this.$attr[key], attrName || (this.$attr[key] = attrName = snake_case(key, "-"))), 
                    nodeName = nodeName_(this.$$element).toUpperCase(), ("A" === nodeName && ("href" === key || "xlinkHref" === key) || "IMG" === nodeName && "src" === key) && (this[key] = value = $$sanitizeUri(value, "src" === key)), 
                    writeAttr !== !1 && (null === value || value === undefined ? this.$$element.removeAttr(attrName) : this.$$element.attr(attrName, value));
                    var $$observers = this.$$observers;
                    $$observers && forEach($$observers[key], function(fn) {
                        try {
                            fn(value);
                        } catch (e) {
                            $exceptionHandler(e);
                        }
                    });
                },
                $observe: function(key, fn) {
                    var attrs = this, $$observers = attrs.$$observers || (attrs.$$observers = {}), listeners = $$observers[key] || ($$observers[key] = []);
                    return listeners.push(fn), $rootScope.$evalAsync(function() {
                        listeners.$$inter || fn(attrs[key]);
                    }), fn;
                }
            };
            var startSymbol = $interpolate.startSymbol(), endSymbol = $interpolate.endSymbol(), denormalizeTemplate = "{{" == startSymbol || "}}" == endSymbol ? identity : function(template) {
                return template.replace(/\{\{/g, startSymbol).replace(/}}/g, endSymbol);
            }, NG_ATTR_BINDING = /^ngAttr[A-Z]/;
            return compile;
        } ];
    }
    function directiveNormalize(name) {
        return camelCase(name.replace(PREFIX_REGEXP, ""));
    }
    function tokenDifference(str1, str2) {
        var values = "", tokens1 = str1.split(/\s+/), tokens2 = str2.split(/\s+/);
        outer: for (var i = 0; i < tokens1.length; i++) {
            for (var token = tokens1[i], j = 0; j < tokens2.length; j++) if (token == tokens2[j]) continue outer;
            values += (values.length > 0 ? " " : "") + token;
        }
        return values;
    }
    function $ControllerProvider() {
        var controllers = {}, CNTRL_REG = /^(\S+)(\s+as\s+(\w+))?$/;
        this.register = function(name, constructor) {
            assertNotHasOwnProperty(name, "controller"), isObject(name) ? extend(controllers, name) : controllers[name] = constructor;
        }, this.$get = [ "$injector", "$window", function($injector, $window) {
            return function(expression, locals) {
                var instance, match, constructor, identifier;
                if (isString(expression) && (match = expression.match(CNTRL_REG), constructor = match[1], 
                identifier = match[3], expression = controllers.hasOwnProperty(constructor) ? controllers[constructor] : getter(locals.$scope, constructor, !0) || getter($window, constructor, !0), 
                assertArgFn(expression, constructor, !0)), instance = $injector.instantiate(expression, locals), 
                identifier) {
                    if (!locals || "object" != typeof locals.$scope) throw minErr("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", constructor || expression.name, identifier);
                    locals.$scope[identifier] = instance;
                }
                return instance;
            };
        } ];
    }
    function $DocumentProvider() {
        this.$get = [ "$window", function(window) {
            return jqLite(window.document);
        } ];
    }
    function $ExceptionHandlerProvider() {
        this.$get = [ "$log", function($log) {
            return function(exception, cause) {
                $log.error.apply($log, arguments);
            };
        } ];
    }
    function parseHeaders(headers) {
        var key, val, i, parsed = {};
        return headers ? (forEach(headers.split("\n"), function(line) {
            i = line.indexOf(":"), key = lowercase(trim(line.substr(0, i))), val = trim(line.substr(i + 1)), 
            key && (parsed[key] = parsed[key] ? parsed[key] + ", " + val : val);
        }), parsed) : parsed;
    }
    function headersGetter(headers) {
        var headersObj = isObject(headers) ? headers : undefined;
        return function(name) {
            return headersObj || (headersObj = parseHeaders(headers)), name ? headersObj[lowercase(name)] || null : headersObj;
        };
    }
    function transformData(data, headers, fns) {
        return isFunction(fns) ? fns(data, headers) : (forEach(fns, function(fn) {
            data = fn(data, headers);
        }), data);
    }
    function isSuccess(status) {
        return 200 <= status && status < 300;
    }
    function $HttpProvider() {
        var JSON_START = /^\s*(\[|\{[^\{])/, JSON_END = /[\}\]]\s*$/, PROTECTION_PREFIX = /^\)\]\}',?\n/, CONTENT_TYPE_APPLICATION_JSON = {
            "Content-Type": "application/json;charset=utf-8"
        }, defaults = this.defaults = {
            transformResponse: [ function(data) {
                return isString(data) && (data = data.replace(PROTECTION_PREFIX, ""), JSON_START.test(data) && JSON_END.test(data) && (data = fromJson(data))), 
                data;
            } ],
            transformRequest: [ function(d) {
                return !isObject(d) || isFile(d) || isBlob(d) ? d : toJson(d);
            } ],
            headers: {
                common: {
                    Accept: "application/json, text/plain, */*"
                },
                post: shallowCopy(CONTENT_TYPE_APPLICATION_JSON),
                put: shallowCopy(CONTENT_TYPE_APPLICATION_JSON),
                patch: shallowCopy(CONTENT_TYPE_APPLICATION_JSON)
            },
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN"
        }, interceptorFactories = this.interceptors = [], responseInterceptorFactories = this.responseInterceptors = [];
        this.$get = [ "$httpBackend", "$browser", "$cacheFactory", "$rootScope", "$q", "$injector", function($httpBackend, $browser, $cacheFactory, $rootScope, $q, $injector) {
            function $http(requestConfig) {
                function transformResponse(response) {
                    var resp = extend({}, response, {
                        data: transformData(response.data, response.headers, config.transformResponse)
                    });
                    return isSuccess(response.status) ? resp : $q.reject(resp);
                }
                function mergeHeaders(config) {
                    function execHeaders(headers) {
                        var headerContent;
                        forEach(headers, function(headerFn, header) {
                            isFunction(headerFn) && (headerContent = headerFn(), null != headerContent ? headers[header] = headerContent : delete headers[header]);
                        });
                    }
                    var defHeaderName, lowercaseDefHeaderName, reqHeaderName, defHeaders = defaults.headers, reqHeaders = extend({}, config.headers);
                    defHeaders = extend({}, defHeaders.common, defHeaders[lowercase(config.method)]);
                    defaultHeadersIteration: for (defHeaderName in defHeaders) {
                        lowercaseDefHeaderName = lowercase(defHeaderName);
                        for (reqHeaderName in reqHeaders) if (lowercase(reqHeaderName) === lowercaseDefHeaderName) continue defaultHeadersIteration;
                        reqHeaders[defHeaderName] = defHeaders[defHeaderName];
                    }
                    return execHeaders(reqHeaders), reqHeaders;
                }
                var config = {
                    method: "get",
                    transformRequest: defaults.transformRequest,
                    transformResponse: defaults.transformResponse
                }, headers = mergeHeaders(requestConfig);
                extend(config, requestConfig), config.headers = headers, config.method = uppercase(config.method);
                var serverRequest = function(config) {
                    headers = config.headers;
                    var reqData = transformData(config.data, headersGetter(headers), config.transformRequest);
                    return isUndefined(reqData) && forEach(headers, function(value, header) {
                        "content-type" === lowercase(header) && delete headers[header];
                    }), isUndefined(config.withCredentials) && !isUndefined(defaults.withCredentials) && (config.withCredentials = defaults.withCredentials), 
                    sendReq(config, reqData, headers).then(transformResponse, transformResponse);
                }, chain = [ serverRequest, undefined ], promise = $q.when(config);
                for (forEach(reversedInterceptors, function(interceptor) {
                    (interceptor.request || interceptor.requestError) && chain.unshift(interceptor.request, interceptor.requestError), 
                    (interceptor.response || interceptor.responseError) && chain.push(interceptor.response, interceptor.responseError);
                }); chain.length; ) {
                    var thenFn = chain.shift(), rejectFn = chain.shift();
                    promise = promise.then(thenFn, rejectFn);
                }
                return promise.success = function(fn) {
                    return promise.then(function(response) {
                        fn(response.data, response.status, response.headers, config);
                    }), promise;
                }, promise.error = function(fn) {
                    return promise.then(null, function(response) {
                        fn(response.data, response.status, response.headers, config);
                    }), promise;
                }, promise;
            }
            function createShortMethods(names) {
                forEach(arguments, function(name) {
                    $http[name] = function(url, config) {
                        return $http(extend(config || {}, {
                            method: name,
                            url: url
                        }));
                    };
                });
            }
            function createShortMethodsWithData(name) {
                forEach(arguments, function(name) {
                    $http[name] = function(url, data, config) {
                        return $http(extend(config || {}, {
                            method: name,
                            url: url,
                            data: data
                        }));
                    };
                });
            }
            function sendReq(config, reqData, reqHeaders) {
                function done(status, response, headersString, statusText) {
                    cache && (isSuccess(status) ? cache.put(url, [ status, response, parseHeaders(headersString), statusText ]) : cache.remove(url)), 
                    resolvePromise(response, status, headersString, statusText), $rootScope.$$phase || $rootScope.$apply();
                }
                function resolvePromise(response, status, headers, statusText) {
                    status = Math.max(status, 0), (isSuccess(status) ? deferred.resolve : deferred.reject)({
                        data: response,
                        status: status,
                        headers: headersGetter(headers),
                        config: config,
                        statusText: statusText
                    });
                }
                function removePendingReq() {
                    var idx = indexOf($http.pendingRequests, config);
                    idx !== -1 && $http.pendingRequests.splice(idx, 1);
                }
                var cache, cachedResp, deferred = $q.defer(), promise = deferred.promise, url = buildUrl(config.url, config.params);
                if ($http.pendingRequests.push(config), promise.then(removePendingReq, removePendingReq), 
                !config.cache && !defaults.cache || config.cache === !1 || "GET" !== config.method && "JSONP" !== config.method || (cache = isObject(config.cache) ? config.cache : isObject(defaults.cache) ? defaults.cache : defaultCache), 
                cache) if (cachedResp = cache.get(url), isDefined(cachedResp)) {
                    if (isPromiseLike(cachedResp)) return cachedResp.then(removePendingReq, removePendingReq), 
                    cachedResp;
                    isArray(cachedResp) ? resolvePromise(cachedResp[1], cachedResp[0], shallowCopy(cachedResp[2]), cachedResp[3]) : resolvePromise(cachedResp, 200, {}, "OK");
                } else cache.put(url, promise);
                if (isUndefined(cachedResp)) {
                    var xsrfValue = urlIsSameOrigin(config.url) ? $browser.cookies()[config.xsrfCookieName || defaults.xsrfCookieName] : undefined;
                    xsrfValue && (reqHeaders[config.xsrfHeaderName || defaults.xsrfHeaderName] = xsrfValue), 
                    $httpBackend(config.method, url, reqData, done, reqHeaders, config.timeout, config.withCredentials, config.responseType);
                }
                return promise;
            }
            function buildUrl(url, params) {
                if (!params) return url;
                var parts = [];
                return forEachSorted(params, function(value, key) {
                    null === value || isUndefined(value) || (isArray(value) || (value = [ value ]), 
                    forEach(value, function(v) {
                        isObject(v) && (v = isDate(v) ? v.toISOString() : toJson(v)), parts.push(encodeUriQuery(key) + "=" + encodeUriQuery(v));
                    }));
                }), parts.length > 0 && (url += (url.indexOf("?") == -1 ? "?" : "&") + parts.join("&")), 
                url;
            }
            var defaultCache = $cacheFactory("$http"), reversedInterceptors = [];
            return forEach(interceptorFactories, function(interceptorFactory) {
                reversedInterceptors.unshift(isString(interceptorFactory) ? $injector.get(interceptorFactory) : $injector.invoke(interceptorFactory));
            }), forEach(responseInterceptorFactories, function(interceptorFactory, index) {
                var responseFn = isString(interceptorFactory) ? $injector.get(interceptorFactory) : $injector.invoke(interceptorFactory);
                reversedInterceptors.splice(index, 0, {
                    response: function(response) {
                        return responseFn($q.when(response));
                    },
                    responseError: function(response) {
                        return responseFn($q.reject(response));
                    }
                });
            }), $http.pendingRequests = [], createShortMethods("get", "delete", "head", "jsonp"), 
            createShortMethodsWithData("post", "put", "patch"), $http.defaults = defaults, $http;
        } ];
    }
    function createXhr(method) {
        if (msie <= 8 && (!method.match(/^(get|post|head|put|delete|options)$/i) || !window.XMLHttpRequest)) return new window.ActiveXObject("Microsoft.XMLHTTP");
        if (window.XMLHttpRequest) return new window.XMLHttpRequest();
        throw minErr("$httpBackend")("noxhr", "This browser does not support XMLHttpRequest.");
    }
    function $HttpBackendProvider() {
        this.$get = [ "$browser", "$window", "$document", function($browser, $window, $document) {
            return createHttpBackend($browser, createXhr, $browser.defer, $window.angular.callbacks, $document[0]);
        } ];
    }
    function createHttpBackend($browser, createXhr, $browserDefer, callbacks, rawDocument) {
        function jsonpReq(url, callbackId, done) {
            var script = rawDocument.createElement("script"), callback = null;
            return script.type = "text/javascript", script.src = url, script.async = !0, callback = function(event) {
                removeEventListenerFn(script, "load", callback), removeEventListenerFn(script, "error", callback), 
                rawDocument.body.removeChild(script), script = null;
                var status = -1, text = "unknown";
                event && ("load" !== event.type || callbacks[callbackId].called || (event = {
                    type: "error"
                }), text = event.type, status = "error" === event.type ? 404 : 200), done && done(status, text);
            }, addEventListenerFn(script, "load", callback), addEventListenerFn(script, "error", callback), 
            msie <= 8 && (script.onreadystatechange = function() {
                isString(script.readyState) && /loaded|complete/.test(script.readyState) && (script.onreadystatechange = null, 
                callback({
                    type: "load"
                }));
            }), rawDocument.body.appendChild(script), callback;
        }
        var ABORTED = -1;
        return function(method, url, post, callback, headers, timeout, withCredentials, responseType) {
            function timeoutRequest() {
                status = ABORTED, jsonpDone && jsonpDone(), xhr && xhr.abort();
            }
            function completeRequest(callback, status, response, headersString, statusText) {
                timeoutId && $browserDefer.cancel(timeoutId), jsonpDone = xhr = null, 0 === status && (status = response ? 200 : "file" == urlResolve(url).protocol ? 404 : 0), 
                status = 1223 === status ? 204 : status, statusText = statusText || "", callback(status, response, headersString, statusText), 
                $browser.$$completeOutstandingRequest(noop);
            }
            var status;
            if ($browser.$$incOutstandingRequestCount(), url = url || $browser.url(), "jsonp" == lowercase(method)) {
                var callbackId = "_" + (callbacks.counter++).toString(36);
                callbacks[callbackId] = function(data) {
                    callbacks[callbackId].data = data, callbacks[callbackId].called = !0;
                };
                var jsonpDone = jsonpReq(url.replace("JSON_CALLBACK", "angular.callbacks." + callbackId), callbackId, function(status, text) {
                    completeRequest(callback, status, callbacks[callbackId].data, "", text), callbacks[callbackId] = noop;
                });
            } else {
                var xhr = createXhr(method);
                if (xhr.open(method, url, !0), forEach(headers, function(value, key) {
                    isDefined(value) && xhr.setRequestHeader(key, value);
                }), xhr.onreadystatechange = function() {
                    if (xhr && 4 == xhr.readyState) {
                        var responseHeaders = null, response = null, statusText = "";
                        status !== ABORTED && (responseHeaders = xhr.getAllResponseHeaders(), response = "response" in xhr ? xhr.response : xhr.responseText), 
                        status === ABORTED && msie < 10 || (statusText = xhr.statusText), completeRequest(callback, status || xhr.status, response, responseHeaders, statusText);
                    }
                }, withCredentials && (xhr.withCredentials = !0), responseType) try {
                    xhr.responseType = responseType;
                } catch (e) {
                    if ("json" !== responseType) throw e;
                }
                xhr.send(post || null);
            }
            if (timeout > 0) var timeoutId = $browserDefer(timeoutRequest, timeout); else isPromiseLike(timeout) && timeout.then(timeoutRequest);
        };
    }
    function $InterpolateProvider() {
        var startSymbol = "{{", endSymbol = "}}";
        this.startSymbol = function(value) {
            return value ? (startSymbol = value, this) : startSymbol;
        }, this.endSymbol = function(value) {
            return value ? (endSymbol = value, this) : endSymbol;
        }, this.$get = [ "$parse", "$exceptionHandler", "$sce", function($parse, $exceptionHandler, $sce) {
            function $interpolate(text, mustHaveExpression, trustedContext) {
                for (var startIndex, endIndex, fn, exp, index = 0, parts = [], length = text.length, hasInterpolation = !1, concat = []; index < length; ) (startIndex = text.indexOf(startSymbol, index)) != -1 && (endIndex = text.indexOf(endSymbol, startIndex + startSymbolLength)) != -1 ? (index != startIndex && parts.push(text.substring(index, startIndex)), 
                parts.push(fn = $parse(exp = text.substring(startIndex + startSymbolLength, endIndex))), 
                fn.exp = exp, index = endIndex + endSymbolLength, hasInterpolation = !0) : (index != length && parts.push(text.substring(index)), 
                index = length);
                if ((length = parts.length) || (parts.push(""), length = 1), trustedContext && parts.length > 1) throw $interpolateMinErr("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", text);
                if (!mustHaveExpression || hasInterpolation) return concat.length = length, fn = function(context) {
                    try {
                        for (var part, i = 0, ii = length; i < ii; i++) {
                            if ("function" == typeof (part = parts[i])) if (part = part(context), part = trustedContext ? $sce.getTrusted(trustedContext, part) : $sce.valueOf(part), 
                            null == part) part = ""; else switch (typeof part) {
                              case "string":
                                break;

                              case "number":
                                part = "" + part;
                                break;

                              default:
                                part = toJson(part);
                            }
                            concat[i] = part;
                        }
                        return concat.join("");
                    } catch (err) {
                        var newErr = $interpolateMinErr("interr", "Can't interpolate: {0}\n{1}", text, err.toString());
                        $exceptionHandler(newErr);
                    }
                }, fn.exp = text, fn.parts = parts, fn;
            }
            var startSymbolLength = startSymbol.length, endSymbolLength = endSymbol.length;
            return $interpolate.startSymbol = function() {
                return startSymbol;
            }, $interpolate.endSymbol = function() {
                return endSymbol;
            }, $interpolate;
        } ];
    }
    function $IntervalProvider() {
        this.$get = [ "$rootScope", "$window", "$q", function($rootScope, $window, $q) {
            function interval(fn, delay, count, invokeApply) {
                var setInterval = $window.setInterval, clearInterval = $window.clearInterval, deferred = $q.defer(), promise = deferred.promise, iteration = 0, skipApply = isDefined(invokeApply) && !invokeApply;
                return count = isDefined(count) ? count : 0, promise.then(null, null, fn), promise.$$intervalId = setInterval(function() {
                    deferred.notify(iteration++), count > 0 && iteration >= count && (deferred.resolve(iteration), 
                    clearInterval(promise.$$intervalId), delete intervals[promise.$$intervalId]), skipApply || $rootScope.$apply();
                }, delay), intervals[promise.$$intervalId] = deferred, promise;
            }
            var intervals = {};
            return interval.cancel = function(promise) {
                return !!(promise && promise.$$intervalId in intervals) && (intervals[promise.$$intervalId].reject("canceled"), 
                $window.clearInterval(promise.$$intervalId), delete intervals[promise.$$intervalId], 
                !0);
            }, interval;
        } ];
    }
    function $LocaleProvider() {
        this.$get = function() {
            return {
                id: "en-us",
                NUMBER_FORMATS: {
                    DECIMAL_SEP: ".",
                    GROUP_SEP: ",",
                    PATTERNS: [ {
                        minInt: 1,
                        minFrac: 0,
                        maxFrac: 3,
                        posPre: "",
                        posSuf: "",
                        negPre: "-",
                        negSuf: "",
                        gSize: 3,
                        lgSize: 3
                    }, {
                        minInt: 1,
                        minFrac: 2,
                        maxFrac: 2,
                        posPre: "",
                        posSuf: "",
                        negPre: "(",
                        negSuf: ")",
                        gSize: 3,
                        lgSize: 3
                    } ],
                    CURRENCY_SYM: "$"
                },
                DATETIME_FORMATS: {
                    MONTH: "January,February,March,April,May,June,July,August,September,October,November,December".split(","),
                    SHORTMONTH: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
                    DAY: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
                    SHORTDAY: "Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
                    AMPMS: [ "AM", "PM" ],
                    medium: "MMM d, y h:mm:ss a",
                    short: "M/d/yy h:mm a",
                    fullDate: "EEEE, MMMM d, y",
                    longDate: "MMMM d, y",
                    mediumDate: "MMM d, y",
                    shortDate: "M/d/yy",
                    mediumTime: "h:mm:ss a",
                    shortTime: "h:mm a"
                },
                pluralCat: function(num) {
                    return 1 === num ? "one" : "other";
                }
            };
        };
    }
    function encodePath(path) {
        for (var segments = path.split("/"), i = segments.length; i--; ) segments[i] = encodeUriSegment(segments[i]);
        return segments.join("/");
    }
    function parseAbsoluteUrl(absoluteUrl, locationObj, appBase) {
        var parsedUrl = urlResolve(absoluteUrl, appBase);
        locationObj.$$protocol = parsedUrl.protocol, locationObj.$$host = parsedUrl.hostname, 
        locationObj.$$port = int(parsedUrl.port) || DEFAULT_PORTS[parsedUrl.protocol] || null;
    }
    function parseAppUrl(relativeUrl, locationObj, appBase) {
        var prefixed = "/" !== relativeUrl.charAt(0);
        prefixed && (relativeUrl = "/" + relativeUrl);
        var match = urlResolve(relativeUrl, appBase);
        locationObj.$$path = decodeURIComponent(prefixed && "/" === match.pathname.charAt(0) ? match.pathname.substring(1) : match.pathname), 
        locationObj.$$search = parseKeyValue(match.search), locationObj.$$hash = decodeURIComponent(match.hash), 
        locationObj.$$path && "/" != locationObj.$$path.charAt(0) && (locationObj.$$path = "/" + locationObj.$$path);
    }
    function beginsWith(begin, whole) {
        if (0 === whole.indexOf(begin)) return whole.substr(begin.length);
    }
    function stripHash(url) {
        var index = url.indexOf("#");
        return index == -1 ? url : url.substr(0, index);
    }
    function trimEmptyHash(url) {
        return url.replace(/(#.+)|#$/, "$1");
    }
    function stripFile(url) {
        return url.substr(0, stripHash(url).lastIndexOf("/") + 1);
    }
    function serverBase(url) {
        return url.substring(0, url.indexOf("/", url.indexOf("//") + 2));
    }
    function LocationHtml5Url(appBase, basePrefix) {
        this.$$html5 = !0, basePrefix = basePrefix || "";
        var appBaseNoFile = stripFile(appBase);
        parseAbsoluteUrl(appBase, this, appBase), this.$$parse = function(url) {
            var pathUrl = beginsWith(appBaseNoFile, url);
            if (!isString(pathUrl)) throw $locationMinErr("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', url, appBaseNoFile);
            parseAppUrl(pathUrl, this, appBase), this.$$path || (this.$$path = "/"), this.$$compose();
        }, this.$$compose = function() {
            var search = toKeyValue(this.$$search), hash = this.$$hash ? "#" + encodeUriSegment(this.$$hash) : "";
            this.$$url = encodePath(this.$$path) + (search ? "?" + search : "") + hash, this.$$absUrl = appBaseNoFile + this.$$url.substr(1);
        }, this.$$parseLinkUrl = function(url, relHref) {
            var appUrl, prevAppUrl, rewrittenUrl;
            return (appUrl = beginsWith(appBase, url)) !== undefined ? (prevAppUrl = appUrl, 
            rewrittenUrl = (appUrl = beginsWith(basePrefix, appUrl)) !== undefined ? appBaseNoFile + (beginsWith("/", appUrl) || appUrl) : appBase + prevAppUrl) : (appUrl = beginsWith(appBaseNoFile, url)) !== undefined ? rewrittenUrl = appBaseNoFile + appUrl : appBaseNoFile == url + "/" && (rewrittenUrl = appBaseNoFile), 
            rewrittenUrl && this.$$parse(rewrittenUrl), !!rewrittenUrl;
        };
    }
    function LocationHashbangUrl(appBase, hashPrefix) {
        var appBaseNoFile = stripFile(appBase);
        parseAbsoluteUrl(appBase, this, appBase), this.$$parse = function(url) {
            function removeWindowsDriveName(path, url, base) {
                var firstPathSegmentMatch, windowsFilePathExp = /^\/[A-Z]:(\/.*)/;
                return 0 === url.indexOf(base) && (url = url.replace(base, "")), windowsFilePathExp.exec(url) ? path : (firstPathSegmentMatch = windowsFilePathExp.exec(path), 
                firstPathSegmentMatch ? firstPathSegmentMatch[1] : path);
            }
            var withoutBaseUrl = beginsWith(appBase, url) || beginsWith(appBaseNoFile, url), withoutHashUrl = "#" == withoutBaseUrl.charAt(0) ? beginsWith(hashPrefix, withoutBaseUrl) : this.$$html5 ? withoutBaseUrl : "";
            if (!isString(withoutHashUrl)) throw $locationMinErr("ihshprfx", 'Invalid url "{0}", missing hash prefix "{1}".', url, hashPrefix);
            parseAppUrl(withoutHashUrl, this, appBase), this.$$path = removeWindowsDriveName(this.$$path, withoutHashUrl, appBase), 
            this.$$compose();
        }, this.$$compose = function() {
            var search = toKeyValue(this.$$search), hash = this.$$hash ? "#" + encodeUriSegment(this.$$hash) : "";
            this.$$url = encodePath(this.$$path) + (search ? "?" + search : "") + hash, this.$$absUrl = appBase + (this.$$url ? hashPrefix + this.$$url : "");
        }, this.$$parseLinkUrl = function(url, relHref) {
            return stripHash(appBase) == stripHash(url) && (this.$$parse(url), !0);
        };
    }
    function LocationHashbangInHtml5Url(appBase, hashPrefix) {
        this.$$html5 = !0, LocationHashbangUrl.apply(this, arguments);
        var appBaseNoFile = stripFile(appBase);
        this.$$parseLinkUrl = function(url, relHref) {
            var rewrittenUrl, appUrl;
            return appBase == stripHash(url) ? rewrittenUrl = url : (appUrl = beginsWith(appBaseNoFile, url)) ? rewrittenUrl = appBase + hashPrefix + appUrl : appBaseNoFile === url + "/" && (rewrittenUrl = appBaseNoFile), 
            rewrittenUrl && this.$$parse(rewrittenUrl), !!rewrittenUrl;
        }, this.$$compose = function() {
            var search = toKeyValue(this.$$search), hash = this.$$hash ? "#" + encodeUriSegment(this.$$hash) : "";
            this.$$url = encodePath(this.$$path) + (search ? "?" + search : "") + hash, this.$$absUrl = appBase + hashPrefix + this.$$url;
        };
    }
    function locationGetter(property) {
        return function() {
            return this[property];
        };
    }
    function locationGetterSetter(property, preprocess) {
        return function(value) {
            return isUndefined(value) ? this[property] : (this[property] = preprocess(value), 
            this.$$compose(), this);
        };
    }
    function $LocationProvider() {
        var hashPrefix = "", html5Mode = !1;
        this.hashPrefix = function(prefix) {
            return isDefined(prefix) ? (hashPrefix = prefix, this) : hashPrefix;
        }, this.html5Mode = function(mode) {
            return isDefined(mode) ? (html5Mode = mode, this) : html5Mode;
        }, this.$get = [ "$rootScope", "$browser", "$sniffer", "$rootElement", function($rootScope, $browser, $sniffer, $rootElement) {
            function afterLocationChange(oldUrl) {
                $rootScope.$broadcast("$locationChangeSuccess", $location.absUrl(), oldUrl);
            }
            var $location, LocationMode, appBase, baseHref = $browser.baseHref(), initialUrl = $browser.url();
            html5Mode ? (appBase = serverBase(initialUrl) + (baseHref || "/"), LocationMode = $sniffer.history ? LocationHtml5Url : LocationHashbangInHtml5Url) : (appBase = stripHash(initialUrl), 
            LocationMode = LocationHashbangUrl), $location = new LocationMode(appBase, "#" + hashPrefix), 
            $location.$$parseLinkUrl(initialUrl, initialUrl);
            var IGNORE_URI_REGEXP = /^\s*(javascript|mailto):/i;
            $rootElement.on("click", function(event) {
                if (!event.ctrlKey && !event.metaKey && 2 != event.which) {
                    for (var elm = jqLite(event.target); "a" !== lowercase(elm[0].nodeName); ) if (elm[0] === $rootElement[0] || !(elm = elm.parent())[0]) return;
                    var absHref = elm.prop("href"), relHref = elm.attr("href") || elm.attr("xlink:href");
                    isObject(absHref) && "[object SVGAnimatedString]" === absHref.toString() && (absHref = urlResolve(absHref.animVal).href), 
                    IGNORE_URI_REGEXP.test(absHref) || !absHref || elm.attr("target") || event.isDefaultPrevented() || $location.$$parseLinkUrl(absHref, relHref) && (event.preventDefault(), 
                    $location.absUrl() != $browser.url() && ($rootScope.$apply(), window.angular["ff-684208-preventDefault"] = !0));
                }
            }), $location.absUrl() != initialUrl && $browser.url($location.absUrl(), !0), $browser.onUrlChange(function(newUrl) {
                $location.absUrl() != newUrl && ($rootScope.$evalAsync(function() {
                    var oldUrl = $location.absUrl();
                    $location.$$parse(newUrl), $rootScope.$broadcast("$locationChangeStart", newUrl, oldUrl).defaultPrevented ? ($location.$$parse(oldUrl), 
                    $browser.url(oldUrl)) : afterLocationChange(oldUrl);
                }), $rootScope.$$phase || $rootScope.$digest());
            });
            var changeCounter = 0;
            return $rootScope.$watch(function() {
                var oldUrl = trimEmptyHash($browser.url()), newUrl = trimEmptyHash($location.absUrl()), currentReplace = $location.$$replace;
                return changeCounter && oldUrl == newUrl || (changeCounter++, $rootScope.$evalAsync(function() {
                    $rootScope.$broadcast("$locationChangeStart", $location.absUrl(), oldUrl).defaultPrevented ? $location.$$parse(oldUrl) : ($browser.url($location.absUrl(), currentReplace), 
                    afterLocationChange(oldUrl));
                })), $location.$$replace = !1, changeCounter;
            }), $location;
        } ];
    }
    function $LogProvider() {
        var debug = !0, self = this;
        this.debugEnabled = function(flag) {
            return isDefined(flag) ? (debug = flag, this) : debug;
        }, this.$get = [ "$window", function($window) {
            function formatError(arg) {
                return arg instanceof Error && (arg.stack ? arg = arg.message && arg.stack.indexOf(arg.message) === -1 ? "Error: " + arg.message + "\n" + arg.stack : arg.stack : arg.sourceURL && (arg = arg.message + "\n" + arg.sourceURL + ":" + arg.line)), 
                arg;
            }
            function consoleLog(type) {
                var console = $window.console || {}, logFn = console[type] || console.log || noop, hasApply = !1;
                try {
                    hasApply = !!logFn.apply;
                } catch (e) {}
                return hasApply ? function() {
                    var args = [];
                    return forEach(arguments, function(arg) {
                        args.push(formatError(arg));
                    }), logFn.apply(console, args);
                } : function(arg1, arg2) {
                    logFn(arg1, null == arg2 ? "" : arg2);
                };
            }
            return {
                log: consoleLog("log"),
                info: consoleLog("info"),
                warn: consoleLog("warn"),
                error: consoleLog("error"),
                debug: function() {
                    var fn = consoleLog("debug");
                    return function() {
                        debug && fn.apply(self, arguments);
                    };
                }()
            };
        } ];
    }
    function ensureSafeMemberName(name, fullExpression) {
        if ("__defineGetter__" === name || "__defineSetter__" === name || "__lookupGetter__" === name || "__lookupSetter__" === name || "__proto__" === name) throw $parseMinErr("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", fullExpression);
        return name;
    }
    function getStringValue(name, fullExpression) {
        if (name += "", !isString(name)) throw $parseMinErr("iseccst", "Cannot convert object to primitive value! Expression: {0}", fullExpression);
        return name;
    }
    function ensureSafeObject(obj, fullExpression) {
        if (obj) {
            if (obj.constructor === obj) throw $parseMinErr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", fullExpression);
            if (obj.document && obj.location && obj.alert && obj.setInterval) throw $parseMinErr("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", fullExpression);
            if (obj.children && (obj.nodeName || obj.prop && obj.attr && obj.find)) throw $parseMinErr("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", fullExpression);
            if (obj === Object) throw $parseMinErr("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", fullExpression);
        }
        return obj;
    }
    function ensureSafeFunction(obj, fullExpression) {
        if (obj) {
            if (obj.constructor === obj) throw $parseMinErr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", fullExpression);
            if (obj === CALL || obj === APPLY || BIND && obj === BIND) throw $parseMinErr("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", fullExpression);
        }
    }
    function setter(obj, path, setValue, fullExp, options) {
        ensureSafeObject(obj, fullExp), options = options || {};
        for (var key, element = path.split("."), i = 0; element.length > 1; i++) {
            key = ensureSafeMemberName(element.shift(), fullExp);
            var propertyObj = ensureSafeObject(obj[key], fullExp);
            propertyObj || (propertyObj = {}, obj[key] = propertyObj), obj = propertyObj, obj.then && options.unwrapPromises && (promiseWarning(fullExp), 
            "$$v" in obj || !function(promise) {
                promise.then(function(val) {
                    promise.$$v = val;
                });
            }(obj), obj.$$v === undefined && (obj.$$v = {}), obj = obj.$$v);
        }
        return key = ensureSafeMemberName(element.shift(), fullExp), ensureSafeObject(obj[key], fullExp), 
        obj[key] = setValue, setValue;
    }
    function isPossiblyDangerousMemberName(name) {
        return "constructor" == name;
    }
    function cspSafeGetterFn(key0, key1, key2, key3, key4, fullExp, options) {
        ensureSafeMemberName(key0, fullExp), ensureSafeMemberName(key1, fullExp), ensureSafeMemberName(key2, fullExp), 
        ensureSafeMemberName(key3, fullExp), ensureSafeMemberName(key4, fullExp);
        var eso = function(o) {
            return ensureSafeObject(o, fullExp);
        }, expensiveChecks = options.expensiveChecks, eso0 = expensiveChecks || isPossiblyDangerousMemberName(key0) ? eso : identity, eso1 = expensiveChecks || isPossiblyDangerousMemberName(key1) ? eso : identity, eso2 = expensiveChecks || isPossiblyDangerousMemberName(key2) ? eso : identity, eso3 = expensiveChecks || isPossiblyDangerousMemberName(key3) ? eso : identity, eso4 = expensiveChecks || isPossiblyDangerousMemberName(key4) ? eso : identity;
        return options.unwrapPromises ? function(scope, locals) {
            var promise, pathVal = locals && locals.hasOwnProperty(key0) ? locals : scope;
            return null == pathVal ? pathVal : (pathVal = eso0(pathVal[key0]), pathVal && pathVal.then && (promiseWarning(fullExp), 
            "$$v" in pathVal || (promise = pathVal, promise.$$v = undefined, promise.then(function(val) {
                promise.$$v = eso0(val);
            })), pathVal = eso0(pathVal.$$v)), key1 ? null == pathVal ? undefined : (pathVal = eso1(pathVal[key1]), 
            pathVal && pathVal.then && (promiseWarning(fullExp), "$$v" in pathVal || (promise = pathVal, 
            promise.$$v = undefined, promise.then(function(val) {
                promise.$$v = eso1(val);
            })), pathVal = eso1(pathVal.$$v)), key2 ? null == pathVal ? undefined : (pathVal = eso2(pathVal[key2]), 
            pathVal && pathVal.then && (promiseWarning(fullExp), "$$v" in pathVal || (promise = pathVal, 
            promise.$$v = undefined, promise.then(function(val) {
                promise.$$v = eso2(val);
            })), pathVal = eso2(pathVal.$$v)), key3 ? null == pathVal ? undefined : (pathVal = eso3(pathVal[key3]), 
            pathVal && pathVal.then && (promiseWarning(fullExp), "$$v" in pathVal || (promise = pathVal, 
            promise.$$v = undefined, promise.then(function(val) {
                promise.$$v = eso3(val);
            })), pathVal = eso3(pathVal.$$v)), key4 ? null == pathVal ? undefined : (pathVal = eso4(pathVal[key4]), 
            pathVal && pathVal.then && (promiseWarning(fullExp), "$$v" in pathVal || (promise = pathVal, 
            promise.$$v = undefined, promise.then(function(val) {
                promise.$$v = eso4(val);
            })), pathVal = eso4(pathVal.$$v)), pathVal) : pathVal) : pathVal) : pathVal) : pathVal);
        } : function(scope, locals) {
            var pathVal = locals && locals.hasOwnProperty(key0) ? locals : scope;
            return null == pathVal ? pathVal : (pathVal = eso0(pathVal[key0]), key1 ? null == pathVal ? undefined : (pathVal = eso1(pathVal[key1]), 
            key2 ? null == pathVal ? undefined : (pathVal = eso2(pathVal[key2]), key3 ? null == pathVal ? undefined : (pathVal = eso3(pathVal[key3]), 
            key4 ? null == pathVal ? undefined : pathVal = eso4(pathVal[key4]) : pathVal) : pathVal) : pathVal) : pathVal);
        };
    }
    function getterFnWithExtraArgs(fn, fullExpression) {
        return function(s, l) {
            return fn(s, l, promiseWarning, ensureSafeObject, fullExpression);
        };
    }
    function getterFn(path, options, fullExp) {
        var expensiveChecks = options.expensiveChecks, getterFnCache = expensiveChecks ? getterFnCacheExpensive : getterFnCacheDefault;
        if (getterFnCache.hasOwnProperty(path)) return getterFnCache[path];
        var fn, pathKeys = path.split("."), pathKeysLength = pathKeys.length;
        if (options.csp) fn = pathKeysLength < 6 ? cspSafeGetterFn(pathKeys[0], pathKeys[1], pathKeys[2], pathKeys[3], pathKeys[4], fullExp, options) : function(scope, locals) {
            var val, i = 0;
            do val = cspSafeGetterFn(pathKeys[i++], pathKeys[i++], pathKeys[i++], pathKeys[i++], pathKeys[i++], fullExp, options)(scope, locals), 
            locals = undefined, scope = val; while (i < pathKeysLength);
            return val;
        }; else {
            var code = "var p;\n";
            expensiveChecks && (code += "s = eso(s, fe);\nl = eso(l, fe);\n");
            var needsEnsureSafeObject = expensiveChecks;
            forEach(pathKeys, function(key, index) {
                ensureSafeMemberName(key, fullExp);
                var lookupJs = (index ? "s" : '((l&&l.hasOwnProperty("' + key + '"))?l:s)') + '["' + key + '"]', wrapWithEso = expensiveChecks || isPossiblyDangerousMemberName(key);
                wrapWithEso && (lookupJs = "eso(" + lookupJs + ", fe)", needsEnsureSafeObject = !0), 
                code += "if(s == null) return undefined;\ns=" + lookupJs + ";\n", options.unwrapPromises && (code += 'if (s && s.then) {\n pw("' + fullExp.replace(/(["\r\n])/g, "\\$1") + '");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=' + (wrapWithEso ? "eso(v)" : "v") + ";});\n}\n s=" + (wrapWithEso ? "eso(s.$$v)" : "s.$$v") + "\n}\n");
            }), code += "return s;";
            var evaledFnGetter = new Function("s", "l", "pw", "eso", "fe", code);
            evaledFnGetter.toString = valueFn(code), (needsEnsureSafeObject || options.unwrapPromises) && (evaledFnGetter = getterFnWithExtraArgs(evaledFnGetter, fullExp)), 
            fn = evaledFnGetter;
        }
        return "hasOwnProperty" !== path && (getterFnCache[path] = fn), fn;
    }
    function $ParseProvider() {
        var cacheDefault = {}, cacheExpensive = {}, $parseOptions = {
            csp: !1,
            unwrapPromises: !1,
            logPromiseWarnings: !0,
            expensiveChecks: !1
        };
        this.unwrapPromises = function(value) {
            return isDefined(value) ? ($parseOptions.unwrapPromises = !!value, this) : $parseOptions.unwrapPromises;
        }, this.logPromiseWarnings = function(value) {
            return isDefined(value) ? ($parseOptions.logPromiseWarnings = value, this) : $parseOptions.logPromiseWarnings;
        }, this.$get = [ "$filter", "$sniffer", "$log", function($filter, $sniffer, $log) {
            $parseOptions.csp = $sniffer.csp;
            var $parseOptionsExpensive = {
                csp: $parseOptions.csp,
                unwrapPromises: $parseOptions.unwrapPromises,
                logPromiseWarnings: $parseOptions.logPromiseWarnings,
                expensiveChecks: !0
            };
            return promiseWarning = function(fullExp) {
                $parseOptions.logPromiseWarnings && !promiseWarningCache.hasOwnProperty(fullExp) && (promiseWarningCache[fullExp] = !0, 
                $log.warn("[$parse] Promise found in the expression `" + fullExp + "`. Automatic unwrapping of promises in Angular expressions is deprecated."));
            }, function(exp, expensiveChecks) {
                var parsedExpression;
                switch (typeof exp) {
                  case "string":
                    var cache = expensiveChecks ? cacheExpensive : cacheDefault;
                    if (cache.hasOwnProperty(exp)) return cache[exp];
                    var parseOptions = expensiveChecks ? $parseOptionsExpensive : $parseOptions, lexer = new Lexer(parseOptions), parser = new Parser(lexer, $filter, parseOptions);
                    return parsedExpression = parser.parse(exp), "hasOwnProperty" !== exp && (cache[exp] = parsedExpression), 
                    parsedExpression;

                  case "function":
                    return exp;

                  default:
                    return noop;
                }
            };
        } ];
    }
    function $QProvider() {
        this.$get = [ "$rootScope", "$exceptionHandler", function($rootScope, $exceptionHandler) {
            return qFactory(function(callback) {
                $rootScope.$evalAsync(callback);
            }, $exceptionHandler);
        } ];
    }
    function qFactory(nextTick, exceptionHandler) {
        function defaultCallback(value) {
            return value;
        }
        function defaultErrback(reason) {
            return reject(reason);
        }
        function all(promises) {
            var deferred = defer(), counter = 0, results = isArray(promises) ? [] : {};
            return forEach(promises, function(promise, key) {
                counter++, ref(promise).then(function(value) {
                    results.hasOwnProperty(key) || (results[key] = value, --counter || deferred.resolve(results));
                }, function(reason) {
                    results.hasOwnProperty(key) || deferred.reject(reason);
                });
            }), 0 === counter && deferred.resolve(results), deferred.promise;
        }
        var defer = function() {
            var value, deferred, pending = [];
            return deferred = {
                resolve: function(val) {
                    if (pending) {
                        var callbacks = pending;
                        pending = undefined, value = ref(val), callbacks.length && nextTick(function() {
                            for (var callback, i = 0, ii = callbacks.length; i < ii; i++) callback = callbacks[i], 
                            value.then(callback[0], callback[1], callback[2]);
                        });
                    }
                },
                reject: function(reason) {
                    deferred.resolve(createInternalRejectedPromise(reason));
                },
                notify: function(progress) {
                    if (pending) {
                        var callbacks = pending;
                        pending.length && nextTick(function() {
                            for (var callback, i = 0, ii = callbacks.length; i < ii; i++) callback = callbacks[i], 
                            callback[2](progress);
                        });
                    }
                },
                promise: {
                    then: function(callback, errback, progressback) {
                        var result = defer(), wrappedCallback = function(value) {
                            try {
                                result.resolve((isFunction(callback) ? callback : defaultCallback)(value));
                            } catch (e) {
                                result.reject(e), exceptionHandler(e);
                            }
                        }, wrappedErrback = function(reason) {
                            try {
                                result.resolve((isFunction(errback) ? errback : defaultErrback)(reason));
                            } catch (e) {
                                result.reject(e), exceptionHandler(e);
                            }
                        }, wrappedProgressback = function(progress) {
                            try {
                                result.notify((isFunction(progressback) ? progressback : defaultCallback)(progress));
                            } catch (e) {
                                exceptionHandler(e);
                            }
                        };
                        return pending ? pending.push([ wrappedCallback, wrappedErrback, wrappedProgressback ]) : value.then(wrappedCallback, wrappedErrback, wrappedProgressback), 
                        result.promise;
                    },
                    catch: function(callback) {
                        return this.then(null, callback);
                    },
                    finally: function(callback) {
                        function makePromise(value, resolved) {
                            var result = defer();
                            return resolved ? result.resolve(value) : result.reject(value), result.promise;
                        }
                        function handleCallback(value, isResolved) {
                            var callbackOutput = null;
                            try {
                                callbackOutput = (callback || defaultCallback)();
                            } catch (e) {
                                return makePromise(e, !1);
                            }
                            return isPromiseLike(callbackOutput) ? callbackOutput.then(function() {
                                return makePromise(value, isResolved);
                            }, function(error) {
                                return makePromise(error, !1);
                            }) : makePromise(value, isResolved);
                        }
                        return this.then(function(value) {
                            return handleCallback(value, !0);
                        }, function(error) {
                            return handleCallback(error, !1);
                        });
                    }
                }
            };
        }, ref = function(value) {
            return isPromiseLike(value) ? value : {
                then: function(callback) {
                    var result = defer();
                    return nextTick(function() {
                        result.resolve(callback(value));
                    }), result.promise;
                }
            };
        }, reject = function(reason) {
            var result = defer();
            return result.reject(reason), result.promise;
        }, createInternalRejectedPromise = function(reason) {
            return {
                then: function(callback, errback) {
                    var result = defer();
                    return nextTick(function() {
                        try {
                            result.resolve((isFunction(errback) ? errback : defaultErrback)(reason));
                        } catch (e) {
                            result.reject(e), exceptionHandler(e);
                        }
                    }), result.promise;
                }
            };
        }, when = function(value, callback, errback, progressback) {
            var done, result = defer(), wrappedCallback = function(value) {
                try {
                    return (isFunction(callback) ? callback : defaultCallback)(value);
                } catch (e) {
                    return exceptionHandler(e), reject(e);
                }
            }, wrappedErrback = function(reason) {
                try {
                    return (isFunction(errback) ? errback : defaultErrback)(reason);
                } catch (e) {
                    return exceptionHandler(e), reject(e);
                }
            }, wrappedProgressback = function(progress) {
                try {
                    return (isFunction(progressback) ? progressback : defaultCallback)(progress);
                } catch (e) {
                    exceptionHandler(e);
                }
            };
            return nextTick(function() {
                ref(value).then(function(value) {
                    done || (done = !0, result.resolve(ref(value).then(wrappedCallback, wrappedErrback, wrappedProgressback)));
                }, function(reason) {
                    done || (done = !0, result.resolve(wrappedErrback(reason)));
                }, function(progress) {
                    done || result.notify(wrappedProgressback(progress));
                });
            }), result.promise;
        };
        return {
            defer: defer,
            reject: reject,
            when: when,
            all: all
        };
    }
    function $$RAFProvider() {
        this.$get = [ "$window", "$timeout", function($window, $timeout) {
            var requestAnimationFrame = $window.requestAnimationFrame || $window.webkitRequestAnimationFrame || $window.mozRequestAnimationFrame, cancelAnimationFrame = $window.cancelAnimationFrame || $window.webkitCancelAnimationFrame || $window.mozCancelAnimationFrame || $window.webkitCancelRequestAnimationFrame, rafSupported = !!requestAnimationFrame, raf = rafSupported ? function(fn) {
                var id = requestAnimationFrame(fn);
                return function() {
                    cancelAnimationFrame(id);
                };
            } : function(fn) {
                var timer = $timeout(fn, 16.66, !1);
                return function() {
                    $timeout.cancel(timer);
                };
            };
            return raf.supported = rafSupported, raf;
        } ];
    }
    function $RootScopeProvider() {
        var TTL = 10, $rootScopeMinErr = minErr("$rootScope"), lastDirtyWatch = null;
        this.digestTtl = function(value) {
            return arguments.length && (TTL = value), TTL;
        }, this.$get = [ "$injector", "$exceptionHandler", "$parse", "$browser", function($injector, $exceptionHandler, $parse, $browser) {
            function Scope() {
                this.$id = nextUid(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, 
                this.this = this.$root = this, this.$$destroyed = !1, this.$$asyncQueue = [], this.$$postDigestQueue = [], 
                this.$$listeners = {}, this.$$listenerCount = {}, this.$$isolateBindings = {};
            }
            function beginPhase(phase) {
                if ($rootScope.$$phase) throw $rootScopeMinErr("inprog", "{0} already in progress", $rootScope.$$phase);
                $rootScope.$$phase = phase;
            }
            function clearPhase() {
                $rootScope.$$phase = null;
            }
            function compileToFn(exp, name) {
                var fn = $parse(exp);
                return assertArgFn(fn, name), fn;
            }
            function decrementListenerCount(current, count, name) {
                do current.$$listenerCount[name] -= count, 0 === current.$$listenerCount[name] && delete current.$$listenerCount[name]; while (current = current.$parent);
            }
            function initWatchVal() {}
            Scope.prototype = {
                constructor: Scope,
                $new: function(isolate) {
                    var child;
                    return isolate ? (child = new Scope(), child.$root = this.$root, child.$$asyncQueue = this.$$asyncQueue, 
                    child.$$postDigestQueue = this.$$postDigestQueue) : (this.$$childScopeClass || (this.$$childScopeClass = function() {
                        this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, 
                        this.$$listeners = {}, this.$$listenerCount = {}, this.$id = nextUid(), this.$$childScopeClass = null;
                    }, this.$$childScopeClass.prototype = this), child = new this.$$childScopeClass()), 
                    child.this = child, child.$parent = this, child.$$prevSibling = this.$$childTail, 
                    this.$$childHead ? (this.$$childTail.$$nextSibling = child, this.$$childTail = child) : this.$$childHead = this.$$childTail = child, 
                    child;
                },
                $watch: function(watchExp, listener, objectEquality) {
                    var scope = this, get = compileToFn(watchExp, "watch"), array = scope.$$watchers, watcher = {
                        fn: listener,
                        last: initWatchVal,
                        get: get,
                        exp: watchExp,
                        eq: !!objectEquality
                    };
                    if (lastDirtyWatch = null, !isFunction(listener)) {
                        var listenFn = compileToFn(listener || noop, "listener");
                        watcher.fn = function(newVal, oldVal, scope) {
                            listenFn(scope);
                        };
                    }
                    if ("string" == typeof watchExp && get.constant) {
                        var originalFn = watcher.fn;
                        watcher.fn = function(newVal, oldVal, scope) {
                            originalFn.call(this, newVal, oldVal, scope), arrayRemove(array, watcher);
                        };
                    }
                    return array || (array = scope.$$watchers = []), array.unshift(watcher), function() {
                        arrayRemove(array, watcher), lastDirtyWatch = null;
                    };
                },
                $watchCollection: function(obj, listener) {
                    function $watchCollectionWatch() {
                        newValue = objGetter(self);
                        var newLength, key, bothNaN;
                        if (isObject(newValue)) if (isArrayLike(newValue)) {
                            oldValue !== internalArray && (oldValue = internalArray, oldLength = oldValue.length = 0, 
                            changeDetected++), newLength = newValue.length, oldLength !== newLength && (changeDetected++, 
                            oldValue.length = oldLength = newLength);
                            for (var i = 0; i < newLength; i++) bothNaN = oldValue[i] !== oldValue[i] && newValue[i] !== newValue[i], 
                            bothNaN || oldValue[i] === newValue[i] || (changeDetected++, oldValue[i] = newValue[i]);
                        } else {
                            oldValue !== internalObject && (oldValue = internalObject = {}, oldLength = 0, changeDetected++), 
                            newLength = 0;
                            for (key in newValue) newValue.hasOwnProperty(key) && (newLength++, oldValue.hasOwnProperty(key) ? (bothNaN = oldValue[key] !== oldValue[key] && newValue[key] !== newValue[key], 
                            bothNaN || oldValue[key] === newValue[key] || (changeDetected++, oldValue[key] = newValue[key])) : (oldLength++, 
                            oldValue[key] = newValue[key], changeDetected++));
                            if (oldLength > newLength) {
                                changeDetected++;
                                for (key in oldValue) oldValue.hasOwnProperty(key) && !newValue.hasOwnProperty(key) && (oldLength--, 
                                delete oldValue[key]);
                            }
                        } else oldValue !== newValue && (oldValue = newValue, changeDetected++);
                        return changeDetected;
                    }
                    function $watchCollectionAction() {
                        if (initRun ? (initRun = !1, listener(newValue, newValue, self)) : listener(newValue, veryOldValue, self), 
                        trackVeryOldValue) if (isObject(newValue)) if (isArrayLike(newValue)) {
                            veryOldValue = new Array(newValue.length);
                            for (var i = 0; i < newValue.length; i++) veryOldValue[i] = newValue[i];
                        } else {
                            veryOldValue = {};
                            for (var key in newValue) hasOwnProperty.call(newValue, key) && (veryOldValue[key] = newValue[key]);
                        } else veryOldValue = newValue;
                    }
                    var newValue, oldValue, veryOldValue, self = this, trackVeryOldValue = listener.length > 1, changeDetected = 0, objGetter = $parse(obj), internalArray = [], internalObject = {}, initRun = !0, oldLength = 0;
                    return this.$watch($watchCollectionWatch, $watchCollectionAction);
                },
                $digest: function() {
                    var watch, value, last, watchers, length, dirty, next, current, logIdx, logMsg, asyncTask, asyncQueue = this.$$asyncQueue, postDigestQueue = this.$$postDigestQueue, ttl = TTL, target = this, watchLog = [];
                    beginPhase("$digest"), $browser.$$checkUrlChange(), lastDirtyWatch = null;
                    do {
                        for (dirty = !1, current = target; asyncQueue.length; ) {
                            try {
                                asyncTask = asyncQueue.shift(), asyncTask.scope.$eval(asyncTask.expression);
                            } catch (e) {
                                clearPhase(), $exceptionHandler(e);
                            }
                            lastDirtyWatch = null;
                        }
                        traverseScopesLoop: do {
                            if (watchers = current.$$watchers) for (length = watchers.length; length--; ) try {
                                if (watch = watchers[length]) if ((value = watch.get(current)) === (last = watch.last) || (watch.eq ? equals(value, last) : "number" == typeof value && "number" == typeof last && isNaN(value) && isNaN(last))) {
                                    if (watch === lastDirtyWatch) {
                                        dirty = !1;
                                        break traverseScopesLoop;
                                    }
                                } else dirty = !0, lastDirtyWatch = watch, watch.last = watch.eq ? copy(value, null) : value, 
                                watch.fn(value, last === initWatchVal ? value : last, current), ttl < 5 && (logIdx = 4 - ttl, 
                                watchLog[logIdx] || (watchLog[logIdx] = []), logMsg = isFunction(watch.exp) ? "fn: " + (watch.exp.name || watch.exp.toString()) : watch.exp, 
                                logMsg += "; newVal: " + toJson(value) + "; oldVal: " + toJson(last), watchLog[logIdx].push(logMsg));
                            } catch (e) {
                                clearPhase(), $exceptionHandler(e);
                            }
                            if (!(next = current.$$childHead || current !== target && current.$$nextSibling)) for (;current !== target && !(next = current.$$nextSibling); ) current = current.$parent;
                        } while (current = next);
                        if ((dirty || asyncQueue.length) && !ttl--) throw clearPhase(), $rootScopeMinErr("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", TTL, toJson(watchLog));
                    } while (dirty || asyncQueue.length);
                    for (clearPhase(); postDigestQueue.length; ) try {
                        postDigestQueue.shift()();
                    } catch (e) {
                        $exceptionHandler(e);
                    }
                },
                $destroy: function() {
                    if (!this.$$destroyed) {
                        var parent = this.$parent;
                        this.$broadcast("$destroy"), this.$$destroyed = !0, this !== $rootScope && (forEach(this.$$listenerCount, bind(null, decrementListenerCount, this)), 
                        parent.$$childHead == this && (parent.$$childHead = this.$$nextSibling), parent.$$childTail == this && (parent.$$childTail = this.$$prevSibling), 
                        this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), 
                        this.$parent = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = this.$root = null, 
                        this.$$listeners = {}, this.$$watchers = this.$$asyncQueue = this.$$postDigestQueue = [], 
                        this.$destroy = this.$digest = this.$apply = noop, this.$on = this.$watch = function() {
                            return noop;
                        });
                    }
                },
                $eval: function(expr, locals) {
                    return $parse(expr)(this, locals);
                },
                $evalAsync: function(expr) {
                    $rootScope.$$phase || $rootScope.$$asyncQueue.length || $browser.defer(function() {
                        $rootScope.$$asyncQueue.length && $rootScope.$digest();
                    }), this.$$asyncQueue.push({
                        scope: this,
                        expression: expr
                    });
                },
                $$postDigest: function(fn) {
                    this.$$postDigestQueue.push(fn);
                },
                $apply: function(expr) {
                    try {
                        return beginPhase("$apply"), this.$eval(expr);
                    } catch (e) {
                        $exceptionHandler(e);
                    } finally {
                        clearPhase();
                        try {
                            $rootScope.$digest();
                        } catch (e) {
                            throw $exceptionHandler(e), e;
                        }
                    }
                },
                $on: function(name, listener) {
                    var namedListeners = this.$$listeners[name];
                    namedListeners || (this.$$listeners[name] = namedListeners = []), namedListeners.push(listener);
                    var current = this;
                    do current.$$listenerCount[name] || (current.$$listenerCount[name] = 0), current.$$listenerCount[name]++; while (current = current.$parent);
                    var self = this;
                    return function() {
                        var indexOfListener = indexOf(namedListeners, listener);
                        indexOfListener !== -1 && (namedListeners[indexOfListener] = null, decrementListenerCount(self, 1, name));
                    };
                },
                $emit: function(name, args) {
                    var namedListeners, i, length, empty = [], scope = this, stopPropagation = !1, event = {
                        name: name,
                        targetScope: scope,
                        stopPropagation: function() {
                            stopPropagation = !0;
                        },
                        preventDefault: function() {
                            event.defaultPrevented = !0;
                        },
                        defaultPrevented: !1
                    }, listenerArgs = concat([ event ], arguments, 1);
                    do {
                        for (namedListeners = scope.$$listeners[name] || empty, event.currentScope = scope, 
                        i = 0, length = namedListeners.length; i < length; i++) if (namedListeners[i]) try {
                            namedListeners[i].apply(null, listenerArgs);
                        } catch (e) {
                            $exceptionHandler(e);
                        } else namedListeners.splice(i, 1), i--, length--;
                        if (stopPropagation) return event;
                        scope = scope.$parent;
                    } while (scope);
                    return event;
                },
                $broadcast: function(name, args) {
                    for (var listeners, i, length, target = this, current = target, next = target, event = {
                        name: name,
                        targetScope: target,
                        preventDefault: function() {
                            event.defaultPrevented = !0;
                        },
                        defaultPrevented: !1
                    }, listenerArgs = concat([ event ], arguments, 1); current = next; ) {
                        for (event.currentScope = current, listeners = current.$$listeners[name] || [], 
                        i = 0, length = listeners.length; i < length; i++) if (listeners[i]) try {
                            listeners[i].apply(null, listenerArgs);
                        } catch (e) {
                            $exceptionHandler(e);
                        } else listeners.splice(i, 1), i--, length--;
                        if (!(next = current.$$listenerCount[name] && current.$$childHead || current !== target && current.$$nextSibling)) for (;current !== target && !(next = current.$$nextSibling); ) current = current.$parent;
                    }
                    return event;
                }
            };
            var $rootScope = new Scope();
            return $rootScope;
        } ];
    }
    function $$SanitizeUriProvider() {
        var aHrefSanitizationWhitelist = /^\s*(https?|ftp|mailto|tel|file):/, imgSrcSanitizationWhitelist = /^\s*((https?|ftp|file):|data:image\/)/;
        this.aHrefSanitizationWhitelist = function(regexp) {
            return isDefined(regexp) ? (aHrefSanitizationWhitelist = regexp, this) : aHrefSanitizationWhitelist;
        }, this.imgSrcSanitizationWhitelist = function(regexp) {
            return isDefined(regexp) ? (imgSrcSanitizationWhitelist = regexp, this) : imgSrcSanitizationWhitelist;
        }, this.$get = function() {
            return function(uri, isImage) {
                var normalizedVal, regex = isImage ? imgSrcSanitizationWhitelist : aHrefSanitizationWhitelist;
                return msie && !(msie >= 8) || (normalizedVal = urlResolve(uri).href, "" === normalizedVal || normalizedVal.match(regex)) ? uri : "unsafe:" + normalizedVal;
            };
        };
    }
    function escapeForRegexp(s) {
        return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
    }
    function adjustMatcher(matcher) {
        if ("self" === matcher) return matcher;
        if (isString(matcher)) {
            if (matcher.indexOf("***") > -1) throw $sceMinErr("iwcard", "Illegal sequence *** in string matcher.  String: {0}", matcher);
            return matcher = escapeForRegexp(matcher).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"), 
            new RegExp("^" + matcher + "$");
        }
        if (isRegExp(matcher)) return new RegExp("^" + matcher.source + "$");
        throw $sceMinErr("imatcher", 'Matchers may only be "self", string patterns or RegExp objects');
    }
    function adjustMatchers(matchers) {
        var adjustedMatchers = [];
        return isDefined(matchers) && forEach(matchers, function(matcher) {
            adjustedMatchers.push(adjustMatcher(matcher));
        }), adjustedMatchers;
    }
    function $SceDelegateProvider() {
        this.SCE_CONTEXTS = SCE_CONTEXTS;
        var resourceUrlWhitelist = [ "self" ], resourceUrlBlacklist = [];
        this.resourceUrlWhitelist = function(value) {
            return arguments.length && (resourceUrlWhitelist = adjustMatchers(value)), resourceUrlWhitelist;
        }, this.resourceUrlBlacklist = function(value) {
            return arguments.length && (resourceUrlBlacklist = adjustMatchers(value)), resourceUrlBlacklist;
        }, this.$get = [ "$injector", function($injector) {
            function matchUrl(matcher, parsedUrl) {
                return "self" === matcher ? urlIsSameOrigin(parsedUrl) : !!matcher.exec(parsedUrl.href);
            }
            function isResourceUrlAllowedByPolicy(url) {
                var i, n, parsedUrl = urlResolve(url.toString()), allowed = !1;
                for (i = 0, n = resourceUrlWhitelist.length; i < n; i++) if (matchUrl(resourceUrlWhitelist[i], parsedUrl)) {
                    allowed = !0;
                    break;
                }
                if (allowed) for (i = 0, n = resourceUrlBlacklist.length; i < n; i++) if (matchUrl(resourceUrlBlacklist[i], parsedUrl)) {
                    allowed = !1;
                    break;
                }
                return allowed;
            }
            function generateHolderType(Base) {
                var holderType = function(trustedValue) {
                    this.$$unwrapTrustedValue = function() {
                        return trustedValue;
                    };
                };
                return Base && (holderType.prototype = new Base()), holderType.prototype.valueOf = function() {
                    return this.$$unwrapTrustedValue();
                }, holderType.prototype.toString = function() {
                    return this.$$unwrapTrustedValue().toString();
                }, holderType;
            }
            function trustAs(type, trustedValue) {
                var Constructor = byType.hasOwnProperty(type) ? byType[type] : null;
                if (!Constructor) throw $sceMinErr("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", type, trustedValue);
                if (null === trustedValue || trustedValue === undefined || "" === trustedValue) return trustedValue;
                if ("string" != typeof trustedValue) throw $sceMinErr("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", type);
                return new Constructor(trustedValue);
            }
            function valueOf(maybeTrusted) {
                return maybeTrusted instanceof trustedValueHolderBase ? maybeTrusted.$$unwrapTrustedValue() : maybeTrusted;
            }
            function getTrusted(type, maybeTrusted) {
                if (null === maybeTrusted || maybeTrusted === undefined || "" === maybeTrusted) return maybeTrusted;
                var constructor = byType.hasOwnProperty(type) ? byType[type] : null;
                if (constructor && maybeTrusted instanceof constructor) return maybeTrusted.$$unwrapTrustedValue();
                if (type === SCE_CONTEXTS.RESOURCE_URL) {
                    if (isResourceUrlAllowedByPolicy(maybeTrusted)) return maybeTrusted;
                    throw $sceMinErr("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", maybeTrusted.toString());
                }
                if (type === SCE_CONTEXTS.HTML) return htmlSanitizer(maybeTrusted);
                throw $sceMinErr("unsafe", "Attempting to use an unsafe value in a safe context.");
            }
            var htmlSanitizer = function(html) {
                throw $sceMinErr("unsafe", "Attempting to use an unsafe value in a safe context.");
            };
            $injector.has("$sanitize") && (htmlSanitizer = $injector.get("$sanitize"));
            var trustedValueHolderBase = generateHolderType(), byType = {};
            return byType[SCE_CONTEXTS.HTML] = generateHolderType(trustedValueHolderBase), byType[SCE_CONTEXTS.CSS] = generateHolderType(trustedValueHolderBase), 
            byType[SCE_CONTEXTS.URL] = generateHolderType(trustedValueHolderBase), byType[SCE_CONTEXTS.JS] = generateHolderType(trustedValueHolderBase), 
            byType[SCE_CONTEXTS.RESOURCE_URL] = generateHolderType(byType[SCE_CONTEXTS.URL]), 
            {
                trustAs: trustAs,
                getTrusted: getTrusted,
                valueOf: valueOf
            };
        } ];
    }
    function $SceProvider() {
        var enabled = !0;
        this.enabled = function(value) {
            return arguments.length && (enabled = !!value), enabled;
        }, this.$get = [ "$parse", "$sniffer", "$sceDelegate", function($parse, $sniffer, $sceDelegate) {
            if (enabled && $sniffer.msie && $sniffer.msieDocumentMode < 8) throw $sceMinErr("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
            var sce = shallowCopy(SCE_CONTEXTS);
            sce.isEnabled = function() {
                return enabled;
            }, sce.trustAs = $sceDelegate.trustAs, sce.getTrusted = $sceDelegate.getTrusted, 
            sce.valueOf = $sceDelegate.valueOf, enabled || (sce.trustAs = sce.getTrusted = function(type, value) {
                return value;
            }, sce.valueOf = identity), sce.parseAs = function(type, expr) {
                var parsed = $parse(expr);
                return parsed.literal && parsed.constant ? parsed : function(self, locals) {
                    return sce.getTrusted(type, parsed(self, locals));
                };
            };
            var parse = sce.parseAs, getTrusted = sce.getTrusted, trustAs = sce.trustAs;
            return forEach(SCE_CONTEXTS, function(enumValue, name) {
                var lName = lowercase(name);
                sce[camelCase("parse_as_" + lName)] = function(expr) {
                    return parse(enumValue, expr);
                }, sce[camelCase("get_trusted_" + lName)] = function(value) {
                    return getTrusted(enumValue, value);
                }, sce[camelCase("trust_as_" + lName)] = function(value) {
                    return trustAs(enumValue, value);
                };
            }), sce;
        } ];
    }
    function $SnifferProvider() {
        this.$get = [ "$window", "$document", function($window, $document) {
            var vendorPrefix, match, eventSupport = {}, android = int((/android (\d+)/.exec(lowercase(($window.navigator || {}).userAgent)) || [])[1]), boxee = /Boxee/i.test(($window.navigator || {}).userAgent), document = $document[0] || {}, documentMode = document.documentMode, vendorRegex = /^(Moz|webkit|O|ms)(?=[A-Z])/, bodyStyle = document.body && document.body.style, transitions = !1, animations = !1;
            if (bodyStyle) {
                for (var prop in bodyStyle) if (match = vendorRegex.exec(prop)) {
                    vendorPrefix = match[0], vendorPrefix = vendorPrefix.substr(0, 1).toUpperCase() + vendorPrefix.substr(1);
                    break;
                }
                vendorPrefix || (vendorPrefix = "WebkitOpacity" in bodyStyle && "webkit"), transitions = !!("transition" in bodyStyle || vendorPrefix + "Transition" in bodyStyle), 
                animations = !!("animation" in bodyStyle || vendorPrefix + "Animation" in bodyStyle), 
                !android || transitions && animations || (transitions = isString(document.body.style.webkitTransition), 
                animations = isString(document.body.style.webkitAnimation));
            }
            return {
                history: !(!$window.history || !$window.history.pushState || android < 4 || boxee),
                hashchange: "onhashchange" in $window && (!documentMode || documentMode > 7),
                hasEvent: function(event) {
                    if ("input" == event && 9 == msie) return !1;
                    if (isUndefined(eventSupport[event])) {
                        var divElm = document.createElement("div");
                        eventSupport[event] = "on" + event in divElm;
                    }
                    return eventSupport[event];
                },
                csp: csp(),
                vendorPrefix: vendorPrefix,
                transitions: transitions,
                animations: animations,
                android: android,
                msie: msie,
                msieDocumentMode: documentMode
            };
        } ];
    }
    function $TimeoutProvider() {
        this.$get = [ "$rootScope", "$browser", "$q", "$exceptionHandler", function($rootScope, $browser, $q, $exceptionHandler) {
            function timeout(fn, delay, invokeApply) {
                var timeoutId, deferred = $q.defer(), promise = deferred.promise, skipApply = isDefined(invokeApply) && !invokeApply;
                return timeoutId = $browser.defer(function() {
                    try {
                        deferred.resolve(fn());
                    } catch (e) {
                        deferred.reject(e), $exceptionHandler(e);
                    } finally {
                        delete deferreds[promise.$$timeoutId];
                    }
                    skipApply || $rootScope.$apply();
                }, delay), promise.$$timeoutId = timeoutId, deferreds[timeoutId] = deferred, promise;
            }
            var deferreds = {};
            return timeout.cancel = function(promise) {
                return !!(promise && promise.$$timeoutId in deferreds) && (deferreds[promise.$$timeoutId].reject("canceled"), 
                delete deferreds[promise.$$timeoutId], $browser.defer.cancel(promise.$$timeoutId));
            }, timeout;
        } ];
    }
    function urlResolve(url, base) {
        var href = url;
        return msie && (urlParsingNode.setAttribute("href", href), href = urlParsingNode.href), 
        urlParsingNode.setAttribute("href", href), {
            href: urlParsingNode.href,
            protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, "") : "",
            host: urlParsingNode.host,
            search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, "") : "",
            hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, "") : "",
            hostname: urlParsingNode.hostname,
            port: urlParsingNode.port,
            pathname: "/" === urlParsingNode.pathname.charAt(0) ? urlParsingNode.pathname : "/" + urlParsingNode.pathname
        };
    }
    function urlIsSameOrigin(requestUrl) {
        var parsed = isString(requestUrl) ? urlResolve(requestUrl) : requestUrl;
        return parsed.protocol === originUrl.protocol && parsed.host === originUrl.host;
    }
    function $WindowProvider() {
        this.$get = valueFn(window);
    }
    function $FilterProvider($provide) {
        function register(name, factory) {
            if (isObject(name)) {
                var filters = {};
                return forEach(name, function(filter, key) {
                    filters[key] = register(key, filter);
                }), filters;
            }
            return $provide.factory(name + suffix, factory);
        }
        var suffix = "Filter";
        this.register = register, this.$get = [ "$injector", function($injector) {
            return function(name) {
                return $injector.get(name + suffix);
            };
        } ], register("currency", currencyFilter), register("date", dateFilter), register("filter", filterFilter), 
        register("json", jsonFilter), register("limitTo", limitToFilter), register("lowercase", lowercaseFilter), 
        register("number", numberFilter), register("orderBy", orderByFilter), register("uppercase", uppercaseFilter);
    }
    function filterFilter() {
        return function(array, expression, comparator) {
            if (!isArray(array)) return array;
            var comparatorType = typeof comparator, predicates = [];
            predicates.check = function(value) {
                for (var j = 0; j < predicates.length; j++) if (!predicates[j](value)) return !1;
                return !0;
            }, "function" !== comparatorType && (comparator = "boolean" === comparatorType && comparator ? function(obj, text) {
                return angular.equals(obj, text);
            } : function(obj, text) {
                if (obj && text && "object" == typeof obj && "object" == typeof text) {
                    for (var objKey in obj) if ("$" !== objKey.charAt(0) && hasOwnProperty.call(obj, objKey) && comparator(obj[objKey], text[objKey])) return !0;
                    return !1;
                }
                return text = ("" + text).toLowerCase(), ("" + obj).toLowerCase().indexOf(text) > -1;
            });
            var search = function(obj, text) {
                if ("string" == typeof text && "!" === text.charAt(0)) return !search(obj, text.substr(1));
                switch (typeof obj) {
                  case "boolean":
                  case "number":
                  case "string":
                    return comparator(obj, text);

                  case "object":
                    switch (typeof text) {
                      case "object":
                        return comparator(obj, text);

                      default:
                        for (var objKey in obj) if ("$" !== objKey.charAt(0) && search(obj[objKey], text)) return !0;
                    }
                    return !1;

                  case "array":
                    for (var i = 0; i < obj.length; i++) if (search(obj[i], text)) return !0;
                    return !1;

                  default:
                    return !1;
                }
            };
            switch (typeof expression) {
              case "boolean":
              case "number":
              case "string":
                expression = {
                    $: expression
                };

              case "object":
                for (var key in expression) !function(path) {
                    "undefined" != typeof expression[path] && predicates.push(function(value) {
                        return search("$" == path ? value : value && value[path], expression[path]);
                    });
                }(key);
                break;

              case "function":
                predicates.push(expression);
                break;

              default:
                return array;
            }
            for (var filtered = [], j = 0; j < array.length; j++) {
                var value = array[j];
                predicates.check(value) && filtered.push(value);
            }
            return filtered;
        };
    }
    function currencyFilter($locale) {
        var formats = $locale.NUMBER_FORMATS;
        return function(amount, currencySymbol) {
            return isUndefined(currencySymbol) && (currencySymbol = formats.CURRENCY_SYM), formatNumber(amount, formats.PATTERNS[1], formats.GROUP_SEP, formats.DECIMAL_SEP, 2).replace(/\u00A4/g, currencySymbol);
        };
    }
    function numberFilter($locale) {
        var formats = $locale.NUMBER_FORMATS;
        return function(number, fractionSize) {
            return formatNumber(number, formats.PATTERNS[0], formats.GROUP_SEP, formats.DECIMAL_SEP, fractionSize);
        };
    }
    function formatNumber(number, pattern, groupSep, decimalSep, fractionSize) {
        if (null == number || !isFinite(number) || isObject(number)) return "";
        var isNegative = number < 0;
        number = Math.abs(number);
        var numStr = number + "", formatedText = "", parts = [], hasExponent = !1;
        if (numStr.indexOf("e") !== -1) {
            var match = numStr.match(/([\d\.]+)e(-?)(\d+)/);
            match && "-" == match[2] && match[3] > fractionSize + 1 ? (numStr = "0", number = 0) : (formatedText = numStr, 
            hasExponent = !0);
        }
        if (hasExponent) fractionSize > 0 && number > -1 && number < 1 && (formatedText = number.toFixed(fractionSize)); else {
            var fractionLen = (numStr.split(DECIMAL_SEP)[1] || "").length;
            isUndefined(fractionSize) && (fractionSize = Math.min(Math.max(pattern.minFrac, fractionLen), pattern.maxFrac)), 
            number = +(Math.round(+(number.toString() + "e" + fractionSize)).toString() + "e" + -fractionSize), 
            0 === number && (isNegative = !1);
            var fraction = ("" + number).split(DECIMAL_SEP), whole = fraction[0];
            fraction = fraction[1] || "";
            var i, pos = 0, lgroup = pattern.lgSize, group = pattern.gSize;
            if (whole.length >= lgroup + group) for (pos = whole.length - lgroup, i = 0; i < pos; i++) (pos - i) % group === 0 && 0 !== i && (formatedText += groupSep), 
            formatedText += whole.charAt(i);
            for (i = pos; i < whole.length; i++) (whole.length - i) % lgroup === 0 && 0 !== i && (formatedText += groupSep), 
            formatedText += whole.charAt(i);
            for (;fraction.length < fractionSize; ) fraction += "0";
            fractionSize && "0" !== fractionSize && (formatedText += decimalSep + fraction.substr(0, fractionSize));
        }
        return parts.push(isNegative ? pattern.negPre : pattern.posPre), parts.push(formatedText), 
        parts.push(isNegative ? pattern.negSuf : pattern.posSuf), parts.join("");
    }
    function padNumber(num, digits, trim) {
        var neg = "";
        for (num < 0 && (neg = "-", num = -num), num = "" + num; num.length < digits; ) num = "0" + num;
        return trim && (num = num.substr(num.length - digits)), neg + num;
    }
    function dateGetter(name, size, offset, trim) {
        return offset = offset || 0, function(date) {
            var value = date["get" + name]();
            return (offset > 0 || value > -offset) && (value += offset), 0 === value && offset == -12 && (value = 12), 
            padNumber(value, size, trim);
        };
    }
    function dateStrGetter(name, shortForm) {
        return function(date, formats) {
            var value = date["get" + name](), get = uppercase(shortForm ? "SHORT" + name : name);
            return formats[get][value];
        };
    }
    function timeZoneGetter(date) {
        var zone = -1 * date.getTimezoneOffset(), paddedZone = zone >= 0 ? "+" : "";
        return paddedZone += padNumber(Math[zone > 0 ? "floor" : "ceil"](zone / 60), 2) + padNumber(Math.abs(zone % 60), 2);
    }
    function ampmGetter(date, formats) {
        return date.getHours() < 12 ? formats.AMPMS[0] : formats.AMPMS[1];
    }
    function dateFilter($locale) {
        function jsonStringToDate(string) {
            var match;
            if (match = string.match(R_ISO8601_STR)) {
                var date = new Date(0), tzHour = 0, tzMin = 0, dateSetter = match[8] ? date.setUTCFullYear : date.setFullYear, timeSetter = match[8] ? date.setUTCHours : date.setHours;
                match[9] && (tzHour = int(match[9] + match[10]), tzMin = int(match[9] + match[11])), 
                dateSetter.call(date, int(match[1]), int(match[2]) - 1, int(match[3]));
                var h = int(match[4] || 0) - tzHour, m = int(match[5] || 0) - tzMin, s = int(match[6] || 0), ms = Math.round(1e3 * parseFloat("0." + (match[7] || 0)));
                return timeSetter.call(date, h, m, s, ms), date;
            }
            return string;
        }
        var R_ISO8601_STR = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
        return function(date, format) {
            var fn, match, text = "", parts = [];
            if (format = format || "mediumDate", format = $locale.DATETIME_FORMATS[format] || format, 
            isString(date) && (date = NUMBER_STRING.test(date) ? int(date) : jsonStringToDate(date)), 
            isNumber(date) && (date = new Date(date)), !isDate(date)) return date;
            for (;format; ) match = DATE_FORMATS_SPLIT.exec(format), match ? (parts = concat(parts, match, 1), 
            format = parts.pop()) : (parts.push(format), format = null);
            return forEach(parts, function(value) {
                fn = DATE_FORMATS[value], text += fn ? fn(date, $locale.DATETIME_FORMATS) : value.replace(/(^'|'$)/g, "").replace(/''/g, "'");
            }), text;
        };
    }
    function jsonFilter() {
        return function(object) {
            return toJson(object, !0);
        };
    }
    function limitToFilter() {
        return function(input, limit) {
            return isArray(input) || isString(input) ? (limit = Math.abs(Number(limit)) === 1 / 0 ? Number(limit) : int(limit), 
            limit ? limit > 0 ? input.slice(0, limit) : input.slice(limit) : isString(input) ? "" : []) : input;
        };
    }
    function orderByFilter($parse) {
        return function(array, sortPredicate, reverseOrder) {
            function comparator(o1, o2) {
                for (var i = 0; i < sortPredicate.length; i++) {
                    var comp = sortPredicate[i](o1, o2);
                    if (0 !== comp) return comp;
                }
                return 0;
            }
            function reverseComparator(comp, descending) {
                return toBoolean(descending) ? function(a, b) {
                    return comp(b, a);
                } : comp;
            }
            function compare(v1, v2) {
                var t1 = typeof v1, t2 = typeof v2;
                return t1 == t2 ? (isDate(v1) && isDate(v2) && (v1 = v1.valueOf(), v2 = v2.valueOf()), 
                "string" == t1 && (v1 = v1.toLowerCase(), v2 = v2.toLowerCase()), v1 === v2 ? 0 : v1 < v2 ? -1 : 1) : t1 < t2 ? -1 : 1;
            }
            return isArrayLike(array) ? (sortPredicate = isArray(sortPredicate) ? sortPredicate : [ sortPredicate ], 
            0 === sortPredicate.length && (sortPredicate = [ "+" ]), sortPredicate = map(sortPredicate, function(predicate) {
                var descending = !1, get = predicate || identity;
                if (isString(predicate)) {
                    if ("+" != predicate.charAt(0) && "-" != predicate.charAt(0) || (descending = "-" == predicate.charAt(0), 
                    predicate = predicate.substring(1)), "" === predicate) return reverseComparator(function(a, b) {
                        return compare(a, b);
                    }, descending);
                    if (get = $parse(predicate), get.constant) {
                        var key = get();
                        return reverseComparator(function(a, b) {
                            return compare(a[key], b[key]);
                        }, descending);
                    }
                }
                return reverseComparator(function(a, b) {
                    return compare(get(a), get(b));
                }, descending);
            }), slice.call(array).sort(reverseComparator(comparator, reverseOrder))) : array;
        };
    }
    function ngDirective(directive) {
        return isFunction(directive) && (directive = {
            link: directive
        }), directive.restrict = directive.restrict || "AC", valueFn(directive);
    }
    function FormController(element, attrs, $scope, $animate) {
        function toggleValidCss(isValid, validationErrorKey) {
            validationErrorKey = validationErrorKey ? "-" + snake_case(validationErrorKey, "-") : "", 
            $animate.setClass(element, (isValid ? VALID_CLASS : INVALID_CLASS) + validationErrorKey, (isValid ? INVALID_CLASS : VALID_CLASS) + validationErrorKey);
        }
        var form = this, parentForm = element.parent().controller("form") || nullFormCtrl, invalidCount = 0, errors = form.$error = {}, controls = [];
        form.$name = attrs.name || attrs.ngForm, form.$dirty = !1, form.$pristine = !0, 
        form.$valid = !0, form.$invalid = !1, parentForm.$addControl(form), element.addClass(PRISTINE_CLASS), 
        toggleValidCss(!0), form.$addControl = function(control) {
            assertNotHasOwnProperty(control.$name, "input"), controls.push(control), control.$name && (form[control.$name] = control);
        }, form.$removeControl = function(control) {
            control.$name && form[control.$name] === control && delete form[control.$name], 
            forEach(errors, function(queue, validationToken) {
                form.$setValidity(validationToken, !0, control);
            }), arrayRemove(controls, control);
        }, form.$setValidity = function(validationToken, isValid, control) {
            var queue = errors[validationToken];
            if (isValid) queue && (arrayRemove(queue, control), queue.length || (invalidCount--, 
            invalidCount || (toggleValidCss(isValid), form.$valid = !0, form.$invalid = !1), 
            errors[validationToken] = !1, toggleValidCss(!0, validationToken), parentForm.$setValidity(validationToken, !0, form))); else {
                if (invalidCount || toggleValidCss(isValid), queue) {
                    if (includes(queue, control)) return;
                } else errors[validationToken] = queue = [], invalidCount++, toggleValidCss(!1, validationToken), 
                parentForm.$setValidity(validationToken, !1, form);
                queue.push(control), form.$valid = !1, form.$invalid = !0;
            }
        }, form.$setDirty = function() {
            $animate.removeClass(element, PRISTINE_CLASS), $animate.addClass(element, DIRTY_CLASS), 
            form.$dirty = !0, form.$pristine = !1, parentForm.$setDirty();
        }, form.$setPristine = function() {
            $animate.removeClass(element, DIRTY_CLASS), $animate.addClass(element, PRISTINE_CLASS), 
            form.$dirty = !1, form.$pristine = !0, forEach(controls, function(control) {
                control.$setPristine();
            });
        };
    }
    function validate(ctrl, validatorName, validity, value) {
        return ctrl.$setValidity(validatorName, validity), validity ? value : undefined;
    }
    function testFlags(validity, flags) {
        var i, flag;
        if (flags) for (i = 0; i < flags.length; ++i) if (flag = flags[i], validity[flag]) return !0;
        return !1;
    }
    function addNativeHtml5Validators(ctrl, validatorName, badFlags, ignoreFlags, validity) {
        if (isObject(validity)) {
            ctrl.$$hasNativeValidators = !0;
            var validator = function(value) {
                return ctrl.$error[validatorName] || testFlags(validity, ignoreFlags) || !testFlags(validity, badFlags) ? value : void ctrl.$setValidity(validatorName, !1);
            };
            ctrl.$parsers.push(validator);
        }
    }
    function textInputType(scope, element, attr, ctrl, $sniffer, $browser) {
        var validity = element.prop(VALIDITY_STATE_PROPERTY), placeholder = element[0].placeholder, noevent = {}, type = lowercase(element[0].type);
        if (ctrl.$$validityState = validity, !$sniffer.android) {
            var composing = !1;
            element.on("compositionstart", function(data) {
                composing = !0;
            }), element.on("compositionend", function() {
                composing = !1, listener();
            });
        }
        var listener = function(ev) {
            if (!composing) {
                var value = element.val();
                if (msie && "input" === (ev || noevent).type && element[0].placeholder !== placeholder) return void (placeholder = element[0].placeholder);
                "password" !== type && toBoolean(attr.ngTrim || "T") && (value = trim(value));
                var revalidate = validity && ctrl.$$hasNativeValidators;
                (ctrl.$viewValue !== value || "" === value && revalidate) && (scope.$root.$$phase ? ctrl.$setViewValue(value) : scope.$apply(function() {
                    ctrl.$setViewValue(value);
                }));
            }
        };
        if ($sniffer.hasEvent("input")) element.on("input", listener); else {
            var timeout, deferListener = function() {
                timeout || (timeout = $browser.defer(function() {
                    listener(), timeout = null;
                }));
            };
            element.on("keydown", function(event) {
                var key = event.keyCode;
                91 === key || 15 < key && key < 19 || 37 <= key && key <= 40 || deferListener();
            }), $sniffer.hasEvent("paste") && element.on("paste cut", deferListener);
        }
        element.on("change", listener), ctrl.$render = function() {
            element.val(ctrl.$isEmpty(ctrl.$viewValue) ? "" : ctrl.$viewValue);
        };
        var patternValidator, match, pattern = attr.ngPattern;
        if (pattern) {
            var validateRegex = function(regexp, value) {
                return validate(ctrl, "pattern", ctrl.$isEmpty(value) || regexp.test(value), value);
            };
            match = pattern.match(/^\/(.*)\/([gim]*)$/), match ? (pattern = new RegExp(match[1], match[2]), 
            patternValidator = function(value) {
                return validateRegex(pattern, value);
            }) : patternValidator = function(value) {
                var patternObj = scope.$eval(pattern);
                if (!patternObj || !patternObj.test) throw minErr("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", pattern, patternObj, startingTag(element));
                return validateRegex(patternObj, value);
            }, ctrl.$formatters.push(patternValidator), ctrl.$parsers.push(patternValidator);
        }
        if (attr.ngMinlength) {
            var minlength = int(attr.ngMinlength), minLengthValidator = function(value) {
                return validate(ctrl, "minlength", ctrl.$isEmpty(value) || value.length >= minlength, value);
            };
            ctrl.$parsers.push(minLengthValidator), ctrl.$formatters.push(minLengthValidator);
        }
        if (attr.ngMaxlength) {
            var maxlength = int(attr.ngMaxlength), maxLengthValidator = function(value) {
                return validate(ctrl, "maxlength", ctrl.$isEmpty(value) || value.length <= maxlength, value);
            };
            ctrl.$parsers.push(maxLengthValidator), ctrl.$formatters.push(maxLengthValidator);
        }
    }
    function numberInputType(scope, element, attr, ctrl, $sniffer, $browser) {
        if (textInputType(scope, element, attr, ctrl, $sniffer, $browser), ctrl.$parsers.push(function(value) {
            var empty = ctrl.$isEmpty(value);
            return empty || NUMBER_REGEXP.test(value) ? (ctrl.$setValidity("number", !0), "" === value ? null : empty ? value : parseFloat(value)) : (ctrl.$setValidity("number", !1), 
            undefined);
        }), addNativeHtml5Validators(ctrl, "number", numberBadFlags, null, ctrl.$$validityState), 
        ctrl.$formatters.push(function(value) {
            return ctrl.$isEmpty(value) ? "" : "" + value;
        }), attr.min) {
            var minValidator = function(value) {
                var min = parseFloat(attr.min);
                return validate(ctrl, "min", ctrl.$isEmpty(value) || value >= min, value);
            };
            ctrl.$parsers.push(minValidator), ctrl.$formatters.push(minValidator);
        }
        if (attr.max) {
            var maxValidator = function(value) {
                var max = parseFloat(attr.max);
                return validate(ctrl, "max", ctrl.$isEmpty(value) || value <= max, value);
            };
            ctrl.$parsers.push(maxValidator), ctrl.$formatters.push(maxValidator);
        }
        ctrl.$formatters.push(function(value) {
            return validate(ctrl, "number", ctrl.$isEmpty(value) || isNumber(value), value);
        });
    }
    function urlInputType(scope, element, attr, ctrl, $sniffer, $browser) {
        textInputType(scope, element, attr, ctrl, $sniffer, $browser);
        var urlValidator = function(value) {
            return validate(ctrl, "url", ctrl.$isEmpty(value) || URL_REGEXP.test(value), value);
        };
        ctrl.$formatters.push(urlValidator), ctrl.$parsers.push(urlValidator);
    }
    function emailInputType(scope, element, attr, ctrl, $sniffer, $browser) {
        textInputType(scope, element, attr, ctrl, $sniffer, $browser);
        var emailValidator = function(value) {
            return validate(ctrl, "email", ctrl.$isEmpty(value) || EMAIL_REGEXP.test(value), value);
        };
        ctrl.$formatters.push(emailValidator), ctrl.$parsers.push(emailValidator);
    }
    function radioInputType(scope, element, attr, ctrl) {
        isUndefined(attr.name) && element.attr("name", nextUid()), element.on("click", function() {
            element[0].checked && scope.$apply(function() {
                ctrl.$setViewValue(attr.value);
            });
        }), ctrl.$render = function() {
            var value = attr.value;
            element[0].checked = value == ctrl.$viewValue;
        }, attr.$observe("value", ctrl.$render);
    }
    function checkboxInputType(scope, element, attr, ctrl) {
        var trueValue = attr.ngTrueValue, falseValue = attr.ngFalseValue;
        isString(trueValue) || (trueValue = !0), isString(falseValue) || (falseValue = !1), 
        element.on("click", function() {
            scope.$apply(function() {
                ctrl.$setViewValue(element[0].checked);
            });
        }), ctrl.$render = function() {
            element[0].checked = ctrl.$viewValue;
        }, ctrl.$isEmpty = function(value) {
            return value !== trueValue;
        }, ctrl.$formatters.push(function(value) {
            return value === trueValue;
        }), ctrl.$parsers.push(function(value) {
            return value ? trueValue : falseValue;
        });
    }
    function classDirective(name, selector) {
        return name = "ngClass" + name, [ "$animate", function($animate) {
            function arrayDifference(tokens1, tokens2) {
                var values = [];
                outer: for (var i = 0; i < tokens1.length; i++) {
                    for (var token = tokens1[i], j = 0; j < tokens2.length; j++) if (token == tokens2[j]) continue outer;
                    values.push(token);
                }
                return values;
            }
            function arrayClasses(classVal) {
                if (isArray(classVal)) return classVal;
                if (isString(classVal)) return classVal.split(" ");
                if (isObject(classVal)) {
                    var classes = [];
                    return forEach(classVal, function(v, k) {
                        v && (classes = classes.concat(k.split(" ")));
                    }), classes;
                }
                return classVal;
            }
            return {
                restrict: "AC",
                link: function(scope, element, attr) {
                    function addClasses(classes) {
                        var newClasses = digestClassCounts(classes, 1);
                        attr.$addClass(newClasses);
                    }
                    function removeClasses(classes) {
                        var newClasses = digestClassCounts(classes, -1);
                        attr.$removeClass(newClasses);
                    }
                    function digestClassCounts(classes, count) {
                        var classCounts = element.data("$classCounts") || {}, classesToUpdate = [];
                        return forEach(classes, function(className) {
                            (count > 0 || classCounts[className]) && (classCounts[className] = (classCounts[className] || 0) + count, 
                            classCounts[className] === +(count > 0) && classesToUpdate.push(className));
                        }), element.data("$classCounts", classCounts), classesToUpdate.join(" ");
                    }
                    function updateClasses(oldClasses, newClasses) {
                        var toAdd = arrayDifference(newClasses, oldClasses), toRemove = arrayDifference(oldClasses, newClasses);
                        toRemove = digestClassCounts(toRemove, -1), toAdd = digestClassCounts(toAdd, 1), 
                        0 === toAdd.length ? $animate.removeClass(element, toRemove) : 0 === toRemove.length ? $animate.addClass(element, toAdd) : $animate.setClass(element, toAdd, toRemove);
                    }
                    function ngClassWatchAction(newVal) {
                        if (selector === !0 || scope.$index % 2 === selector) {
                            var newClasses = arrayClasses(newVal || []);
                            if (oldVal) {
                                if (!equals(newVal, oldVal)) {
                                    var oldClasses = arrayClasses(oldVal);
                                    updateClasses(oldClasses, newClasses);
                                }
                            } else addClasses(newClasses);
                        }
                        oldVal = shallowCopy(newVal);
                    }
                    var oldVal;
                    scope.$watch(attr[name], ngClassWatchAction, !0), attr.$observe("class", function(value) {
                        ngClassWatchAction(scope.$eval(attr[name]));
                    }), "ngClass" !== name && scope.$watch("$index", function($index, old$index) {
                        var mod = 1 & $index;
                        if (mod !== (1 & old$index)) {
                            var classes = arrayClasses(scope.$eval(attr[name]));
                            mod === selector ? addClasses(classes) : removeClasses(classes);
                        }
                    });
                }
            };
        } ];
    }
    var VALIDITY_STATE_PROPERTY = "validity", lowercase = function(string) {
        return isString(string) ? string.toLowerCase() : string;
    }, hasOwnProperty = Object.prototype.hasOwnProperty, uppercase = function(string) {
        return isString(string) ? string.toUpperCase() : string;
    }, manualLowercase = function(s) {
        return isString(s) ? s.replace(/[A-Z]/g, function(ch) {
            return String.fromCharCode(32 | ch.charCodeAt(0));
        }) : s;
    }, manualUppercase = function(s) {
        return isString(s) ? s.replace(/[a-z]/g, function(ch) {
            return String.fromCharCode(ch.charCodeAt(0) & -33);
        }) : s;
    };
    "i" !== "I".toLowerCase() && (lowercase = manualLowercase, uppercase = manualUppercase);
    var msie, jqLite, jQuery, angularModule, nodeName_, slice = [].slice, push = [].push, toString = Object.prototype.toString, ngMinErr = minErr("ng"), angular = window.angular || (window.angular = {}), uid = [ "0", "0", "0" ];
    msie = int((/msie (\d+)/.exec(lowercase(navigator.userAgent)) || [])[1]), isNaN(msie) && (msie = int((/trident\/.*; rv:(\d+)/.exec(lowercase(navigator.userAgent)) || [])[1])), 
    noop.$inject = [], identity.$inject = [];
    var isArray = function() {
        return isFunction(Array.isArray) ? Array.isArray : function(value) {
            return "[object Array]" === toString.call(value);
        };
    }(), trim = function() {
        return String.prototype.trim ? function(value) {
            return isString(value) ? value.trim() : value;
        } : function(value) {
            return isString(value) ? value.replace(/^\s\s*/, "").replace(/\s\s*$/, "") : value;
        };
    }();
    nodeName_ = msie < 9 ? function(element) {
        return element = element.nodeName ? element : element[0], element.scopeName && "HTML" != element.scopeName ? uppercase(element.scopeName + ":" + element.nodeName) : element.nodeName;
    } : function(element) {
        return element.nodeName ? element.nodeName : element[0].nodeName;
    };
    var csp = function() {
        if (isDefined(csp.isActive_)) return csp.isActive_;
        var active = !(!document.querySelector("[ng-csp]") && !document.querySelector("[data-ng-csp]"));
        if (!active) try {
            new Function("");
        } catch (e) {
            active = !0;
        }
        return csp.isActive_ = active;
    }, SNAKE_CASE_REGEXP = /[A-Z]/g, version = {
        full: "1.2.32",
        major: 1,
        minor: 2,
        dot: 32,
        codeName: "alternation-intention"
    };
    JQLite.expando = "ng339";
    var jqCache = JQLite.cache = {}, jqId = 1, addEventListenerFn = window.document.addEventListener ? function(element, type, fn) {
        element.addEventListener(type, fn, !1);
    } : function(element, type, fn) {
        element.attachEvent("on" + type, fn);
    }, removeEventListenerFn = window.document.removeEventListener ? function(element, type, fn) {
        element.removeEventListener(type, fn, !1);
    } : function(element, type, fn) {
        element.detachEvent("on" + type, fn);
    }, SPECIAL_CHARS_REGEXP = (JQLite._data = function(node) {
        return this.cache[node[this.expando]] || {};
    }, /([\:\-\_]+(.))/g), MOZ_HACK_REGEXP = /^moz([A-Z])/, jqLiteMinErr = minErr("jqLite"), SINGLE_TAG_REGEXP = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, HTML_REGEXP = /<|&#?\w+;/, TAG_NAME_REGEXP = /<([\w:]+)/, XHTML_TAG_REGEXP = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, wrapMap = {
        option: [ 1, '<select multiple="multiple">', "</select>" ],
        thead: [ 1, "<table>", "</table>" ],
        col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
        tr: [ 2, "<table><tbody>", "</tbody></table>" ],
        td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
        _default: [ 0, "", "" ]
    };
    wrapMap.optgroup = wrapMap.option, wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead, 
    wrapMap.th = wrapMap.td;
    var JQLitePrototype = JQLite.prototype = {
        ready: function(fn) {
            function trigger() {
                fired || (fired = !0, fn());
            }
            var fired = !1;
            "complete" === document.readyState ? setTimeout(trigger) : (this.on("DOMContentLoaded", trigger), 
            JQLite(window).on("load", trigger));
        },
        toString: function() {
            var value = [];
            return forEach(this, function(e) {
                value.push("" + e);
            }), "[" + value.join(", ") + "]";
        },
        eq: function(index) {
            return jqLite(index >= 0 ? this[index] : this[this.length + index]);
        },
        length: 0,
        push: push,
        sort: [].sort,
        splice: [].splice
    }, BOOLEAN_ATTR = {};
    forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","), function(value) {
        BOOLEAN_ATTR[lowercase(value)] = value;
    });
    var BOOLEAN_ELEMENTS = {};
    forEach("input,select,option,textarea,button,form,details".split(","), function(value) {
        BOOLEAN_ELEMENTS[uppercase(value)] = !0;
    }), forEach({
        data: jqLiteData,
        removeData: jqLiteRemoveData
    }, function(fn, name) {
        JQLite[name] = fn;
    }), forEach({
        data: jqLiteData,
        inheritedData: jqLiteInheritedData,
        scope: function(element) {
            return jqLite.data(element, "$scope") || jqLiteInheritedData(element.parentNode || element, [ "$isolateScope", "$scope" ]);
        },
        isolateScope: function(element) {
            return jqLite.data(element, "$isolateScope") || jqLite.data(element, "$isolateScopeNoTemplate");
        },
        controller: jqLiteController,
        injector: function(element) {
            return jqLiteInheritedData(element, "$injector");
        },
        removeAttr: function(element, name) {
            element.removeAttribute(name);
        },
        hasClass: jqLiteHasClass,
        css: function(element, name, value) {
            if (name = camelCase(name), !isDefined(value)) {
                var val;
                return msie <= 8 && (val = element.currentStyle && element.currentStyle[name], "" === val && (val = "auto")), 
                val = val || element.style[name], msie <= 8 && (val = "" === val ? undefined : val), 
                val;
            }
            element.style[name] = value;
        },
        attr: function(element, name, value) {
            var lowercasedName = lowercase(name);
            if (BOOLEAN_ATTR[lowercasedName]) {
                if (!isDefined(value)) return element[name] || (element.attributes.getNamedItem(name) || noop).specified ? lowercasedName : undefined;
                value ? (element[name] = !0, element.setAttribute(name, lowercasedName)) : (element[name] = !1, 
                element.removeAttribute(lowercasedName));
            } else if (isDefined(value)) element.setAttribute(name, value); else if (element.getAttribute) {
                var ret = element.getAttribute(name, 2);
                return null === ret ? undefined : ret;
            }
        },
        prop: function(element, name, value) {
            return isDefined(value) ? void (element[name] = value) : element[name];
        },
        text: function() {
            function getText(element, value) {
                var textProp = NODE_TYPE_TEXT_PROPERTY[element.nodeType];
                return isUndefined(value) ? textProp ? element[textProp] : "" : void (element[textProp] = value);
            }
            var NODE_TYPE_TEXT_PROPERTY = [];
            return msie < 9 ? (NODE_TYPE_TEXT_PROPERTY[1] = "innerText", NODE_TYPE_TEXT_PROPERTY[3] = "nodeValue") : NODE_TYPE_TEXT_PROPERTY[1] = NODE_TYPE_TEXT_PROPERTY[3] = "textContent", 
            getText.$dv = "", getText;
        }(),
        val: function(element, value) {
            if (isUndefined(value)) {
                if ("SELECT" === nodeName_(element) && element.multiple) {
                    var result = [];
                    return forEach(element.options, function(option) {
                        option.selected && result.push(option.value || option.text);
                    }), 0 === result.length ? null : result;
                }
                return element.value;
            }
            element.value = value;
        },
        html: function(element, value) {
            if (isUndefined(value)) return element.innerHTML;
            for (var i = 0, childNodes = element.childNodes; i < childNodes.length; i++) jqLiteDealoc(childNodes[i]);
            element.innerHTML = value;
        },
        empty: jqLiteEmpty
    }, function(fn, name) {
        JQLite.prototype[name] = function(arg1, arg2) {
            var i, key, nodeCount = this.length;
            if (fn !== jqLiteEmpty && (2 == fn.length && fn !== jqLiteHasClass && fn !== jqLiteController ? arg1 : arg2) === undefined) {
                if (isObject(arg1)) {
                    for (i = 0; i < nodeCount; i++) if (fn === jqLiteData) fn(this[i], arg1); else for (key in arg1) fn(this[i], key, arg1[key]);
                    return this;
                }
                for (var value = fn.$dv, jj = value === undefined ? Math.min(nodeCount, 1) : nodeCount, j = 0; j < jj; j++) {
                    var nodeValue = fn(this[j], arg1, arg2);
                    value = value ? value + nodeValue : nodeValue;
                }
                return value;
            }
            for (i = 0; i < nodeCount; i++) fn(this[i], arg1, arg2);
            return this;
        };
    }), forEach({
        removeData: jqLiteRemoveData,
        dealoc: jqLiteDealoc,
        on: function onFn(element, type, fn, unsupported) {
            if (isDefined(unsupported)) throw jqLiteMinErr("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
            var events = jqLiteExpandoStore(element, "events"), handle = jqLiteExpandoStore(element, "handle");
            events || jqLiteExpandoStore(element, "events", events = {}), handle || jqLiteExpandoStore(element, "handle", handle = createEventHandler(element, events)), 
            forEach(type.split(" "), function(type) {
                var eventFns = events[type];
                if (!eventFns) {
                    if ("mouseenter" == type || "mouseleave" == type) {
                        var contains = document.body.contains || document.body.compareDocumentPosition ? function(a, b) {
                            var adown = 9 === a.nodeType ? a.documentElement : a, bup = b && b.parentNode;
                            return a === bup || !(!bup || 1 !== bup.nodeType || !(adown.contains ? adown.contains(bup) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(bup)));
                        } : function(a, b) {
                            if (b) for (;b = b.parentNode; ) if (b === a) return !0;
                            return !1;
                        };
                        events[type] = [];
                        var eventmap = {
                            mouseleave: "mouseout",
                            mouseenter: "mouseover"
                        };
                        onFn(element, eventmap[type], function(event) {
                            var target = this, related = event.relatedTarget;
                            related && (related === target || contains(target, related)) || handle(event, type);
                        });
                    } else addEventListenerFn(element, type, handle), events[type] = [];
                    eventFns = events[type];
                }
                eventFns.push(fn);
            });
        },
        off: jqLiteOff,
        one: function(element, type, fn) {
            element = jqLite(element), element.on(type, function onFn() {
                element.off(type, fn), element.off(type, onFn);
            }), element.on(type, fn);
        },
        replaceWith: function(element, replaceNode) {
            var index, parent = element.parentNode;
            jqLiteDealoc(element), forEach(new JQLite(replaceNode), function(node) {
                index ? parent.insertBefore(node, index.nextSibling) : parent.replaceChild(node, element), 
                index = node;
            });
        },
        children: function(element) {
            var children = [];
            return forEach(element.childNodes, function(element) {
                1 === element.nodeType && children.push(element);
            }), children;
        },
        contents: function(element) {
            return element.contentDocument || element.childNodes || [];
        },
        append: function(element, node) {
            forEach(new JQLite(node), function(child) {
                1 !== element.nodeType && 11 !== element.nodeType || element.appendChild(child);
            });
        },
        prepend: function(element, node) {
            if (1 === element.nodeType) {
                var index = element.firstChild;
                forEach(new JQLite(node), function(child) {
                    element.insertBefore(child, index);
                });
            }
        },
        wrap: function(element, wrapNode) {
            wrapNode = jqLite(wrapNode)[0];
            var parent = element.parentNode;
            parent && parent.replaceChild(wrapNode, element), wrapNode.appendChild(element);
        },
        remove: function(element) {
            jqLiteDealoc(element);
            var parent = element.parentNode;
            parent && parent.removeChild(element);
        },
        after: function(element, newElement) {
            var index = element, parent = element.parentNode;
            forEach(new JQLite(newElement), function(node) {
                parent.insertBefore(node, index.nextSibling), index = node;
            });
        },
        addClass: jqLiteAddClass,
        removeClass: jqLiteRemoveClass,
        toggleClass: function(element, selector, condition) {
            selector && forEach(selector.split(" "), function(className) {
                var classCondition = condition;
                isUndefined(classCondition) && (classCondition = !jqLiteHasClass(element, className)), 
                (classCondition ? jqLiteAddClass : jqLiteRemoveClass)(element, className);
            });
        },
        parent: function(element) {
            var parent = element.parentNode;
            return parent && 11 !== parent.nodeType ? parent : null;
        },
        next: function(element) {
            if (element.nextElementSibling) return element.nextElementSibling;
            for (var elm = element.nextSibling; null != elm && 1 !== elm.nodeType; ) elm = elm.nextSibling;
            return elm;
        },
        find: function(element, selector) {
            return element.getElementsByTagName ? element.getElementsByTagName(selector) : [];
        },
        clone: jqLiteClone,
        triggerHandler: function(element, event, extraParameters) {
            var dummyEvent, eventFnsCopy, handlerArgs, eventName = event.type || event, eventFns = (jqLiteExpandoStore(element, "events") || {})[eventName];
            eventFns && (dummyEvent = {
                preventDefault: function() {
                    this.defaultPrevented = !0;
                },
                isDefaultPrevented: function() {
                    return this.defaultPrevented === !0;
                },
                stopPropagation: noop,
                type: eventName,
                target: element
            }, event.type && (dummyEvent = extend(dummyEvent, event)), eventFnsCopy = shallowCopy(eventFns), 
            handlerArgs = extraParameters ? [ dummyEvent ].concat(extraParameters) : [ dummyEvent ], 
            forEach(eventFnsCopy, function(fn) {
                fn.apply(element, handlerArgs);
            }));
        }
    }, function(fn, name) {
        JQLite.prototype[name] = function(arg1, arg2, arg3) {
            for (var value, i = 0; i < this.length; i++) isUndefined(value) ? (value = fn(this[i], arg1, arg2, arg3), 
            isDefined(value) && (value = jqLite(value))) : jqLiteAddNodes(value, fn(this[i], arg1, arg2, arg3));
            return isDefined(value) ? value : this;
        }, JQLite.prototype.bind = JQLite.prototype.on, JQLite.prototype.unbind = JQLite.prototype.off;
    }), HashMap.prototype = {
        put: function(key, value) {
            this[hashKey(key, this.nextUid)] = value;
        },
        get: function(key) {
            return this[hashKey(key, this.nextUid)];
        },
        remove: function(key) {
            var value = this[key = hashKey(key, this.nextUid)];
            return delete this[key], value;
        }
    };
    var FN_ARGS = /^function\s*[^\(]*\(\s*([^\)]*)\)/m, FN_ARG_SPLIT = /,/, FN_ARG = /^\s*(_?)(\S+?)\1\s*$/, STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm, $injectorMinErr = minErr("$injector"), $animateMinErr = minErr("$animate"), $AnimateProvider = [ "$provide", function($provide) {
        this.$$selectors = {}, this.register = function(name, factory) {
            var key = name + "-animation";
            if (name && "." != name.charAt(0)) throw $animateMinErr("notcsel", "Expecting class selector starting with '.' got '{0}'.", name);
            this.$$selectors[name.substr(1)] = key, $provide.factory(key, factory);
        }, this.classNameFilter = function(expression) {
            return 1 === arguments.length && (this.$$classNameFilter = expression instanceof RegExp ? expression : null), 
            this.$$classNameFilter;
        }, this.$get = [ "$timeout", "$$asyncCallback", function($timeout, $$asyncCallback) {
            function async(fn) {
                fn && $$asyncCallback(fn);
            }
            return {
                enter: function(element, parent, after, done) {
                    after ? after.after(element) : (parent && parent[0] || (parent = after.parent()), 
                    parent.append(element)), async(done);
                },
                leave: function(element, done) {
                    element.remove(), async(done);
                },
                move: function(element, parent, after, done) {
                    this.enter(element, parent, after, done);
                },
                addClass: function(element, className, done) {
                    className = isString(className) ? className : isArray(className) ? className.join(" ") : "", 
                    forEach(element, function(element) {
                        jqLiteAddClass(element, className);
                    }), async(done);
                },
                removeClass: function(element, className, done) {
                    className = isString(className) ? className : isArray(className) ? className.join(" ") : "", 
                    forEach(element, function(element) {
                        jqLiteRemoveClass(element, className);
                    }), async(done);
                },
                setClass: function(element, add, remove, done) {
                    forEach(element, function(element) {
                        jqLiteAddClass(element, add), jqLiteRemoveClass(element, remove);
                    }), async(done);
                },
                enabled: noop
            };
        } ];
    } ], $compileMinErr = minErr("$compile");
    $CompileProvider.$inject = [ "$provide", "$$sanitizeUriProvider" ];
    var PREFIX_REGEXP = /^(x[\:\-_]|data[\:\-_])/i, $interpolateMinErr = minErr("$interpolate"), PATH_MATCH = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/, DEFAULT_PORTS = {
        http: 80,
        https: 443,
        ftp: 21
    }, $locationMinErr = minErr("$location");
    LocationHashbangInHtml5Url.prototype = LocationHashbangUrl.prototype = LocationHtml5Url.prototype = {
        $$html5: !1,
        $$replace: !1,
        absUrl: locationGetter("$$absUrl"),
        url: function(url) {
            if (isUndefined(url)) return this.$$url;
            var match = PATH_MATCH.exec(url);
            return match[1] && this.path(decodeURIComponent(match[1])), (match[2] || match[1]) && this.search(match[3] || ""), 
            this.hash(match[5] || ""), this;
        },
        protocol: locationGetter("$$protocol"),
        host: locationGetter("$$host"),
        port: locationGetter("$$port"),
        path: locationGetterSetter("$$path", function(path) {
            return path = null !== path ? path.toString() : "", "/" == path.charAt(0) ? path : "/" + path;
        }),
        search: function(search, paramValue) {
            switch (arguments.length) {
              case 0:
                return this.$$search;

              case 1:
                if (isString(search) || isNumber(search)) search = search.toString(), this.$$search = parseKeyValue(search); else {
                    if (!isObject(search)) throw $locationMinErr("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
                    forEach(search, function(value, key) {
                        null == value && delete search[key];
                    }), this.$$search = search;
                }
                break;

              default:
                isUndefined(paramValue) || null === paramValue ? delete this.$$search[search] : this.$$search[search] = paramValue;
            }
            return this.$$compose(), this;
        },
        hash: locationGetterSetter("$$hash", function(hash) {
            return null !== hash ? hash.toString() : "";
        }),
        replace: function() {
            return this.$$replace = !0, this;
        }
    };
    var promiseWarning, $parseMinErr = minErr("$parse"), promiseWarningCache = {}, CALL = Function.prototype.call, APPLY = Function.prototype.apply, BIND = Function.prototype.bind, OPERATORS = {
        null: function() {
            return null;
        },
        true: function() {
            return !0;
        },
        false: function() {
            return !1;
        },
        undefined: noop,
        "+": function(self, locals, a, b) {
            return a = a(self, locals), b = b(self, locals), isDefined(a) ? isDefined(b) ? a + b : a : isDefined(b) ? b : undefined;
        },
        "-": function(self, locals, a, b) {
            return a = a(self, locals), b = b(self, locals), (isDefined(a) ? a : 0) - (isDefined(b) ? b : 0);
        },
        "*": function(self, locals, a, b) {
            return a(self, locals) * b(self, locals);
        },
        "/": function(self, locals, a, b) {
            return a(self, locals) / b(self, locals);
        },
        "%": function(self, locals, a, b) {
            return a(self, locals) % b(self, locals);
        },
        "^": function(self, locals, a, b) {
            return a(self, locals) ^ b(self, locals);
        },
        "=": noop,
        "===": function(self, locals, a, b) {
            return a(self, locals) === b(self, locals);
        },
        "!==": function(self, locals, a, b) {
            return a(self, locals) !== b(self, locals);
        },
        "==": function(self, locals, a, b) {
            return a(self, locals) == b(self, locals);
        },
        "!=": function(self, locals, a, b) {
            return a(self, locals) != b(self, locals);
        },
        "<": function(self, locals, a, b) {
            return a(self, locals) < b(self, locals);
        },
        ">": function(self, locals, a, b) {
            return a(self, locals) > b(self, locals);
        },
        "<=": function(self, locals, a, b) {
            return a(self, locals) <= b(self, locals);
        },
        ">=": function(self, locals, a, b) {
            return a(self, locals) >= b(self, locals);
        },
        "&&": function(self, locals, a, b) {
            return a(self, locals) && b(self, locals);
        },
        "||": function(self, locals, a, b) {
            return a(self, locals) || b(self, locals);
        },
        "&": function(self, locals, a, b) {
            return a(self, locals) & b(self, locals);
        },
        "|": function(self, locals, a, b) {
            return b(self, locals)(self, locals, a(self, locals));
        },
        "!": function(self, locals, a) {
            return !a(self, locals);
        }
    }, ESCAPE = {
        n: "\n",
        f: "\f",
        r: "\r",
        t: "\t",
        v: "\v",
        "'": "'",
        '"': '"'
    }, Lexer = function(options) {
        this.options = options;
    };
    Lexer.prototype = {
        constructor: Lexer,
        lex: function(text) {
            for (this.text = text, this.index = 0, this.ch = undefined, this.lastCh = ":", this.tokens = []; this.index < this.text.length; ) {
                if (this.ch = this.text.charAt(this.index), this.is("\"'")) this.readString(this.ch); else if (this.isNumber(this.ch) || this.is(".") && this.isNumber(this.peek())) this.readNumber(); else if (this.isIdent(this.ch)) this.readIdent(); else if (this.is("(){}[].,;:?")) this.tokens.push({
                    index: this.index,
                    text: this.ch
                }), this.index++; else {
                    if (this.isWhitespace(this.ch)) {
                        this.index++;
                        continue;
                    }
                    var ch2 = this.ch + this.peek(), ch3 = ch2 + this.peek(2), fn = OPERATORS[this.ch], fn2 = OPERATORS[ch2], fn3 = OPERATORS[ch3];
                    fn3 ? (this.tokens.push({
                        index: this.index,
                        text: ch3,
                        fn: fn3
                    }), this.index += 3) : fn2 ? (this.tokens.push({
                        index: this.index,
                        text: ch2,
                        fn: fn2
                    }), this.index += 2) : fn ? (this.tokens.push({
                        index: this.index,
                        text: this.ch,
                        fn: fn
                    }), this.index += 1) : this.throwError("Unexpected next character ", this.index, this.index + 1);
                }
                this.lastCh = this.ch;
            }
            return this.tokens;
        },
        is: function(chars) {
            return chars.indexOf(this.ch) !== -1;
        },
        was: function(chars) {
            return chars.indexOf(this.lastCh) !== -1;
        },
        peek: function(i) {
            var num = i || 1;
            return this.index + num < this.text.length && this.text.charAt(this.index + num);
        },
        isNumber: function(ch) {
            return "0" <= ch && ch <= "9";
        },
        isWhitespace: function(ch) {
            return " " === ch || "\r" === ch || "\t" === ch || "\n" === ch || "\v" === ch || "" === ch;
        },
        isIdent: function(ch) {
            return "a" <= ch && ch <= "z" || "A" <= ch && ch <= "Z" || "_" === ch || "$" === ch;
        },
        isExpOperator: function(ch) {
            return "-" === ch || "+" === ch || this.isNumber(ch);
        },
        throwError: function(error, start, end) {
            end = end || this.index;
            var colStr = isDefined(start) ? "s " + start + "-" + this.index + " [" + this.text.substring(start, end) + "]" : " " + end;
            throw $parseMinErr("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", error, colStr, this.text);
        },
        readNumber: function() {
            for (var number = "", start = this.index; this.index < this.text.length; ) {
                var ch = lowercase(this.text.charAt(this.index));
                if ("." == ch || this.isNumber(ch)) number += ch; else {
                    var peekCh = this.peek();
                    if ("e" == ch && this.isExpOperator(peekCh)) number += ch; else if (this.isExpOperator(ch) && peekCh && this.isNumber(peekCh) && "e" == number.charAt(number.length - 1)) number += ch; else {
                        if (!this.isExpOperator(ch) || peekCh && this.isNumber(peekCh) || "e" != number.charAt(number.length - 1)) break;
                        this.throwError("Invalid exponent");
                    }
                }
                this.index++;
            }
            number *= 1, this.tokens.push({
                index: start,
                text: number,
                literal: !0,
                constant: !0,
                fn: function() {
                    return number;
                }
            });
        },
        readIdent: function() {
            for (var lastDot, peekIndex, methodName, ch, parser = this, ident = "", start = this.index; this.index < this.text.length && (ch = this.text.charAt(this.index), 
            "." === ch || this.isIdent(ch) || this.isNumber(ch)); ) "." === ch && (lastDot = this.index), 
            ident += ch, this.index++;
            if (lastDot) for (peekIndex = this.index; peekIndex < this.text.length; ) {
                if (ch = this.text.charAt(peekIndex), "(" === ch) {
                    methodName = ident.substr(lastDot - start + 1), ident = ident.substr(0, lastDot - start), 
                    this.index = peekIndex;
                    break;
                }
                if (!this.isWhitespace(ch)) break;
                peekIndex++;
            }
            var token = {
                index: start,
                text: ident
            };
            if (OPERATORS.hasOwnProperty(ident)) token.fn = OPERATORS[ident], token.literal = !0, 
            token.constant = !0; else {
                var getter = getterFn(ident, this.options, this.text);
                token.fn = extend(function(self, locals) {
                    return getter(self, locals);
                }, {
                    assign: function(self, value) {
                        return setter(self, ident, value, parser.text, parser.options);
                    }
                });
            }
            this.tokens.push(token), methodName && (this.tokens.push({
                index: lastDot,
                text: "."
            }), this.tokens.push({
                index: lastDot + 1,
                text: methodName
            }));
        },
        readString: function(quote) {
            var start = this.index;
            this.index++;
            for (var string = "", rawString = quote, escape = !1; this.index < this.text.length; ) {
                var ch = this.text.charAt(this.index);
                if (rawString += ch, escape) {
                    if ("u" === ch) {
                        var hex = this.text.substring(this.index + 1, this.index + 5);
                        hex.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + hex + "]"), 
                        this.index += 4, string += String.fromCharCode(parseInt(hex, 16));
                    } else {
                        var rep = ESCAPE[ch];
                        string += rep || ch;
                    }
                    escape = !1;
                } else if ("\\" === ch) escape = !0; else {
                    if (ch === quote) return this.index++, void this.tokens.push({
                        index: start,
                        text: rawString,
                        string: string,
                        literal: !0,
                        constant: !0,
                        fn: function() {
                            return string;
                        }
                    });
                    string += ch;
                }
                this.index++;
            }
            this.throwError("Unterminated quote", start);
        }
    };
    var Parser = function(lexer, $filter, options) {
        this.lexer = lexer, this.$filter = $filter, this.options = options;
    };
    Parser.ZERO = extend(function() {
        return 0;
    }, {
        constant: !0
    }), Parser.prototype = {
        constructor: Parser,
        parse: function(text) {
            this.text = text, this.tokens = this.lexer.lex(text);
            var value = this.statements();
            return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), 
            value.literal = !!value.literal, value.constant = !!value.constant, value;
        },
        primary: function() {
            var primary;
            if (this.expect("(")) primary = this.filterChain(), this.consume(")"); else if (this.expect("[")) primary = this.arrayDeclaration(); else if (this.expect("{")) primary = this.object(); else {
                var token = this.expect();
                primary = token.fn, primary || this.throwError("not a primary expression", token), 
                primary.literal = !!token.literal, primary.constant = !!token.constant;
            }
            for (var next, context; next = this.expect("(", "[", "."); ) "(" === next.text ? (primary = this.functionCall(primary, context), 
            context = null) : "[" === next.text ? (context = primary, primary = this.objectIndex(primary)) : "." === next.text ? (context = primary, 
            primary = this.fieldAccess(primary)) : this.throwError("IMPOSSIBLE");
            return primary;
        },
        throwError: function(msg, token) {
            throw $parseMinErr("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", token.text, msg, token.index + 1, this.text, this.text.substring(token.index));
        },
        peekToken: function() {
            if (0 === this.tokens.length) throw $parseMinErr("ueoe", "Unexpected end of expression: {0}", this.text);
            return this.tokens[0];
        },
        peek: function(e1, e2, e3, e4) {
            if (this.tokens.length > 0) {
                var token = this.tokens[0], t = token.text;
                if (t === e1 || t === e2 || t === e3 || t === e4 || !e1 && !e2 && !e3 && !e4) return token;
            }
            return !1;
        },
        expect: function(e1, e2, e3, e4) {
            var token = this.peek(e1, e2, e3, e4);
            return !!token && (this.tokens.shift(), token);
        },
        consume: function(e1) {
            this.expect(e1) || this.throwError("is unexpected, expecting [" + e1 + "]", this.peek());
        },
        unaryFn: function(fn, right) {
            return extend(function(self, locals) {
                return fn(self, locals, right);
            }, {
                constant: right.constant
            });
        },
        ternaryFn: function(left, middle, right) {
            return extend(function(self, locals) {
                return left(self, locals) ? middle(self, locals) : right(self, locals);
            }, {
                constant: left.constant && middle.constant && right.constant
            });
        },
        binaryFn: function(left, fn, right) {
            return extend(function(self, locals) {
                return fn(self, locals, left, right);
            }, {
                constant: left.constant && right.constant
            });
        },
        statements: function() {
            for (var statements = []; ;) if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]") && statements.push(this.filterChain()), 
            !this.expect(";")) return 1 === statements.length ? statements[0] : function(self, locals) {
                for (var value, i = 0; i < statements.length; i++) {
                    var statement = statements[i];
                    statement && (value = statement(self, locals));
                }
                return value;
            };
        },
        filterChain: function() {
            for (var token, left = this.expression(); ;) {
                if (!(token = this.expect("|"))) return left;
                left = this.binaryFn(left, token.fn, this.filter());
            }
        },
        filter: function() {
            for (var token = this.expect(), fn = this.$filter(token.text), argsFn = []; ;) {
                if (!(token = this.expect(":"))) {
                    var fnInvoke = function(self, locals, input) {
                        for (var args = [ input ], i = 0; i < argsFn.length; i++) args.push(argsFn[i](self, locals));
                        return fn.apply(self, args);
                    };
                    return function() {
                        return fnInvoke;
                    };
                }
                argsFn.push(this.expression());
            }
        },
        expression: function() {
            return this.assignment();
        },
        assignment: function() {
            var right, token, left = this.ternary();
            return (token = this.expect("=")) ? (left.assign || this.throwError("implies assignment but [" + this.text.substring(0, token.index) + "] can not be assigned to", token), 
            right = this.ternary(), function(scope, locals) {
                return left.assign(scope, right(scope, locals), locals);
            }) : left;
        },
        ternary: function() {
            var middle, token, left = this.logicalOR();
            return (token = this.expect("?")) ? (middle = this.assignment(), (token = this.expect(":")) ? this.ternaryFn(left, middle, this.assignment()) : void this.throwError("expected :", token)) : left;
        },
        logicalOR: function() {
            for (var token, left = this.logicalAND(); ;) {
                if (!(token = this.expect("||"))) return left;
                left = this.binaryFn(left, token.fn, this.logicalAND());
            }
        },
        logicalAND: function() {
            var token, left = this.equality();
            return (token = this.expect("&&")) && (left = this.binaryFn(left, token.fn, this.logicalAND())), 
            left;
        },
        equality: function() {
            var token, left = this.relational();
            return (token = this.expect("==", "!=", "===", "!==")) && (left = this.binaryFn(left, token.fn, this.equality())), 
            left;
        },
        relational: function() {
            var token, left = this.additive();
            return (token = this.expect("<", ">", "<=", ">=")) && (left = this.binaryFn(left, token.fn, this.relational())), 
            left;
        },
        additive: function() {
            for (var token, left = this.multiplicative(); token = this.expect("+", "-"); ) left = this.binaryFn(left, token.fn, this.multiplicative());
            return left;
        },
        multiplicative: function() {
            for (var token, left = this.unary(); token = this.expect("*", "/", "%"); ) left = this.binaryFn(left, token.fn, this.unary());
            return left;
        },
        unary: function() {
            var token;
            return this.expect("+") ? this.primary() : (token = this.expect("-")) ? this.binaryFn(Parser.ZERO, token.fn, this.unary()) : (token = this.expect("!")) ? this.unaryFn(token.fn, this.unary()) : this.primary();
        },
        fieldAccess: function(object) {
            var parser = this, field = this.expect().text, getter = getterFn(field, this.options, this.text);
            return extend(function(scope, locals, self) {
                return getter(self || object(scope, locals));
            }, {
                assign: function(scope, value, locals) {
                    var o = object(scope, locals);
                    return o || object.assign(scope, o = {}), setter(o, field, value, parser.text, parser.options);
                }
            });
        },
        objectIndex: function(obj) {
            var parser = this, indexFn = this.expression();
            return this.consume("]"), extend(function(self, locals) {
                var v, p, o = obj(self, locals), i = getStringValue(indexFn(self, locals), parser.text);
                return ensureSafeMemberName(i, parser.text), o ? (v = ensureSafeObject(o[i], parser.text), 
                v && v.then && parser.options.unwrapPromises && (p = v, "$$v" in v || (p.$$v = undefined, 
                p.then(function(val) {
                    p.$$v = val;
                })), v = v.$$v), v) : undefined;
            }, {
                assign: function(self, value, locals) {
                    var key = ensureSafeMemberName(getStringValue(indexFn(self, locals), parser.text), parser.text), o = ensureSafeObject(obj(self, locals), parser.text);
                    return o || obj.assign(self, o = {}), o[key] = value;
                }
            });
        },
        functionCall: function(fn, contextGetter) {
            var argsFn = [];
            if (")" !== this.peekToken().text) do argsFn.push(this.expression()); while (this.expect(","));
            this.consume(")");
            var parser = this;
            return function(scope, locals) {
                for (var args = [], context = contextGetter ? contextGetter(scope, locals) : scope, i = 0; i < argsFn.length; i++) args.push(ensureSafeObject(argsFn[i](scope, locals), parser.text));
                var fnPtr = fn(scope, locals, context) || noop;
                ensureSafeObject(context, parser.text), ensureSafeFunction(fnPtr, parser.text);
                var v = fnPtr.apply ? fnPtr.apply(context, args) : fnPtr(args[0], args[1], args[2], args[3], args[4]);
                return ensureSafeObject(v, parser.text);
            };
        },
        arrayDeclaration: function() {
            var elementFns = [], allConstant = !0;
            if ("]" !== this.peekToken().text) do {
                if (this.peek("]")) break;
                var elementFn = this.expression();
                elementFns.push(elementFn), elementFn.constant || (allConstant = !1);
            } while (this.expect(","));
            return this.consume("]"), extend(function(self, locals) {
                for (var array = [], i = 0; i < elementFns.length; i++) array.push(elementFns[i](self, locals));
                return array;
            }, {
                literal: !0,
                constant: allConstant
            });
        },
        object: function() {
            var keyValues = [], allConstant = !0;
            if ("}" !== this.peekToken().text) do {
                if (this.peek("}")) break;
                var token = this.expect(), key = token.string || token.text;
                this.consume(":");
                var value = this.expression();
                keyValues.push({
                    key: key,
                    value: value
                }), value.constant || (allConstant = !1);
            } while (this.expect(","));
            return this.consume("}"), extend(function(self, locals) {
                for (var object = {}, i = 0; i < keyValues.length; i++) {
                    var keyValue = keyValues[i];
                    object[keyValue.key] = keyValue.value(self, locals);
                }
                return object;
            }, {
                literal: !0,
                constant: allConstant
            });
        }
    };
    var getterFnCacheDefault = {}, getterFnCacheExpensive = {}, $sceMinErr = minErr("$sce"), SCE_CONTEXTS = {
        HTML: "html",
        CSS: "css",
        URL: "url",
        RESOURCE_URL: "resourceUrl",
        JS: "js"
    }, urlParsingNode = document.createElement("a"), originUrl = urlResolve(window.location.href, !0);
    $FilterProvider.$inject = [ "$provide" ], currencyFilter.$inject = [ "$locale" ], 
    numberFilter.$inject = [ "$locale" ];
    var DECIMAL_SEP = ".", DATE_FORMATS = {
        yyyy: dateGetter("FullYear", 4),
        yy: dateGetter("FullYear", 2, 0, !0),
        y: dateGetter("FullYear", 1),
        MMMM: dateStrGetter("Month"),
        MMM: dateStrGetter("Month", !0),
        MM: dateGetter("Month", 2, 1),
        M: dateGetter("Month", 1, 1),
        dd: dateGetter("Date", 2),
        d: dateGetter("Date", 1),
        HH: dateGetter("Hours", 2),
        H: dateGetter("Hours", 1),
        hh: dateGetter("Hours", 2, -12),
        h: dateGetter("Hours", 1, -12),
        mm: dateGetter("Minutes", 2),
        m: dateGetter("Minutes", 1),
        ss: dateGetter("Seconds", 2),
        s: dateGetter("Seconds", 1),
        sss: dateGetter("Milliseconds", 3),
        EEEE: dateStrGetter("Day"),
        EEE: dateStrGetter("Day", !0),
        a: ampmGetter,
        Z: timeZoneGetter
    }, DATE_FORMATS_SPLIT = /((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/, NUMBER_STRING = /^\-?\d+$/;
    dateFilter.$inject = [ "$locale" ];
    var lowercaseFilter = valueFn(lowercase), uppercaseFilter = valueFn(uppercase);
    orderByFilter.$inject = [ "$parse" ];
    var htmlAnchorDirective = valueFn({
        restrict: "E",
        compile: function(element, attr) {
            if (msie <= 8 && (attr.href || attr.name || attr.$set("href", ""), element.append(document.createComment("IE fix"))), 
            !attr.href && !attr.xlinkHref && !attr.name) return function(scope, element) {
                var href = "[object SVGAnimatedString]" === toString.call(element.prop("href")) ? "xlink:href" : "href";
                element.on("click", function(event) {
                    element.attr(href) || event.preventDefault();
                });
            };
        }
    }), ngAttributeAliasDirectives = {};
    forEach(BOOLEAN_ATTR, function(propName, attrName) {
        if ("multiple" != propName) {
            var normalized = directiveNormalize("ng-" + attrName);
            ngAttributeAliasDirectives[normalized] = function() {
                return {
                    priority: 100,
                    link: function(scope, element, attr) {
                        scope.$watch(attr[normalized], function(value) {
                            attr.$set(attrName, !!value);
                        });
                    }
                };
            };
        }
    }), forEach([ "src", "srcset", "href" ], function(attrName) {
        var normalized = directiveNormalize("ng-" + attrName);
        ngAttributeAliasDirectives[normalized] = function() {
            return {
                priority: 99,
                link: function(scope, element, attr) {
                    var propName = attrName, name = attrName;
                    "href" === attrName && "[object SVGAnimatedString]" === toString.call(element.prop("href")) && (name = "xlinkHref", 
                    attr.$attr[name] = "xlink:href", propName = null), attr.$observe(normalized, function(value) {
                        return value ? (attr.$set(name, value), void (msie && propName && element.prop(propName, attr[name]))) : void ("href" === attrName && attr.$set(name, null));
                    });
                }
            };
        };
    });
    var nullFormCtrl = {
        $addControl: noop,
        $removeControl: noop,
        $setValidity: noop,
        $setDirty: noop,
        $setPristine: noop
    };
    FormController.$inject = [ "$element", "$attrs", "$scope", "$animate" ];
    var formDirectiveFactory = function(isNgForm) {
        return [ "$timeout", function($timeout) {
            var formDirective = {
                name: "form",
                restrict: isNgForm ? "EAC" : "E",
                controller: FormController,
                compile: function() {
                    return {
                        pre: function(scope, formElement, attr, controller) {
                            if (!attr.action) {
                                var preventDefaultListener = function(event) {
                                    event.preventDefault ? event.preventDefault() : event.returnValue = !1;
                                };
                                addEventListenerFn(formElement[0], "submit", preventDefaultListener), formElement.on("$destroy", function() {
                                    $timeout(function() {
                                        removeEventListenerFn(formElement[0], "submit", preventDefaultListener);
                                    }, 0, !1);
                                });
                            }
                            var parentFormCtrl = formElement.parent().controller("form"), alias = attr.name || attr.ngForm;
                            alias && setter(scope, alias, controller, alias), parentFormCtrl && formElement.on("$destroy", function() {
                                parentFormCtrl.$removeControl(controller), alias && setter(scope, alias, undefined, alias), 
                                extend(controller, nullFormCtrl);
                            });
                        }
                    };
                }
            };
            return formDirective;
        } ];
    }, formDirective = formDirectiveFactory(), ngFormDirective = formDirectiveFactory(!0), URL_REGEXP = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/, EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i, NUMBER_REGEXP = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/, inputType = {
        text: textInputType,
        number: numberInputType,
        url: urlInputType,
        email: emailInputType,
        radio: radioInputType,
        checkbox: checkboxInputType,
        hidden: noop,
        button: noop,
        submit: noop,
        reset: noop,
        file: noop
    }, numberBadFlags = [ "badInput" ], inputDirective = [ "$browser", "$sniffer", function($browser, $sniffer) {
        return {
            restrict: "E",
            require: "?ngModel",
            link: function(scope, element, attr, ctrl) {
                ctrl && (inputType[lowercase(attr.type)] || inputType.text)(scope, element, attr, ctrl, $sniffer, $browser);
            }
        };
    } ], VALID_CLASS = "ng-valid", INVALID_CLASS = "ng-invalid", PRISTINE_CLASS = "ng-pristine", DIRTY_CLASS = "ng-dirty", NgModelController = [ "$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", function($scope, $exceptionHandler, $attr, $element, $parse, $animate) {
        function toggleValidCss(isValid, validationErrorKey) {
            validationErrorKey = validationErrorKey ? "-" + snake_case(validationErrorKey, "-") : "", 
            $animate.removeClass($element, (isValid ? INVALID_CLASS : VALID_CLASS) + validationErrorKey), 
            $animate.addClass($element, (isValid ? VALID_CLASS : INVALID_CLASS) + validationErrorKey);
        }
        this.$viewValue = Number.NaN, this.$modelValue = Number.NaN, this.$parsers = [], 
        this.$formatters = [], this.$viewChangeListeners = [], this.$pristine = !0, this.$dirty = !1, 
        this.$valid = !0, this.$invalid = !1, this.$name = $attr.name;
        var ngModelGet = $parse($attr.ngModel), ngModelSet = ngModelGet.assign;
        if (!ngModelSet) throw minErr("ngModel")("nonassign", "Expression '{0}' is non-assignable. Element: {1}", $attr.ngModel, startingTag($element));
        this.$render = noop, this.$isEmpty = function(value) {
            return isUndefined(value) || "" === value || null === value || value !== value;
        };
        var parentForm = $element.inheritedData("$formController") || nullFormCtrl, invalidCount = 0, $error = this.$error = {};
        $element.addClass(PRISTINE_CLASS), toggleValidCss(!0), this.$setValidity = function(validationErrorKey, isValid) {
            $error[validationErrorKey] !== !isValid && (isValid ? ($error[validationErrorKey] && invalidCount--, 
            invalidCount || (toggleValidCss(!0), this.$valid = !0, this.$invalid = !1)) : (toggleValidCss(!1), 
            this.$invalid = !0, this.$valid = !1, invalidCount++), $error[validationErrorKey] = !isValid, 
            toggleValidCss(isValid, validationErrorKey), parentForm.$setValidity(validationErrorKey, isValid, this));
        }, this.$setPristine = function() {
            this.$dirty = !1, this.$pristine = !0, $animate.removeClass($element, DIRTY_CLASS), 
            $animate.addClass($element, PRISTINE_CLASS);
        }, this.$setViewValue = function(value) {
            this.$viewValue = value, this.$pristine && (this.$dirty = !0, this.$pristine = !1, 
            $animate.removeClass($element, PRISTINE_CLASS), $animate.addClass($element, DIRTY_CLASS), 
            parentForm.$setDirty()), forEach(this.$parsers, function(fn) {
                value = fn(value);
            }), this.$modelValue !== value && (this.$modelValue = value, ngModelSet($scope, value), 
            forEach(this.$viewChangeListeners, function(listener) {
                try {
                    listener();
                } catch (e) {
                    $exceptionHandler(e);
                }
            }));
        };
        var ctrl = this;
        $scope.$watch(function() {
            var value = ngModelGet($scope);
            if (ctrl.$modelValue !== value) {
                var formatters = ctrl.$formatters, idx = formatters.length;
                for (ctrl.$modelValue = value; idx--; ) value = formatters[idx](value);
                ctrl.$viewValue !== value && (ctrl.$viewValue = value, ctrl.$render());
            }
            return value;
        });
    } ], ngModelDirective = function() {
        return {
            require: [ "ngModel", "^?form" ],
            controller: NgModelController,
            link: function(scope, element, attr, ctrls) {
                var modelCtrl = ctrls[0], formCtrl = ctrls[1] || nullFormCtrl;
                formCtrl.$addControl(modelCtrl), scope.$on("$destroy", function() {
                    formCtrl.$removeControl(modelCtrl);
                });
            }
        };
    }, ngChangeDirective = valueFn({
        require: "ngModel",
        link: function(scope, element, attr, ctrl) {
            ctrl.$viewChangeListeners.push(function() {
                scope.$eval(attr.ngChange);
            });
        }
    }), requiredDirective = function() {
        return {
            require: "?ngModel",
            link: function(scope, elm, attr, ctrl) {
                if (ctrl) {
                    attr.required = !0;
                    var validator = function(value) {
                        return attr.required && ctrl.$isEmpty(value) ? void ctrl.$setValidity("required", !1) : (ctrl.$setValidity("required", !0), 
                        value);
                    };
                    ctrl.$formatters.push(validator), ctrl.$parsers.unshift(validator), attr.$observe("required", function() {
                        validator(ctrl.$viewValue);
                    });
                }
            }
        };
    }, ngListDirective = function() {
        return {
            require: "ngModel",
            link: function(scope, element, attr, ctrl) {
                var match = /\/(.*)\//.exec(attr.ngList), separator = match && new RegExp(match[1]) || attr.ngList || ",", parse = function(viewValue) {
                    if (!isUndefined(viewValue)) {
                        var list = [];
                        return viewValue && forEach(viewValue.split(separator), function(value) {
                            value && list.push(trim(value));
                        }), list;
                    }
                };
                ctrl.$parsers.push(parse), ctrl.$formatters.push(function(value) {
                    return isArray(value) ? value.join(", ") : undefined;
                }), ctrl.$isEmpty = function(value) {
                    return !value || !value.length;
                };
            }
        };
    }, CONSTANT_VALUE_REGEXP = /^(true|false|\d+)$/, ngValueDirective = function() {
        return {
            priority: 100,
            compile: function(tpl, tplAttr) {
                return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue) ? function(scope, elm, attr) {
                    attr.$set("value", scope.$eval(attr.ngValue));
                } : function(scope, elm, attr) {
                    scope.$watch(attr.ngValue, function(value) {
                        attr.$set("value", value);
                    });
                };
            }
        };
    }, ngBindDirective = ngDirective({
        compile: function(templateElement) {
            return templateElement.addClass("ng-binding"), function(scope, element, attr) {
                element.data("$binding", attr.ngBind), scope.$watch(attr.ngBind, function(value) {
                    element.text(value == undefined ? "" : value);
                });
            };
        }
    }), ngBindTemplateDirective = [ "$interpolate", function($interpolate) {
        return function(scope, element, attr) {
            var interpolateFn = $interpolate(element.attr(attr.$attr.ngBindTemplate));
            element.addClass("ng-binding").data("$binding", interpolateFn), attr.$observe("ngBindTemplate", function(value) {
                element.text(value);
            });
        };
    } ], ngBindHtmlDirective = [ "$sce", "$parse", function($sce, $parse) {
        return {
            compile: function(tElement) {
                return tElement.addClass("ng-binding"), function(scope, element, attr) {
                    function getStringValue() {
                        return (parsed(scope) || "").toString();
                    }
                    element.data("$binding", attr.ngBindHtml);
                    var parsed = $parse(attr.ngBindHtml);
                    scope.$watch(getStringValue, function(value) {
                        element.html($sce.getTrustedHtml(parsed(scope)) || "");
                    });
                };
            }
        };
    } ], ngClassDirective = classDirective("", !0), ngClassOddDirective = classDirective("Odd", 0), ngClassEvenDirective = classDirective("Even", 1), ngCloakDirective = ngDirective({
        compile: function(element, attr) {
            attr.$set("ngCloak", undefined), element.removeClass("ng-cloak");
        }
    }), ngControllerDirective = [ function() {
        return {
            scope: !0,
            controller: "@",
            priority: 500
        };
    } ], ngEventDirectives = {}, forceAsyncEvents = {
        blur: !0,
        focus: !0
    };
    forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(eventName) {
        var directiveName = directiveNormalize("ng-" + eventName);
        ngEventDirectives[directiveName] = [ "$parse", "$rootScope", function($parse, $rootScope) {
            return {
                compile: function($element, attr) {
                    var fn = $parse(attr[directiveName], !0);
                    return function(scope, element) {
                        element.on(eventName, function(event) {
                            var callback = function() {
                                fn(scope, {
                                    $event: event
                                });
                            };
                            forceAsyncEvents[eventName] && $rootScope.$$phase ? scope.$evalAsync(callback) : scope.$apply(callback);
                        });
                    };
                }
            };
        } ];
    });
    var ngIfDirective = [ "$animate", function($animate) {
        return {
            transclude: "element",
            priority: 600,
            terminal: !0,
            restrict: "A",
            $$tlb: !0,
            link: function($scope, $element, $attr, ctrl, $transclude) {
                var block, childScope, previousElements;
                $scope.$watch($attr.ngIf, function(value) {
                    toBoolean(value) ? childScope || (childScope = $scope.$new(), $transclude(childScope, function(clone) {
                        clone[clone.length++] = document.createComment(" end ngIf: " + $attr.ngIf + " "), 
                        block = {
                            clone: clone
                        }, $animate.enter(clone, $element.parent(), $element);
                    })) : (previousElements && (previousElements.remove(), previousElements = null), 
                    childScope && (childScope.$destroy(), childScope = null), block && (previousElements = getBlockElements(block.clone), 
                    $animate.leave(previousElements, function() {
                        previousElements = null;
                    }), block = null));
                });
            }
        };
    } ], ngIncludeDirective = [ "$http", "$templateCache", "$anchorScroll", "$animate", "$sce", function($http, $templateCache, $anchorScroll, $animate, $sce) {
        return {
            restrict: "ECA",
            priority: 400,
            terminal: !0,
            transclude: "element",
            controller: angular.noop,
            compile: function(element, attr) {
                var srcExp = attr.ngInclude || attr.src, onloadExp = attr.onload || "", autoScrollExp = attr.autoscroll;
                return function(scope, $element, $attr, ctrl, $transclude) {
                    var currentScope, previousElement, currentElement, changeCounter = 0, cleanupLastIncludeContent = function() {
                        previousElement && (previousElement.remove(), previousElement = null), currentScope && (currentScope.$destroy(), 
                        currentScope = null), currentElement && ($animate.leave(currentElement, function() {
                            previousElement = null;
                        }), previousElement = currentElement, currentElement = null);
                    };
                    scope.$watch($sce.parseAsResourceUrl(srcExp), function(src) {
                        var afterAnimation = function() {
                            !isDefined(autoScrollExp) || autoScrollExp && !scope.$eval(autoScrollExp) || $anchorScroll();
                        }, thisChangeId = ++changeCounter;
                        src ? ($http.get(src, {
                            cache: $templateCache
                        }).success(function(response) {
                            if (thisChangeId === changeCounter) {
                                var newScope = scope.$new();
                                ctrl.template = response;
                                var clone = $transclude(newScope, function(clone) {
                                    cleanupLastIncludeContent(), $animate.enter(clone, null, $element, afterAnimation);
                                });
                                currentScope = newScope, currentElement = clone, currentScope.$emit("$includeContentLoaded"), 
                                scope.$eval(onloadExp);
                            }
                        }).error(function() {
                            thisChangeId === changeCounter && cleanupLastIncludeContent();
                        }), scope.$emit("$includeContentRequested")) : (cleanupLastIncludeContent(), ctrl.template = null);
                    });
                };
            }
        };
    } ], ngIncludeFillContentDirective = [ "$compile", function($compile) {
        return {
            restrict: "ECA",
            priority: -400,
            require: "ngInclude",
            link: function(scope, $element, $attr, ctrl) {
                $element.html(ctrl.template), $compile($element.contents())(scope);
            }
        };
    } ], ngInitDirective = ngDirective({
        priority: 450,
        compile: function() {
            return {
                pre: function(scope, element, attrs) {
                    scope.$eval(attrs.ngInit);
                }
            };
        }
    }), ngNonBindableDirective = ngDirective({
        terminal: !0,
        priority: 1e3
    }), ngPluralizeDirective = [ "$locale", "$interpolate", function($locale, $interpolate) {
        var BRACE = /{}/g;
        return {
            restrict: "EA",
            link: function(scope, element, attr) {
                var numberExp = attr.count, whenExp = attr.$attr.when && element.attr(attr.$attr.when), offset = attr.offset || 0, whens = scope.$eval(whenExp) || {}, whensExpFns = {}, startSymbol = $interpolate.startSymbol(), endSymbol = $interpolate.endSymbol(), isWhen = /^when(Minus)?(.+)$/;
                forEach(attr, function(expression, attributeName) {
                    isWhen.test(attributeName) && (whens[lowercase(attributeName.replace("when", "").replace("Minus", "-"))] = element.attr(attr.$attr[attributeName]));
                }), forEach(whens, function(expression, key) {
                    whensExpFns[key] = $interpolate(expression.replace(BRACE, startSymbol + numberExp + "-" + offset + endSymbol));
                }), scope.$watch(function() {
                    var value = parseFloat(scope.$eval(numberExp));
                    return isNaN(value) ? "" : (value in whens || (value = $locale.pluralCat(value - offset)), 
                    whensExpFns[value](scope, element, !0));
                }, function(newVal) {
                    element.text(newVal);
                });
            }
        };
    } ], ngRepeatDirective = [ "$parse", "$animate", function($parse, $animate) {
        function getBlockStart(block) {
            return block.clone[0];
        }
        function getBlockEnd(block) {
            return block.clone[block.clone.length - 1];
        }
        var NG_REMOVED = "$$NG_REMOVED", ngRepeatMinErr = minErr("ngRepeat");
        return {
            transclude: "element",
            priority: 1e3,
            terminal: !0,
            $$tlb: !0,
            link: function($scope, $element, $attr, ctrl, $transclude) {
                var trackByExp, trackByExpGetter, trackByIdExpFn, trackByIdArrayFn, trackByIdObjFn, lhs, rhs, valueIdentifier, keyIdentifier, expression = $attr.ngRepeat, match = expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/), hashFnLocals = {
                    $id: hashKey
                };
                if (!match) throw ngRepeatMinErr("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", expression);
                if (lhs = match[1], rhs = match[2], trackByExp = match[3], trackByExp ? (trackByExpGetter = $parse(trackByExp), 
                trackByIdExpFn = function(key, value, index) {
                    return keyIdentifier && (hashFnLocals[keyIdentifier] = key), hashFnLocals[valueIdentifier] = value, 
                    hashFnLocals.$index = index, trackByExpGetter($scope, hashFnLocals);
                }) : (trackByIdArrayFn = function(key, value) {
                    return hashKey(value);
                }, trackByIdObjFn = function(key) {
                    return key;
                }), match = lhs.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/), !match) throw ngRepeatMinErr("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", lhs);
                valueIdentifier = match[3] || match[1], keyIdentifier = match[2];
                var lastBlockMap = {};
                $scope.$watchCollection(rhs, function(collection) {
                    var index, length, nextNode, arrayLength, childScope, key, value, trackById, trackByIdFn, collectionKeys, block, elementsToRemove, previousNode = $element[0], nextBlockMap = {}, nextBlockOrder = [];
                    if (isArrayLike(collection)) collectionKeys = collection, trackByIdFn = trackByIdExpFn || trackByIdArrayFn; else {
                        trackByIdFn = trackByIdExpFn || trackByIdObjFn, collectionKeys = [];
                        for (key in collection) collection.hasOwnProperty(key) && "$" != key.charAt(0) && collectionKeys.push(key);
                        collectionKeys.sort();
                    }
                    for (arrayLength = collectionKeys.length, length = nextBlockOrder.length = collectionKeys.length, 
                    index = 0; index < length; index++) if (key = collection === collectionKeys ? index : collectionKeys[index], 
                    value = collection[key], trackById = trackByIdFn(key, value, index), assertNotHasOwnProperty(trackById, "`track by` id"), 
                    lastBlockMap.hasOwnProperty(trackById)) block = lastBlockMap[trackById], delete lastBlockMap[trackById], 
                    nextBlockMap[trackById] = block, nextBlockOrder[index] = block; else {
                        if (nextBlockMap.hasOwnProperty(trackById)) throw forEach(nextBlockOrder, function(block) {
                            block && block.scope && (lastBlockMap[block.id] = block);
                        }), ngRepeatMinErr("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", expression, trackById, toJson(value));
                        nextBlockOrder[index] = {
                            id: trackById
                        }, nextBlockMap[trackById] = !1;
                    }
                    for (key in lastBlockMap) lastBlockMap.hasOwnProperty(key) && (block = lastBlockMap[key], 
                    elementsToRemove = getBlockElements(block.clone), $animate.leave(elementsToRemove), 
                    forEach(elementsToRemove, function(element) {
                        element[NG_REMOVED] = !0;
                    }), block.scope.$destroy());
                    for (index = 0, length = collectionKeys.length; index < length; index++) {
                        if (key = collection === collectionKeys ? index : collectionKeys[index], value = collection[key], 
                        block = nextBlockOrder[index], nextBlockOrder[index - 1] && (previousNode = getBlockEnd(nextBlockOrder[index - 1])), 
                        block.scope) {
                            childScope = block.scope, nextNode = previousNode;
                            do nextNode = nextNode.nextSibling; while (nextNode && nextNode[NG_REMOVED]);
                            getBlockStart(block) != nextNode && $animate.move(getBlockElements(block.clone), null, jqLite(previousNode)), 
                            previousNode = getBlockEnd(block);
                        } else childScope = $scope.$new();
                        childScope[valueIdentifier] = value, keyIdentifier && (childScope[keyIdentifier] = key), 
                        childScope.$index = index, childScope.$first = 0 === index, childScope.$last = index === arrayLength - 1, 
                        childScope.$middle = !(childScope.$first || childScope.$last), childScope.$odd = !(childScope.$even = 0 === (1 & index)), 
                        block.scope || $transclude(childScope, function(clone) {
                            clone[clone.length++] = document.createComment(" end ngRepeat: " + expression + " "), 
                            $animate.enter(clone, null, jqLite(previousNode)), previousNode = clone, block.scope = childScope, 
                            block.clone = clone, nextBlockMap[block.id] = block;
                        });
                    }
                    lastBlockMap = nextBlockMap;
                });
            }
        };
    } ], ngShowDirective = [ "$animate", function($animate) {
        return function(scope, element, attr) {
            scope.$watch(attr.ngShow, function(value) {
                $animate[toBoolean(value) ? "removeClass" : "addClass"](element, "ng-hide");
            });
        };
    } ], ngHideDirective = [ "$animate", function($animate) {
        return function(scope, element, attr) {
            scope.$watch(attr.ngHide, function(value) {
                $animate[toBoolean(value) ? "addClass" : "removeClass"](element, "ng-hide");
            });
        };
    } ], ngStyleDirective = ngDirective(function(scope, element, attr) {
        scope.$watch(attr.ngStyle, function(newStyles, oldStyles) {
            oldStyles && newStyles !== oldStyles && forEach(oldStyles, function(val, style) {
                element.css(style, "");
            }), newStyles && element.css(newStyles);
        }, !0);
    }), ngSwitchDirective = [ "$animate", function($animate) {
        return {
            restrict: "EA",
            require: "ngSwitch",
            controller: [ "$scope", function() {
                this.cases = {};
            } ],
            link: function(scope, element, attr, ngSwitchController) {
                var watchExpr = attr.ngSwitch || attr.on, selectedTranscludes = [], selectedElements = [], previousElements = [], selectedScopes = [];
                scope.$watch(watchExpr, function(value) {
                    var i, ii;
                    for (i = 0, ii = previousElements.length; i < ii; ++i) previousElements[i].remove();
                    for (previousElements.length = 0, i = 0, ii = selectedScopes.length; i < ii; ++i) {
                        var selected = selectedElements[i];
                        selectedScopes[i].$destroy(), previousElements[i] = selected, $animate.leave(selected, function() {
                            previousElements.splice(i, 1);
                        });
                    }
                    selectedElements.length = 0, selectedScopes.length = 0, (selectedTranscludes = ngSwitchController.cases["!" + value] || ngSwitchController.cases["?"]) && (scope.$eval(attr.change), 
                    forEach(selectedTranscludes, function(selectedTransclude) {
                        var selectedScope = scope.$new();
                        selectedScopes.push(selectedScope), selectedTransclude.transclude(selectedScope, function(caseElement) {
                            var anchor = selectedTransclude.element;
                            selectedElements.push(caseElement), $animate.enter(caseElement, anchor.parent(), anchor);
                        });
                    }));
                });
            }
        };
    } ], ngSwitchWhenDirective = ngDirective({
        transclude: "element",
        priority: 800,
        require: "^ngSwitch",
        link: function(scope, element, attrs, ctrl, $transclude) {
            ctrl.cases["!" + attrs.ngSwitchWhen] = ctrl.cases["!" + attrs.ngSwitchWhen] || [], 
            ctrl.cases["!" + attrs.ngSwitchWhen].push({
                transclude: $transclude,
                element: element
            });
        }
    }), ngSwitchDefaultDirective = ngDirective({
        transclude: "element",
        priority: 800,
        require: "^ngSwitch",
        link: function(scope, element, attr, ctrl, $transclude) {
            ctrl.cases["?"] = ctrl.cases["?"] || [], ctrl.cases["?"].push({
                transclude: $transclude,
                element: element
            });
        }
    }), ngTranscludeDirective = ngDirective({
        link: function($scope, $element, $attrs, controller, $transclude) {
            if (!$transclude) throw minErr("ngTransclude")("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", startingTag($element));
            $transclude(function(clone) {
                $element.empty(), $element.append(clone);
            });
        }
    }), scriptDirective = [ "$templateCache", function($templateCache) {
        return {
            restrict: "E",
            terminal: !0,
            compile: function(element, attr) {
                if ("text/ng-template" == attr.type) {
                    var templateUrl = attr.id, text = element[0].text;
                    $templateCache.put(templateUrl, text);
                }
            }
        };
    } ], ngOptionsMinErr = minErr("ngOptions"), ngOptionsDirective = valueFn({
        terminal: !0
    }), selectDirective = [ "$compile", "$parse", function($compile, $parse) {
        var NG_OPTIONS_REGEXP = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, nullModelCtrl = {
            $setViewValue: noop
        };
        return {
            restrict: "E",
            require: [ "select", "?ngModel" ],
            controller: [ "$element", "$scope", "$attrs", function($element, $scope, $attrs) {
                var nullOption, unknownOption, self = this, optionsMap = {}, ngModelCtrl = nullModelCtrl;
                self.databound = $attrs.ngModel, self.init = function(ngModelCtrl_, nullOption_, unknownOption_) {
                    ngModelCtrl = ngModelCtrl_, nullOption = nullOption_, unknownOption = unknownOption_;
                }, self.addOption = function(value) {
                    assertNotHasOwnProperty(value, '"option value"'), optionsMap[value] = !0, ngModelCtrl.$viewValue == value && ($element.val(value), 
                    unknownOption.parent() && unknownOption.remove());
                }, self.removeOption = function(value) {
                    this.hasOption(value) && (delete optionsMap[value], ngModelCtrl.$viewValue == value && this.renderUnknownOption(value));
                }, self.renderUnknownOption = function(val) {
                    var unknownVal = "? " + hashKey(val) + " ?";
                    unknownOption.val(unknownVal), $element.prepend(unknownOption), $element.val(unknownVal), 
                    unknownOption.prop("selected", !0);
                }, self.hasOption = function(value) {
                    return optionsMap.hasOwnProperty(value);
                }, $scope.$on("$destroy", function() {
                    self.renderUnknownOption = noop;
                });
            } ],
            link: function(scope, element, attr, ctrls) {
                function setupAsSingle(scope, selectElement, ngModelCtrl, selectCtrl) {
                    ngModelCtrl.$render = function() {
                        var viewValue = ngModelCtrl.$viewValue;
                        selectCtrl.hasOption(viewValue) ? (unknownOption.parent() && unknownOption.remove(), 
                        selectElement.val(viewValue), "" === viewValue && emptyOption.prop("selected", !0)) : isUndefined(viewValue) && emptyOption ? selectElement.val("") : selectCtrl.renderUnknownOption(viewValue);
                    }, selectElement.on("change", function() {
                        scope.$apply(function() {
                            unknownOption.parent() && unknownOption.remove(), ngModelCtrl.$setViewValue(selectElement.val());
                        });
                    });
                }
                function setupAsMultiple(scope, selectElement, ctrl) {
                    var lastView;
                    ctrl.$render = function() {
                        var items = new HashMap(ctrl.$viewValue);
                        forEach(selectElement.find("option"), function(option) {
                            option.selected = isDefined(items.get(option.value));
                        });
                    }, scope.$watch(function() {
                        equals(lastView, ctrl.$viewValue) || (lastView = shallowCopy(ctrl.$viewValue), ctrl.$render());
                    }), selectElement.on("change", function() {
                        scope.$apply(function() {
                            var array = [];
                            forEach(selectElement.find("option"), function(option) {
                                option.selected && array.push(option.value);
                            }), ctrl.$setViewValue(array);
                        });
                    });
                }
                function setupAsOptions(scope, selectElement, ctrl) {
                    function getSelectedSet() {
                        var selectedSet = !1;
                        if (multiple) {
                            var modelValue = ctrl.$modelValue;
                            if (trackFn && isArray(modelValue)) {
                                selectedSet = new HashMap([]);
                                for (var locals = {}, trackIndex = 0; trackIndex < modelValue.length; trackIndex++) locals[valueName] = modelValue[trackIndex], 
                                selectedSet.put(trackFn(scope, locals), modelValue[trackIndex]);
                            } else selectedSet = new HashMap(modelValue);
                        }
                        return selectedSet;
                    }
                    function render() {
                        var optionGroupName, optionGroup, option, existingParent, existingOptions, existingOption, key, groupLength, length, groupIndex, index, selected, lastElement, element, label, optionGroups = {
                            "": []
                        }, optionGroupNames = [ "" ], modelValue = ctrl.$modelValue, values = valuesFn(scope) || [], keys = keyName ? sortedKeys(values) : values, locals = {}, selectedSet = getSelectedSet();
                        for (index = 0; length = keys.length, index < length; index++) {
                            if (key = index, keyName) {
                                if (key = keys[index], "$" === key.charAt(0)) continue;
                                locals[keyName] = key;
                            }
                            if (locals[valueName] = values[key], optionGroupName = groupByFn(scope, locals) || "", 
                            (optionGroup = optionGroups[optionGroupName]) || (optionGroup = optionGroups[optionGroupName] = [], 
                            optionGroupNames.push(optionGroupName)), multiple) selected = isDefined(selectedSet.remove(trackFn ? trackFn(scope, locals) : valueFn(scope, locals))); else {
                                if (trackFn) {
                                    var modelCast = {};
                                    modelCast[valueName] = modelValue, selected = trackFn(scope, modelCast) === trackFn(scope, locals);
                                } else selected = modelValue === valueFn(scope, locals);
                                selectedSet = selectedSet || selected;
                            }
                            label = displayFn(scope, locals), label = isDefined(label) ? label : "", optionGroup.push({
                                id: trackFn ? trackFn(scope, locals) : keyName ? keys[index] : index,
                                label: label,
                                selected: selected
                            });
                        }
                        for (multiple || (nullOption || null === modelValue ? optionGroups[""].unshift({
                            id: "",
                            label: "",
                            selected: !selectedSet
                        }) : selectedSet || optionGroups[""].unshift({
                            id: "?",
                            label: "",
                            selected: !0
                        })), groupIndex = 0, groupLength = optionGroupNames.length; groupIndex < groupLength; groupIndex++) {
                            for (optionGroupName = optionGroupNames[groupIndex], optionGroup = optionGroups[optionGroupName], 
                            optionGroupsCache.length <= groupIndex ? (existingParent = {
                                element: optGroupTemplate.clone().attr("label", optionGroupName),
                                label: optionGroup.label
                            }, existingOptions = [ existingParent ], optionGroupsCache.push(existingOptions), 
                            selectElement.append(existingParent.element)) : (existingOptions = optionGroupsCache[groupIndex], 
                            existingParent = existingOptions[0], existingParent.label != optionGroupName && existingParent.element.attr("label", existingParent.label = optionGroupName)), 
                            lastElement = null, index = 0, length = optionGroup.length; index < length; index++) option = optionGroup[index], 
                            (existingOption = existingOptions[index + 1]) ? (lastElement = existingOption.element, 
                            existingOption.label !== option.label && (lastElement.text(existingOption.label = option.label), 
                            lastElement.prop("label", existingOption.label)), existingOption.id !== option.id && lastElement.val(existingOption.id = option.id), 
                            lastElement[0].selected !== option.selected && (lastElement.prop("selected", existingOption.selected = option.selected), 
                            msie && lastElement.prop("selected", existingOption.selected))) : ("" === option.id && nullOption ? element = nullOption : (element = optionTemplate.clone()).val(option.id).prop("selected", option.selected).attr("selected", option.selected).prop("label", option.label).text(option.label), 
                            existingOptions.push(existingOption = {
                                element: element,
                                label: option.label,
                                id: option.id,
                                selected: option.selected
                            }), selectCtrl.addOption(option.label, element), lastElement ? lastElement.after(element) : existingParent.element.append(element), 
                            lastElement = element);
                            for (index++; existingOptions.length > index; ) option = existingOptions.pop(), 
                            selectCtrl.removeOption(option.label), option.element.remove();
                        }
                        for (;optionGroupsCache.length > groupIndex; ) optionGroupsCache.pop()[0].element.remove();
                    }
                    var match;
                    if (!(match = optionsExp.match(NG_OPTIONS_REGEXP))) throw ngOptionsMinErr("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", optionsExp, startingTag(selectElement));
                    var displayFn = $parse(match[2] || match[1]), valueName = match[4] || match[6], keyName = match[5], groupByFn = $parse(match[3] || ""), valueFn = $parse(match[2] ? match[1] : valueName), valuesFn = $parse(match[7]), track = match[8], trackFn = track ? $parse(match[8]) : null, optionGroupsCache = [ [ {
                        element: selectElement,
                        label: ""
                    } ] ];
                    nullOption && ($compile(nullOption)(scope), nullOption.removeClass("ng-scope"), 
                    nullOption.remove()), selectElement.empty(), selectElement.on("change", function() {
                        scope.$apply(function() {
                            var optionGroup, key, value, optionElement, index, groupIndex, length, groupLength, trackIndex, collection = valuesFn(scope) || [], locals = {};
                            if (multiple) {
                                for (value = [], groupIndex = 0, groupLength = optionGroupsCache.length; groupIndex < groupLength; groupIndex++) for (optionGroup = optionGroupsCache[groupIndex], 
                                index = 1, length = optionGroup.length; index < length; index++) if ((optionElement = optionGroup[index].element)[0].selected) {
                                    if (key = optionElement.val(), keyName && (locals[keyName] = key), trackFn) for (trackIndex = 0; trackIndex < collection.length && (locals[valueName] = collection[trackIndex], 
                                    trackFn(scope, locals) != key); trackIndex++) ; else locals[valueName] = collection[key];
                                    value.push(valueFn(scope, locals));
                                }
                            } else if (key = selectElement.val(), "?" == key) value = undefined; else if ("" === key) value = null; else if (trackFn) {
                                for (trackIndex = 0; trackIndex < collection.length; trackIndex++) if (locals[valueName] = collection[trackIndex], 
                                trackFn(scope, locals) == key) {
                                    value = valueFn(scope, locals);
                                    break;
                                }
                            } else locals[valueName] = collection[key], keyName && (locals[keyName] = key), 
                            value = valueFn(scope, locals);
                            ctrl.$setViewValue(value), render();
                        });
                    }), ctrl.$render = render, scope.$watchCollection(valuesFn, render), scope.$watchCollection(function() {
                        var locals = {}, values = valuesFn(scope);
                        if (values) {
                            for (var toDisplay = new Array(values.length), i = 0, ii = values.length; i < ii; i++) locals[valueName] = values[i], 
                            toDisplay[i] = displayFn(scope, locals);
                            return toDisplay;
                        }
                    }, render), multiple && scope.$watchCollection(function() {
                        return ctrl.$modelValue;
                    }, render);
                }
                if (ctrls[1]) {
                    for (var emptyOption, selectCtrl = ctrls[0], ngModelCtrl = ctrls[1], multiple = attr.multiple, optionsExp = attr.ngOptions, nullOption = !1, optionTemplate = jqLite(document.createElement("option")), optGroupTemplate = jqLite(document.createElement("optgroup")), unknownOption = optionTemplate.clone(), i = 0, children = element.children(), ii = children.length; i < ii; i++) if ("" === children[i].value) {
                        emptyOption = nullOption = children.eq(i);
                        break;
                    }
                    selectCtrl.init(ngModelCtrl, nullOption, unknownOption), multiple && (ngModelCtrl.$isEmpty = function(value) {
                        return !value || 0 === value.length;
                    }), optionsExp ? setupAsOptions(scope, element, ngModelCtrl) : multiple ? setupAsMultiple(scope, element, ngModelCtrl) : setupAsSingle(scope, element, ngModelCtrl, selectCtrl);
                }
            }
        };
    } ], optionDirective = [ "$interpolate", function($interpolate) {
        var nullSelectCtrl = {
            addOption: noop,
            removeOption: noop
        };
        return {
            restrict: "E",
            priority: 100,
            compile: function(element, attr) {
                if (isUndefined(attr.value)) {
                    var interpolateFn = $interpolate(element.text(), !0);
                    interpolateFn || attr.$set("value", element.text());
                }
                return function(scope, element, attr) {
                    var selectCtrlName = "$selectController", parent = element.parent(), selectCtrl = parent.data(selectCtrlName) || parent.parent().data(selectCtrlName);
                    selectCtrl && selectCtrl.databound ? element.prop("selected", !1) : selectCtrl = nullSelectCtrl, 
                    interpolateFn ? scope.$watch(interpolateFn, function(newVal, oldVal) {
                        attr.$set("value", newVal), newVal !== oldVal && selectCtrl.removeOption(oldVal), 
                        selectCtrl.addOption(newVal);
                    }) : selectCtrl.addOption(attr.value), element.on("$destroy", function() {
                        selectCtrl.removeOption(attr.value);
                    });
                };
            }
        };
    } ], styleDirective = valueFn({
        restrict: "E",
        terminal: !0
    });
    return window.angular.bootstrap ? void console.log("WARNING: Tried to load angular more than once.") : (bindJQuery(), 
    publishExternalAPI(angular), void jqLite(document).ready(function() {
        angularInit(document, bootstrap);
    }));
}(window, document), !window.angular.$$csp() && window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'), 
function(window, angular, undefined) {
    "use strict";
    function $SanitizeProvider() {
        this.$get = [ "$$sanitizeUri", function($$sanitizeUri) {
            return function(html) {
                var buf = [];
                return htmlParser(html, htmlSanitizeWriter(buf, function(uri, isImage) {
                    return !/^unsafe/.test($$sanitizeUri(uri, isImage));
                })), buf.join("");
            };
        } ];
    }
    function sanitizeText(chars) {
        var buf = [], writer = htmlSanitizeWriter(buf, angular.noop);
        return writer.chars(chars), buf.join("");
    }
    function makeMap(str) {
        var i, obj = {}, items = str.split(",");
        for (i = 0; i < items.length; i++) obj[items[i]] = !0;
        return obj;
    }
    function htmlParser(html, handler) {
        function parseStartTag(tag, tagName, rest, unary) {
            if (tagName = angular.lowercase(tagName), blockElements[tagName]) for (;stack.last() && inlineElements[stack.last()]; ) parseEndTag("", stack.last());
            optionalEndTagElements[tagName] && stack.last() == tagName && parseEndTag("", tagName), 
            unary = voidElements[tagName] || !!unary, unary || stack.push(tagName);
            var attrs = {};
            rest.replace(ATTR_REGEXP, function(match, name, doubleQuotedValue, singleQuotedValue, unquotedValue) {
                var value = doubleQuotedValue || singleQuotedValue || unquotedValue || "";
                attrs[name] = decodeEntities(value);
            }), handler.start && handler.start(tagName, attrs, unary);
        }
        function parseEndTag(tag, tagName) {
            var i, pos = 0;
            if (tagName = angular.lowercase(tagName)) for (pos = stack.length - 1; pos >= 0 && stack[pos] != tagName; pos--) ;
            if (pos >= 0) {
                for (i = stack.length - 1; i >= pos; i--) handler.end && handler.end(stack[i]);
                stack.length = pos;
            }
        }
        "string" != typeof html && (html = null === html || "undefined" == typeof html ? "" : "" + html);
        var index, chars, match, text, stack = [], last = html;
        for (stack.last = function() {
            return stack[stack.length - 1];
        }; html; ) {
            if (text = "", chars = !0, stack.last() && specialElements[stack.last()] ? (html = html.replace(new RegExp("(.*)<\\s*\\/\\s*" + stack.last() + "[^>]*>", "i"), function(all, text) {
                return text = text.replace(COMMENT_REGEXP, "$1").replace(CDATA_REGEXP, "$1"), handler.chars && handler.chars(decodeEntities(text)), 
                "";
            }), parseEndTag("", stack.last())) : (0 === html.indexOf("<!--") ? (index = html.indexOf("--", 4), 
            index >= 0 && html.lastIndexOf("-->", index) === index && (handler.comment && handler.comment(html.substring(4, index)), 
            html = html.substring(index + 3), chars = !1)) : DOCTYPE_REGEXP.test(html) ? (match = html.match(DOCTYPE_REGEXP), 
            match && (html = html.replace(match[0], ""), chars = !1)) : BEGING_END_TAGE_REGEXP.test(html) ? (match = html.match(END_TAG_REGEXP), 
            match && (html = html.substring(match[0].length), match[0].replace(END_TAG_REGEXP, parseEndTag), 
            chars = !1)) : BEGIN_TAG_REGEXP.test(html) && (match = html.match(START_TAG_REGEXP), 
            match ? (match[4] && (html = html.substring(match[0].length), match[0].replace(START_TAG_REGEXP, parseStartTag)), 
            chars = !1) : (text += "<", html = html.substring(1))), chars && (index = html.indexOf("<"), 
            text += index < 0 ? html : html.substring(0, index), html = index < 0 ? "" : html.substring(index), 
            handler.chars && handler.chars(decodeEntities(text)))), html == last) throw $sanitizeMinErr("badparse", "The sanitizer was unable to parse the following block of html: {0}", html);
            last = html;
        }
        parseEndTag();
    }
    function decodeEntities(value) {
        if (!value) return "";
        var parts = spaceRe.exec(value), spaceBefore = parts[1], spaceAfter = parts[3], content = parts[2];
        return content && (hiddenPre.innerHTML = content.replace(/</g, "&lt;"), content = "textContent" in hiddenPre ? hiddenPre.textContent : hiddenPre.innerText), 
        spaceBefore + content + spaceAfter;
    }
    function encodeEntities(value) {
        return value.replace(/&/g, "&amp;").replace(SURROGATE_PAIR_REGEXP, function(value) {
            var hi = value.charCodeAt(0), low = value.charCodeAt(1);
            return "&#" + (1024 * (hi - 55296) + (low - 56320) + 65536) + ";";
        }).replace(NON_ALPHANUMERIC_REGEXP, function(value) {
            return "&#" + value.charCodeAt(0) + ";";
        }).replace(/</g, "&lt;").replace(/>/g, "&gt;");
    }
    function htmlSanitizeWriter(buf, uriValidator) {
        var ignore = !1, out = angular.bind(buf, buf.push);
        return {
            start: function(tag, attrs, unary) {
                tag = angular.lowercase(tag), !ignore && specialElements[tag] && (ignore = tag), 
                ignore || validElements[tag] !== !0 || (out("<"), out(tag), angular.forEach(attrs, function(value, key) {
                    var lkey = angular.lowercase(key), isImage = "img" === tag && "src" === lkey || "background" === lkey;
                    validAttrs[lkey] !== !0 || uriAttrs[lkey] === !0 && !uriValidator(value, isImage) || (out(" "), 
                    out(key), out('="'), out(encodeEntities(value)), out('"'));
                }), out(unary ? "/>" : ">"));
            },
            end: function(tag) {
                tag = angular.lowercase(tag), ignore || validElements[tag] !== !0 || (out("</"), 
                out(tag), out(">")), tag == ignore && (ignore = !1);
            },
            chars: function(chars) {
                ignore || out(encodeEntities(chars));
            }
        };
    }
    var $sanitizeMinErr = angular.$$minErr("$sanitize"), START_TAG_REGEXP = /^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/, END_TAG_REGEXP = /^<\/\s*([\w:-]+)[^>]*>/, ATTR_REGEXP = /([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g, BEGIN_TAG_REGEXP = /^</, BEGING_END_TAGE_REGEXP = /^<\//, COMMENT_REGEXP = /<!--(.*?)-->/g, DOCTYPE_REGEXP = /<!DOCTYPE([^>]*?)>/i, CDATA_REGEXP = /<!\[CDATA\[(.*?)]]>/g, SURROGATE_PAIR_REGEXP = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, NON_ALPHANUMERIC_REGEXP = /([^\#-~| |!])/g, voidElements = makeMap("area,br,col,hr,img,wbr"), optionalEndTagBlockElements = makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), optionalEndTagInlineElements = makeMap("rp,rt"), optionalEndTagElements = angular.extend({}, optionalEndTagInlineElements, optionalEndTagBlockElements), blockElements = angular.extend({}, optionalEndTagBlockElements, makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")), inlineElements = angular.extend({}, optionalEndTagInlineElements, makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")), specialElements = makeMap("script,style"), validElements = angular.extend({}, voidElements, blockElements, inlineElements, optionalEndTagElements), uriAttrs = makeMap("background,cite,href,longdesc,src"), validAttrs = angular.extend({}, uriAttrs, makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")), hiddenPre = document.createElement("pre"), spaceRe = /^(\s*)([\s\S]*?)(\s*)$/;
    angular.module("ngSanitize", []).provider("$sanitize", $SanitizeProvider), angular.module("ngSanitize").filter("linky", [ "$sanitize", function($sanitize) {
        var LINKY_URL_REGEXP = /((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/, MAILTO_REGEXP = /^mailto:/;
        return function(text, target) {
            function addText(text) {
                text && html.push(sanitizeText(text));
            }
            function addLink(url, text) {
                html.push("<a "), angular.isDefined(target) && (html.push('target="'), html.push(target), 
                html.push('" ')), html.push('href="', url.replace('"', "&quot;"), '">'), addText(text), 
                html.push("</a>");
            }
            if (!text) return text;
            for (var match, url, i, raw = text, html = []; match = raw.match(LINKY_URL_REGEXP); ) url = match[0], 
            match[2] == match[3] && (url = "mailto:" + url), i = match.index, addText(raw.substr(0, i)), 
            addLink(url, match[0].replace(MAILTO_REGEXP, "")), raw = raw.substring(i + match[0].length);
            return addText(raw), $sanitize(html.join(""));
        };
    } ]);
}(window, window.angular), function(undefined) {
    function defaultParsingFlags() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        };
    }
    function padToken(func, count) {
        return function(a) {
            return leftZeroFill(func.call(this, a), count);
        };
    }
    function ordinalizeToken(func, period) {
        return function(a) {
            return this.lang().ordinal(func.call(this, a), period);
        };
    }
    function Language() {}
    function Moment(config) {
        checkOverflow(config), extend(this, config);
    }
    function Duration(duration) {
        var normalizedInput = normalizeObjectUnits(duration), years = normalizedInput.year || 0, months = normalizedInput.month || 0, weeks = normalizedInput.week || 0, days = normalizedInput.day || 0, hours = normalizedInput.hour || 0, minutes = normalizedInput.minute || 0, seconds = normalizedInput.second || 0, milliseconds = normalizedInput.millisecond || 0;
        this._milliseconds = +milliseconds + 1e3 * seconds + 6e4 * minutes + 36e5 * hours, 
        this._days = +days + 7 * weeks, this._months = +months + 12 * years, this._data = {}, 
        this._bubble();
    }
    function extend(a, b) {
        for (var i in b) b.hasOwnProperty(i) && (a[i] = b[i]);
        return b.hasOwnProperty("toString") && (a.toString = b.toString), b.hasOwnProperty("valueOf") && (a.valueOf = b.valueOf), 
        a;
    }
    function cloneMoment(m) {
        var i, result = {};
        for (i in m) m.hasOwnProperty(i) && momentProperties.hasOwnProperty(i) && (result[i] = m[i]);
        return result;
    }
    function absRound(number) {
        return number < 0 ? Math.ceil(number) : Math.floor(number);
    }
    function leftZeroFill(number, targetLength, forceSign) {
        for (var output = "" + Math.abs(number), sign = number >= 0; output.length < targetLength; ) output = "0" + output;
        return (sign ? forceSign ? "+" : "" : "-") + output;
    }
    function addOrSubtractDurationFromMoment(mom, duration, isAdding, ignoreUpdateOffset) {
        var minutes, hours, milliseconds = duration._milliseconds, days = duration._days, months = duration._months;
        milliseconds && mom._d.setTime(+mom._d + milliseconds * isAdding), (days || months) && (minutes = mom.minute(), 
        hours = mom.hour()), days && mom.date(mom.date() + days * isAdding), months && mom.month(mom.month() + months * isAdding), 
        milliseconds && !ignoreUpdateOffset && moment.updateOffset(mom), (days || months) && (mom.minute(minutes), 
        mom.hour(hours));
    }
    function isArray(input) {
        return "[object Array]" === Object.prototype.toString.call(input);
    }
    function isDate(input) {
        return "[object Date]" === Object.prototype.toString.call(input) || input instanceof Date;
    }
    function compareArrays(array1, array2, dontConvert) {
        var i, len = Math.min(array1.length, array2.length), lengthDiff = Math.abs(array1.length - array2.length), diffs = 0;
        for (i = 0; i < len; i++) (dontConvert && array1[i] !== array2[i] || !dontConvert && toInt(array1[i]) !== toInt(array2[i])) && diffs++;
        return diffs + lengthDiff;
    }
    function normalizeUnits(units) {
        if (units) {
            var lowered = units.toLowerCase().replace(/(.)s$/, "$1");
            units = unitAliases[units] || camelFunctions[lowered] || lowered;
        }
        return units;
    }
    function normalizeObjectUnits(inputObject) {
        var normalizedProp, prop, normalizedInput = {};
        for (prop in inputObject) inputObject.hasOwnProperty(prop) && (normalizedProp = normalizeUnits(prop), 
        normalizedProp && (normalizedInput[normalizedProp] = inputObject[prop]));
        return normalizedInput;
    }
    function makeList(field) {
        var count, setter;
        if (0 === field.indexOf("week")) count = 7, setter = "day"; else {
            if (0 !== field.indexOf("month")) return;
            count = 12, setter = "month";
        }
        moment[field] = function(format, index) {
            var i, getter, method = moment.fn._lang[field], results = [];
            if ("number" == typeof format && (index = format, format = undefined), getter = function(i) {
                var m = moment().utc().set(setter, i);
                return method.call(moment.fn._lang, m, format || "");
            }, null != index) return getter(index);
            for (i = 0; i < count; i++) results.push(getter(i));
            return results;
        };
    }
    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion, value = 0;
        return 0 !== coercedNumber && isFinite(coercedNumber) && (value = coercedNumber >= 0 ? Math.floor(coercedNumber) : Math.ceil(coercedNumber)), 
        value;
    }
    function daysInMonth(year, month) {
        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
    }
    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }
    function isLeapYear(year) {
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
    }
    function checkOverflow(m) {
        var overflow;
        m._a && m._pf.overflow === -2 && (overflow = m._a[MONTH] < 0 || m._a[MONTH] > 11 ? MONTH : m._a[DATE] < 1 || m._a[DATE] > daysInMonth(m._a[YEAR], m._a[MONTH]) ? DATE : m._a[HOUR] < 0 || m._a[HOUR] > 23 ? HOUR : m._a[MINUTE] < 0 || m._a[MINUTE] > 59 ? MINUTE : m._a[SECOND] < 0 || m._a[SECOND] > 59 ? SECOND : m._a[MILLISECOND] < 0 || m._a[MILLISECOND] > 999 ? MILLISECOND : -1, 
        m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE) && (overflow = DATE), 
        m._pf.overflow = overflow);
    }
    function isValid(m) {
        return null == m._isValid && (m._isValid = !isNaN(m._d.getTime()) && m._pf.overflow < 0 && !m._pf.empty && !m._pf.invalidMonth && !m._pf.nullInput && !m._pf.invalidFormat && !m._pf.userInvalidated, 
        m._strict && (m._isValid = m._isValid && 0 === m._pf.charsLeftOver && 0 === m._pf.unusedTokens.length)), 
        m._isValid;
    }
    function normalizeLanguage(key) {
        return key ? key.toLowerCase().replace("_", "-") : key;
    }
    function makeAs(input, model) {
        return model._isUTC ? moment(input).zone(model._offset || 0) : moment(input).local();
    }
    function loadLang(key, values) {
        return values.abbr = key, languages[key] || (languages[key] = new Language()), languages[key].set(values), 
        languages[key];
    }
    function unloadLang(key) {
        delete languages[key];
    }
    function getLangDefinition(key) {
        var j, lang, next, split, i = 0, get = function(k) {
            if (!languages[k] && hasModule) try {
                require("./lang/" + k);
            } catch (e) {}
            return languages[k];
        };
        if (!key) return moment.fn._lang;
        if (!isArray(key)) {
            if (lang = get(key)) return lang;
            key = [ key ];
        }
        for (;i < key.length; ) {
            for (split = normalizeLanguage(key[i]).split("-"), j = split.length, next = normalizeLanguage(key[i + 1]), 
            next = next ? next.split("-") : null; j > 0; ) {
                if (lang = get(split.slice(0, j).join("-"))) return lang;
                if (next && next.length >= j && compareArrays(split, next, !0) >= j - 1) break;
                j--;
            }
            i++;
        }
        return moment.fn._lang;
    }
    function removeFormattingTokens(input) {
        return input.match(/\[[\s\S]/) ? input.replace(/^\[|\]$/g, "") : input.replace(/\\/g, "");
    }
    function makeFormatFunction(format) {
        var i, length, array = format.match(formattingTokens);
        for (i = 0, length = array.length; i < length; i++) formatTokenFunctions[array[i]] ? array[i] = formatTokenFunctions[array[i]] : array[i] = removeFormattingTokens(array[i]);
        return function(mom) {
            var output = "";
            for (i = 0; i < length; i++) output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
            return output;
        };
    }
    function formatMoment(m, format) {
        return m.isValid() ? (format = expandFormat(format, m.lang()), formatFunctions[format] || (formatFunctions[format] = makeFormatFunction(format)), 
        formatFunctions[format](m)) : m.lang().invalidDate();
    }
    function expandFormat(format, lang) {
        function replaceLongDateFormatTokens(input) {
            return lang.longDateFormat(input) || input;
        }
        var i = 5;
        for (localFormattingTokens.lastIndex = 0; i >= 0 && localFormattingTokens.test(format); ) format = format.replace(localFormattingTokens, replaceLongDateFormatTokens), 
        localFormattingTokens.lastIndex = 0, i -= 1;
        return format;
    }
    function getParseRegexForToken(token, config) {
        var a, strict = config._strict;
        switch (token) {
          case "DDDD":
            return parseTokenThreeDigits;

          case "YYYY":
          case "GGGG":
          case "gggg":
            return strict ? parseTokenFourDigits : parseTokenOneToFourDigits;

          case "Y":
          case "G":
          case "g":
            return parseTokenSignedNumber;

          case "YYYYYY":
          case "YYYYY":
          case "GGGGG":
          case "ggggg":
            return strict ? parseTokenSixDigits : parseTokenOneToSixDigits;

          case "S":
            if (strict) return parseTokenOneDigit;

          case "SS":
            if (strict) return parseTokenTwoDigits;

          case "SSS":
            if (strict) return parseTokenThreeDigits;

          case "DDD":
            return parseTokenOneToThreeDigits;

          case "MMM":
          case "MMMM":
          case "dd":
          case "ddd":
          case "dddd":
            return parseTokenWord;

          case "a":
          case "A":
            return getLangDefinition(config._l)._meridiemParse;

          case "X":
            return parseTokenTimestampMs;

          case "Z":
          case "ZZ":
            return parseTokenTimezone;

          case "T":
            return parseTokenT;

          case "SSSS":
            return parseTokenDigits;

          case "MM":
          case "DD":
          case "YY":
          case "GG":
          case "gg":
          case "HH":
          case "hh":
          case "mm":
          case "ss":
          case "ww":
          case "WW":
            return strict ? parseTokenTwoDigits : parseTokenOneOrTwoDigits;

          case "M":
          case "D":
          case "d":
          case "H":
          case "h":
          case "m":
          case "s":
          case "w":
          case "W":
          case "e":
          case "E":
            return parseTokenOneOrTwoDigits;

          default:
            return a = new RegExp(regexpEscape(unescapeFormat(token.replace("\\", "")), "i"));
        }
    }
    function timezoneMinutesFromString(string) {
        string = string || "";
        var possibleTzMatches = string.match(parseTokenTimezone) || [], tzChunk = possibleTzMatches[possibleTzMatches.length - 1] || [], parts = (tzChunk + "").match(parseTimezoneChunker) || [ "-", 0, 0 ], minutes = +(60 * parts[1]) + toInt(parts[2]);
        return "+" === parts[0] ? -minutes : minutes;
    }
    function addTimeToArrayFromToken(token, input, config) {
        var a, datePartArray = config._a;
        switch (token) {
          case "M":
          case "MM":
            null != input && (datePartArray[MONTH] = toInt(input) - 1);
            break;

          case "MMM":
          case "MMMM":
            a = getLangDefinition(config._l).monthsParse(input), null != a ? datePartArray[MONTH] = a : config._pf.invalidMonth = input;
            break;

          case "D":
          case "DD":
            null != input && (datePartArray[DATE] = toInt(input));
            break;

          case "DDD":
          case "DDDD":
            null != input && (config._dayOfYear = toInt(input));
            break;

          case "YY":
            datePartArray[YEAR] = toInt(input) + (toInt(input) > 68 ? 1900 : 2e3);
            break;

          case "YYYY":
          case "YYYYY":
          case "YYYYYY":
            datePartArray[YEAR] = toInt(input);
            break;

          case "a":
          case "A":
            config._isPm = getLangDefinition(config._l).isPM(input);
            break;

          case "H":
          case "HH":
          case "h":
          case "hh":
            datePartArray[HOUR] = toInt(input);
            break;

          case "m":
          case "mm":
            datePartArray[MINUTE] = toInt(input);
            break;

          case "s":
          case "ss":
            datePartArray[SECOND] = toInt(input);
            break;

          case "S":
          case "SS":
          case "SSS":
          case "SSSS":
            datePartArray[MILLISECOND] = toInt(1e3 * ("0." + input));
            break;

          case "X":
            config._d = new Date(1e3 * parseFloat(input));
            break;

          case "Z":
          case "ZZ":
            config._useUTC = !0, config._tzm = timezoneMinutesFromString(input);
            break;

          case "w":
          case "ww":
          case "W":
          case "WW":
          case "d":
          case "dd":
          case "ddd":
          case "dddd":
          case "e":
          case "E":
            token = token.substr(0, 1);

          case "gg":
          case "gggg":
          case "GG":
          case "GGGG":
          case "GGGGG":
            token = token.substr(0, 2), input && (config._w = config._w || {}, config._w[token] = input);
        }
    }
    function dateFromConfig(config) {
        var i, date, currentDate, yearToUse, fixYear, w, temp, lang, weekday, week, input = [];
        if (!config._d) {
            for (currentDate = currentDateArray(config), config._w && null == config._a[DATE] && null == config._a[MONTH] && (fixYear = function(val) {
                var int_val = parseInt(val, 10);
                return val ? val.length < 3 ? int_val > 68 ? 1900 + int_val : 2e3 + int_val : int_val : null == config._a[YEAR] ? moment().weekYear() : config._a[YEAR];
            }, w = config._w, null != w.GG || null != w.W || null != w.E ? temp = dayOfYearFromWeeks(fixYear(w.GG), w.W || 1, w.E, 4, 1) : (lang = getLangDefinition(config._l), 
            weekday = null != w.d ? parseWeekday(w.d, lang) : null != w.e ? parseInt(w.e, 10) + lang._week.dow : 0, 
            week = parseInt(w.w, 10) || 1, null != w.d && weekday < lang._week.dow && week++, 
            temp = dayOfYearFromWeeks(fixYear(w.gg), week, weekday, lang._week.doy, lang._week.dow)), 
            config._a[YEAR] = temp.year, config._dayOfYear = temp.dayOfYear), config._dayOfYear && (yearToUse = null == config._a[YEAR] ? currentDate[YEAR] : config._a[YEAR], 
            config._dayOfYear > daysInYear(yearToUse) && (config._pf._overflowDayOfYear = !0), 
            date = makeUTCDate(yearToUse, 0, config._dayOfYear), config._a[MONTH] = date.getUTCMonth(), 
            config._a[DATE] = date.getUTCDate()), i = 0; i < 3 && null == config._a[i]; ++i) config._a[i] = input[i] = currentDate[i];
            for (;i < 7; i++) config._a[i] = input[i] = null == config._a[i] ? 2 === i ? 1 : 0 : config._a[i];
            input[HOUR] += toInt((config._tzm || 0) / 60), input[MINUTE] += toInt((config._tzm || 0) % 60), 
            config._d = (config._useUTC ? makeUTCDate : makeDate).apply(null, input);
        }
    }
    function dateFromObject(config) {
        var normalizedInput;
        config._d || (normalizedInput = normalizeObjectUnits(config._i), config._a = [ normalizedInput.year, normalizedInput.month, normalizedInput.day, normalizedInput.hour, normalizedInput.minute, normalizedInput.second, normalizedInput.millisecond ], 
        dateFromConfig(config));
    }
    function currentDateArray(config) {
        var now = new Date();
        return config._useUTC ? [ now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() ] : [ now.getFullYear(), now.getMonth(), now.getDate() ];
    }
    function makeDateFromStringAndFormat(config) {
        config._a = [], config._pf.empty = !0;
        var i, parsedInput, tokens, token, skipped, lang = getLangDefinition(config._l), string = "" + config._i, stringLength = string.length, totalParsedInputLength = 0;
        for (tokens = expandFormat(config._f, lang).match(formattingTokens) || [], i = 0; i < tokens.length; i++) token = tokens[i], 
        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0], parsedInput && (skipped = string.substr(0, string.indexOf(parsedInput)), 
        skipped.length > 0 && config._pf.unusedInput.push(skipped), string = string.slice(string.indexOf(parsedInput) + parsedInput.length), 
        totalParsedInputLength += parsedInput.length), formatTokenFunctions[token] ? (parsedInput ? config._pf.empty = !1 : config._pf.unusedTokens.push(token), 
        addTimeToArrayFromToken(token, parsedInput, config)) : config._strict && !parsedInput && config._pf.unusedTokens.push(token);
        config._pf.charsLeftOver = stringLength - totalParsedInputLength, string.length > 0 && config._pf.unusedInput.push(string), 
        config._isPm && config._a[HOUR] < 12 && (config._a[HOUR] += 12), config._isPm === !1 && 12 === config._a[HOUR] && (config._a[HOUR] = 0), 
        dateFromConfig(config), checkOverflow(config);
    }
    function unescapeFormat(s) {
        return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        });
    }
    function regexpEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
    }
    function makeDateFromStringAndArray(config) {
        var tempConfig, bestMoment, scoreToBeat, i, currentScore;
        if (0 === config._f.length) return config._pf.invalidFormat = !0, void (config._d = new Date(NaN));
        for (i = 0; i < config._f.length; i++) currentScore = 0, tempConfig = extend({}, config), 
        tempConfig._pf = defaultParsingFlags(), tempConfig._f = config._f[i], makeDateFromStringAndFormat(tempConfig), 
        isValid(tempConfig) && (currentScore += tempConfig._pf.charsLeftOver, currentScore += 10 * tempConfig._pf.unusedTokens.length, 
        tempConfig._pf.score = currentScore, (null == scoreToBeat || currentScore < scoreToBeat) && (scoreToBeat = currentScore, 
        bestMoment = tempConfig));
        extend(config, bestMoment || tempConfig);
    }
    function makeDateFromString(config) {
        var i, l, string = config._i, match = isoRegex.exec(string);
        if (match) {
            for (config._pf.iso = !0, i = 0, l = isoDates.length; i < l; i++) if (isoDates[i][1].exec(string)) {
                config._f = isoDates[i][0] + (match[6] || " ");
                break;
            }
            for (i = 0, l = isoTimes.length; i < l; i++) if (isoTimes[i][1].exec(string)) {
                config._f += isoTimes[i][0];
                break;
            }
            string.match(parseTokenTimezone) && (config._f += "Z"), makeDateFromStringAndFormat(config);
        } else config._d = new Date(string);
    }
    function makeDateFromInput(config) {
        var input = config._i, matched = aspNetJsonRegex.exec(input);
        input === undefined ? config._d = new Date() : matched ? config._d = new Date(+matched[1]) : "string" == typeof input ? makeDateFromString(config) : isArray(input) ? (config._a = input.slice(0), 
        dateFromConfig(config)) : isDate(input) ? config._d = new Date(+input) : "object" == typeof input ? dateFromObject(config) : config._d = new Date(input);
    }
    function makeDate(y, m, d, h, M, s, ms) {
        var date = new Date(y, m, d, h, M, s, ms);
        return y < 1970 && date.setFullYear(y), date;
    }
    function makeUTCDate(y) {
        var date = new Date(Date.UTC.apply(null, arguments));
        return y < 1970 && date.setUTCFullYear(y), date;
    }
    function parseWeekday(input, language) {
        if ("string" == typeof input) if (isNaN(input)) {
            if (input = language.weekdaysParse(input), "number" != typeof input) return null;
        } else input = parseInt(input, 10);
        return input;
    }
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, lang) {
        return lang.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }
    function relativeTime(milliseconds, withoutSuffix, lang) {
        var seconds = round(Math.abs(milliseconds) / 1e3), minutes = round(seconds / 60), hours = round(minutes / 60), days = round(hours / 24), years = round(days / 365), args = seconds < 45 && [ "s", seconds ] || 1 === minutes && [ "m" ] || minutes < 45 && [ "mm", minutes ] || 1 === hours && [ "h" ] || hours < 22 && [ "hh", hours ] || 1 === days && [ "d" ] || days <= 25 && [ "dd", days ] || days <= 45 && [ "M" ] || days < 345 && [ "MM", round(days / 30) ] || 1 === years && [ "y" ] || [ "yy", years ];
        return args[2] = withoutSuffix, args[3] = milliseconds > 0, args[4] = lang, substituteTimeAgo.apply({}, args);
    }
    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {
        var adjustedMoment, end = firstDayOfWeekOfYear - firstDayOfWeek, daysToDayOfWeek = firstDayOfWeekOfYear - mom.day();
        return daysToDayOfWeek > end && (daysToDayOfWeek -= 7), daysToDayOfWeek < end - 7 && (daysToDayOfWeek += 7), 
        adjustedMoment = moment(mom).add("d", daysToDayOfWeek), {
            week: Math.ceil(adjustedMoment.dayOfYear() / 7),
            year: adjustedMoment.year()
        };
    }
    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {
        var daysToAdd, dayOfYear, d = makeUTCDate(year, 0, 1).getUTCDay();
        return weekday = null != weekday ? weekday : firstDayOfWeek, daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0) - (d < firstDayOfWeek ? 7 : 0), 
        dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1, {
            year: dayOfYear > 0 ? year : year - 1,
            dayOfYear: dayOfYear > 0 ? dayOfYear : daysInYear(year - 1) + dayOfYear
        };
    }
    function makeMoment(config) {
        var input = config._i, format = config._f;
        return null === input ? moment.invalid({
            nullInput: !0
        }) : ("string" == typeof input && (config._i = input = getLangDefinition().preparse(input)), 
        moment.isMoment(input) ? (config = cloneMoment(input), config._d = new Date(+input._d)) : format ? isArray(format) ? makeDateFromStringAndArray(config) : makeDateFromStringAndFormat(config) : makeDateFromInput(config), 
        new Moment(config));
    }
    function makeGetterAndSetter(name, key) {
        moment.fn[name] = moment.fn[name + "s"] = function(input) {
            var utc = this._isUTC ? "UTC" : "";
            return null != input ? (this._d["set" + utc + key](input), moment.updateOffset(this), 
            this) : this._d["get" + utc + key]();
        };
    }
    function makeDurationGetter(name) {
        moment.duration.fn[name] = function() {
            return this._data[name];
        };
    }
    function makeDurationAsGetter(name, factor) {
        moment.duration.fn["as" + name] = function() {
            return +this / factor;
        };
    }
    function makeGlobal(deprecate) {
        var warned = !1, local_moment = moment;
        "undefined" == typeof ender && (deprecate ? (global.moment = function() {
            return !warned && console && console.warn && (warned = !0, console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")), 
            local_moment.apply(null, arguments);
        }, extend(global.moment, local_moment)) : global.moment = moment);
    }
    for (var moment, i, VERSION = "2.5.1", global = this, round = Math.round, YEAR = 0, MONTH = 1, DATE = 2, HOUR = 3, MINUTE = 4, SECOND = 5, MILLISECOND = 6, languages = {}, momentProperties = {
        _isAMomentObject: null,
        _i: null,
        _f: null,
        _l: null,
        _strict: null,
        _isUTC: null,
        _offset: null,
        _pf: null,
        _lang: null
    }, hasModule = "undefined" != typeof module && module.exports && "undefined" != typeof require, aspNetJsonRegex = /^\/?Date\((\-?\d+)/i, aspNetTimeSpanJsonRegex = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, isoDurationRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, formattingTokens = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g, localFormattingTokens = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, parseTokenOneOrTwoDigits = /\d\d?/, parseTokenOneToThreeDigits = /\d{1,3}/, parseTokenOneToFourDigits = /\d{1,4}/, parseTokenOneToSixDigits = /[+\-]?\d{1,6}/, parseTokenDigits = /\d+/, parseTokenWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, parseTokenTimezone = /Z|[\+\-]\d\d:?\d\d/gi, parseTokenT = /T/i, parseTokenTimestampMs = /[\+\-]?\d+(\.\d{1,3})?/, parseTokenOneDigit = /\d/, parseTokenTwoDigits = /\d\d/, parseTokenThreeDigits = /\d{3}/, parseTokenFourDigits = /\d{4}/, parseTokenSixDigits = /[+-]?\d{6}/, parseTokenSignedNumber = /[+-]?\d+/, isoRegex = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, isoFormat = "YYYY-MM-DDTHH:mm:ssZ", isoDates = [ [ "YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/ ], [ "YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/ ], [ "GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/ ], [ "GGGG-[W]WW", /\d{4}-W\d{2}/ ], [ "YYYY-DDD", /\d{4}-\d{3}/ ] ], isoTimes = [ [ "HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/ ], [ "HH:mm:ss", /(T| )\d\d:\d\d:\d\d/ ], [ "HH:mm", /(T| )\d\d:\d\d/ ], [ "HH", /(T| )\d\d/ ] ], parseTimezoneChunker = /([\+\-]|\d\d)/gi, proxyGettersAndSetters = "Date|Hours|Minutes|Seconds|Milliseconds".split("|"), unitMillisecondFactors = {
        Milliseconds: 1,
        Seconds: 1e3,
        Minutes: 6e4,
        Hours: 36e5,
        Days: 864e5,
        Months: 2592e6,
        Years: 31536e6
    }, unitAliases = {
        ms: "millisecond",
        s: "second",
        m: "minute",
        h: "hour",
        d: "day",
        D: "date",
        w: "week",
        W: "isoWeek",
        M: "month",
        y: "year",
        DDD: "dayOfYear",
        e: "weekday",
        E: "isoWeekday",
        gg: "weekYear",
        GG: "isoWeekYear"
    }, camelFunctions = {
        dayofyear: "dayOfYear",
        isoweekday: "isoWeekday",
        isoweek: "isoWeek",
        weekyear: "weekYear",
        isoweekyear: "isoWeekYear"
    }, formatFunctions = {}, ordinalizeTokens = "DDD w W M D d".split(" "), paddedTokens = "M D H h m s w W".split(" "), formatTokenFunctions = {
        M: function() {
            return this.month() + 1;
        },
        MMM: function(format) {
            return this.lang().monthsShort(this, format);
        },
        MMMM: function(format) {
            return this.lang().months(this, format);
        },
        D: function() {
            return this.date();
        },
        DDD: function() {
            return this.dayOfYear();
        },
        d: function() {
            return this.day();
        },
        dd: function(format) {
            return this.lang().weekdaysMin(this, format);
        },
        ddd: function(format) {
            return this.lang().weekdaysShort(this, format);
        },
        dddd: function(format) {
            return this.lang().weekdays(this, format);
        },
        w: function() {
            return this.week();
        },
        W: function() {
            return this.isoWeek();
        },
        YY: function() {
            return leftZeroFill(this.year() % 100, 2);
        },
        YYYY: function() {
            return leftZeroFill(this.year(), 4);
        },
        YYYYY: function() {
            return leftZeroFill(this.year(), 5);
        },
        YYYYYY: function() {
            var y = this.year(), sign = y >= 0 ? "+" : "-";
            return sign + leftZeroFill(Math.abs(y), 6);
        },
        gg: function() {
            return leftZeroFill(this.weekYear() % 100, 2);
        },
        gggg: function() {
            return leftZeroFill(this.weekYear(), 4);
        },
        ggggg: function() {
            return leftZeroFill(this.weekYear(), 5);
        },
        GG: function() {
            return leftZeroFill(this.isoWeekYear() % 100, 2);
        },
        GGGG: function() {
            return leftZeroFill(this.isoWeekYear(), 4);
        },
        GGGGG: function() {
            return leftZeroFill(this.isoWeekYear(), 5);
        },
        e: function() {
            return this.weekday();
        },
        E: function() {
            return this.isoWeekday();
        },
        a: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !0);
        },
        A: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !1);
        },
        H: function() {
            return this.hours();
        },
        h: function() {
            return this.hours() % 12 || 12;
        },
        m: function() {
            return this.minutes();
        },
        s: function() {
            return this.seconds();
        },
        S: function() {
            return toInt(this.milliseconds() / 100);
        },
        SS: function() {
            return leftZeroFill(toInt(this.milliseconds() / 10), 2);
        },
        SSS: function() {
            return leftZeroFill(this.milliseconds(), 3);
        },
        SSSS: function() {
            return leftZeroFill(this.milliseconds(), 3);
        },
        Z: function() {
            var a = -this.zone(), b = "+";
            return a < 0 && (a = -a, b = "-"), b + leftZeroFill(toInt(a / 60), 2) + ":" + leftZeroFill(toInt(a) % 60, 2);
        },
        ZZ: function() {
            var a = -this.zone(), b = "+";
            return a < 0 && (a = -a, b = "-"), b + leftZeroFill(toInt(a / 60), 2) + leftZeroFill(toInt(a) % 60, 2);
        },
        z: function() {
            return this.zoneAbbr();
        },
        zz: function() {
            return this.zoneName();
        },
        X: function() {
            return this.unix();
        },
        Q: function() {
            return this.quarter();
        }
    }, lists = [ "months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin" ]; ordinalizeTokens.length; ) i = ordinalizeTokens.pop(), 
    formatTokenFunctions[i + "o"] = ordinalizeToken(formatTokenFunctions[i], i);
    for (;paddedTokens.length; ) i = paddedTokens.pop(), formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);
    for (formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3), extend(Language.prototype, {
        set: function(config) {
            var prop, i;
            for (i in config) prop = config[i], "function" == typeof prop ? this[i] = prop : this["_" + i] = prop;
        },
        _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        months: function(m) {
            return this._months[m.month()];
        },
        _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        monthsShort: function(m) {
            return this._monthsShort[m.month()];
        },
        monthsParse: function(monthName) {
            var i, mom, regex;
            for (this._monthsParse || (this._monthsParse = []), i = 0; i < 12; i++) if (this._monthsParse[i] || (mom = moment.utc([ 2e3, i ]), 
            regex = "^" + this.months(mom, "") + "|^" + this.monthsShort(mom, ""), this._monthsParse[i] = new RegExp(regex.replace(".", ""), "i")), 
            this._monthsParse[i].test(monthName)) return i;
        },
        _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdays: function(m) {
            return this._weekdays[m.day()];
        },
        _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysShort: function(m) {
            return this._weekdaysShort[m.day()];
        },
        _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        weekdaysMin: function(m) {
            return this._weekdaysMin[m.day()];
        },
        weekdaysParse: function(weekdayName) {
            var i, mom, regex;
            for (this._weekdaysParse || (this._weekdaysParse = []), i = 0; i < 7; i++) if (this._weekdaysParse[i] || (mom = moment([ 2e3, 1 ]).day(i), 
            regex = "^" + this.weekdays(mom, "") + "|^" + this.weekdaysShort(mom, "") + "|^" + this.weekdaysMin(mom, ""), 
            this._weekdaysParse[i] = new RegExp(regex.replace(".", ""), "i")), this._weekdaysParse[i].test(weekdayName)) return i;
        },
        _longDateFormat: {
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D YYYY",
            LLL: "MMMM D YYYY LT",
            LLLL: "dddd, MMMM D YYYY LT"
        },
        longDateFormat: function(key) {
            var output = this._longDateFormat[key];
            return !output && this._longDateFormat[key.toUpperCase()] && (output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(val) {
                return val.slice(1);
            }), this._longDateFormat[key] = output), output;
        },
        isPM: function(input) {
            return "p" === (input + "").toLowerCase().charAt(0);
        },
        _meridiemParse: /[ap]\.?m?\.?/i,
        meridiem: function(hours, minutes, isLower) {
            return hours > 11 ? isLower ? "pm" : "PM" : isLower ? "am" : "AM";
        },
        _calendar: {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        calendar: function(key, mom) {
            var output = this._calendar[key];
            return "function" == typeof output ? output.apply(mom) : output;
        },
        _relativeTime: {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        relativeTime: function(number, withoutSuffix, string, isFuture) {
            var output = this._relativeTime[string];
            return "function" == typeof output ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number);
        },
        pastFuture: function(diff, output) {
            var format = this._relativeTime[diff > 0 ? "future" : "past"];
            return "function" == typeof format ? format(output) : format.replace(/%s/i, output);
        },
        ordinal: function(number) {
            return this._ordinal.replace("%d", number);
        },
        _ordinal: "%d",
        preparse: function(string) {
            return string;
        },
        postformat: function(string) {
            return string;
        },
        week: function(mom) {
            return weekOfYear(mom, this._week.dow, this._week.doy).week;
        },
        _week: {
            dow: 0,
            doy: 6
        },
        _invalidDate: "Invalid date",
        invalidDate: function() {
            return this._invalidDate;
        }
    }), moment = function(input, format, lang, strict) {
        var c;
        return "boolean" == typeof lang && (strict = lang, lang = undefined), c = {}, c._isAMomentObject = !0, 
        c._i = input, c._f = format, c._l = lang, c._strict = strict, c._isUTC = !1, c._pf = defaultParsingFlags(), 
        makeMoment(c);
    }, moment.utc = function(input, format, lang, strict) {
        var c;
        return "boolean" == typeof lang && (strict = lang, lang = undefined), c = {}, c._isAMomentObject = !0, 
        c._useUTC = !0, c._isUTC = !0, c._l = lang, c._i = input, c._f = format, c._strict = strict, 
        c._pf = defaultParsingFlags(), makeMoment(c).utc();
    }, moment.unix = function(input) {
        return moment(1e3 * input);
    }, moment.duration = function(input, key) {
        var sign, ret, parseIso, duration = input, match = null;
        return moment.isDuration(input) ? duration = {
            ms: input._milliseconds,
            d: input._days,
            M: input._months
        } : "number" == typeof input ? (duration = {}, key ? duration[key] = input : duration.milliseconds = input) : (match = aspNetTimeSpanJsonRegex.exec(input)) ? (sign = "-" === match[1] ? -1 : 1, 
        duration = {
            y: 0,
            d: toInt(match[DATE]) * sign,
            h: toInt(match[HOUR]) * sign,
            m: toInt(match[MINUTE]) * sign,
            s: toInt(match[SECOND]) * sign,
            ms: toInt(match[MILLISECOND]) * sign
        }) : (match = isoDurationRegex.exec(input)) && (sign = "-" === match[1] ? -1 : 1, 
        parseIso = function(inp) {
            var res = inp && parseFloat(inp.replace(",", "."));
            return (isNaN(res) ? 0 : res) * sign;
        }, duration = {
            y: parseIso(match[2]),
            M: parseIso(match[3]),
            d: parseIso(match[4]),
            h: parseIso(match[5]),
            m: parseIso(match[6]),
            s: parseIso(match[7]),
            w: parseIso(match[8])
        }), ret = new Duration(duration), moment.isDuration(input) && input.hasOwnProperty("_lang") && (ret._lang = input._lang), 
        ret;
    }, moment.version = VERSION, moment.defaultFormat = isoFormat, moment.updateOffset = function() {}, 
    moment.lang = function(key, values) {
        var r;
        return key ? (values ? loadLang(normalizeLanguage(key), values) : null === values ? (unloadLang(key), 
        key = "en") : languages[key] || getLangDefinition(key), r = moment.duration.fn._lang = moment.fn._lang = getLangDefinition(key), 
        r._abbr) : moment.fn._lang._abbr;
    }, moment.langData = function(key) {
        return key && key._lang && key._lang._abbr && (key = key._lang._abbr), getLangDefinition(key);
    }, moment.isMoment = function(obj) {
        return obj instanceof Moment || null != obj && obj.hasOwnProperty("_isAMomentObject");
    }, moment.isDuration = function(obj) {
        return obj instanceof Duration;
    }, i = lists.length - 1; i >= 0; --i) makeList(lists[i]);
    for (moment.normalizeUnits = function(units) {
        return normalizeUnits(units);
    }, moment.invalid = function(flags) {
        var m = moment.utc(NaN);
        return null != flags ? extend(m._pf, flags) : m._pf.userInvalidated = !0, m;
    }, moment.parseZone = function(input) {
        return moment(input).parseZone();
    }, extend(moment.fn = Moment.prototype, {
        clone: function() {
            return moment(this);
        },
        valueOf: function() {
            return +this._d + 6e4 * (this._offset || 0);
        },
        unix: function() {
            return Math.floor(+this / 1e3);
        },
        toString: function() {
            return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
        },
        toDate: function() {
            return this._offset ? new Date(+this) : this._d;
        },
        toISOString: function() {
            var m = moment(this).utc();
            return 0 < m.year() && m.year() <= 9999 ? formatMoment(m, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : formatMoment(m, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
        },
        toArray: function() {
            var m = this;
            return [ m.year(), m.month(), m.date(), m.hours(), m.minutes(), m.seconds(), m.milliseconds() ];
        },
        isValid: function() {
            return isValid(this);
        },
        isDSTShifted: function() {
            return !!this._a && (this.isValid() && compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray()) > 0);
        },
        parsingFlags: function() {
            return extend({}, this._pf);
        },
        invalidAt: function() {
            return this._pf.overflow;
        },
        utc: function() {
            return this.zone(0);
        },
        local: function() {
            return this.zone(0), this._isUTC = !1, this;
        },
        format: function(inputString) {
            var output = formatMoment(this, inputString || moment.defaultFormat);
            return this.lang().postformat(output);
        },
        add: function(input, val) {
            var dur;
            return dur = "string" == typeof input ? moment.duration(+val, input) : moment.duration(input, val), 
            addOrSubtractDurationFromMoment(this, dur, 1), this;
        },
        subtract: function(input, val) {
            var dur;
            return dur = "string" == typeof input ? moment.duration(+val, input) : moment.duration(input, val), 
            addOrSubtractDurationFromMoment(this, dur, -1), this;
        },
        diff: function(input, units, asFloat) {
            var diff, output, that = makeAs(input, this), zoneDiff = 6e4 * (this.zone() - that.zone());
            return units = normalizeUnits(units), "year" === units || "month" === units ? (diff = 432e5 * (this.daysInMonth() + that.daysInMonth()), 
            output = 12 * (this.year() - that.year()) + (this.month() - that.month()), output += (this - moment(this).startOf("month") - (that - moment(that).startOf("month"))) / diff, 
            output -= 6e4 * (this.zone() - moment(this).startOf("month").zone() - (that.zone() - moment(that).startOf("month").zone())) / diff, 
            "year" === units && (output /= 12)) : (diff = this - that, output = "second" === units ? diff / 1e3 : "minute" === units ? diff / 6e4 : "hour" === units ? diff / 36e5 : "day" === units ? (diff - zoneDiff) / 864e5 : "week" === units ? (diff - zoneDiff) / 6048e5 : diff), 
            asFloat ? output : absRound(output);
        },
        from: function(time, withoutSuffix) {
            return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix);
        },
        fromNow: function(withoutSuffix) {
            return this.from(moment(), withoutSuffix);
        },
        calendar: function() {
            var sod = makeAs(moment(), this).startOf("day"), diff = this.diff(sod, "days", !0), format = diff < -6 ? "sameElse" : diff < -1 ? "lastWeek" : diff < 0 ? "lastDay" : diff < 1 ? "sameDay" : diff < 2 ? "nextDay" : diff < 7 ? "nextWeek" : "sameElse";
            return this.format(this.lang().calendar(format, this));
        },
        isLeapYear: function() {
            return isLeapYear(this.year());
        },
        isDST: function() {
            return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone();
        },
        day: function(input) {
            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            return null != input ? (input = parseWeekday(input, this.lang()), this.add({
                d: input - day
            })) : day;
        },
        month: function(input) {
            var dayOfMonth, utc = this._isUTC ? "UTC" : "";
            return null != input ? "string" == typeof input && (input = this.lang().monthsParse(input), 
            "number" != typeof input) ? this : (dayOfMonth = this.date(), this.date(1), this._d["set" + utc + "Month"](input), 
            this.date(Math.min(dayOfMonth, this.daysInMonth())), moment.updateOffset(this), 
            this) : this._d["get" + utc + "Month"]();
        },
        startOf: function(units) {
            switch (units = normalizeUnits(units)) {
              case "year":
                this.month(0);

              case "month":
                this.date(1);

              case "week":
              case "isoWeek":
              case "day":
                this.hours(0);

              case "hour":
                this.minutes(0);

              case "minute":
                this.seconds(0);

              case "second":
                this.milliseconds(0);
            }
            return "week" === units ? this.weekday(0) : "isoWeek" === units && this.isoWeekday(1), 
            this;
        },
        endOf: function(units) {
            return units = normalizeUnits(units), this.startOf(units).add("isoWeek" === units ? "week" : units, 1).subtract("ms", 1);
        },
        isAfter: function(input, units) {
            return units = "undefined" != typeof units ? units : "millisecond", +this.clone().startOf(units) > +moment(input).startOf(units);
        },
        isBefore: function(input, units) {
            return units = "undefined" != typeof units ? units : "millisecond", +this.clone().startOf(units) < +moment(input).startOf(units);
        },
        isSame: function(input, units) {
            return units = units || "ms", +this.clone().startOf(units) === +makeAs(input, this).startOf(units);
        },
        min: function(other) {
            return other = moment.apply(null, arguments), other < this ? this : other;
        },
        max: function(other) {
            return other = moment.apply(null, arguments), other > this ? this : other;
        },
        zone: function(input) {
            var offset = this._offset || 0;
            return null == input ? this._isUTC ? offset : this._d.getTimezoneOffset() : ("string" == typeof input && (input = timezoneMinutesFromString(input)), 
            Math.abs(input) < 16 && (input *= 60), this._offset = input, this._isUTC = !0, offset !== input && addOrSubtractDurationFromMoment(this, moment.duration(offset - input, "m"), 1, !0), 
            this);
        },
        zoneAbbr: function() {
            return this._isUTC ? "UTC" : "";
        },
        zoneName: function() {
            return this._isUTC ? "Coordinated Universal Time" : "";
        },
        parseZone: function() {
            return this._tzm ? this.zone(this._tzm) : "string" == typeof this._i && this.zone(this._i), 
            this;
        },
        hasAlignedHourOffset: function(input) {
            return input = input ? moment(input).zone() : 0, (this.zone() - input) % 60 === 0;
        },
        daysInMonth: function() {
            return daysInMonth(this.year(), this.month());
        },
        dayOfYear: function(input) {
            var dayOfYear = round((moment(this).startOf("day") - moment(this).startOf("year")) / 864e5) + 1;
            return null == input ? dayOfYear : this.add("d", input - dayOfYear);
        },
        quarter: function() {
            return Math.ceil((this.month() + 1) / 3);
        },
        weekYear: function(input) {
            var year = weekOfYear(this, this.lang()._week.dow, this.lang()._week.doy).year;
            return null == input ? year : this.add("y", input - year);
        },
        isoWeekYear: function(input) {
            var year = weekOfYear(this, 1, 4).year;
            return null == input ? year : this.add("y", input - year);
        },
        week: function(input) {
            var week = this.lang().week(this);
            return null == input ? week : this.add("d", 7 * (input - week));
        },
        isoWeek: function(input) {
            var week = weekOfYear(this, 1, 4).week;
            return null == input ? week : this.add("d", 7 * (input - week));
        },
        weekday: function(input) {
            var weekday = (this.day() + 7 - this.lang()._week.dow) % 7;
            return null == input ? weekday : this.add("d", input - weekday);
        },
        isoWeekday: function(input) {
            return null == input ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);
        },
        get: function(units) {
            return units = normalizeUnits(units), this[units]();
        },
        set: function(units, value) {
            return units = normalizeUnits(units), "function" == typeof this[units] && this[units](value), 
            this;
        },
        lang: function(key) {
            return key === undefined ? this._lang : (this._lang = getLangDefinition(key), this);
        }
    }), i = 0; i < proxyGettersAndSetters.length; i++) makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/, ""), proxyGettersAndSetters[i]);
    makeGetterAndSetter("year", "FullYear"), moment.fn.days = moment.fn.day, moment.fn.months = moment.fn.month, 
    moment.fn.weeks = moment.fn.week, moment.fn.isoWeeks = moment.fn.isoWeek, moment.fn.toJSON = moment.fn.toISOString, 
    extend(moment.duration.fn = Duration.prototype, {
        _bubble: function() {
            var seconds, minutes, hours, years, milliseconds = this._milliseconds, days = this._days, months = this._months, data = this._data;
            data.milliseconds = milliseconds % 1e3, seconds = absRound(milliseconds / 1e3), 
            data.seconds = seconds % 60, minutes = absRound(seconds / 60), data.minutes = minutes % 60, 
            hours = absRound(minutes / 60), data.hours = hours % 24, days += absRound(hours / 24), 
            data.days = days % 30, months += absRound(days / 30), data.months = months % 12, 
            years = absRound(months / 12), data.years = years;
        },
        weeks: function() {
            return absRound(this.days() / 7);
        },
        valueOf: function() {
            return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * toInt(this._months / 12);
        },
        humanize: function(withSuffix) {
            var difference = +this, output = relativeTime(difference, !withSuffix, this.lang());
            return withSuffix && (output = this.lang().pastFuture(difference, output)), this.lang().postformat(output);
        },
        add: function(input, val) {
            var dur = moment.duration(input, val);
            return this._milliseconds += dur._milliseconds, this._days += dur._days, this._months += dur._months, 
            this._bubble(), this;
        },
        subtract: function(input, val) {
            var dur = moment.duration(input, val);
            return this._milliseconds -= dur._milliseconds, this._days -= dur._days, this._months -= dur._months, 
            this._bubble(), this;
        },
        get: function(units) {
            return units = normalizeUnits(units), this[units.toLowerCase() + "s"]();
        },
        as: function(units) {
            return units = normalizeUnits(units), this["as" + units.charAt(0).toUpperCase() + units.slice(1) + "s"]();
        },
        lang: moment.fn.lang,
        toIsoString: function() {
            var years = Math.abs(this.years()), months = Math.abs(this.months()), days = Math.abs(this.days()), hours = Math.abs(this.hours()), minutes = Math.abs(this.minutes()), seconds = Math.abs(this.seconds() + this.milliseconds() / 1e3);
            return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (years ? years + "Y" : "") + (months ? months + "M" : "") + (days ? days + "D" : "") + (hours || minutes || seconds ? "T" : "") + (hours ? hours + "H" : "") + (minutes ? minutes + "M" : "") + (seconds ? seconds + "S" : "") : "P0D";
        }
    });
    for (i in unitMillisecondFactors) unitMillisecondFactors.hasOwnProperty(i) && (makeDurationAsGetter(i, unitMillisecondFactors[i]), 
    makeDurationGetter(i.toLowerCase()));
    makeDurationAsGetter("Weeks", 6048e5), moment.duration.fn.asMonths = function() {
        return (+this - 31536e6 * this.years()) / 2592e6 + 12 * this.years();
    }, moment.lang("en", {
        ordinal: function(number) {
            var b = number % 10, output = 1 === toInt(number % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
            return number + output;
        }
    }), hasModule ? (module.exports = moment, makeGlobal(!0)) : "function" == typeof define && define.amd ? define("moment", function(require, exports, module) {
        return module.config && module.config() && module.config().noGlobal !== !0 && makeGlobal(module.config().noGlobal === undefined), 
        moment;
    }) : makeGlobal();
}.call(this), function() {
    "use strict";
    function angularMoment(angular, moment) {
        return angular.module("angularMoment", []).constant("angularMomentConfig", {
            preprocess: null,
            timezone: "",
            format: null
        }).constant("moment", moment).constant("amTimeAgoConfig", {
            withoutSuffix: !1,
            serverTime: null,
            titleFormat: null
        }).directive("amTimeAgo", [ "$window", "moment", "amMoment", "amTimeAgoConfig", "angularMomentConfig", function($window, moment, amMoment, amTimeAgoConfig, angularMomentConfig) {
            return function(scope, element, attr) {
                function getNow() {
                    var now;
                    if (amTimeAgoConfig.serverTime) {
                        var localNow = new Date().getTime(), nowMillis = localNow - localDate + amTimeAgoConfig.serverTime;
                        now = moment(nowMillis);
                    } else now = moment();
                    return now;
                }
                function cancelTimer() {
                    activeTimeout && ($window.clearTimeout(activeTimeout), activeTimeout = null);
                }
                function updateTime(momentInstance) {
                    if (element.text(momentInstance.from(getNow(), withoutSuffix)), titleFormat && !element.attr("title") && element.attr("title", momentInstance.local().format(titleFormat)), 
                    !isBindOnce) {
                        var howOld = Math.abs(getNow().diff(momentInstance, "minute")), secondsUntilUpdate = 3600;
                        howOld < 1 ? secondsUntilUpdate = 1 : howOld < 60 ? secondsUntilUpdate = 30 : howOld < 180 && (secondsUntilUpdate = 300), 
                        activeTimeout = $window.setTimeout(function() {
                            updateTime(momentInstance);
                        }, 1e3 * secondsUntilUpdate);
                    }
                }
                function updateDateTimeAttr(value) {
                    isTimeElement && element.attr("datetime", value);
                }
                function updateMoment() {
                    if (cancelTimer(), currentValue) {
                        var momentValue = amMoment.preprocessDate(currentValue, preprocess, currentFormat);
                        updateTime(momentValue), updateDateTimeAttr(momentValue.toISOString());
                    }
                }
                var currentValue, unwatchChanges, activeTimeout = null, currentFormat = angularMomentConfig.format, withoutSuffix = amTimeAgoConfig.withoutSuffix, titleFormat = amTimeAgoConfig.titleFormat, localDate = new Date().getTime(), preprocess = angularMomentConfig.preprocess, modelName = attr.amTimeAgo.replace(/^::/, ""), isBindOnce = 0 === attr.amTimeAgo.indexOf("::"), isTimeElement = "TIME" === element[0].nodeName.toUpperCase();
                unwatchChanges = scope.$watch(modelName, function(value) {
                    return "undefined" == typeof value || null === value || "" === value ? (cancelTimer(), 
                    void (currentValue && (element.text(""), updateDateTimeAttr(""), currentValue = null))) : (currentValue = value, 
                    updateMoment(), void (void 0 !== value && isBindOnce && unwatchChanges()));
                }), angular.isDefined(attr.amWithoutSuffix) && scope.$watch(attr.amWithoutSuffix, function(value) {
                    "boolean" == typeof value ? (withoutSuffix = value, updateMoment()) : withoutSuffix = amTimeAgoConfig.withoutSuffix;
                }), attr.$observe("amFormat", function(format) {
                    "undefined" != typeof format && (currentFormat = format, updateMoment());
                }), attr.$observe("amPreprocess", function(newValue) {
                    preprocess = newValue, updateMoment();
                }), scope.$on("$destroy", function() {
                    cancelTimer();
                }), scope.$on("amMoment:localeChanged", function() {
                    updateMoment();
                });
            };
        } ]).service("amMoment", [ "moment", "$rootScope", "$log", "angularMomentConfig", function(moment, $rootScope, $log, angularMomentConfig) {
            var that = this;
            this.preprocessors = {
                utc: moment.utc,
                unix: moment.unix
            }, this.changeLocale = function(locale) {
                var result = (moment.locale || moment.lang)(locale);
                return angular.isDefined(locale) && ($rootScope.$broadcast("amMoment:localeChanged"), 
                $rootScope.$broadcast("amMoment:languageChange")), result;
            }, this.changeLanguage = function(lang) {
                return $log.warn("angular-moment: Usage of amMoment.changeLanguage() is deprecated. Please use changeLocale()"), 
                that.changeLocale(lang);
            }, this.preprocessDate = function(value, preprocess, format) {
                return angular.isUndefined(preprocess) && (preprocess = angularMomentConfig.preprocess), 
                this.preprocessors[preprocess] ? this.preprocessors[preprocess](value, format) : (preprocess && $log.warn("angular-moment: Ignoring unsupported value for preprocess: " + preprocess), 
                !isNaN(parseFloat(value)) && isFinite(value) ? moment(parseInt(value, 10)) : moment(value, format));
            }, this.applyTimezone = function(aMoment) {
                var timezone = angularMomentConfig.timezone;
                return aMoment && timezone && (aMoment.tz ? aMoment = aMoment.tz(timezone) : $log.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")), 
                aMoment;
            };
        } ]).filter("amCalendar", [ "moment", "amMoment", function(moment, amMoment) {
            return function(value, preprocess) {
                if ("undefined" == typeof value || null === value) return "";
                value = amMoment.preprocessDate(value, preprocess);
                var date = moment(value);
                return date.isValid() ? amMoment.applyTimezone(date).calendar() : "";
            };
        } ]).filter("amDateFormat", [ "moment", "amMoment", function(moment, amMoment) {
            return function(value, format, preprocess) {
                if ("undefined" == typeof value || null === value) return "";
                value = amMoment.preprocessDate(value, preprocess);
                var date = moment(value);
                return date.isValid() ? amMoment.applyTimezone(date).format(format) : "";
            };
        } ]).filter("amDurationFormat", [ "moment", function(moment) {
            return function(value, format, suffix) {
                return "undefined" == typeof value || null === value ? "" : moment.duration(value, format).humanize(suffix);
            };
        } ]).filter("amTimeAgo", [ "moment", "amMoment", function(moment, amMoment) {
            return function(value, preprocess, suffix) {
                if ("undefined" == typeof value || null === value) return "";
                value = amMoment.preprocessDate(value, preprocess);
                var date = moment(value);
                return date.isValid() ? amMoment.applyTimezone(date).fromNow(suffix) : "";
            };
        } ]);
    }
    "function" == typeof define && define.amd ? define("angular-moment", [ "angular", "moment" ], angularMoment) : "undefined" != typeof module && module && module.exports ? angularMoment(angular, require("moment")) : angularMoment(angular, window.moment);
}(), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "ui.router"), 
function(window, angular, undefined) {
    "use strict";
    function inherit(parent, extra) {
        return extend(new (extend(function() {}, {
            prototype: parent
        }))(), extra);
    }
    function merge(dst) {
        return forEach(arguments, function(obj) {
            obj !== dst && forEach(obj, function(value, key) {
                dst.hasOwnProperty(key) || (dst[key] = value);
            });
        }), dst;
    }
    function ancestors(first, second) {
        var path = [];
        for (var n in first.path) {
            if (first.path[n] !== second.path[n]) break;
            path.push(first.path[n]);
        }
        return path;
    }
    function objectKeys(object) {
        if (Object.keys) return Object.keys(object);
        var result = [];
        return angular.forEach(object, function(val, key) {
            result.push(key);
        }), result;
    }
    function indexOf(array, value) {
        if (Array.prototype.indexOf) return array.indexOf(value, Number(arguments[2]) || 0);
        var len = array.length >>> 0, from = Number(arguments[2]) || 0;
        for (from = from < 0 ? Math.ceil(from) : Math.floor(from), from < 0 && (from += len); from < len; from++) if (from in array && array[from] === value) return from;
        return -1;
    }
    function inheritParams(currentParams, newParams, $current, $to) {
        var parentParams, parents = ancestors($current, $to), inherited = {}, inheritList = [];
        for (var i in parents) if (parents[i].params && (parentParams = objectKeys(parents[i].params), 
        parentParams.length)) for (var j in parentParams) indexOf(inheritList, parentParams[j]) >= 0 || (inheritList.push(parentParams[j]), 
        inherited[parentParams[j]] = currentParams[parentParams[j]]);
        return extend({}, inherited, newParams);
    }
    function equalForKeys(a, b, keys) {
        if (!keys) {
            keys = [];
            for (var n in a) keys.push(n);
        }
        for (var i = 0; i < keys.length; i++) {
            var k = keys[i];
            if (a[k] != b[k]) return !1;
        }
        return !0;
    }
    function filterByKeys(keys, values) {
        var filtered = {};
        return forEach(keys, function(name) {
            filtered[name] = values[name];
        }), filtered;
    }
    function omit(obj) {
        var copy = {}, keys = Array.prototype.concat.apply(Array.prototype, Array.prototype.slice.call(arguments, 1));
        for (var key in obj) indexOf(keys, key) == -1 && (copy[key] = obj[key]);
        return copy;
    }
    function filter(collection, callback) {
        var array = isArray(collection), result = array ? [] : {};
        return forEach(collection, function(val, i) {
            callback(val, i) && (result[array ? result.length : i] = val);
        }), result;
    }
    function map(collection, callback) {
        var result = isArray(collection) ? [] : {};
        return forEach(collection, function(val, i) {
            result[i] = callback(val, i);
        }), result;
    }
    function $Resolve($q, $injector) {
        var VISIT_IN_PROGRESS = 1, VISIT_DONE = 2, NOTHING = {}, NO_DEPENDENCIES = [], NO_LOCALS = NOTHING, NO_PARENT = extend($q.when(NOTHING), {
            $$promises: NOTHING,
            $$values: NOTHING
        });
        this.study = function(invocables) {
            function visit(value, key) {
                if (visited[key] !== VISIT_DONE) {
                    if (cycle.push(key), visited[key] === VISIT_IN_PROGRESS) throw cycle.splice(0, indexOf(cycle, key)), 
                    new Error("Cyclic dependency: " + cycle.join(" -> "));
                    if (visited[key] = VISIT_IN_PROGRESS, isString(value)) plan.push(key, [ function() {
                        return $injector.get(value);
                    } ], NO_DEPENDENCIES); else {
                        var params = $injector.annotate(value);
                        forEach(params, function(param) {
                            param !== key && invocables.hasOwnProperty(param) && visit(invocables[param], param);
                        }), plan.push(key, value, params);
                    }
                    cycle.pop(), visited[key] = VISIT_DONE;
                }
            }
            function isResolve(value) {
                return isObject(value) && value.then && value.$$promises;
            }
            if (!isObject(invocables)) throw new Error("'invocables' must be an object");
            var invocableKeys = objectKeys(invocables || {}), plan = [], cycle = [], visited = {};
            return forEach(invocables, visit), invocables = cycle = visited = null, function(locals, parent, self) {
                function done() {
                    --wait || (merged || merge(values, parent.$$values), result.$$values = values, result.$$promises = result.$$promises || !0, 
                    delete result.$$inheritedValues, resolution.resolve(values));
                }
                function fail(reason) {
                    result.$$failure = reason, resolution.reject(reason);
                }
                function invoke(key, invocable, params) {
                    function onfailure(reason) {
                        invocation.reject(reason), fail(reason);
                    }
                    function proceed() {
                        if (!isDefined(result.$$failure)) try {
                            invocation.resolve($injector.invoke(invocable, self, values)), invocation.promise.then(function(result) {
                                values[key] = result, done();
                            }, onfailure);
                        } catch (e) {
                            onfailure(e);
                        }
                    }
                    var invocation = $q.defer(), waitParams = 0;
                    forEach(params, function(dep) {
                        promises.hasOwnProperty(dep) && !locals.hasOwnProperty(dep) && (waitParams++, promises[dep].then(function(result) {
                            values[dep] = result, --waitParams || proceed();
                        }, onfailure));
                    }), waitParams || proceed(), promises[key] = invocation.promise;
                }
                if (isResolve(locals) && self === undefined && (self = parent, parent = locals, 
                locals = null), locals) {
                    if (!isObject(locals)) throw new Error("'locals' must be an object");
                } else locals = NO_LOCALS;
                if (parent) {
                    if (!isResolve(parent)) throw new Error("'parent' must be a promise returned by $resolve.resolve()");
                } else parent = NO_PARENT;
                var resolution = $q.defer(), result = resolution.promise, promises = result.$$promises = {}, values = extend({}, locals), wait = 1 + plan.length / 3, merged = !1;
                if (isDefined(parent.$$failure)) return fail(parent.$$failure), result;
                parent.$$inheritedValues && merge(values, omit(parent.$$inheritedValues, invocableKeys)), 
                extend(promises, parent.$$promises), parent.$$values ? (merged = merge(values, omit(parent.$$values, invocableKeys)), 
                result.$$inheritedValues = omit(parent.$$values, invocableKeys), done()) : (parent.$$inheritedValues && (result.$$inheritedValues = omit(parent.$$inheritedValues, invocableKeys)), 
                parent.then(done, fail));
                for (var i = 0, ii = plan.length; i < ii; i += 3) locals.hasOwnProperty(plan[i]) ? done() : invoke(plan[i], plan[i + 1], plan[i + 2]);
                return result;
            };
        }, this.resolve = function(invocables, locals, parent, self) {
            return this.study(invocables)(locals, parent, self);
        };
    }
    function $TemplateFactory($http, $templateCache, $injector) {
        this.fromConfig = function(config, params, locals) {
            return isDefined(config.template) ? this.fromString(config.template, params) : isDefined(config.templateUrl) ? this.fromUrl(config.templateUrl, params) : isDefined(config.templateProvider) ? this.fromProvider(config.templateProvider, params, locals) : null;
        }, this.fromString = function(template, params) {
            return isFunction(template) ? template(params) : template;
        }, this.fromUrl = function(url, params) {
            return isFunction(url) && (url = url(params)), null == url ? null : $http.get(url, {
                cache: $templateCache,
                headers: {
                    Accept: "text/html"
                }
            }).then(function(response) {
                return response.data;
            });
        }, this.fromProvider = function(provider, params, locals) {
            return $injector.invoke(provider, null, locals || {
                params: params
            });
        };
    }
    function UrlMatcher(pattern, config, parentMatcher) {
        function addParameter(id, type, config, location) {
            if (paramNames.push(id), parentParams[id]) return parentParams[id];
            if (!/^\w+(-+\w+)*(?:\[\])?$/.test(id)) throw new Error("Invalid parameter name '" + id + "' in pattern '" + pattern + "'");
            if (params[id]) throw new Error("Duplicate parameter name '" + id + "' in pattern '" + pattern + "'");
            return params[id] = new $$UMFP.Param(id, type, config, location), params[id];
        }
        function quoteRegExp(string, pattern, squash) {
            var surroundPattern = [ "", "" ], result = string.replace(/[\\\[\]\^$*+?.()|{}]/g, "\\$&");
            if (!pattern) return result;
            switch (squash) {
              case !1:
                surroundPattern = [ "(", ")" ];
                break;

              case !0:
                surroundPattern = [ "?(", ")?" ];
                break;

              default:
                surroundPattern = [ "(" + squash + "|", ")?" ];
            }
            return result + surroundPattern[0] + pattern + surroundPattern[1];
        }
        function matchDetails(m, isSearch) {
            var id, regexp, segment, type, cfg;
            return id = m[2] || m[3], cfg = config.params[id], segment = pattern.substring(last, m.index), 
            regexp = isSearch ? m[4] : m[4] || ("*" == m[1] ? ".*" : null), type = $$UMFP.type(regexp || "string") || inherit($$UMFP.type("string"), {
                pattern: new RegExp(regexp)
            }), {
                id: id,
                regexp: regexp,
                segment: segment,
                type: type,
                cfg: cfg
            };
        }
        config = extend({
            params: {}
        }, isObject(config) ? config : {});
        var m, placeholder = /([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g, searchPlaceholder = /([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g, compiled = "^", last = 0, segments = this.segments = [], parentParams = parentMatcher ? parentMatcher.params : {}, params = this.params = parentMatcher ? parentMatcher.params.$$new() : new $$UMFP.ParamSet(), paramNames = [];
        this.source = pattern;
        for (var p, param, segment; (m = placeholder.exec(pattern)) && (p = matchDetails(m, !1), 
        !(p.segment.indexOf("?") >= 0)); ) param = addParameter(p.id, p.type, p.cfg, "path"), 
        compiled += quoteRegExp(p.segment, param.type.pattern.source, param.squash), segments.push(p.segment), 
        last = placeholder.lastIndex;
        segment = pattern.substring(last);
        var i = segment.indexOf("?");
        if (i >= 0) {
            var search = this.sourceSearch = segment.substring(i);
            if (segment = segment.substring(0, i), this.sourcePath = pattern.substring(0, last + i), 
            search.length > 0) for (last = 0; m = searchPlaceholder.exec(search); ) p = matchDetails(m, !0), 
            param = addParameter(p.id, p.type, p.cfg, "search"), last = placeholder.lastIndex;
        } else this.sourcePath = pattern, this.sourceSearch = "";
        compiled += quoteRegExp(segment) + (config.strict === !1 ? "/?" : "") + "$", segments.push(segment), 
        this.regexp = new RegExp(compiled, config.caseInsensitive ? "i" : undefined), this.prefix = segments[0], 
        this.$$paramNames = paramNames;
    }
    function Type(config) {
        extend(this, config);
    }
    function $UrlMatcherFactory() {
        function valToString(val) {
            return null != val ? val.toString().replace(/\//g, "%2F") : val;
        }
        function valFromString(val) {
            return null != val ? val.toString().replace(/%2F/g, "/") : val;
        }
        function regexpMatches(val) {
            return this.pattern.test(val);
        }
        function getDefaultConfig() {
            return {
                strict: isStrictMode,
                caseInsensitive: isCaseInsensitive
            };
        }
        function isInjectable(value) {
            return isFunction(value) || isArray(value) && isFunction(value[value.length - 1]);
        }
        function flushTypeQueue() {
            for (;typeQueue.length; ) {
                var type = typeQueue.shift();
                if (type.pattern) throw new Error("You cannot override a type's .pattern at runtime.");
                angular.extend($types[type.name], injector.invoke(type.def));
            }
        }
        function ParamSet(params) {
            extend(this, params || {});
        }
        $$UMFP = this;
        var injector, isCaseInsensitive = !1, isStrictMode = !0, defaultSquashPolicy = !1, $types = {}, enqueue = !0, typeQueue = [], defaultTypes = {
            string: {
                encode: valToString,
                decode: valFromString,
                is: regexpMatches,
                pattern: /[^/]*/
            },
            int: {
                encode: valToString,
                decode: function(val) {
                    return parseInt(val, 10);
                },
                is: function(val) {
                    return isDefined(val) && this.decode(val.toString()) === val;
                },
                pattern: /\d+/
            },
            bool: {
                encode: function(val) {
                    return val ? 1 : 0;
                },
                decode: function(val) {
                    return 0 !== parseInt(val, 10);
                },
                is: function(val) {
                    return val === !0 || val === !1;
                },
                pattern: /0|1/
            },
            date: {
                encode: function(val) {
                    return this.is(val) ? [ val.getFullYear(), ("0" + (val.getMonth() + 1)).slice(-2), ("0" + val.getDate()).slice(-2) ].join("-") : undefined;
                },
                decode: function(val) {
                    if (this.is(val)) return val;
                    var match = this.capture.exec(val);
                    return match ? new Date(match[1], match[2] - 1, match[3]) : undefined;
                },
                is: function(val) {
                    return val instanceof Date && !isNaN(val.valueOf());
                },
                equals: function(a, b) {
                    return this.is(a) && this.is(b) && a.toISOString() === b.toISOString();
                },
                pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,
                capture: /([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/
            },
            json: {
                encode: angular.toJson,
                decode: angular.fromJson,
                is: angular.isObject,
                equals: angular.equals,
                pattern: /[^/]*/
            },
            any: {
                encode: angular.identity,
                decode: angular.identity,
                is: angular.identity,
                equals: angular.equals,
                pattern: /.*/
            }
        };
        $UrlMatcherFactory.$$getDefaultValue = function(config) {
            if (!isInjectable(config.value)) return config.value;
            if (!injector) throw new Error("Injectable functions cannot be called at configuration time");
            return injector.invoke(config.value);
        }, this.caseInsensitive = function(value) {
            return isDefined(value) && (isCaseInsensitive = value), isCaseInsensitive;
        }, this.strictMode = function(value) {
            return isDefined(value) && (isStrictMode = value), isStrictMode;
        }, this.defaultSquashPolicy = function(value) {
            if (!isDefined(value)) return defaultSquashPolicy;
            if (value !== !0 && value !== !1 && !isString(value)) throw new Error("Invalid squash policy: " + value + ". Valid policies: false, true, arbitrary-string");
            return defaultSquashPolicy = value, value;
        }, this.compile = function(pattern, config) {
            return new UrlMatcher(pattern, extend(getDefaultConfig(), config));
        }, this.isMatcher = function(o) {
            if (!isObject(o)) return !1;
            var result = !0;
            return forEach(UrlMatcher.prototype, function(val, name) {
                isFunction(val) && (result = result && isDefined(o[name]) && isFunction(o[name]));
            }), result;
        }, this.type = function(name, definition, definitionFn) {
            if (!isDefined(definition)) return $types[name];
            if ($types.hasOwnProperty(name)) throw new Error("A type named '" + name + "' has already been defined.");
            return $types[name] = new Type(extend({
                name: name
            }, definition)), definitionFn && (typeQueue.push({
                name: name,
                def: definitionFn
            }), enqueue || flushTypeQueue()), this;
        }, forEach(defaultTypes, function(type, name) {
            $types[name] = new Type(extend({
                name: name
            }, type));
        }), $types = inherit($types, {}), this.$get = [ "$injector", function($injector) {
            return injector = $injector, enqueue = !1, flushTypeQueue(), forEach(defaultTypes, function(type, name) {
                $types[name] || ($types[name] = new Type(type));
            }), this;
        } ], this.Param = function(id, type, config, location) {
            function unwrapShorthand(config) {
                var keys = isObject(config) ? objectKeys(config) : [], isShorthand = indexOf(keys, "value") === -1 && indexOf(keys, "type") === -1 && indexOf(keys, "squash") === -1 && indexOf(keys, "array") === -1;
                return isShorthand && (config = {
                    value: config
                }), config.$$fn = isInjectable(config.value) ? config.value : function() {
                    return config.value;
                }, config;
            }
            function getType(config, urlType, location) {
                if (config.type && urlType) throw new Error("Param '" + id + "' has two type configurations.");
                return urlType ? urlType : config.type ? config.type instanceof Type ? config.type : new Type(config.type) : "config" === location ? $types.any : $types.string;
            }
            function getArrayMode() {
                var arrayDefaults = {
                    array: "search" === location && "auto"
                }, arrayParamNomenclature = id.match(/\[\]$/) ? {
                    array: !0
                } : {};
                return extend(arrayDefaults, arrayParamNomenclature, config).array;
            }
            function getSquashPolicy(config, isOptional) {
                var squash = config.squash;
                if (!isOptional || squash === !1) return !1;
                if (!isDefined(squash) || null == squash) return defaultSquashPolicy;
                if (squash === !0 || isString(squash)) return squash;
                throw new Error("Invalid squash policy: '" + squash + "'. Valid policies: false, true, or arbitrary string");
            }
            function getReplace(config, arrayMode, isOptional, squash) {
                var replace, configuredKeys, defaultPolicy = [ {
                    from: "",
                    to: isOptional || arrayMode ? undefined : ""
                }, {
                    from: null,
                    to: isOptional || arrayMode ? undefined : ""
                } ];
                return replace = isArray(config.replace) ? config.replace : [], isString(squash) && replace.push({
                    from: squash,
                    to: undefined
                }), configuredKeys = map(replace, function(item) {
                    return item.from;
                }), filter(defaultPolicy, function(item) {
                    return indexOf(configuredKeys, item.from) === -1;
                }).concat(replace);
            }
            function $$getDefaultValue() {
                if (!injector) throw new Error("Injectable functions cannot be called at configuration time");
                return injector.invoke(config.$$fn);
            }
            function $value(value) {
                function hasReplaceVal(val) {
                    return function(obj) {
                        return obj.from === val;
                    };
                }
                function $replace(value) {
                    var replacement = map(filter(self.replace, hasReplaceVal(value)), function(obj) {
                        return obj.to;
                    });
                    return replacement.length ? replacement[0] : value;
                }
                return value = $replace(value), isDefined(value) ? self.type.decode(value) : $$getDefaultValue();
            }
            function toString() {
                return "{Param:" + id + " " + type + " squash: '" + squash + "' optional: " + isOptional + "}";
            }
            var self = this;
            config = unwrapShorthand(config), type = getType(config, type, location);
            var arrayMode = getArrayMode();
            type = arrayMode ? type.$asArray(arrayMode, "search" === location) : type, "string" !== type.name || arrayMode || "path" !== location || config.value !== undefined || (config.value = "");
            var isOptional = config.value !== undefined, squash = getSquashPolicy(config, isOptional), replace = getReplace(config, arrayMode, isOptional, squash);
            extend(this, {
                id: id,
                type: type,
                location: location,
                array: arrayMode,
                squash: squash,
                replace: replace,
                isOptional: isOptional,
                value: $value,
                dynamic: undefined,
                config: config,
                toString: toString
            });
        }, ParamSet.prototype = {
            $$new: function() {
                return inherit(this, extend(new ParamSet(), {
                    $$parent: this
                }));
            },
            $$keys: function() {
                for (var keys = [], chain = [], parent = this, ignore = objectKeys(ParamSet.prototype); parent; ) chain.push(parent), 
                parent = parent.$$parent;
                return chain.reverse(), forEach(chain, function(paramset) {
                    forEach(objectKeys(paramset), function(key) {
                        indexOf(keys, key) === -1 && indexOf(ignore, key) === -1 && keys.push(key);
                    });
                }), keys;
            },
            $$values: function(paramValues) {
                var values = {}, self = this;
                return forEach(self.$$keys(), function(key) {
                    values[key] = self[key].value(paramValues && paramValues[key]);
                }), values;
            },
            $$equals: function(paramValues1, paramValues2) {
                var equal = !0, self = this;
                return forEach(self.$$keys(), function(key) {
                    var left = paramValues1 && paramValues1[key], right = paramValues2 && paramValues2[key];
                    self[key].type.equals(left, right) || (equal = !1);
                }), equal;
            },
            $$validates: function(paramValues) {
                var isOptional, val, param, result = !0, self = this;
                return forEach(this.$$keys(), function(key) {
                    param = self[key], val = paramValues[key], isOptional = !val && param.isOptional, 
                    result = result && (isOptional || !!param.type.is(val));
                }), result;
            },
            $$parent: undefined
        }, this.ParamSet = ParamSet;
    }
    function $UrlRouterProvider($locationProvider, $urlMatcherFactory) {
        function regExpPrefix(re) {
            var prefix = /^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);
            return null != prefix ? prefix[1].replace(/\\(.)/g, "$1") : "";
        }
        function interpolate(pattern, match) {
            return pattern.replace(/\$(\$|\d{1,2})/, function(m, what) {
                return match["$" === what ? 0 : Number(what)];
            });
        }
        function handleIfMatch($injector, handler, match) {
            if (!match) return !1;
            var result = $injector.invoke(handler, handler, {
                $match: match
            });
            return !isDefined(result) || result;
        }
        function $get($location, $rootScope, $injector, $browser) {
            function appendBasePath(url, isHtml5, absolute) {
                return "/" === baseHref ? url : isHtml5 ? baseHref.slice(0, -1) + url : absolute ? baseHref.slice(1) + url : url;
            }
            function update(evt) {
                function check(rule) {
                    var handled = rule($injector, $location);
                    return !!handled && (isString(handled) && $location.replace().url(handled), !0);
                }
                if (!evt || !evt.defaultPrevented) {
                    var ignoreUpdate = lastPushedUrl && $location.url() === lastPushedUrl;
                    if (lastPushedUrl = undefined, ignoreUpdate) return !0;
                    var i, n = rules.length;
                    for (i = 0; i < n; i++) if (check(rules[i])) return;
                    otherwise && check(otherwise);
                }
            }
            function listen() {
                return listener = listener || $rootScope.$on("$locationChangeSuccess", update);
            }
            var lastPushedUrl, baseHref = $browser.baseHref(), location = $location.url();
            return interceptDeferred || listen(), {
                sync: function() {
                    update();
                },
                listen: function() {
                    return listen();
                },
                update: function(read) {
                    return read ? void (location = $location.url()) : void ($location.url() !== location && ($location.url(location), 
                    $location.replace()));
                },
                push: function(urlMatcher, params, options) {
                    $location.url(urlMatcher.format(params || {})), lastPushedUrl = options && options.$$avoidResync ? $location.url() : undefined, 
                    options && options.replace && $location.replace();
                },
                href: function(urlMatcher, params, options) {
                    if (!urlMatcher.validates(params)) return null;
                    var isHtml5 = $locationProvider.html5Mode();
                    angular.isObject(isHtml5) && (isHtml5 = isHtml5.enabled);
                    var url = urlMatcher.format(params);
                    if (options = options || {}, isHtml5 || null === url || (url = "#" + $locationProvider.hashPrefix() + url), 
                    url = appendBasePath(url, isHtml5, options.absolute), !options.absolute || !url) return url;
                    var slash = !isHtml5 && url ? "/" : "", port = $location.port();
                    return port = 80 === port || 443 === port ? "" : ":" + port, [ $location.protocol(), "://", $location.host(), port, slash, url ].join("");
                }
            };
        }
        var listener, rules = [], otherwise = null, interceptDeferred = !1;
        this.rule = function(rule) {
            if (!isFunction(rule)) throw new Error("'rule' must be a function");
            return rules.push(rule), this;
        }, this.otherwise = function(rule) {
            if (isString(rule)) {
                var redirect = rule;
                rule = function() {
                    return redirect;
                };
            } else if (!isFunction(rule)) throw new Error("'rule' must be a function");
            return otherwise = rule, this;
        }, this.when = function(what, handler) {
            var redirect, handlerIsString = isString(handler);
            if (isString(what) && (what = $urlMatcherFactory.compile(what)), !handlerIsString && !isFunction(handler) && !isArray(handler)) throw new Error("invalid 'handler' in when()");
            var strategies = {
                matcher: function(what, handler) {
                    return handlerIsString && (redirect = $urlMatcherFactory.compile(handler), handler = [ "$match", function($match) {
                        return redirect.format($match);
                    } ]), extend(function($injector, $location) {
                        return handleIfMatch($injector, handler, what.exec($location.path(), $location.search()));
                    }, {
                        prefix: isString(what.prefix) ? what.prefix : ""
                    });
                },
                regex: function(what, handler) {
                    if (what.global || what.sticky) throw new Error("when() RegExp must not be global or sticky");
                    return handlerIsString && (redirect = handler, handler = [ "$match", function($match) {
                        return interpolate(redirect, $match);
                    } ]), extend(function($injector, $location) {
                        return handleIfMatch($injector, handler, what.exec($location.path()));
                    }, {
                        prefix: regExpPrefix(what)
                    });
                }
            }, check = {
                matcher: $urlMatcherFactory.isMatcher(what),
                regex: what instanceof RegExp
            };
            for (var n in check) if (check[n]) return this.rule(strategies[n](what, handler));
            throw new Error("invalid 'what' in when()");
        }, this.deferIntercept = function(defer) {
            defer === undefined && (defer = !0), interceptDeferred = defer;
        }, this.$get = $get, $get.$inject = [ "$location", "$rootScope", "$injector", "$browser" ];
    }
    function $StateProvider($urlRouterProvider, $urlMatcherFactory) {
        function isRelative(stateName) {
            return 0 === stateName.indexOf(".") || 0 === stateName.indexOf("^");
        }
        function findState(stateOrName, base) {
            if (!stateOrName) return undefined;
            var isStr = isString(stateOrName), name = isStr ? stateOrName : stateOrName.name, path = isRelative(name);
            if (path) {
                if (!base) throw new Error("No reference point given for path '" + name + "'");
                base = findState(base);
                for (var rel = name.split("."), i = 0, pathLength = rel.length, current = base; i < pathLength; i++) if ("" !== rel[i] || 0 !== i) {
                    if ("^" !== rel[i]) break;
                    if (!current.parent) throw new Error("Path '" + name + "' not valid for state '" + base.name + "'");
                    current = current.parent;
                } else current = base;
                rel = rel.slice(i).join("."), name = current.name + (current.name && rel ? "." : "") + rel;
            }
            var state = states[name];
            return !state || !isStr && (isStr || state !== stateOrName && state.self !== stateOrName) ? undefined : state;
        }
        function queueState(parentName, state) {
            queue[parentName] || (queue[parentName] = []), queue[parentName].push(state);
        }
        function flushQueuedChildren(parentName) {
            for (var queued = queue[parentName] || []; queued.length; ) registerState(queued.shift());
        }
        function registerState(state) {
            state = inherit(state, {
                self: state,
                resolve: state.resolve || {},
                toString: function() {
                    return this.name;
                }
            });
            var name = state.name;
            if (!isString(name) || name.indexOf("@") >= 0) throw new Error("State must have a valid name");
            if (states.hasOwnProperty(name)) throw new Error("State '" + name + "'' is already defined");
            var parentName = name.indexOf(".") !== -1 ? name.substring(0, name.lastIndexOf(".")) : isString(state.parent) ? state.parent : isObject(state.parent) && isString(state.parent.name) ? state.parent.name : "";
            if (parentName && !states[parentName]) return queueState(parentName, state.self);
            for (var key in stateBuilder) isFunction(stateBuilder[key]) && (state[key] = stateBuilder[key](state, stateBuilder.$delegates[key]));
            return states[name] = state, !state[abstractKey] && state.url && $urlRouterProvider.when(state.url, [ "$match", "$stateParams", function($match, $stateParams) {
                $state.$current.navigable == state && equalForKeys($match, $stateParams) || $state.transitionTo(state, $match, {
                    inherit: !0,
                    location: !1
                });
            } ]), flushQueuedChildren(name), state;
        }
        function isGlob(text) {
            return text.indexOf("*") > -1;
        }
        function doesStateMatchGlob(glob) {
            var globSegments = glob.split("."), segments = $state.$current.name.split(".");
            if ("**" === globSegments[0] && (segments = segments.slice(indexOf(segments, globSegments[1])), 
            segments.unshift("**")), "**" === globSegments[globSegments.length - 1] && (segments.splice(indexOf(segments, globSegments[globSegments.length - 2]) + 1, Number.MAX_VALUE), 
            segments.push("**")), globSegments.length != segments.length) return !1;
            for (var i = 0, l = globSegments.length; i < l; i++) "*" === globSegments[i] && (segments[i] = "*");
            return segments.join("") === globSegments.join("");
        }
        function decorator(name, func) {
            return isString(name) && !isDefined(func) ? stateBuilder[name] : isFunction(func) && isString(name) ? (stateBuilder[name] && !stateBuilder.$delegates[name] && (stateBuilder.$delegates[name] = stateBuilder[name]), 
            stateBuilder[name] = func, this) : this;
        }
        function state(name, definition) {
            return isObject(name) ? definition = name : definition.name = name, registerState(definition), 
            this;
        }
        function $get($rootScope, $q, $view, $injector, $resolve, $stateParams, $urlRouter, $location, $urlMatcherFactory) {
            function handleRedirect(redirect, state, params, options) {
                var evt = $rootScope.$broadcast("$stateNotFound", redirect, state, params);
                if (evt.defaultPrevented) return $urlRouter.update(), TransitionAborted;
                if (!evt.retry) return null;
                if (options.$retry) return $urlRouter.update(), TransitionFailed;
                var retryTransition = $state.transition = $q.when(evt.retry);
                return retryTransition.then(function() {
                    return retryTransition !== $state.transition ? TransitionSuperseded : (redirect.options.$retry = !0, 
                    $state.transitionTo(redirect.to, redirect.toParams, redirect.options));
                }, function() {
                    return TransitionAborted;
                }), $urlRouter.update(), retryTransition;
            }
            function resolveState(state, params, paramsAreFiltered, inherited, dst, options) {
                var $stateParams = paramsAreFiltered ? params : filterByKeys(state.params.$$keys(), params), locals = {
                    $stateParams: $stateParams
                };
                dst.resolve = $resolve.resolve(state.resolve, locals, dst.resolve, state);
                var promises = [ dst.resolve.then(function(globals) {
                    dst.globals = globals;
                }) ];
                return inherited && promises.push(inherited), forEach(state.views, function(view, name) {
                    var injectables = view.resolve && view.resolve !== state.resolve ? view.resolve : {};
                    injectables.$template = [ function() {
                        return $view.load(name, {
                            view: view,
                            locals: locals,
                            params: $stateParams,
                            notify: options.notify
                        }) || "";
                    } ], promises.push($resolve.resolve(injectables, locals, dst.resolve, state).then(function(result) {
                        if (isFunction(view.controllerProvider) || isArray(view.controllerProvider)) {
                            var injectLocals = angular.extend({}, injectables, locals);
                            result.$$controller = $injector.invoke(view.controllerProvider, null, injectLocals);
                        } else result.$$controller = view.controller;
                        result.$$state = state, result.$$controllerAs = view.controllerAs, dst[name] = result;
                    }));
                }), $q.all(promises).then(function(values) {
                    return dst;
                });
            }
            var TransitionSuperseded = $q.reject(new Error("transition superseded")), TransitionPrevented = $q.reject(new Error("transition prevented")), TransitionAborted = $q.reject(new Error("transition aborted")), TransitionFailed = $q.reject(new Error("transition failed"));
            return root.locals = {
                resolve: null,
                globals: {
                    $stateParams: {}
                }
            }, $state = {
                params: {},
                current: root.self,
                $current: root,
                transition: null
            }, $state.reload = function() {
                return $state.transitionTo($state.current, $stateParams, {
                    reload: !0,
                    inherit: !1,
                    notify: !0
                });
            }, $state.go = function(to, params, options) {
                return $state.transitionTo(to, params, extend({
                    inherit: !0,
                    relative: $state.$current
                }, options));
            }, $state.transitionTo = function(to, toParams, options) {
                toParams = toParams || {}, options = extend({
                    location: !0,
                    inherit: !1,
                    relative: null,
                    notify: !0,
                    reload: !1,
                    $retry: !1
                }, options || {});
                var evt, from = $state.$current, fromParams = $state.params, fromPath = from.path, toState = findState(to, options.relative);
                if (!isDefined(toState)) {
                    var redirect = {
                        to: to,
                        toParams: toParams,
                        options: options
                    }, redirectResult = handleRedirect(redirect, from.self, fromParams, options);
                    if (redirectResult) return redirectResult;
                    if (to = redirect.to, toParams = redirect.toParams, options = redirect.options, 
                    toState = findState(to, options.relative), !isDefined(toState)) {
                        if (!options.relative) throw new Error("No such state '" + to + "'");
                        throw new Error("Could not resolve '" + to + "' from state '" + options.relative + "'");
                    }
                }
                if (toState[abstractKey]) throw new Error("Cannot transition to abstract state '" + to + "'");
                if (options.inherit && (toParams = inheritParams($stateParams, toParams || {}, $state.$current, toState)), 
                !toState.params.$$validates(toParams)) return TransitionFailed;
                toParams = toState.params.$$values(toParams), to = toState;
                var toPath = to.path, keep = 0, state = toPath[keep], locals = root.locals, toLocals = [];
                if (!options.reload) for (;state && state === fromPath[keep] && state.ownParams.$$equals(toParams, fromParams); ) locals = toLocals[keep] = state.locals, 
                keep++, state = toPath[keep];
                if (shouldTriggerReload(to, from, locals, options)) return to.self.reloadOnSearch !== !1 && $urlRouter.update(), 
                $state.transition = null, $q.when($state.current);
                if (toParams = filterByKeys(to.params.$$keys(), toParams || {}), options.notify && $rootScope.$broadcast("$stateChangeStart", to.self, toParams, from.self, fromParams).defaultPrevented) return $urlRouter.update(), 
                TransitionPrevented;
                for (var resolved = $q.when(locals), l = keep; l < toPath.length; l++, state = toPath[l]) locals = toLocals[l] = inherit(locals), 
                resolved = resolveState(state, toParams, state === to, resolved, locals, options);
                var transition = $state.transition = resolved.then(function() {
                    var l, entering, exiting;
                    if ($state.transition !== transition) return TransitionSuperseded;
                    for (l = fromPath.length - 1; l >= keep; l--) exiting = fromPath[l], exiting.self.onExit && $injector.invoke(exiting.self.onExit, exiting.self, exiting.locals.globals), 
                    exiting.locals = null;
                    for (l = keep; l < toPath.length; l++) entering = toPath[l], entering.locals = toLocals[l], 
                    entering.self.onEnter && $injector.invoke(entering.self.onEnter, entering.self, entering.locals.globals);
                    return $state.transition !== transition ? TransitionSuperseded : ($state.$current = to, 
                    $state.current = to.self, $state.params = toParams, copy($state.params, $stateParams), 
                    $state.transition = null, options.location && to.navigable && $urlRouter.push(to.navigable.url, to.navigable.locals.globals.$stateParams, {
                        $$avoidResync: !0,
                        replace: "replace" === options.location
                    }), options.notify && $rootScope.$broadcast("$stateChangeSuccess", to.self, toParams, from.self, fromParams), 
                    $urlRouter.update(!0), $state.current);
                }, function(error) {
                    return $state.transition !== transition ? TransitionSuperseded : ($state.transition = null, 
                    evt = $rootScope.$broadcast("$stateChangeError", to.self, toParams, from.self, fromParams, error), 
                    evt.defaultPrevented || $urlRouter.update(), $q.reject(error));
                });
                return transition;
            }, $state.is = function(stateOrName, params, options) {
                options = extend({
                    relative: $state.$current
                }, options || {});
                var state = findState(stateOrName, options.relative);
                return isDefined(state) ? $state.$current === state && (!params || equalForKeys(state.params.$$values(params), $stateParams)) : undefined;
            }, $state.includes = function(stateOrName, params, options) {
                if (options = extend({
                    relative: $state.$current
                }, options || {}), isString(stateOrName) && isGlob(stateOrName)) {
                    if (!doesStateMatchGlob(stateOrName)) return !1;
                    stateOrName = $state.$current.name;
                }
                var state = findState(stateOrName, options.relative);
                return isDefined(state) ? !!isDefined($state.$current.includes[state.name]) && (!params || equalForKeys(state.params.$$values(params), $stateParams, objectKeys(params))) : undefined;
            }, $state.href = function(stateOrName, params, options) {
                options = extend({
                    lossy: !0,
                    inherit: !0,
                    absolute: !1,
                    relative: $state.$current
                }, options || {});
                var state = findState(stateOrName, options.relative);
                if (!isDefined(state)) return null;
                options.inherit && (params = inheritParams($stateParams, params || {}, $state.$current, state));
                var nav = state && options.lossy ? state.navigable : state;
                return nav && nav.url !== undefined && null !== nav.url ? $urlRouter.href(nav.url, filterByKeys(state.params.$$keys(), params || {}), {
                    absolute: options.absolute
                }) : null;
            }, $state.get = function(stateOrName, context) {
                if (0 === arguments.length) return map(objectKeys(states), function(name) {
                    return states[name].self;
                });
                var state = findState(stateOrName, context || $state.$current);
                return state && state.self ? state.self : null;
            }, $state;
        }
        function shouldTriggerReload(to, from, locals, options) {
            if (to === from && (locals === from.locals && !options.reload || to.self.reloadOnSearch === !1)) return !0;
        }
        var root, $state, states = {}, queue = {}, abstractKey = "abstract", stateBuilder = {
            parent: function(state) {
                if (isDefined(state.parent) && state.parent) return findState(state.parent);
                var compositeName = /^(.+)\.[^.]+$/.exec(state.name);
                return compositeName ? findState(compositeName[1]) : root;
            },
            data: function(state) {
                return state.parent && state.parent.data && (state.data = state.self.data = extend({}, state.parent.data, state.data)), 
                state.data;
            },
            url: function(state) {
                var url = state.url, config = {
                    params: state.params || {}
                };
                if (isString(url)) return "^" == url.charAt(0) ? $urlMatcherFactory.compile(url.substring(1), config) : (state.parent.navigable || root).url.concat(url, config);
                if (!url || $urlMatcherFactory.isMatcher(url)) return url;
                throw new Error("Invalid url '" + url + "' in state '" + state + "'");
            },
            navigable: function(state) {
                return state.url ? state : state.parent ? state.parent.navigable : null;
            },
            ownParams: function(state) {
                var params = state.url && state.url.params || new $$UMFP.ParamSet();
                return forEach(state.params || {}, function(config, id) {
                    params[id] || (params[id] = new $$UMFP.Param(id, null, config, "config"));
                }), params;
            },
            params: function(state) {
                return state.parent && state.parent.params ? extend(state.parent.params.$$new(), state.ownParams) : new $$UMFP.ParamSet();
            },
            views: function(state) {
                var views = {};
                return forEach(isDefined(state.views) ? state.views : {
                    "": state
                }, function(view, name) {
                    name.indexOf("@") < 0 && (name += "@" + state.parent.name), views[name] = view;
                }), views;
            },
            path: function(state) {
                return state.parent ? state.parent.path.concat(state) : [];
            },
            includes: function(state) {
                var includes = state.parent ? extend({}, state.parent.includes) : {};
                return includes[state.name] = !0, includes;
            },
            $delegates: {}
        };
        root = registerState({
            name: "",
            url: "^",
            views: null,
            abstract: !0
        }), root.navigable = null, this.decorator = decorator, this.state = state, this.$get = $get, 
        $get.$inject = [ "$rootScope", "$q", "$view", "$injector", "$resolve", "$stateParams", "$urlRouter", "$location", "$urlMatcherFactory" ];
    }
    function $ViewProvider() {
        function $get($rootScope, $templateFactory) {
            return {
                load: function(name, options) {
                    var result, defaults = {
                        template: null,
                        controller: null,
                        view: null,
                        locals: null,
                        notify: !0,
                        async: !0,
                        params: {}
                    };
                    return options = extend(defaults, options), options.view && (result = $templateFactory.fromConfig(options.view, options.params, options.locals)), 
                    result && options.notify && $rootScope.$broadcast("$viewContentLoading", options), 
                    result;
                }
            };
        }
        this.$get = $get, $get.$inject = [ "$rootScope", "$templateFactory" ];
    }
    function $ViewScrollProvider() {
        var useAnchorScroll = !1;
        this.useAnchorScroll = function() {
            useAnchorScroll = !0;
        }, this.$get = [ "$anchorScroll", "$timeout", function($anchorScroll, $timeout) {
            return useAnchorScroll ? $anchorScroll : function($element) {
                $timeout(function() {
                    $element[0].scrollIntoView();
                }, 0, !1);
            };
        } ];
    }
    function $ViewDirective($state, $injector, $uiViewScroll, $interpolate) {
        function getService() {
            return $injector.has ? function(service) {
                return $injector.has(service) ? $injector.get(service) : null;
            } : function(service) {
                try {
                    return $injector.get(service);
                } catch (e) {
                    return null;
                }
            };
        }
        function getRenderer(attrs, scope) {
            var statics = function() {
                return {
                    enter: function(element, target, cb) {
                        target.after(element), cb();
                    },
                    leave: function(element, cb) {
                        element.remove(), cb();
                    }
                };
            };
            if ($animate) return {
                enter: function(element, target, cb) {
                    var promise = $animate.enter(element, null, target, cb);
                    promise && promise.then && promise.then(cb);
                },
                leave: function(element, cb) {
                    var promise = $animate.leave(element, cb);
                    promise && promise.then && promise.then(cb);
                }
            };
            if ($animator) {
                var animate = $animator && $animator(scope, attrs);
                return {
                    enter: function(element, target, cb) {
                        animate.enter(element, null, target), cb();
                    },
                    leave: function(element, cb) {
                        animate.leave(element), cb();
                    }
                };
            }
            return statics();
        }
        var service = getService(), $animator = service("$animator"), $animate = service("$animate"), directive = {
            restrict: "ECA",
            terminal: !0,
            priority: 400,
            transclude: "element",
            compile: function(tElement, tAttrs, $transclude) {
                return function(scope, $element, attrs) {
                    function cleanupLastView() {
                        previousEl && (previousEl.remove(), previousEl = null), currentScope && (currentScope.$destroy(), 
                        currentScope = null), currentEl && (renderer.leave(currentEl, function() {
                            previousEl = null;
                        }), previousEl = currentEl, currentEl = null);
                    }
                    function updateView(firstTime) {
                        var newScope, name = getUiViewName(scope, attrs, $element, $interpolate), previousLocals = name && $state.$current && $state.$current.locals[name];
                        if (firstTime || previousLocals !== latestLocals) {
                            newScope = scope.$new(), latestLocals = $state.$current.locals[name];
                            var clone = $transclude(newScope, function(clone) {
                                renderer.enter(clone, $element, function() {
                                    currentScope && currentScope.$emit("$viewContentAnimationEnded"), (angular.isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) && $uiViewScroll(clone);
                                }), cleanupLastView();
                            });
                            currentEl = clone, currentScope = newScope, currentScope.$emit("$viewContentLoaded"), 
                            currentScope.$eval(onloadExp);
                        }
                    }
                    var previousEl, currentEl, currentScope, latestLocals, onloadExp = attrs.onload || "", autoScrollExp = attrs.autoscroll, renderer = getRenderer(attrs, scope);
                    scope.$on("$stateChangeSuccess", function() {
                        updateView(!1);
                    }), scope.$on("$viewContentLoading", function() {
                        updateView(!1);
                    }), updateView(!0);
                };
            }
        };
        return directive;
    }
    function $ViewDirectiveFill($compile, $controller, $state, $interpolate) {
        return {
            restrict: "ECA",
            priority: -400,
            compile: function(tElement) {
                var initial = tElement.html();
                return function(scope, $element, attrs) {
                    var current = $state.$current, name = getUiViewName(scope, attrs, $element, $interpolate), locals = current && current.locals[name];
                    if (locals) {
                        $element.data("$uiView", {
                            name: name,
                            state: locals.$$state
                        }), $element.html(locals.$template ? locals.$template : initial);
                        var link = $compile($element.contents());
                        if (locals.$$controller) {
                            locals.$scope = scope;
                            var controller = $controller(locals.$$controller, locals);
                            locals.$$controllerAs && (scope[locals.$$controllerAs] = controller), $element.data("$ngControllerController", controller), 
                            $element.children().data("$ngControllerController", controller);
                        }
                        link(scope);
                    }
                };
            }
        };
    }
    function getUiViewName(scope, attrs, element, $interpolate) {
        var name = $interpolate(attrs.uiView || attrs.name || "")(scope), inherited = element.inheritedData("$uiView");
        return name.indexOf("@") >= 0 ? name : name + "@" + (inherited ? inherited.state.name : "");
    }
    function parseStateRef(ref, current) {
        var parsed, preparsed = ref.match(/^\s*({[^}]*})\s*$/);
        if (preparsed && (ref = current + "(" + preparsed[1] + ")"), parsed = ref.replace(/\n/g, " ").match(/^([^(]+?)\s*(\((.*)\))?$/), 
        !parsed || 4 !== parsed.length) throw new Error("Invalid state ref '" + ref + "'");
        return {
            state: parsed[1],
            paramExpr: parsed[3] || null
        };
    }
    function stateContext(el) {
        var stateData = el.parent().inheritedData("$uiView");
        if (stateData && stateData.state && stateData.state.name) return stateData.state;
    }
    function $StateRefDirective($state, $timeout) {
        var allowedOptions = [ "location", "inherit", "reload" ];
        return {
            restrict: "A",
            require: [ "?^uiSrefActive", "?^uiSrefActiveEq" ],
            link: function(scope, element, attrs, uiSrefActive) {
                var ref = parseStateRef(attrs.uiSref, $state.current.name), params = null, base = stateContext(element) || $state.$current, newHref = null, isAnchor = "A" === element.prop("tagName"), isForm = "FORM" === element[0].nodeName, attr = isForm ? "action" : "href", nav = !0, options = {
                    relative: base,
                    inherit: !0
                }, optionsOverride = scope.$eval(attrs.uiSrefOpts) || {};
                angular.forEach(allowedOptions, function(option) {
                    option in optionsOverride && (options[option] = optionsOverride[option]);
                });
                var update = function(newVal) {
                    if (newVal && (params = angular.copy(newVal)), nav) {
                        newHref = $state.href(ref.state, params, options);
                        var activeDirective = uiSrefActive[1] || uiSrefActive[0];
                        return activeDirective && activeDirective.$$setStateInfo(ref.state, params), null === newHref ? (nav = !1, 
                        !1) : void attrs.$set(attr, newHref);
                    }
                };
                ref.paramExpr && (scope.$watch(ref.paramExpr, function(newVal, oldVal) {
                    newVal !== params && update(newVal);
                }, !0), params = angular.copy(scope.$eval(ref.paramExpr))), update(), isForm || element.bind("click", function(e) {
                    var button = e.which || e.button;
                    if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || element.attr("target"))) {
                        var transition = $timeout(function() {
                            $state.go(ref.state, params, options);
                        });
                        e.preventDefault();
                        var ignorePreventDefaultCount = isAnchor && !newHref ? 1 : 0;
                        e.preventDefault = function() {
                            ignorePreventDefaultCount-- <= 0 && $timeout.cancel(transition);
                        };
                    }
                });
            }
        };
    }
    function $StateRefActiveDirective($state, $stateParams, $interpolate) {
        return {
            restrict: "A",
            controller: [ "$scope", "$element", "$attrs", function($scope, $element, $attrs) {
                function update() {
                    isMatch() ? $element.addClass(activeClass) : $element.removeClass(activeClass);
                }
                function isMatch() {
                    return "undefined" != typeof $attrs.uiSrefActiveEq ? state && $state.is(state.name, params) : state && $state.includes(state.name, params);
                }
                var state, params, activeClass;
                activeClass = $interpolate($attrs.uiSrefActiveEq || $attrs.uiSrefActive || "", !1)($scope), 
                this.$$setStateInfo = function(newState, newParams) {
                    state = $state.get(newState, stateContext($element)), params = newParams, update();
                }, $scope.$on("$stateChangeSuccess", update);
            } ]
        };
    }
    function $IsStateFilter($state) {
        var isFilter = function(state) {
            return $state.is(state);
        };
        return isFilter.$stateful = !0, isFilter;
    }
    function $IncludedByStateFilter($state) {
        var includesFilter = function(state) {
            return $state.includes(state);
        };
        return includesFilter.$stateful = !0, includesFilter;
    }
    var isDefined = angular.isDefined, isFunction = angular.isFunction, isString = angular.isString, isObject = angular.isObject, isArray = angular.isArray, forEach = angular.forEach, extend = angular.extend, copy = angular.copy;
    angular.module("ui.router.util", [ "ng" ]), angular.module("ui.router.router", [ "ui.router.util" ]), 
    angular.module("ui.router.state", [ "ui.router.router", "ui.router.util" ]), angular.module("ui.router", [ "ui.router.state" ]), 
    angular.module("ui.router.compat", [ "ui.router" ]), $Resolve.$inject = [ "$q", "$injector" ], 
    angular.module("ui.router.util").service("$resolve", $Resolve), $TemplateFactory.$inject = [ "$http", "$templateCache", "$injector" ], 
    angular.module("ui.router.util").service("$templateFactory", $TemplateFactory);
    var $$UMFP;
    UrlMatcher.prototype.concat = function(pattern, config) {
        var defaultConfig = {
            caseInsensitive: $$UMFP.caseInsensitive(),
            strict: $$UMFP.strictMode(),
            squash: $$UMFP.defaultSquashPolicy()
        };
        return new UrlMatcher(this.sourcePath + pattern + this.sourceSearch, extend(defaultConfig, config), this);
    }, UrlMatcher.prototype.toString = function() {
        return this.source;
    }, UrlMatcher.prototype.exec = function(path, searchParams) {
        function decodePathArray(string) {
            function reverseString(str) {
                return str.split("").reverse().join("");
            }
            function unquoteDashes(str) {
                return str.replace(/\\-/, "-");
            }
            var split = reverseString(string).split(/-(?!\\)/), allReversed = map(split, reverseString);
            return map(allReversed, unquoteDashes).reverse();
        }
        var m = this.regexp.exec(path);
        if (!m) return null;
        searchParams = searchParams || {};
        var i, j, paramName, paramNames = this.parameters(), nTotal = paramNames.length, nPath = this.segments.length - 1, values = {};
        if (nPath !== m.length - 1) throw new Error("Unbalanced capture group in route '" + this.source + "'");
        for (i = 0; i < nPath; i++) {
            paramName = paramNames[i];
            var param = this.params[paramName], paramVal = m[i + 1];
            for (j = 0; j < param.replace; j++) param.replace[j].from === paramVal && (paramVal = param.replace[j].to);
            paramVal && param.array === !0 && (paramVal = decodePathArray(paramVal)), values[paramName] = param.value(paramVal);
        }
        for (;i < nTotal; i++) paramName = paramNames[i], values[paramName] = this.params[paramName].value(searchParams[paramName]);
        return values;
    }, UrlMatcher.prototype.parameters = function(param) {
        return isDefined(param) ? this.params[param] || null : this.$$paramNames;
    }, UrlMatcher.prototype.validates = function(params) {
        return this.params.$$validates(params);
    }, UrlMatcher.prototype.format = function(values) {
        function encodeDashes(str) {
            return encodeURIComponent(str).replace(/-/g, function(c) {
                return "%5C%" + c.charCodeAt(0).toString(16).toUpperCase();
            });
        }
        values = values || {};
        var segments = this.segments, params = this.parameters(), paramset = this.params;
        if (!this.validates(values)) return null;
        var i, search = !1, nPath = segments.length - 1, nTotal = params.length, result = segments[0];
        for (i = 0; i < nTotal; i++) {
            var isPathParam = i < nPath, name = params[i], param = paramset[name], value = param.value(values[name]), isDefaultValue = param.isOptional && param.type.equals(param.value(), value), squash = !!isDefaultValue && param.squash, encoded = param.type.encode(value);
            if (isPathParam) {
                var nextSegment = segments[i + 1];
                if (squash === !1) null != encoded && (result += isArray(encoded) ? map(encoded, encodeDashes).join("-") : encodeURIComponent(encoded)), 
                result += nextSegment; else if (squash === !0) {
                    var capture = result.match(/\/$/) ? /\/?(.*)/ : /(.*)/;
                    result += nextSegment.match(capture)[1];
                } else isString(squash) && (result += squash + nextSegment);
            } else {
                if (null == encoded || isDefaultValue && squash !== !1) continue;
                isArray(encoded) || (encoded = [ encoded ]), encoded = map(encoded, encodeURIComponent).join("&" + name + "="), 
                result += (search ? "&" : "?") + (name + "=" + encoded), search = !0;
            }
        }
        return result;
    }, Type.prototype.is = function(val, key) {
        return !0;
    }, Type.prototype.encode = function(val, key) {
        return val;
    }, Type.prototype.decode = function(val, key) {
        return val;
    }, Type.prototype.equals = function(a, b) {
        return a == b;
    }, Type.prototype.$subPattern = function() {
        var sub = this.pattern.toString();
        return sub.substr(1, sub.length - 2);
    }, Type.prototype.pattern = /.*/, Type.prototype.toString = function() {
        return "{Type:" + this.name + "}";
    }, Type.prototype.$asArray = function(mode, isSearch) {
        function ArrayType(type, mode) {
            function bindTo(type, callbackName) {
                return function() {
                    return type[callbackName].apply(type, arguments);
                };
            }
            function arrayWrap(val) {
                return isArray(val) ? val : isDefined(val) ? [ val ] : [];
            }
            function arrayUnwrap(val) {
                switch (val.length) {
                  case 0:
                    return undefined;

                  case 1:
                    return "auto" === mode ? val[0] : val;

                  default:
                    return val;
                }
            }
            function falsey(val) {
                return !val;
            }
            function arrayHandler(callback, allTruthyMode) {
                return function(val) {
                    val = arrayWrap(val);
                    var result = map(val, callback);
                    return allTruthyMode === !0 ? 0 === filter(result, falsey).length : arrayUnwrap(result);
                };
            }
            function arrayEqualsHandler(callback) {
                return function(val1, val2) {
                    var left = arrayWrap(val1), right = arrayWrap(val2);
                    if (left.length !== right.length) return !1;
                    for (var i = 0; i < left.length; i++) if (!callback(left[i], right[i])) return !1;
                    return !0;
                };
            }
            this.encode = arrayHandler(bindTo(type, "encode")), this.decode = arrayHandler(bindTo(type, "decode")), 
            this.is = arrayHandler(bindTo(type, "is"), !0), this.equals = arrayEqualsHandler(bindTo(type, "equals")), 
            this.pattern = type.pattern, this.$arrayMode = mode;
        }
        if (!mode) return this;
        if ("auto" === mode && !isSearch) throw new Error("'auto' array mode is for query parameters only");
        return new ArrayType(this, mode);
    }, angular.module("ui.router.util").provider("$urlMatcherFactory", $UrlMatcherFactory), 
    angular.module("ui.router.util").run([ "$urlMatcherFactory", function($urlMatcherFactory) {} ]), 
    $UrlRouterProvider.$inject = [ "$locationProvider", "$urlMatcherFactoryProvider" ], 
    angular.module("ui.router.router").provider("$urlRouter", $UrlRouterProvider), $StateProvider.$inject = [ "$urlRouterProvider", "$urlMatcherFactoryProvider" ], 
    angular.module("ui.router.state").value("$stateParams", {}).provider("$state", $StateProvider), 
    $ViewProvider.$inject = [], angular.module("ui.router.state").provider("$view", $ViewProvider), 
    angular.module("ui.router.state").provider("$uiViewScroll", $ViewScrollProvider), 
    $ViewDirective.$inject = [ "$state", "$injector", "$uiViewScroll", "$interpolate" ], 
    $ViewDirectiveFill.$inject = [ "$compile", "$controller", "$state", "$interpolate" ], 
    angular.module("ui.router.state").directive("uiView", $ViewDirective), angular.module("ui.router.state").directive("uiView", $ViewDirectiveFill), 
    $StateRefDirective.$inject = [ "$state", "$timeout" ], $StateRefActiveDirective.$inject = [ "$state", "$stateParams", "$interpolate" ], 
    angular.module("ui.router.state").directive("uiSref", $StateRefDirective).directive("uiSrefActive", $StateRefActiveDirective).directive("uiSrefActiveEq", $StateRefActiveDirective), 
    $IsStateFilter.$inject = [ "$state" ], $IncludedByStateFilter.$inject = [ "$state" ], 
    angular.module("ui.router.state").filter("isState", $IsStateFilter).filter("includedByState", $IncludedByStateFilter);
}(window, window.angular), function(window, angular, undefined) {
    "use strict";
    angular.module("ngAnimate", [ "ng" ]).directive("ngAnimateChildren", function() {
        var NG_ANIMATE_CHILDREN = "$$ngAnimateChildren";
        return function(scope, element, attrs) {
            var val = attrs.ngAnimateChildren;
            angular.isString(val) && 0 === val.length ? element.data(NG_ANIMATE_CHILDREN, !0) : scope.$watch(val, function(value) {
                element.data(NG_ANIMATE_CHILDREN, !!value);
            });
        };
    }).factory("$$animateReflow", [ "$$rAF", "$document", function($$rAF, $document) {
        var bod = $document[0].body;
        return function(fn) {
            return $$rAF(function() {
                fn(bod.offsetWidth);
            });
        };
    } ]).config([ "$provide", "$animateProvider", function($provide, $animateProvider) {
        function extractElementNode(element) {
            for (var i = 0; i < element.length; i++) {
                var elm = element[i];
                if (elm.nodeType == ELEMENT_NODE) return elm;
            }
        }
        function prepareElement(element) {
            return element && angular.element(element);
        }
        function stripCommentsFromElement(element) {
            return angular.element(extractElementNode(element));
        }
        function isMatchingElement(elm1, elm2) {
            return extractElementNode(elm1) == extractElementNode(elm2);
        }
        var noop = angular.noop, forEach = angular.forEach, selectors = $animateProvider.$$selectors, ELEMENT_NODE = 1, NG_ANIMATE_STATE = "$$ngAnimateState", NG_ANIMATE_CHILDREN = "$$ngAnimateChildren", NG_ANIMATE_CLASS_NAME = "ng-animate", rootAnimateState = {
            running: !0
        };
        $provide.decorator("$animate", [ "$delegate", "$injector", "$sniffer", "$rootElement", "$$asyncCallback", "$rootScope", "$document", function($delegate, $injector, $sniffer, $rootElement, $$asyncCallback, $rootScope, $document) {
            function blockElementAnimations(element) {
                var data = element.data(NG_ANIMATE_STATE) || {};
                data.running = !0, element.data(NG_ANIMATE_STATE, data);
            }
            function lookup(name) {
                if (name) {
                    var matches = [], flagMap = {}, classes = name.substr(1).split(".");
                    ($sniffer.transitions || $sniffer.animations) && matches.push($injector.get(selectors[""]));
                    for (var i = 0; i < classes.length; i++) {
                        var klass = classes[i], selectorFactoryName = selectors[klass];
                        selectorFactoryName && !flagMap[klass] && (matches.push($injector.get(selectorFactoryName)), 
                        flagMap[klass] = !0);
                    }
                    return matches;
                }
            }
            function animationRunner(element, animationEvent, className) {
                function registerAnimation(animationFactory, event) {
                    var afterFn = animationFactory[event], beforeFn = animationFactory["before" + event.charAt(0).toUpperCase() + event.substr(1)];
                    if (afterFn || beforeFn) return "leave" == event && (beforeFn = afterFn, afterFn = null), 
                    after.push({
                        event: event,
                        fn: afterFn
                    }), before.push({
                        event: event,
                        fn: beforeFn
                    }), !0;
                }
                function run(fns, cancellations, allCompleteFn) {
                    function afterAnimationComplete(index) {
                        if (cancellations) {
                            if ((cancellations[index] || noop)(), ++count < animations.length) return;
                            cancellations = null;
                        }
                        allCompleteFn();
                    }
                    var animations = [];
                    forEach(fns, function(animation) {
                        animation.fn && animations.push(animation);
                    });
                    var count = 0;
                    forEach(animations, function(animation, index) {
                        var progress = function() {
                            afterAnimationComplete(index);
                        };
                        switch (animation.event) {
                          case "setClass":
                            cancellations.push(animation.fn(element, classNameAdd, classNameRemove, progress));
                            break;

                          case "addClass":
                            cancellations.push(animation.fn(element, classNameAdd || className, progress));
                            break;

                          case "removeClass":
                            cancellations.push(animation.fn(element, classNameRemove || className, progress));
                            break;

                          default:
                            cancellations.push(animation.fn(element, progress));
                        }
                    }), cancellations && 0 === cancellations.length && allCompleteFn();
                }
                var node = element[0];
                if (node) {
                    var classNameAdd, classNameRemove, isSetClassOperation = "setClass" == animationEvent, isClassBased = isSetClassOperation || "addClass" == animationEvent || "removeClass" == animationEvent;
                    angular.isArray(className) && (classNameAdd = className[0], classNameRemove = className[1], 
                    className = classNameAdd + " " + classNameRemove);
                    var currentClassName = element.attr("class"), classes = currentClassName + " " + className;
                    if (isAnimatableClassName(classes)) {
                        var beforeComplete = noop, beforeCancel = [], before = [], afterComplete = noop, afterCancel = [], after = [], animationLookup = (" " + classes).replace(/\s+/g, ".");
                        return forEach(lookup(animationLookup), function(animationFactory) {
                            var created = registerAnimation(animationFactory, animationEvent);
                            !created && isSetClassOperation && (registerAnimation(animationFactory, "addClass"), 
                            registerAnimation(animationFactory, "removeClass"));
                        }), {
                            node: node,
                            event: animationEvent,
                            className: className,
                            isClassBased: isClassBased,
                            isSetClassOperation: isSetClassOperation,
                            before: function(allCompleteFn) {
                                beforeComplete = allCompleteFn, run(before, beforeCancel, function() {
                                    beforeComplete = noop, allCompleteFn();
                                });
                            },
                            after: function(allCompleteFn) {
                                afterComplete = allCompleteFn, run(after, afterCancel, function() {
                                    afterComplete = noop, allCompleteFn();
                                });
                            },
                            cancel: function() {
                                beforeCancel && (forEach(beforeCancel, function(cancelFn) {
                                    (cancelFn || noop)(!0);
                                }), beforeComplete(!0)), afterCancel && (forEach(afterCancel, function(cancelFn) {
                                    (cancelFn || noop)(!0);
                                }), afterComplete(!0));
                            }
                        };
                    }
                }
            }
            function performAnimation(animationEvent, className, element, parentElement, afterElement, domOperation, doneCallback) {
                function fireDOMCallback(animationPhase) {
                    var eventName = "$animate:" + animationPhase;
                    elementEvents && elementEvents[eventName] && elementEvents[eventName].length > 0 && $$asyncCallback(function() {
                        element.triggerHandler(eventName, {
                            event: animationEvent,
                            className: className
                        });
                    });
                }
                function fireBeforeCallbackAsync() {
                    fireDOMCallback("before");
                }
                function fireAfterCallbackAsync() {
                    fireDOMCallback("after");
                }
                function fireDoneCallbackAsync() {
                    fireDOMCallback("close"), doneCallback && $$asyncCallback(function() {
                        doneCallback();
                    });
                }
                function fireDOMOperation() {
                    fireDOMOperation.hasBeenRun || (fireDOMOperation.hasBeenRun = !0, domOperation());
                }
                function closeAnimation() {
                    if (!closeAnimation.hasBeenRun) {
                        closeAnimation.hasBeenRun = !0;
                        var data = element.data(NG_ANIMATE_STATE);
                        data && (runner && runner.isClassBased ? cleanup(element, className) : ($$asyncCallback(function() {
                            var data = element.data(NG_ANIMATE_STATE) || {};
                            localAnimationCount == data.index && cleanup(element, className, animationEvent);
                        }), element.data(NG_ANIMATE_STATE, data))), fireDoneCallbackAsync();
                    }
                }
                var runner = animationRunner(element, animationEvent, className);
                if (!runner) return fireDOMOperation(), fireBeforeCallbackAsync(), fireAfterCallbackAsync(), 
                void closeAnimation();
                className = runner.className;
                var elementEvents = angular.element._data(runner.node);
                elementEvents = elementEvents && elementEvents.events, parentElement || (parentElement = afterElement ? afterElement.parent() : element.parent());
                var skipAnimations, ngAnimateState = element.data(NG_ANIMATE_STATE) || {}, runningAnimations = ngAnimateState.active || {}, totalActiveAnimations = ngAnimateState.totalActive || 0, lastAnimation = ngAnimateState.last;
                if (runner.isClassBased && (skipAnimations = ngAnimateState.running || ngAnimateState.disabled || lastAnimation && !lastAnimation.isClassBased), 
                skipAnimations || animationsDisabled(element, parentElement)) return fireDOMOperation(), 
                fireBeforeCallbackAsync(), fireAfterCallbackAsync(), void closeAnimation();
                var skipAnimation = !1;
                if (totalActiveAnimations > 0) {
                    var animationsToCancel = [];
                    if (runner.isClassBased) {
                        if ("setClass" == lastAnimation.event) animationsToCancel.push(lastAnimation), cleanup(element, className); else if (runningAnimations[className]) {
                            var current = runningAnimations[className];
                            current.event == animationEvent ? skipAnimation = !0 : (animationsToCancel.push(current), 
                            cleanup(element, className));
                        }
                    } else if ("leave" == animationEvent && runningAnimations["ng-leave"]) skipAnimation = !0; else {
                        for (var klass in runningAnimations) animationsToCancel.push(runningAnimations[klass]), 
                        cleanup(element, klass);
                        runningAnimations = {}, totalActiveAnimations = 0;
                    }
                    animationsToCancel.length > 0 && forEach(animationsToCancel, function(operation) {
                        operation.cancel();
                    });
                }
                if (!runner.isClassBased || runner.isSetClassOperation || skipAnimation || (skipAnimation = "addClass" == animationEvent == element.hasClass(className)), 
                skipAnimation) return fireDOMOperation(), fireBeforeCallbackAsync(), fireAfterCallbackAsync(), 
                void fireDoneCallbackAsync();
                "leave" == animationEvent && element.one("$destroy", function(e) {
                    var element = angular.element(this), state = element.data(NG_ANIMATE_STATE);
                    if (state) {
                        var activeLeaveAnimation = state.active["ng-leave"];
                        activeLeaveAnimation && (activeLeaveAnimation.cancel(), cleanup(element, "ng-leave"));
                    }
                }), element.addClass(NG_ANIMATE_CLASS_NAME);
                var localAnimationCount = globalAnimationCounter++;
                totalActiveAnimations++, runningAnimations[className] = runner, element.data(NG_ANIMATE_STATE, {
                    last: runner,
                    active: runningAnimations,
                    index: localAnimationCount,
                    totalActive: totalActiveAnimations
                }), fireBeforeCallbackAsync(), runner.before(function(cancelled) {
                    var data = element.data(NG_ANIMATE_STATE);
                    cancelled = cancelled || !data || !data.active[className] || runner.isClassBased && data.active[className].event != animationEvent, 
                    fireDOMOperation(), cancelled === !0 ? closeAnimation() : (fireAfterCallbackAsync(), 
                    runner.after(closeAnimation));
                });
            }
            function cancelChildAnimations(element) {
                var node = extractElementNode(element);
                if (node) {
                    var nodes = angular.isFunction(node.getElementsByClassName) ? node.getElementsByClassName(NG_ANIMATE_CLASS_NAME) : node.querySelectorAll("." + NG_ANIMATE_CLASS_NAME);
                    forEach(nodes, function(element) {
                        element = angular.element(element);
                        var data = element.data(NG_ANIMATE_STATE);
                        data && data.active && forEach(data.active, function(runner) {
                            runner.cancel();
                        });
                    });
                }
            }
            function cleanup(element, className) {
                if (isMatchingElement(element, $rootElement)) rootAnimateState.disabled || (rootAnimateState.running = !1, 
                rootAnimateState.structural = !1); else if (className) {
                    var data = element.data(NG_ANIMATE_STATE) || {}, removeAnimations = className === !0;
                    !removeAnimations && data.active && data.active[className] && (data.totalActive--, 
                    delete data.active[className]), !removeAnimations && data.totalActive || (element.removeClass(NG_ANIMATE_CLASS_NAME), 
                    element.removeData(NG_ANIMATE_STATE));
                }
            }
            function animationsDisabled(element, parentElement) {
                if (rootAnimateState.disabled) return !0;
                if (isMatchingElement(element, $rootElement)) return rootAnimateState.running;
                var allowChildAnimations, parentRunningAnimation, hasParent;
                do {
                    if (0 === parentElement.length) break;
                    var isRoot = isMatchingElement(parentElement, $rootElement), state = isRoot ? rootAnimateState : parentElement.data(NG_ANIMATE_STATE) || {};
                    if (state.disabled) return !0;
                    if (isRoot && (hasParent = !0), allowChildAnimations !== !1) {
                        var animateChildrenFlag = parentElement.data(NG_ANIMATE_CHILDREN);
                        angular.isDefined(animateChildrenFlag) && (allowChildAnimations = animateChildrenFlag);
                    }
                    parentRunningAnimation = parentRunningAnimation || state.running || state.last && !state.last.isClassBased;
                } while (parentElement = parentElement.parent());
                return !hasParent || !allowChildAnimations && parentRunningAnimation;
            }
            var globalAnimationCounter = 0;
            $rootElement.data(NG_ANIMATE_STATE, rootAnimateState), $rootScope.$$postDigest(function() {
                $rootScope.$$postDigest(function() {
                    rootAnimateState.running = !1;
                });
            });
            var classNameFilter = $animateProvider.classNameFilter(), isAnimatableClassName = classNameFilter ? function(className) {
                return classNameFilter.test(className);
            } : function() {
                return !0;
            };
            return {
                enter: function(element, parentElement, afterElement, doneCallback) {
                    element = angular.element(element), parentElement = prepareElement(parentElement), 
                    afterElement = prepareElement(afterElement), blockElementAnimations(element), $delegate.enter(element, parentElement, afterElement), 
                    $rootScope.$$postDigest(function() {
                        element = stripCommentsFromElement(element), performAnimation("enter", "ng-enter", element, parentElement, afterElement, noop, doneCallback);
                    });
                },
                leave: function(element, doneCallback) {
                    element = angular.element(element), cancelChildAnimations(element), blockElementAnimations(element), 
                    $rootScope.$$postDigest(function() {
                        performAnimation("leave", "ng-leave", stripCommentsFromElement(element), null, null, function() {
                            $delegate.leave(element);
                        }, doneCallback);
                    });
                },
                move: function(element, parentElement, afterElement, doneCallback) {
                    element = angular.element(element), parentElement = prepareElement(parentElement), 
                    afterElement = prepareElement(afterElement), cancelChildAnimations(element), blockElementAnimations(element), 
                    $delegate.move(element, parentElement, afterElement), $rootScope.$$postDigest(function() {
                        element = stripCommentsFromElement(element), performAnimation("move", "ng-move", element, parentElement, afterElement, noop, doneCallback);
                    });
                },
                addClass: function(element, className, doneCallback) {
                    element = angular.element(element), element = stripCommentsFromElement(element), 
                    performAnimation("addClass", className, element, null, null, function() {
                        $delegate.addClass(element, className);
                    }, doneCallback);
                },
                removeClass: function(element, className, doneCallback) {
                    element = angular.element(element), element = stripCommentsFromElement(element), 
                    performAnimation("removeClass", className, element, null, null, function() {
                        $delegate.removeClass(element, className);
                    }, doneCallback);
                },
                setClass: function(element, add, remove, doneCallback) {
                    element = angular.element(element), element = stripCommentsFromElement(element), 
                    performAnimation("setClass", [ add, remove ], element, null, null, function() {
                        $delegate.setClass(element, add, remove);
                    }, doneCallback);
                },
                enabled: function(value, element) {
                    switch (arguments.length) {
                      case 2:
                        if (value) cleanup(element); else {
                            var data = element.data(NG_ANIMATE_STATE) || {};
                            data.disabled = !0, element.data(NG_ANIMATE_STATE, data);
                        }
                        break;

                      case 1:
                        rootAnimateState.disabled = !value;
                        break;

                      default:
                        value = !rootAnimateState.disabled;
                    }
                    return !!value;
                }
            };
        } ]), $animateProvider.register("", [ "$window", "$sniffer", "$timeout", "$$animateReflow", function($window, $sniffer, $timeout, $$animateReflow) {
            function clearCacheAfterReflow() {
                cancelAnimationReflow || (cancelAnimationReflow = $$animateReflow(function() {
                    animationReflowQueue = [], cancelAnimationReflow = null, lookupCache = {};
                }));
            }
            function afterReflow(element, callback) {
                cancelAnimationReflow && cancelAnimationReflow(), animationReflowQueue.push(callback), 
                cancelAnimationReflow = $$animateReflow(function() {
                    forEach(animationReflowQueue, function(fn) {
                        fn();
                    }), animationReflowQueue = [], cancelAnimationReflow = null, lookupCache = {};
                });
            }
            function animationCloseHandler(element, totalTime) {
                var node = extractElementNode(element);
                element = angular.element(node), animationElementQueue.push(element);
                var futureTimestamp = Date.now() + totalTime;
                futureTimestamp <= closingTimestamp || ($timeout.cancel(closingTimer), closingTimestamp = futureTimestamp, 
                closingTimer = $timeout(function() {
                    closeAllAnimations(animationElementQueue), animationElementQueue = [];
                }, totalTime, !1));
            }
            function closeAllAnimations(elements) {
                forEach(elements, function(element) {
                    var elementData = element.data(NG_ANIMATE_CSS_DATA_KEY);
                    elementData && (elementData.closeAnimationFn || noop)();
                });
            }
            function getElementAnimationDetails(element, cacheKey) {
                var data = cacheKey ? lookupCache[cacheKey] : null;
                if (!data) {
                    var transitionDelayStyle, animationDelayStyle, transitionDurationStyle, transitionPropertyStyle, transitionDuration = 0, transitionDelay = 0, animationDuration = 0, animationDelay = 0;
                    forEach(element, function(element) {
                        if (element.nodeType == ELEMENT_NODE) {
                            var elementStyles = $window.getComputedStyle(element) || {};
                            transitionDurationStyle = elementStyles[TRANSITION_PROP + DURATION_KEY], transitionDuration = Math.max(parseMaxTime(transitionDurationStyle), transitionDuration), 
                            transitionPropertyStyle = elementStyles[TRANSITION_PROP + PROPERTY_KEY], transitionDelayStyle = elementStyles[TRANSITION_PROP + DELAY_KEY], 
                            transitionDelay = Math.max(parseMaxTime(transitionDelayStyle), transitionDelay), 
                            animationDelayStyle = elementStyles[ANIMATION_PROP + DELAY_KEY], animationDelay = Math.max(parseMaxTime(animationDelayStyle), animationDelay);
                            var aDuration = parseMaxTime(elementStyles[ANIMATION_PROP + DURATION_KEY]);
                            aDuration > 0 && (aDuration *= parseInt(elementStyles[ANIMATION_PROP + ANIMATION_ITERATION_COUNT_KEY], 10) || 1), 
                            animationDuration = Math.max(aDuration, animationDuration);
                        }
                    }), data = {
                        total: 0,
                        transitionPropertyStyle: transitionPropertyStyle,
                        transitionDurationStyle: transitionDurationStyle,
                        transitionDelayStyle: transitionDelayStyle,
                        transitionDelay: transitionDelay,
                        transitionDuration: transitionDuration,
                        animationDelayStyle: animationDelayStyle,
                        animationDelay: animationDelay,
                        animationDuration: animationDuration
                    }, cacheKey && (lookupCache[cacheKey] = data);
                }
                return data;
            }
            function parseMaxTime(str) {
                var maxValue = 0, values = angular.isString(str) ? str.split(/\s*,\s*/) : [];
                return forEach(values, function(value) {
                    maxValue = Math.max(parseFloat(value) || 0, maxValue);
                }), maxValue;
            }
            function getCacheKey(element) {
                var parentElement = element.parent(), parentID = parentElement.data(NG_ANIMATE_PARENT_KEY);
                return parentID || (parentElement.data(NG_ANIMATE_PARENT_KEY, ++parentCounter), 
                parentID = parentCounter), parentID + "-" + extractElementNode(element).getAttribute("class");
            }
            function animateSetup(animationEvent, element, className, calculationDecorator) {
                var cacheKey = getCacheKey(element), eventCacheKey = cacheKey + " " + className, itemIndex = lookupCache[eventCacheKey] ? ++lookupCache[eventCacheKey].total : 0, stagger = {};
                if (itemIndex > 0) {
                    var staggerClassName = className + "-stagger", staggerCacheKey = cacheKey + " " + staggerClassName, applyClasses = !lookupCache[staggerCacheKey];
                    applyClasses && element.addClass(staggerClassName), stagger = getElementAnimationDetails(element, staggerCacheKey), 
                    applyClasses && element.removeClass(staggerClassName);
                }
                calculationDecorator = calculationDecorator || function(fn) {
                    return fn();
                }, element.addClass(className);
                var formerData = element.data(NG_ANIMATE_CSS_DATA_KEY) || {}, timings = calculationDecorator(function() {
                    return getElementAnimationDetails(element, eventCacheKey);
                }), transitionDuration = timings.transitionDuration, animationDuration = timings.animationDuration;
                if (0 === transitionDuration && 0 === animationDuration) return element.removeClass(className), 
                !1;
                element.data(NG_ANIMATE_CSS_DATA_KEY, {
                    running: formerData.running || 0,
                    itemIndex: itemIndex,
                    stagger: stagger,
                    timings: timings,
                    closeAnimationFn: noop
                });
                var isCurrentlyAnimating = formerData.running > 0 || "setClass" == animationEvent;
                return transitionDuration > 0 && blockTransitions(element, className, isCurrentlyAnimating), 
                animationDuration > 0 && stagger.animationDelay > 0 && 0 === stagger.animationDuration && blockKeyframeAnimations(element), 
                !0;
            }
            function isStructuralAnimation(className) {
                return "ng-enter" == className || "ng-move" == className || "ng-leave" == className;
            }
            function blockTransitions(element, className, isAnimating) {
                isStructuralAnimation(className) || !isAnimating ? extractElementNode(element).style[TRANSITION_PROP + PROPERTY_KEY] = "none" : element.addClass(NG_ANIMATE_BLOCK_CLASS_NAME);
            }
            function blockKeyframeAnimations(element) {
                extractElementNode(element).style[ANIMATION_PROP] = "none 0s";
            }
            function unblockTransitions(element, className) {
                var prop = TRANSITION_PROP + PROPERTY_KEY, node = extractElementNode(element);
                node.style[prop] && node.style[prop].length > 0 && (node.style[prop] = ""), element.removeClass(NG_ANIMATE_BLOCK_CLASS_NAME);
            }
            function unblockKeyframeAnimations(element) {
                var prop = ANIMATION_PROP, node = extractElementNode(element);
                node.style[prop] && node.style[prop].length > 0 && (node.style[prop] = "");
            }
            function animateRun(animationEvent, element, className, activeAnimationComplete) {
                function onEnd(cancelled) {
                    element.off(css3AnimationEvents, onAnimationProgress), element.removeClass(activeClassName), 
                    animateClose(element, className);
                    var node = extractElementNode(element);
                    for (var i in appliedStyles) node.style.removeProperty(appliedStyles[i]);
                }
                function onAnimationProgress(event) {
                    event.stopPropagation();
                    var ev = event.originalEvent || event, timeStamp = ev.$manualTimeStamp || Date.now(), elapsedTime = parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));
                    Math.max(timeStamp - startTime, 0) >= maxDelayTime && elapsedTime >= maxDuration && activeAnimationComplete();
                }
                var node = extractElementNode(element), elementData = element.data(NG_ANIMATE_CSS_DATA_KEY);
                if (node.getAttribute("class").indexOf(className) == -1 || !elementData) return void activeAnimationComplete();
                var activeClassName = "";
                forEach(className.split(" "), function(klass, i) {
                    activeClassName += (i > 0 ? " " : "") + klass + "-active";
                });
                var stagger = elementData.stagger, timings = elementData.timings, itemIndex = elementData.itemIndex, maxDuration = Math.max(timings.transitionDuration, timings.animationDuration), maxDelay = Math.max(timings.transitionDelay, timings.animationDelay), maxDelayTime = maxDelay * ONE_SECOND, startTime = Date.now(), css3AnimationEvents = ANIMATIONEND_EVENT + " " + TRANSITIONEND_EVENT, style = "", appliedStyles = [];
                if (timings.transitionDuration > 0) {
                    var propertyStyle = timings.transitionPropertyStyle;
                    propertyStyle.indexOf("all") == -1 && (style += CSS_PREFIX + "transition-property: " + propertyStyle + ";", 
                    style += CSS_PREFIX + "transition-duration: " + timings.transitionDurationStyle + ";", 
                    appliedStyles.push(CSS_PREFIX + "transition-property"), appliedStyles.push(CSS_PREFIX + "transition-duration"));
                }
                if (itemIndex > 0) {
                    if (stagger.transitionDelay > 0 && 0 === stagger.transitionDuration) {
                        var delayStyle = timings.transitionDelayStyle;
                        style += CSS_PREFIX + "transition-delay: " + prepareStaggerDelay(delayStyle, stagger.transitionDelay, itemIndex) + "; ", 
                        appliedStyles.push(CSS_PREFIX + "transition-delay");
                    }
                    stagger.animationDelay > 0 && 0 === stagger.animationDuration && (style += CSS_PREFIX + "animation-delay: " + prepareStaggerDelay(timings.animationDelayStyle, stagger.animationDelay, itemIndex) + "; ", 
                    appliedStyles.push(CSS_PREFIX + "animation-delay"));
                }
                if (appliedStyles.length > 0) {
                    var oldStyle = node.getAttribute("style") || "";
                    node.setAttribute("style", oldStyle + "; " + style);
                }
                element.on(css3AnimationEvents, onAnimationProgress), element.addClass(activeClassName), 
                elementData.closeAnimationFn = function() {
                    onEnd(), activeAnimationComplete();
                };
                var staggerTime = itemIndex * (Math.max(stagger.animationDelay, stagger.transitionDelay) || 0), animationTime = (maxDelay + maxDuration) * CLOSING_TIME_BUFFER, totalTime = (staggerTime + animationTime) * ONE_SECOND;
                return elementData.running++, animationCloseHandler(element, totalTime), onEnd;
            }
            function prepareStaggerDelay(delayStyle, staggerDelay, index) {
                var style = "";
                return forEach(delayStyle.split(","), function(val, i) {
                    style += (i > 0 ? "," : "") + (index * staggerDelay + parseInt(val, 10)) + "s";
                }), style;
            }
            function animateBefore(animationEvent, element, className, calculationDecorator) {
                if (animateSetup(animationEvent, element, className, calculationDecorator)) return function(cancelled) {
                    cancelled && animateClose(element, className);
                };
            }
            function animateAfter(animationEvent, element, className, afterAnimationComplete) {
                return element.data(NG_ANIMATE_CSS_DATA_KEY) ? animateRun(animationEvent, element, className, afterAnimationComplete) : (animateClose(element, className), 
                void afterAnimationComplete());
            }
            function animate(animationEvent, element, className, animationComplete) {
                var preReflowCancellation = animateBefore(animationEvent, element, className);
                if (!preReflowCancellation) return clearCacheAfterReflow(), void animationComplete();
                var cancel = preReflowCancellation;
                return afterReflow(element, function() {
                    unblockTransitions(element, className), unblockKeyframeAnimations(element), cancel = animateAfter(animationEvent, element, className, animationComplete);
                }), function(cancelled) {
                    (cancel || noop)(cancelled);
                };
            }
            function animateClose(element, className) {
                element.removeClass(className);
                var data = element.data(NG_ANIMATE_CSS_DATA_KEY);
                data && (data.running && data.running--, data.running && 0 !== data.running || element.removeData(NG_ANIMATE_CSS_DATA_KEY));
            }
            function suffixClasses(classes, suffix) {
                var className = "";
                return classes = angular.isArray(classes) ? classes : classes.split(/\s+/), forEach(classes, function(klass, i) {
                    klass && klass.length > 0 && (className += (i > 0 ? " " : "") + klass + suffix);
                }), className;
            }
            var TRANSITION_PROP, TRANSITIONEND_EVENT, ANIMATION_PROP, ANIMATIONEND_EVENT, CSS_PREFIX = "";
            window.ontransitionend === undefined && window.onwebkittransitionend !== undefined ? (CSS_PREFIX = "-webkit-", 
            TRANSITION_PROP = "WebkitTransition", TRANSITIONEND_EVENT = "webkitTransitionEnd transitionend") : (TRANSITION_PROP = "transition", 
            TRANSITIONEND_EVENT = "transitionend"), window.onanimationend === undefined && window.onwebkitanimationend !== undefined ? (CSS_PREFIX = "-webkit-", 
            ANIMATION_PROP = "WebkitAnimation", ANIMATIONEND_EVENT = "webkitAnimationEnd animationend") : (ANIMATION_PROP = "animation", 
            ANIMATIONEND_EVENT = "animationend");
            var cancelAnimationReflow, DURATION_KEY = "Duration", PROPERTY_KEY = "Property", DELAY_KEY = "Delay", ANIMATION_ITERATION_COUNT_KEY = "IterationCount", NG_ANIMATE_PARENT_KEY = "$$ngAnimateKey", NG_ANIMATE_CSS_DATA_KEY = "$$ngAnimateCSS3Data", NG_ANIMATE_BLOCK_CLASS_NAME = "ng-animate-block-transitions", ELAPSED_TIME_MAX_DECIMAL_PLACES = 3, CLOSING_TIME_BUFFER = 1.5, ONE_SECOND = 1e3, lookupCache = {}, parentCounter = 0, animationReflowQueue = [], closingTimer = null, closingTimestamp = 0, animationElementQueue = [];
            return {
                enter: function(element, animationCompleted) {
                    return animate("enter", element, "ng-enter", animationCompleted);
                },
                leave: function(element, animationCompleted) {
                    return animate("leave", element, "ng-leave", animationCompleted);
                },
                move: function(element, animationCompleted) {
                    return animate("move", element, "ng-move", animationCompleted);
                },
                beforeSetClass: function(element, add, remove, animationCompleted) {
                    var className = suffixClasses(remove, "-remove") + " " + suffixClasses(add, "-add"), cancellationMethod = animateBefore("setClass", element, className, function(fn) {
                        var klass = element.attr("class");
                        element.removeClass(remove), element.addClass(add);
                        var timings = fn();
                        return element.attr("class", klass), timings;
                    });
                    return cancellationMethod ? (afterReflow(element, function() {
                        unblockTransitions(element, className), unblockKeyframeAnimations(element), animationCompleted();
                    }), cancellationMethod) : (clearCacheAfterReflow(), void animationCompleted());
                },
                beforeAddClass: function(element, className, animationCompleted) {
                    var cancellationMethod = animateBefore("addClass", element, suffixClasses(className, "-add"), function(fn) {
                        element.addClass(className);
                        var timings = fn();
                        return element.removeClass(className), timings;
                    });
                    return cancellationMethod ? (afterReflow(element, function() {
                        unblockTransitions(element, className), unblockKeyframeAnimations(element), animationCompleted();
                    }), cancellationMethod) : (clearCacheAfterReflow(), void animationCompleted());
                },
                setClass: function(element, add, remove, animationCompleted) {
                    remove = suffixClasses(remove, "-remove"), add = suffixClasses(add, "-add");
                    var className = remove + " " + add;
                    return animateAfter("setClass", element, className, animationCompleted);
                },
                addClass: function(element, className, animationCompleted) {
                    return animateAfter("addClass", element, suffixClasses(className, "-add"), animationCompleted);
                },
                beforeRemoveClass: function(element, className, animationCompleted) {
                    var cancellationMethod = animateBefore("removeClass", element, suffixClasses(className, "-remove"), function(fn) {
                        var klass = element.attr("class");
                        element.removeClass(className);
                        var timings = fn();
                        return element.attr("class", klass), timings;
                    });
                    return cancellationMethod ? (afterReflow(element, function() {
                        unblockTransitions(element, className), unblockKeyframeAnimations(element), animationCompleted();
                    }), cancellationMethod) : void animationCompleted();
                },
                removeClass: function(element, className, animationCompleted) {
                    return animateAfter("removeClass", element, suffixClasses(className, "-remove"), animationCompleted);
                }
            };
        } ]);
    } ]);
}(window, window.angular), function(window, angular, undefined) {
    "use strict";
    function isValidDottedPath(path) {
        return null != path && "" !== path && "hasOwnProperty" !== path && MEMBER_NAME_REGEX.test("." + path);
    }
    function lookupDottedPath(obj, path) {
        if (!isValidDottedPath(path)) throw $resourceMinErr("badmember", 'Dotted member path "@{0}" is invalid.', path);
        for (var keys = path.split("."), i = 0, ii = keys.length; i < ii && obj !== undefined; i++) {
            var key = keys[i];
            obj = null !== obj ? obj[key] : undefined;
        }
        return obj;
    }
    function shallowClearAndCopy(src, dst) {
        dst = dst || {}, angular.forEach(dst, function(value, key) {
            delete dst[key];
        });
        for (var key in src) !src.hasOwnProperty(key) || "$" === key.charAt(0) && "$" === key.charAt(1) || (dst[key] = src[key]);
        return dst;
    }
    var $resourceMinErr = angular.$$minErr("$resource"), MEMBER_NAME_REGEX = /^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;
    angular.module("ngResource", [ "ng" ]).factory("$resource", [ "$http", "$q", function($http, $q) {
        function encodeUriSegment(val) {
            return encodeUriQuery(val, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+");
        }
        function encodeUriQuery(val, pctEncodeSpaces) {
            return encodeURIComponent(val).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, pctEncodeSpaces ? "%20" : "+");
        }
        function Route(template, defaults) {
            this.template = template, this.defaults = defaults || {}, this.urlParams = {};
        }
        function resourceFactory(url, paramDefaults, actions) {
            function extractParams(data, actionParams) {
                var ids = {};
                return actionParams = extend({}, paramDefaults, actionParams), forEach(actionParams, function(value, key) {
                    isFunction(value) && (value = value()), ids[key] = value && value.charAt && "@" == value.charAt(0) ? lookupDottedPath(data, value.substr(1)) : value;
                }), ids;
            }
            function defaultResponseInterceptor(response) {
                return response.resource;
            }
            function Resource(value) {
                shallowClearAndCopy(value || {}, this);
            }
            var route = new Route(url);
            return actions = extend({}, DEFAULT_ACTIONS, actions), forEach(actions, function(action, name) {
                var hasBody = /^(POST|PUT|PATCH)$/i.test(action.method);
                Resource[name] = function(a1, a2, a3, a4) {
                    var data, success, error, params = {};
                    switch (arguments.length) {
                      case 4:
                        error = a4, success = a3;

                      case 3:
                      case 2:
                        if (!isFunction(a2)) {
                            params = a1, data = a2, success = a3;
                            break;
                        }
                        if (isFunction(a1)) {
                            success = a1, error = a2;
                            break;
                        }
                        success = a2, error = a3;

                      case 1:
                        isFunction(a1) ? success = a1 : hasBody ? data = a1 : params = a1;
                        break;

                      case 0:
                        break;

                      default:
                        throw $resourceMinErr("badargs", "Expected up to 4 arguments [params, data, success, error], got {0} arguments", arguments.length);
                    }
                    var isInstanceCall = this instanceof Resource, value = isInstanceCall ? data : action.isArray ? [] : new Resource(data), httpConfig = {}, responseInterceptor = action.interceptor && action.interceptor.response || defaultResponseInterceptor, responseErrorInterceptor = action.interceptor && action.interceptor.responseError || undefined;
                    forEach(action, function(value, key) {
                        "params" != key && "isArray" != key && "interceptor" != key && (httpConfig[key] = copy(value));
                    }), hasBody && (httpConfig.data = data), route.setUrlParams(httpConfig, extend({}, extractParams(data, action.params || {}), params), action.url);
                    var promise = $http(httpConfig).then(function(response) {
                        var data = response.data, promise = value.$promise;
                        if (data) {
                            if (angular.isArray(data) !== !!action.isArray) throw $resourceMinErr("badcfg", "Error in resource configuration. Expected response to contain an {0} but got an {1}", action.isArray ? "array" : "object", angular.isArray(data) ? "array" : "object");
                            action.isArray ? (value.length = 0, forEach(data, function(item) {
                                "object" == typeof item ? value.push(new Resource(item)) : value.push(item);
                            })) : (shallowClearAndCopy(data, value), value.$promise = promise);
                        }
                        return value.$resolved = !0, response.resource = value, response;
                    }, function(response) {
                        return value.$resolved = !0, (error || noop)(response), $q.reject(response);
                    });
                    return promise = promise.then(function(response) {
                        var value = responseInterceptor(response);
                        return (success || noop)(value, response.headers), value;
                    }, responseErrorInterceptor), isInstanceCall ? promise : (value.$promise = promise, 
                    value.$resolved = !1, value);
                }, Resource.prototype["$" + name] = function(params, success, error) {
                    isFunction(params) && (error = success, success = params, params = {});
                    var result = Resource[name].call(this, params, this, success, error);
                    return result.$promise || result;
                };
            }), Resource.bind = function(additionalParamDefaults) {
                return resourceFactory(url, extend({}, paramDefaults, additionalParamDefaults), actions);
            }, Resource;
        }
        var DEFAULT_ACTIONS = {
            get: {
                method: "GET"
            },
            save: {
                method: "POST"
            },
            query: {
                method: "GET",
                isArray: !0
            },
            remove: {
                method: "DELETE"
            },
            delete: {
                method: "DELETE"
            }
        }, noop = angular.noop, forEach = angular.forEach, extend = angular.extend, copy = angular.copy, isFunction = angular.isFunction;
        return Route.prototype = {
            setUrlParams: function(config, params, actionUrl) {
                var val, encodedVal, self = this, url = actionUrl || self.template, urlParams = self.urlParams = {};
                forEach(url.split(/\W/), function(param) {
                    if ("hasOwnProperty" === param) throw $resourceMinErr("badname", "hasOwnProperty is not a valid parameter name.");
                    !new RegExp("^\\d+$").test(param) && param && new RegExp("(^|[^\\\\]):" + param + "(\\W|$)").test(url) && (urlParams[param] = !0);
                }), url = url.replace(/\\:/g, ":"), params = params || {}, forEach(self.urlParams, function(_, urlParam) {
                    val = params.hasOwnProperty(urlParam) ? params[urlParam] : self.defaults[urlParam], 
                    angular.isDefined(val) && null !== val ? (encodedVal = encodeUriSegment(val), url = url.replace(new RegExp(":" + urlParam + "(\\W|$)", "g"), function(match, p1) {
                        return encodedVal + p1;
                    })) : url = url.replace(new RegExp("(/?):" + urlParam + "(\\W|$)", "g"), function(match, leadingSlashes, tail) {
                        return "/" == tail.charAt(0) ? tail : leadingSlashes + tail;
                    });
                }), url = url.replace(/\/+$/, "") || "/", url = url.replace(/\/\.(?=\w+($|\?))/, "."), 
                config.url = url.replace(/\/\\\./, "/."), forEach(params, function(value, key) {
                    self.urlParams[key] || (config.params = config.params || {}, config.params[key] = value);
                });
            }
        }, resourceFactory;
    } ]);
}(window, window.angular), angular.module("ui.bootstrap", [ "ui.bootstrap.tpls", "ui.bootstrap.transition", "ui.bootstrap.collapse", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.bindHtml", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.position", "ui.bootstrap.datepicker", "ui.bootstrap.dropdownToggle", "ui.bootstrap.modal", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.typeahead" ]), 
angular.module("ui.bootstrap.tpls", [ "template/accordion/accordion-group.html", "template/accordion/accordion.html", "template/alert/alert.html", "template/carousel/carousel.html", "template/carousel/slide.html", "template/datepicker/datepicker.html", "template/datepicker/popup.html", "template/modal/backdrop.html", "template/modal/window.html", "template/pagination/pager.html", "template/pagination/pagination.html", "template/tooltip/tooltip-html-unsafe-popup.html", "template/tooltip/tooltip-popup.html", "template/popover/popover.html", "template/progressbar/bar.html", "template/progressbar/progress.html", "template/progressbar/progressbar.html", "template/rating/rating.html", "template/tabs/tab.html", "template/tabs/tabset.html", "template/timepicker/timepicker.html", "template/typeahead/typeahead-match.html", "template/typeahead/typeahead-popup.html" ]), 
angular.module("ui.bootstrap.transition", []).factory("$transition", [ "$q", "$timeout", "$rootScope", function($q, $timeout, $rootScope) {
    function findEndEventName(endEventNames) {
        for (var name in endEventNames) if (void 0 !== transElement.style[name]) return endEventNames[name];
    }
    var $transition = function(element, trigger, options) {
        options = options || {};
        var deferred = $q.defer(), endEventName = $transition[options.animation ? "animationEndEventName" : "transitionEndEventName"], transitionEndHandler = function(event) {
            $rootScope.$apply(function() {
                element.unbind(endEventName, transitionEndHandler), deferred.resolve(element);
            });
        };
        return endEventName && element.bind(endEventName, transitionEndHandler), $timeout(function() {
            angular.isString(trigger) ? element.addClass(trigger) : angular.isFunction(trigger) ? trigger(element) : angular.isObject(trigger) && element.css(trigger), 
            endEventName || deferred.resolve(element);
        }), deferred.promise.cancel = function() {
            endEventName && element.unbind(endEventName, transitionEndHandler), deferred.reject("Transition cancelled");
        }, deferred.promise;
    }, transElement = document.createElement("trans"), transitionEndEventNames = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        transition: "transitionend"
    }, animationEndEventNames = {
        WebkitTransition: "webkitAnimationEnd",
        MozTransition: "animationend",
        OTransition: "oAnimationEnd",
        transition: "animationend"
    };
    return $transition.transitionEndEventName = findEndEventName(transitionEndEventNames), 
    $transition.animationEndEventName = findEndEventName(animationEndEventNames), $transition;
} ]), angular.module("ui.bootstrap.collapse", [ "ui.bootstrap.transition" ]).directive("collapse", [ "$transition", function($transition, $timeout) {
    return {
        link: function(scope, element, attrs) {
            function doTransition(change) {
                function newTransitionDone() {
                    currentTransition === newTransition && (currentTransition = void 0);
                }
                var newTransition = $transition(element, change);
                return currentTransition && currentTransition.cancel(), currentTransition = newTransition, 
                newTransition.then(newTransitionDone, newTransitionDone), newTransition;
            }
            function expand() {
                initialAnimSkip ? (initialAnimSkip = !1, expandDone()) : (element.removeClass("collapse").addClass("collapsing"), 
                doTransition({
                    height: element[0].scrollHeight + "px"
                }).then(expandDone));
            }
            function expandDone() {
                element.removeClass("collapsing"), element.addClass("collapse in"), element.css({
                    height: "auto"
                });
            }
            function collapse() {
                if (initialAnimSkip) initialAnimSkip = !1, collapseDone(), element.css({
                    height: 0
                }); else {
                    element.css({
                        height: element[0].scrollHeight + "px"
                    });
                    element[0].offsetWidth;
                    element.removeClass("collapse in").addClass("collapsing"), doTransition({
                        height: 0
                    }).then(collapseDone);
                }
            }
            function collapseDone() {
                element.removeClass("collapsing"), element.addClass("collapse");
            }
            var currentTransition, initialAnimSkip = !0;
            scope.$watch(attrs.collapse, function(shouldCollapse) {
                shouldCollapse ? collapse() : expand();
            });
        }
    };
} ]), angular.module("ui.bootstrap.accordion", [ "ui.bootstrap.collapse" ]).constant("accordionConfig", {
    closeOthers: !0
}).controller("AccordionController", [ "$scope", "$attrs", "accordionConfig", function($scope, $attrs, accordionConfig) {
    this.groups = [], this.closeOthers = function(openGroup) {
        var closeOthers = angular.isDefined($attrs.closeOthers) ? $scope.$eval($attrs.closeOthers) : accordionConfig.closeOthers;
        closeOthers && angular.forEach(this.groups, function(group) {
            group !== openGroup && (group.isOpen = !1);
        });
    }, this.addGroup = function(groupScope) {
        var that = this;
        this.groups.push(groupScope), groupScope.$on("$destroy", function(event) {
            that.removeGroup(groupScope);
        });
    }, this.removeGroup = function(group) {
        var index = this.groups.indexOf(group);
        index !== -1 && this.groups.splice(this.groups.indexOf(group), 1);
    };
} ]).directive("accordion", function() {
    return {
        restrict: "EA",
        controller: "AccordionController",
        transclude: !0,
        replace: !1,
        templateUrl: "template/accordion/accordion.html"
    };
}).directive("accordionGroup", [ "$parse", function($parse) {
    return {
        require: "^accordion",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/accordion/accordion-group.html",
        scope: {
            heading: "@"
        },
        controller: function() {
            this.setHeading = function(element) {
                this.heading = element;
            };
        },
        link: function(scope, element, attrs, accordionCtrl) {
            var getIsOpen, setIsOpen;
            accordionCtrl.addGroup(scope), scope.isOpen = !1, attrs.isOpen && (getIsOpen = $parse(attrs.isOpen), 
            setIsOpen = getIsOpen.assign, scope.$parent.$watch(getIsOpen, function(value) {
                scope.isOpen = !!value;
            })), scope.$watch("isOpen", function(value) {
                value && accordionCtrl.closeOthers(scope), setIsOpen && setIsOpen(scope.$parent, value);
            });
        }
    };
} ]).directive("accordionHeading", function() {
    return {
        restrict: "EA",
        transclude: !0,
        template: "",
        replace: !0,
        require: "^accordionGroup",
        compile: function(element, attr, transclude) {
            return function(scope, element, attr, accordionGroupCtrl) {
                accordionGroupCtrl.setHeading(transclude(scope, function() {}));
            };
        }
    };
}).directive("accordionTransclude", function() {
    return {
        require: "^accordionGroup",
        link: function(scope, element, attr, controller) {
            scope.$watch(function() {
                return controller[attr.accordionTransclude];
            }, function(heading) {
                heading && (element.html(""), element.append(heading));
            });
        }
    };
}), angular.module("ui.bootstrap.alert", []).controller("AlertController", [ "$scope", "$attrs", function($scope, $attrs) {
    $scope.closeable = "close" in $attrs;
} ]).directive("alert", function() {
    return {
        restrict: "EA",
        controller: "AlertController",
        templateUrl: "template/alert/alert.html",
        transclude: !0,
        replace: !0,
        scope: {
            type: "=",
            close: "&"
        }
    };
}), angular.module("ui.bootstrap.bindHtml", []).directive("bindHtmlUnsafe", function() {
    return function(scope, element, attr) {
        element.addClass("ng-binding").data("$binding", attr.bindHtmlUnsafe), scope.$watch(attr.bindHtmlUnsafe, function(value) {
            element.html(value || "");
        });
    };
}), angular.module("ui.bootstrap.buttons", []).constant("buttonConfig", {
    activeClass: "active",
    toggleEvent: "click"
}).controller("ButtonsController", [ "buttonConfig", function(buttonConfig) {
    this.activeClass = buttonConfig.activeClass || "active", this.toggleEvent = buttonConfig.toggleEvent || "click";
} ]).directive("btnRadio", function() {
    return {
        require: [ "btnRadio", "ngModel" ],
        controller: "ButtonsController",
        link: function(scope, element, attrs, ctrls) {
            var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];
            ngModelCtrl.$render = function() {
                element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, scope.$eval(attrs.btnRadio)));
            }, element.bind(buttonsCtrl.toggleEvent, function() {
                element.hasClass(buttonsCtrl.activeClass) || scope.$apply(function() {
                    ngModelCtrl.$setViewValue(scope.$eval(attrs.btnRadio)), ngModelCtrl.$render();
                });
            });
        }
    };
}).directive("btnCheckbox", function() {
    return {
        require: [ "btnCheckbox", "ngModel" ],
        controller: "ButtonsController",
        link: function(scope, element, attrs, ctrls) {
            function getTrueValue() {
                return getCheckboxValue(attrs.btnCheckboxTrue, !0);
            }
            function getFalseValue() {
                return getCheckboxValue(attrs.btnCheckboxFalse, !1);
            }
            function getCheckboxValue(attributeValue, defaultValue) {
                var val = scope.$eval(attributeValue);
                return angular.isDefined(val) ? val : defaultValue;
            }
            var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];
            ngModelCtrl.$render = function() {
                element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, getTrueValue()));
            }, element.bind(buttonsCtrl.toggleEvent, function() {
                scope.$apply(function() {
                    ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass) ? getFalseValue() : getTrueValue()), 
                    ngModelCtrl.$render();
                });
            });
        }
    };
}), angular.module("ui.bootstrap.carousel", [ "ui.bootstrap.transition" ]).controller("CarouselController", [ "$scope", "$timeout", "$transition", "$q", function($scope, $timeout, $transition, $q) {
    function restartTimer() {
        resetTimer();
        var interval = +$scope.interval;
        !isNaN(interval) && interval >= 0 && (currentTimeout = $timeout(timerFn, interval));
    }
    function resetTimer() {
        currentTimeout && ($timeout.cancel(currentTimeout), currentTimeout = null);
    }
    function timerFn() {
        isPlaying ? ($scope.next(), restartTimer()) : $scope.pause();
    }
    var currentTimeout, isPlaying, self = this, slides = self.slides = [], currentIndex = -1;
    self.currentSlide = null;
    var destroyed = !1;
    self.select = function(nextSlide, direction) {
        function goNext() {
            if (!destroyed) {
                if (self.currentSlide && angular.isString(direction) && !$scope.noTransition && nextSlide.$element) {
                    nextSlide.$element.addClass(direction);
                    nextSlide.$element[0].offsetWidth;
                    angular.forEach(slides, function(slide) {
                        angular.extend(slide, {
                            direction: "",
                            entering: !1,
                            leaving: !1,
                            active: !1
                        });
                    }), angular.extend(nextSlide, {
                        direction: direction,
                        active: !0,
                        entering: !0
                    }), angular.extend(self.currentSlide || {}, {
                        direction: direction,
                        leaving: !0
                    }), $scope.$currentTransition = $transition(nextSlide.$element, {}), function(next, current) {
                        $scope.$currentTransition.then(function() {
                            transitionDone(next, current);
                        }, function() {
                            transitionDone(next, current);
                        });
                    }(nextSlide, self.currentSlide);
                } else transitionDone(nextSlide, self.currentSlide);
                self.currentSlide = nextSlide, currentIndex = nextIndex, restartTimer();
            }
        }
        function transitionDone(next, current) {
            angular.extend(next, {
                direction: "",
                active: !0,
                leaving: !1,
                entering: !1
            }), angular.extend(current || {}, {
                direction: "",
                active: !1,
                leaving: !1,
                entering: !1
            }), $scope.$currentTransition = null;
        }
        var nextIndex = slides.indexOf(nextSlide);
        void 0 === direction && (direction = nextIndex > currentIndex ? "next" : "prev"), 
        nextSlide && nextSlide !== self.currentSlide && ($scope.$currentTransition ? ($scope.$currentTransition.cancel(), 
        $timeout(goNext)) : goNext());
    }, $scope.$on("$destroy", function() {
        destroyed = !0;
    }), self.indexOfSlide = function(slide) {
        return slides.indexOf(slide);
    }, $scope.next = function() {
        var newIndex = (currentIndex + 1) % slides.length;
        if (!$scope.$currentTransition) return self.select(slides[newIndex], "next");
    }, $scope.prev = function() {
        var newIndex = currentIndex - 1 < 0 ? slides.length - 1 : currentIndex - 1;
        if (!$scope.$currentTransition) return self.select(slides[newIndex], "prev");
    }, $scope.select = function(slide) {
        self.select(slide);
    }, $scope.isActive = function(slide) {
        return self.currentSlide === slide;
    }, $scope.slides = function() {
        return slides;
    }, $scope.$watch("interval", restartTimer), $scope.$on("$destroy", resetTimer), 
    $scope.play = function() {
        isPlaying || (isPlaying = !0, restartTimer());
    }, $scope.pause = function() {
        $scope.noPause || (isPlaying = !1, resetTimer());
    }, self.addSlide = function(slide, element) {
        slide.$element = element, slides.push(slide), 1 === slides.length || slide.active ? (self.select(slides[slides.length - 1]), 
        1 == slides.length && $scope.play()) : slide.active = !1;
    }, self.removeSlide = function(slide) {
        var index = slides.indexOf(slide);
        slides.splice(index, 1), slides.length > 0 && slide.active ? index >= slides.length ? self.select(slides[index - 1]) : self.select(slides[index]) : currentIndex > index && currentIndex--;
    };
} ]).directive("carousel", [ function() {
    return {
        restrict: "EA",
        transclude: !0,
        replace: !0,
        controller: "CarouselController",
        require: "carousel",
        templateUrl: "template/carousel/carousel.html",
        scope: {
            interval: "=",
            noTransition: "=",
            noPause: "="
        }
    };
} ]).directive("slide", [ "$parse", function($parse) {
    return {
        require: "^carousel",
        restrict: "EA",
        transclude: !0,
        replace: !0,
        templateUrl: "template/carousel/slide.html",
        scope: {},
        link: function(scope, element, attrs, carouselCtrl) {
            if (attrs.active) {
                var getActive = $parse(attrs.active), setActive = getActive.assign, lastValue = scope.active = getActive(scope.$parent);
                scope.$watch(function() {
                    var parentActive = getActive(scope.$parent);
                    return parentActive !== scope.active && (parentActive !== lastValue ? lastValue = scope.active = parentActive : setActive(scope.$parent, parentActive = lastValue = scope.active)), 
                    parentActive;
                });
            }
            carouselCtrl.addSlide(scope, element), scope.$on("$destroy", function() {
                carouselCtrl.removeSlide(scope);
            }), scope.$watch("active", function(active) {
                active && carouselCtrl.select(scope);
            });
        }
    };
} ]), angular.module("ui.bootstrap.position", []).factory("$position", [ "$document", "$window", function($document, $window) {
    function getStyle(el, cssprop) {
        return el.currentStyle ? el.currentStyle[cssprop] : $window.getComputedStyle ? $window.getComputedStyle(el)[cssprop] : el.style[cssprop];
    }
    function isStaticPositioned(element) {
        return "static" === (getStyle(element, "position") || "static");
    }
    var parentOffsetEl = function(element) {
        for (var docDomEl = $document[0], offsetParent = element.offsetParent || docDomEl; offsetParent && offsetParent !== docDomEl && isStaticPositioned(offsetParent); ) offsetParent = offsetParent.offsetParent;
        return offsetParent || docDomEl;
    };
    return {
        position: function(element) {
            var elBCR = this.offset(element), offsetParentBCR = {
                top: 0,
                left: 0
            }, offsetParentEl = parentOffsetEl(element[0]);
            offsetParentEl != $document[0] && (offsetParentBCR = this.offset(angular.element(offsetParentEl)), 
            offsetParentBCR.top += offsetParentEl.clientTop - offsetParentEl.scrollTop, offsetParentBCR.left += offsetParentEl.clientLeft - offsetParentEl.scrollLeft);
            var boundingClientRect = element[0].getBoundingClientRect();
            return {
                width: boundingClientRect.width || element.prop("offsetWidth"),
                height: boundingClientRect.height || element.prop("offsetHeight"),
                top: elBCR.top - offsetParentBCR.top,
                left: elBCR.left - offsetParentBCR.left
            };
        },
        offset: function(element) {
            var boundingClientRect = element[0].getBoundingClientRect();
            return {
                width: boundingClientRect.width || element.prop("offsetWidth"),
                height: boundingClientRect.height || element.prop("offsetHeight"),
                top: boundingClientRect.top + ($window.pageYOffset || $document[0].body.scrollTop || $document[0].documentElement.scrollTop),
                left: boundingClientRect.left + ($window.pageXOffset || $document[0].body.scrollLeft || $document[0].documentElement.scrollLeft)
            };
        }
    };
} ]), angular.module("ui.bootstrap.datepicker", [ "ui.bootstrap.position" ]).constant("datepickerConfig", {
    dayFormat: "dd",
    monthFormat: "MMMM",
    yearFormat: "yyyy",
    dayHeaderFormat: "EEE",
    dayTitleFormat: "MMMM yyyy",
    monthTitleFormat: "yyyy",
    showWeeks: !0,
    startingDay: 0,
    yearRange: 20,
    minDate: null,
    maxDate: null
}).controller("DatepickerController", [ "$scope", "$attrs", "dateFilter", "datepickerConfig", function($scope, $attrs, dateFilter, dtConfig) {
    function getValue(value, defaultValue) {
        return angular.isDefined(value) ? $scope.$parent.$eval(value) : defaultValue;
    }
    function getDaysInMonth(year, month) {
        return new Date(year, month, 0).getDate();
    }
    function getDates(startDate, n) {
        for (var dates = new Array(n), current = startDate, i = 0; i < n; ) dates[i++] = new Date(current), 
        current.setDate(current.getDate() + 1);
        return dates;
    }
    function makeDate(date, format, isSelected, isSecondary) {
        return {
            date: date,
            label: dateFilter(date, format),
            selected: !!isSelected,
            secondary: !!isSecondary
        };
    }
    var format = {
        day: getValue($attrs.dayFormat, dtConfig.dayFormat),
        month: getValue($attrs.monthFormat, dtConfig.monthFormat),
        year: getValue($attrs.yearFormat, dtConfig.yearFormat),
        dayHeader: getValue($attrs.dayHeaderFormat, dtConfig.dayHeaderFormat),
        dayTitle: getValue($attrs.dayTitleFormat, dtConfig.dayTitleFormat),
        monthTitle: getValue($attrs.monthTitleFormat, dtConfig.monthTitleFormat)
    }, startingDay = getValue($attrs.startingDay, dtConfig.startingDay), yearRange = getValue($attrs.yearRange, dtConfig.yearRange);
    this.minDate = dtConfig.minDate ? new Date(dtConfig.minDate) : null, this.maxDate = dtConfig.maxDate ? new Date(dtConfig.maxDate) : null, 
    this.modes = [ {
        name: "day",
        getVisibleDates: function(date, selected) {
            var year = date.getFullYear(), month = date.getMonth(), firstDayOfMonth = new Date(year, month, 1), difference = startingDay - firstDayOfMonth.getDay(), numDisplayedFromPreviousMonth = difference > 0 ? 7 - difference : -difference, firstDate = new Date(firstDayOfMonth), numDates = 0;
            numDisplayedFromPreviousMonth > 0 && (firstDate.setDate(-numDisplayedFromPreviousMonth + 1), 
            numDates += numDisplayedFromPreviousMonth), numDates += getDaysInMonth(year, month + 1), 
            numDates += (7 - numDates % 7) % 7;
            for (var days = getDates(firstDate, numDates), labels = new Array(7), i = 0; i < numDates; i++) {
                var dt = new Date(days[i]);
                days[i] = makeDate(dt, format.day, selected && selected.getDate() === dt.getDate() && selected.getMonth() === dt.getMonth() && selected.getFullYear() === dt.getFullYear(), dt.getMonth() !== month);
            }
            for (var j = 0; j < 7; j++) labels[j] = dateFilter(days[j].date, format.dayHeader);
            return {
                objects: days,
                title: dateFilter(date, format.dayTitle),
                labels: labels
            };
        },
        compare: function(date1, date2) {
            return new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
        },
        split: 7,
        step: {
            months: 1
        }
    }, {
        name: "month",
        getVisibleDates: function(date, selected) {
            for (var months = new Array(12), year = date.getFullYear(), i = 0; i < 12; i++) {
                var dt = new Date(year, i, 1);
                months[i] = makeDate(dt, format.month, selected && selected.getMonth() === i && selected.getFullYear() === year);
            }
            return {
                objects: months,
                title: dateFilter(date, format.monthTitle)
            };
        },
        compare: function(date1, date2) {
            return new Date(date1.getFullYear(), date1.getMonth()) - new Date(date2.getFullYear(), date2.getMonth());
        },
        split: 3,
        step: {
            years: 1
        }
    }, {
        name: "year",
        getVisibleDates: function(date, selected) {
            for (var years = new Array(yearRange), year = date.getFullYear(), startYear = parseInt((year - 1) / yearRange, 10) * yearRange + 1, i = 0; i < yearRange; i++) {
                var dt = new Date(startYear + i, 0, 1);
                years[i] = makeDate(dt, format.year, selected && selected.getFullYear() === dt.getFullYear());
            }
            return {
                objects: years,
                title: [ years[0].label, years[yearRange - 1].label ].join(" - ")
            };
        },
        compare: function(date1, date2) {
            return date1.getFullYear() - date2.getFullYear();
        },
        split: 5,
        step: {
            years: yearRange
        }
    } ], this.isDisabled = function(date, mode) {
        var currentMode = this.modes[mode || 0];
        return this.minDate && currentMode.compare(date, this.minDate) < 0 || this.maxDate && currentMode.compare(date, this.maxDate) > 0 || $scope.dateDisabled && $scope.dateDisabled({
            date: date,
            mode: currentMode.name
        });
    };
} ]).directive("datepicker", [ "dateFilter", "$parse", "datepickerConfig", "$log", function(dateFilter, $parse, datepickerConfig, $log) {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/datepicker/datepicker.html",
        scope: {
            dateDisabled: "&"
        },
        require: [ "datepicker", "?^ngModel" ],
        controller: "DatepickerController",
        link: function(scope, element, attrs, ctrls) {
            function updateShowWeekNumbers() {
                scope.showWeekNumbers = 0 === mode && showWeeks;
            }
            function split(arr, size) {
                for (var arrays = []; arr.length > 0; ) arrays.push(arr.splice(0, size));
                return arrays;
            }
            function refill(updateSelected) {
                var date = null, valid = !0;
                ngModel.$modelValue && (date = new Date(ngModel.$modelValue), isNaN(date) ? (valid = !1, 
                $log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : updateSelected && (selected = date)), 
                ngModel.$setValidity("date", valid);
                var currentMode = datepickerCtrl.modes[mode], data = currentMode.getVisibleDates(selected, date);
                angular.forEach(data.objects, function(obj) {
                    obj.disabled = datepickerCtrl.isDisabled(obj.date, mode);
                }), ngModel.$setValidity("date-disabled", !date || !datepickerCtrl.isDisabled(date)), 
                scope.rows = split(data.objects, currentMode.split), scope.labels = data.labels || [], 
                scope.title = data.title;
            }
            function setMode(value) {
                mode = value, updateShowWeekNumbers(), refill();
            }
            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));
                var time = checkDate.getTime();
                return checkDate.setMonth(0), checkDate.setDate(1), Math.floor(Math.round((time - checkDate) / 864e5) / 7) + 1;
            }
            var datepickerCtrl = ctrls[0], ngModel = ctrls[1];
            if (ngModel) {
                var mode = 0, selected = new Date(), showWeeks = datepickerConfig.showWeeks;
                attrs.showWeeks ? scope.$parent.$watch($parse(attrs.showWeeks), function(value) {
                    showWeeks = !!value, updateShowWeekNumbers();
                }) : updateShowWeekNumbers(), attrs.min && scope.$parent.$watch($parse(attrs.min), function(value) {
                    datepickerCtrl.minDate = value ? new Date(value) : null, refill();
                }), attrs.max && scope.$parent.$watch($parse(attrs.max), function(value) {
                    datepickerCtrl.maxDate = value ? new Date(value) : null, refill();
                }), ngModel.$render = function() {
                    refill(!0);
                }, scope.select = function(date) {
                    if (0 === mode) {
                        var dt = ngModel.$modelValue ? new Date(ngModel.$modelValue) : new Date(0, 0, 0, 0, 0, 0, 0);
                        dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate()), ngModel.$setViewValue(dt), 
                        refill(!0);
                    } else selected = date, setMode(mode - 1);
                }, scope.move = function(direction) {
                    var step = datepickerCtrl.modes[mode].step;
                    selected.setMonth(selected.getMonth() + direction * (step.months || 0)), selected.setFullYear(selected.getFullYear() + direction * (step.years || 0)), 
                    refill();
                }, scope.toggleMode = function() {
                    setMode((mode + 1) % datepickerCtrl.modes.length);
                }, scope.getWeekNumber = function(row) {
                    return 0 === mode && scope.showWeekNumbers && 7 === row.length ? getISO8601WeekNumber(row[0].date) : null;
                };
            }
        }
    };
} ]).constant("datepickerPopupConfig", {
    dateFormat: "yyyy-MM-dd",
    currentText: "Today",
    toggleWeeksText: "Weeks",
    clearText: "Clear",
    closeText: "Done",
    closeOnDateSelection: !0,
    appendToBody: !1,
    showButtonBar: !0
}).directive("datepickerPopup", [ "$compile", "$parse", "$document", "$position", "dateFilter", "datepickerPopupConfig", "datepickerConfig", function($compile, $parse, $document, $position, dateFilter, datepickerPopupConfig, datepickerConfig) {
    return {
        restrict: "EA",
        require: "ngModel",
        link: function(originalScope, element, attrs, ngModel) {
            function setOpen(value) {
                setIsOpen ? setIsOpen(originalScope, !!value) : scope.isOpen = !!value;
            }
            function parseDate(viewValue) {
                if (viewValue) {
                    if (angular.isDate(viewValue)) return ngModel.$setValidity("date", !0), viewValue;
                    if (angular.isString(viewValue)) {
                        var date = new Date(viewValue);
                        return isNaN(date) ? void ngModel.$setValidity("date", !1) : (ngModel.$setValidity("date", !0), 
                        date);
                    }
                    return void ngModel.$setValidity("date", !1);
                }
                return ngModel.$setValidity("date", !0), null;
            }
            function addWatchableAttribute(attribute, scopeProperty, datepickerAttribute) {
                attribute && (originalScope.$watch($parse(attribute), function(value) {
                    scope[scopeProperty] = value;
                }), datepickerEl.attr(datepickerAttribute || scopeProperty, scopeProperty));
            }
            function updatePosition() {
                scope.position = appendToBody ? $position.offset(element) : $position.position(element), 
                scope.position.top = scope.position.top + element.prop("offsetHeight");
            }
            var dateFormat, scope = originalScope.$new(), closeOnDateSelection = angular.isDefined(attrs.closeOnDateSelection) ? originalScope.$eval(attrs.closeOnDateSelection) : datepickerPopupConfig.closeOnDateSelection, appendToBody = angular.isDefined(attrs.datepickerAppendToBody) ? originalScope.$eval(attrs.datepickerAppendToBody) : datepickerPopupConfig.appendToBody;
            attrs.$observe("datepickerPopup", function(value) {
                dateFormat = value || datepickerPopupConfig.dateFormat, ngModel.$render();
            }), scope.showButtonBar = angular.isDefined(attrs.showButtonBar) ? originalScope.$eval(attrs.showButtonBar) : datepickerPopupConfig.showButtonBar, 
            originalScope.$on("$destroy", function() {
                $popup.remove(), scope.$destroy();
            }), attrs.$observe("currentText", function(text) {
                scope.currentText = angular.isDefined(text) ? text : datepickerPopupConfig.currentText;
            }), attrs.$observe("toggleWeeksText", function(text) {
                scope.toggleWeeksText = angular.isDefined(text) ? text : datepickerPopupConfig.toggleWeeksText;
            }), attrs.$observe("clearText", function(text) {
                scope.clearText = angular.isDefined(text) ? text : datepickerPopupConfig.clearText;
            }), attrs.$observe("closeText", function(text) {
                scope.closeText = angular.isDefined(text) ? text : datepickerPopupConfig.closeText;
            });
            var getIsOpen, setIsOpen;
            attrs.isOpen && (getIsOpen = $parse(attrs.isOpen), setIsOpen = getIsOpen.assign, 
            originalScope.$watch(getIsOpen, function(value) {
                scope.isOpen = !!value;
            })), scope.isOpen = !!getIsOpen && getIsOpen(originalScope);
            var documentClickBind = function(event) {
                scope.isOpen && event.target !== element[0] && scope.$apply(function() {
                    setOpen(!1);
                });
            }, elementFocusBind = function() {
                scope.$apply(function() {
                    setOpen(!0);
                });
            }, popupEl = angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");
            popupEl.attr({
                "ng-model": "date",
                "ng-change": "dateSelection()"
            });
            var datepickerEl = angular.element(popupEl.children()[0]), datepickerOptions = {};
            attrs.datepickerOptions && (datepickerOptions = originalScope.$eval(attrs.datepickerOptions), 
            datepickerEl.attr(angular.extend({}, datepickerOptions))), ngModel.$parsers.unshift(parseDate), 
            scope.dateSelection = function(dt) {
                angular.isDefined(dt) && (scope.date = dt), ngModel.$setViewValue(scope.date), ngModel.$render(), 
                closeOnDateSelection && setOpen(!1);
            }, element.bind("input change keyup", function() {
                scope.$apply(function() {
                    scope.date = ngModel.$modelValue;
                });
            }), ngModel.$render = function() {
                var date = ngModel.$viewValue ? dateFilter(ngModel.$viewValue, dateFormat) : "";
                element.val(date), scope.date = ngModel.$modelValue;
            }, addWatchableAttribute(attrs.min, "min"), addWatchableAttribute(attrs.max, "max"), 
            attrs.showWeeks ? addWatchableAttribute(attrs.showWeeks, "showWeeks", "show-weeks") : (scope.showWeeks = "show-weeks" in datepickerOptions ? datepickerOptions["show-weeks"] : datepickerConfig.showWeeks, 
            datepickerEl.attr("show-weeks", "showWeeks")), attrs.dateDisabled && datepickerEl.attr("date-disabled", attrs.dateDisabled);
            var documentBindingInitialized = !1, elementFocusInitialized = !1;
            scope.$watch("isOpen", function(value) {
                value ? (updatePosition(), $document.bind("click", documentClickBind), elementFocusInitialized && element.unbind("focus", elementFocusBind), 
                element[0].focus(), documentBindingInitialized = !0) : (documentBindingInitialized && $document.unbind("click", documentClickBind), 
                element.bind("focus", elementFocusBind), elementFocusInitialized = !0), setIsOpen && setIsOpen(originalScope, value);
            }), scope.today = function() {
                scope.dateSelection(new Date());
            }, scope.clear = function() {
                scope.dateSelection(null);
            };
            var $popup = $compile(popupEl)(scope);
            appendToBody ? $document.find("body").append($popup) : element.after($popup);
        }
    };
} ]).directive("datepickerPopupWrap", function() {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        templateUrl: "template/datepicker/popup.html",
        link: function(scope, element, attrs) {
            element.bind("click", function(event) {
                event.preventDefault(), event.stopPropagation();
            });
        }
    };
}), angular.module("ui.bootstrap.dropdownToggle", []).directive("dropdownToggle", [ "$document", "$location", function($document, $location) {
    var openElement = null, closeMenu = angular.noop;
    return {
        restrict: "CA",
        link: function(scope, element, attrs) {
            scope.$watch("$location.path", function() {
                closeMenu();
            }), element.parent().bind("click", function() {
                closeMenu();
            }), element.bind("click", function(event) {
                var elementWasOpen = element === openElement;
                event.preventDefault(), event.stopPropagation(), openElement && closeMenu(), elementWasOpen || element.hasClass("disabled") || element.prop("disabled") || (element.parent().addClass("open"), 
                openElement = element, closeMenu = function(event) {
                    event && (event.preventDefault(), event.stopPropagation()), $document.unbind("click", closeMenu), 
                    element.parent().removeClass("open"), closeMenu = angular.noop, openElement = null;
                }, $document.bind("click", closeMenu));
            });
        }
    };
} ]), angular.module("ui.bootstrap.modal", [ "ui.bootstrap.transition" ]).factory("$$stackedMap", function() {
    return {
        createNew: function() {
            var stack = [];
            return {
                add: function(key, value) {
                    stack.push({
                        key: key,
                        value: value
                    });
                },
                get: function(key) {
                    for (var i = 0; i < stack.length; i++) if (key == stack[i].key) return stack[i];
                },
                keys: function() {
                    for (var keys = [], i = 0; i < stack.length; i++) keys.push(stack[i].key);
                    return keys;
                },
                top: function() {
                    return stack[stack.length - 1];
                },
                remove: function(key) {
                    for (var idx = -1, i = 0; i < stack.length; i++) if (key == stack[i].key) {
                        idx = i;
                        break;
                    }
                    return stack.splice(idx, 1)[0];
                },
                removeTop: function() {
                    return stack.splice(stack.length - 1, 1)[0];
                },
                length: function() {
                    return stack.length;
                }
            };
        }
    };
}).directive("modalBackdrop", [ "$timeout", function($timeout) {
    return {
        restrict: "EA",
        replace: !0,
        templateUrl: "template/modal/backdrop.html",
        link: function(scope) {
            scope.animate = !1, $timeout(function() {
                scope.animate = !0;
            });
        }
    };
} ]).directive("modalWindow", [ "$modalStack", "$timeout", function($modalStack, $timeout) {
    return {
        restrict: "EA",
        scope: {
            index: "@",
            animate: "="
        },
        replace: !0,
        transclude: !0,
        templateUrl: "template/modal/window.html",
        link: function(scope, element, attrs) {
            scope.windowClass = attrs.windowClass || "", $timeout(function() {
                scope.animate = !0, element[0].focus();
            }), scope.close = function(evt) {
                var modal = $modalStack.getTop();
                modal && modal.value.backdrop && "static" != modal.value.backdrop && evt.target === evt.currentTarget && (evt.preventDefault(), 
                evt.stopPropagation(), $modalStack.dismiss(modal.key, "backdrop click"));
            };
        }
    };
} ]).factory("$modalStack", [ "$transition", "$timeout", "$document", "$compile", "$rootScope", "$$stackedMap", function($transition, $timeout, $document, $compile, $rootScope, $$stackedMap) {
    function backdropIndex() {
        for (var topBackdropIndex = -1, opened = openedWindows.keys(), i = 0; i < opened.length; i++) openedWindows.get(opened[i]).value.backdrop && (topBackdropIndex = i);
        return topBackdropIndex;
    }
    function removeModalWindow(modalInstance) {
        var body = $document.find("body").eq(0), modalWindow = openedWindows.get(modalInstance).value;
        openedWindows.remove(modalInstance), removeAfterAnimate(modalWindow.modalDomEl, modalWindow.modalScope, 300, checkRemoveBackdrop), 
        body.toggleClass(OPENED_MODAL_CLASS, openedWindows.length() > 0);
    }
    function checkRemoveBackdrop() {
        if (backdropDomEl && backdropIndex() == -1) {
            var backdropScopeRef = backdropScope;
            removeAfterAnimate(backdropDomEl, backdropScope, 150, function() {
                backdropScopeRef.$destroy(), backdropScopeRef = null;
            }), backdropDomEl = void 0, backdropScope = void 0;
        }
    }
    function removeAfterAnimate(domEl, scope, emulateTime, done) {
        function afterAnimating() {
            afterAnimating.done || (afterAnimating.done = !0, domEl.remove(), done && done());
        }
        scope.animate = !1;
        var transitionEndEventName = $transition.transitionEndEventName;
        if (transitionEndEventName) {
            var timeout = $timeout(afterAnimating, emulateTime);
            domEl.bind(transitionEndEventName, function() {
                $timeout.cancel(timeout), afterAnimating(), scope.$apply();
            });
        } else $timeout(afterAnimating, 0);
    }
    var backdropDomEl, backdropScope, OPENED_MODAL_CLASS = "modal-open", openedWindows = $$stackedMap.createNew(), $modalStack = {};
    return $rootScope.$watch(backdropIndex, function(newBackdropIndex) {
        backdropScope && (backdropScope.index = newBackdropIndex);
    }), $document.bind("keydown", function(evt) {
        var modal;
        27 === evt.which && (modal = openedWindows.top(), modal && modal.value.keyboard && $rootScope.$apply(function() {
            $modalStack.dismiss(modal.key);
        }));
    }), $modalStack.open = function(modalInstance, modal) {
        openedWindows.add(modalInstance, {
            deferred: modal.deferred,
            modalScope: modal.scope,
            backdrop: modal.backdrop,
            keyboard: modal.keyboard
        });
        var body = $document.find("body").eq(0), currBackdropIndex = backdropIndex();
        currBackdropIndex >= 0 && !backdropDomEl && (backdropScope = $rootScope.$new(!0), 
        backdropScope.index = currBackdropIndex, backdropDomEl = $compile("<div modal-backdrop></div>")(backdropScope), 
        body.append(backdropDomEl));
        var angularDomEl = angular.element("<div modal-window></div>");
        angularDomEl.attr("window-class", modal.windowClass), angularDomEl.attr("index", openedWindows.length() - 1), 
        angularDomEl.attr("animate", "animate"), angularDomEl.html(modal.content);
        var modalDomEl = $compile(angularDomEl)(modal.scope);
        openedWindows.top().value.modalDomEl = modalDomEl, body.append(modalDomEl), body.addClass(OPENED_MODAL_CLASS);
    }, $modalStack.close = function(modalInstance, result) {
        var modalWindow = openedWindows.get(modalInstance).value;
        modalWindow && (modalWindow.deferred.resolve(result), removeModalWindow(modalInstance));
    }, $modalStack.dismiss = function(modalInstance, reason) {
        var modalWindow = openedWindows.get(modalInstance).value;
        modalWindow && (modalWindow.deferred.reject(reason), removeModalWindow(modalInstance));
    }, $modalStack.dismissAll = function(reason) {
        for (var topModal = this.getTop(); topModal; ) this.dismiss(topModal.key, reason), 
        topModal = this.getTop();
    }, $modalStack.getTop = function() {
        return openedWindows.top();
    }, $modalStack;
} ]).provider("$modal", function() {
    var $modalProvider = {
        options: {
            backdrop: !0,
            keyboard: !0
        },
        $get: [ "$injector", "$rootScope", "$q", "$http", "$templateCache", "$controller", "$modalStack", function($injector, $rootScope, $q, $http, $templateCache, $controller, $modalStack) {
            function getTemplatePromise(options) {
                return options.template ? $q.when(options.template) : $http.get(options.templateUrl, {
                    cache: $templateCache
                }).then(function(result) {
                    return result.data;
                });
            }
            function getResolvePromises(resolves) {
                var promisesArr = [];
                return angular.forEach(resolves, function(value, key) {
                    (angular.isFunction(value) || angular.isArray(value)) && promisesArr.push($q.when($injector.invoke(value)));
                }), promisesArr;
            }
            var $modal = {};
            return $modal.open = function(modalOptions) {
                var modalResultDeferred = $q.defer(), modalOpenedDeferred = $q.defer(), modalInstance = {
                    result: modalResultDeferred.promise,
                    opened: modalOpenedDeferred.promise,
                    close: function(result) {
                        $modalStack.close(modalInstance, result);
                    },
                    dismiss: function(reason) {
                        $modalStack.dismiss(modalInstance, reason);
                    }
                };
                if (modalOptions = angular.extend({}, $modalProvider.options, modalOptions), modalOptions.resolve = modalOptions.resolve || {}, 
                !modalOptions.template && !modalOptions.templateUrl) throw new Error("One of template or templateUrl options is required.");
                var templateAndResolvePromise = $q.all([ getTemplatePromise(modalOptions) ].concat(getResolvePromises(modalOptions.resolve)));
                return templateAndResolvePromise.then(function(tplAndVars) {
                    var modalScope = (modalOptions.scope || $rootScope).$new();
                    modalScope.$close = modalInstance.close, modalScope.$dismiss = modalInstance.dismiss;
                    var ctrlInstance, ctrlLocals = {}, resolveIter = 1;
                    modalOptions.controller && (ctrlLocals.$scope = modalScope, ctrlLocals.$modalInstance = modalInstance, 
                    angular.forEach(modalOptions.resolve, function(value, key) {
                        ctrlLocals[key] = tplAndVars[resolveIter++];
                    }), ctrlInstance = $controller(modalOptions.controller, ctrlLocals)), $modalStack.open(modalInstance, {
                        scope: modalScope,
                        deferred: modalResultDeferred,
                        content: tplAndVars[0],
                        backdrop: modalOptions.backdrop,
                        keyboard: modalOptions.keyboard,
                        windowClass: modalOptions.windowClass
                    });
                }, function(reason) {
                    modalResultDeferred.reject(reason);
                }), templateAndResolvePromise.then(function() {
                    modalOpenedDeferred.resolve(!0);
                }, function() {
                    modalOpenedDeferred.reject(!1);
                }), modalInstance;
            }, $modal;
        } ]
    };
    return $modalProvider;
}), angular.module("ui.bootstrap.pagination", []).controller("PaginationController", [ "$scope", "$attrs", "$parse", "$interpolate", function($scope, $attrs, $parse, $interpolate) {
    var self = this, setNumPages = $attrs.numPages ? $parse($attrs.numPages).assign : angular.noop;
    this.init = function(defaultItemsPerPage) {
        $attrs.itemsPerPage ? $scope.$parent.$watch($parse($attrs.itemsPerPage), function(value) {
            self.itemsPerPage = parseInt(value, 10), $scope.totalPages = self.calculateTotalPages();
        }) : this.itemsPerPage = defaultItemsPerPage;
    }, this.noPrevious = function() {
        return 1 === this.page;
    }, this.noNext = function() {
        return this.page === $scope.totalPages;
    }, this.isActive = function(page) {
        return this.page === page;
    }, this.calculateTotalPages = function() {
        var totalPages = this.itemsPerPage < 1 ? 1 : Math.ceil($scope.totalItems / this.itemsPerPage);
        return Math.max(totalPages || 0, 1);
    }, this.getAttributeValue = function(attribute, defaultValue, interpolate) {
        return angular.isDefined(attribute) ? interpolate ? $interpolate(attribute)($scope.$parent) : $scope.$parent.$eval(attribute) : defaultValue;
    }, this.render = function() {
        this.page = parseInt($scope.page, 10) || 1, this.page > 0 && this.page <= $scope.totalPages && ($scope.pages = this.getPages(this.page, $scope.totalPages));
    }, $scope.selectPage = function(page) {
        !self.isActive(page) && page > 0 && page <= $scope.totalPages && ($scope.page = page, 
        $scope.onSelectPage({
            page: page
        }));
    }, $scope.$watch("page", function() {
        self.render();
    }), $scope.$watch("totalItems", function() {
        $scope.totalPages = self.calculateTotalPages();
    }), $scope.$watch("totalPages", function(value) {
        setNumPages($scope.$parent, value), self.page > value ? $scope.selectPage(value) : self.render();
    });
} ]).constant("paginationConfig", {
    itemsPerPage: 10,
    boundaryLinks: !1,
    directionLinks: !0,
    firstText: "First",
    previousText: "Previous",
    nextText: "Next",
    lastText: "Last",
    rotate: !0
}).directive("pagination", [ "$parse", "paginationConfig", function($parse, config) {
    return {
        restrict: "EA",
        scope: {
            page: "=",
            totalItems: "=",
            onSelectPage: " &"
        },
        controller: "PaginationController",
        templateUrl: "template/pagination/pagination.html",
        replace: !0,
        link: function(scope, element, attrs, paginationCtrl) {
            function makePage(number, text, isActive, isDisabled) {
                return {
                    number: number,
                    text: text,
                    active: isActive,
                    disabled: isDisabled
                };
            }
            var maxSize, boundaryLinks = paginationCtrl.getAttributeValue(attrs.boundaryLinks, config.boundaryLinks), directionLinks = paginationCtrl.getAttributeValue(attrs.directionLinks, config.directionLinks), firstText = paginationCtrl.getAttributeValue(attrs.firstText, config.firstText, !0), previousText = paginationCtrl.getAttributeValue(attrs.previousText, config.previousText, !0), nextText = paginationCtrl.getAttributeValue(attrs.nextText, config.nextText, !0), lastText = paginationCtrl.getAttributeValue(attrs.lastText, config.lastText, !0), rotate = paginationCtrl.getAttributeValue(attrs.rotate, config.rotate);
            paginationCtrl.init(config.itemsPerPage), attrs.maxSize && scope.$parent.$watch($parse(attrs.maxSize), function(value) {
                maxSize = parseInt(value, 10), paginationCtrl.render();
            }), paginationCtrl.getPages = function(currentPage, totalPages) {
                var pages = [], startPage = 1, endPage = totalPages, isMaxSized = angular.isDefined(maxSize) && maxSize < totalPages;
                isMaxSized && (rotate ? (startPage = Math.max(currentPage - Math.floor(maxSize / 2), 1), 
                endPage = startPage + maxSize - 1, endPage > totalPages && (endPage = totalPages, 
                startPage = endPage - maxSize + 1)) : (startPage = (Math.ceil(currentPage / maxSize) - 1) * maxSize + 1, 
                endPage = Math.min(startPage + maxSize - 1, totalPages)));
                for (var number = startPage; number <= endPage; number++) {
                    var page = makePage(number, number, paginationCtrl.isActive(number), !1);
                    pages.push(page);
                }
                if (isMaxSized && !rotate) {
                    if (startPage > 1) {
                        var previousPageSet = makePage(startPage - 1, "...", !1, !1);
                        pages.unshift(previousPageSet);
                    }
                    if (endPage < totalPages) {
                        var nextPageSet = makePage(endPage + 1, "...", !1, !1);
                        pages.push(nextPageSet);
                    }
                }
                if (directionLinks) {
                    var previousPage = makePage(currentPage - 1, previousText, !1, paginationCtrl.noPrevious());
                    pages.unshift(previousPage);
                    var nextPage = makePage(currentPage + 1, nextText, !1, paginationCtrl.noNext());
                    pages.push(nextPage);
                }
                if (boundaryLinks) {
                    var firstPage = makePage(1, firstText, !1, paginationCtrl.noPrevious());
                    pages.unshift(firstPage);
                    var lastPage = makePage(totalPages, lastText, !1, paginationCtrl.noNext());
                    pages.push(lastPage);
                }
                return pages;
            };
        }
    };
} ]).constant("pagerConfig", {
    itemsPerPage: 10,
    previousText: " Previous",
    nextText: "Next ",
    align: !0
}).directive("pager", [ "pagerConfig", function(config) {
    return {
        restrict: "EA",
        scope: {
            page: "=",
            totalItems: "=",
            onSelectPage: " &"
        },
        controller: "PaginationController",
        templateUrl: "template/pagination/pager.html",
        replace: !0,
        link: function(scope, element, attrs, paginationCtrl) {
            function makePage(number, text, isDisabled, isPrevious, isNext) {
                return {
                    number: number,
                    text: text,
                    disabled: isDisabled,
                    previous: align && isPrevious,
                    next: align && isNext
                };
            }
            var previousText = paginationCtrl.getAttributeValue(attrs.previousText, config.previousText, !0), nextText = paginationCtrl.getAttributeValue(attrs.nextText, config.nextText, !0), align = paginationCtrl.getAttributeValue(attrs.align, config.align);
            paginationCtrl.init(config.itemsPerPage), paginationCtrl.getPages = function(currentPage) {
                return [ makePage(currentPage - 1, previousText, paginationCtrl.noPrevious(), !0, !1), makePage(currentPage + 1, nextText, paginationCtrl.noNext(), !1, !0) ];
            };
        }
    };
} ]), angular.module("ui.bootstrap.tooltip", [ "ui.bootstrap.position", "ui.bootstrap.bindHtml" ]).provider("$tooltip", function() {
    function snake_case(name) {
        var regexp = /[A-Z]/g, separator = "-";
        return name.replace(regexp, function(letter, pos) {
            return (pos ? separator : "") + letter.toLowerCase();
        });
    }
    var defaultOptions = {
        placement: "top",
        animation: !0,
        popupDelay: 0
    }, triggerMap = {
        mouseenter: "mouseleave",
        click: "click",
        focus: "blur"
    }, globalOptions = {};
    this.options = function(value) {
        angular.extend(globalOptions, value);
    }, this.setTriggers = function(triggers) {
        angular.extend(triggerMap, triggers);
    }, this.$get = [ "$window", "$compile", "$timeout", "$parse", "$document", "$position", "$interpolate", function($window, $compile, $timeout, $parse, $document, $position, $interpolate) {
        return function(type, prefix, defaultTriggerShow) {
            function getTriggers(trigger) {
                var show = trigger || options.trigger || defaultTriggerShow, hide = triggerMap[show] || show;
                return {
                    show: show,
                    hide: hide
                };
            }
            var options = angular.extend({}, defaultOptions, globalOptions), directiveName = snake_case(type), startSym = $interpolate.startSymbol(), endSym = $interpolate.endSymbol(), template = "<div " + directiveName + '-popup title="' + startSym + "tt_title" + endSym + '" content="' + startSym + "tt_content" + endSym + '" placement="' + startSym + "tt_placement" + endSym + '" animation="tt_animation" is-open="tt_isOpen"></div>';
            return {
                restrict: "EA",
                scope: !0,
                compile: function(tElem, tAttrs) {
                    var tooltipLinker = $compile(template);
                    return function(scope, element, attrs) {
                        function toggleTooltipBind() {
                            scope.tt_isOpen ? hideTooltipBind() : showTooltipBind();
                        }
                        function showTooltipBind() {
                            hasEnableExp && !scope.$eval(attrs[prefix + "Enable"]) || (scope.tt_popupDelay ? (popupTimeout = $timeout(show, scope.tt_popupDelay, !1), 
                            popupTimeout.then(function(reposition) {
                                reposition();
                            })) : show()());
                        }
                        function hideTooltipBind() {
                            scope.$apply(function() {
                                hide();
                            });
                        }
                        function show() {
                            return scope.tt_content ? (createTooltip(), transitionTimeout && $timeout.cancel(transitionTimeout), 
                            tooltip.css({
                                top: 0,
                                left: 0,
                                display: "block"
                            }), appendToBody ? $document.find("body").append(tooltip) : element.after(tooltip), 
                            positionTooltip(), scope.tt_isOpen = !0, scope.$digest(), positionTooltip) : angular.noop;
                        }
                        function hide() {
                            scope.tt_isOpen = !1, $timeout.cancel(popupTimeout), scope.tt_animation ? transitionTimeout = $timeout(removeTooltip, 500) : removeTooltip();
                        }
                        function createTooltip() {
                            tooltip && removeTooltip(), tooltip = tooltipLinker(scope, function() {}), scope.$digest();
                        }
                        function removeTooltip() {
                            tooltip && (tooltip.remove(), tooltip = null);
                        }
                        var tooltip, transitionTimeout, popupTimeout, appendToBody = !!angular.isDefined(options.appendToBody) && options.appendToBody, triggers = getTriggers(void 0), hasRegisteredTriggers = !1, hasEnableExp = angular.isDefined(attrs[prefix + "Enable"]), positionTooltip = function() {
                            var position, ttWidth, ttHeight, ttPosition;
                            switch (position = appendToBody ? $position.offset(element) : $position.position(element), 
                            ttWidth = tooltip.prop("offsetWidth"), ttHeight = tooltip.prop("offsetHeight"), 
                            scope.tt_placement) {
                              case "right":
                                ttPosition = {
                                    top: position.top + position.height / 2 - ttHeight / 2,
                                    left: position.left + position.width
                                };
                                break;

                              case "bottom":
                                ttPosition = {
                                    top: position.top + position.height,
                                    left: position.left + position.width / 2 - ttWidth / 2
                                };
                                break;

                              case "left":
                                ttPosition = {
                                    top: position.top + position.height / 2 - ttHeight / 2,
                                    left: position.left - ttWidth
                                };
                                break;

                              default:
                                ttPosition = {
                                    top: position.top - ttHeight,
                                    left: position.left + position.width / 2 - ttWidth / 2
                                };
                            }
                            ttPosition.top += "px", ttPosition.left += "px", tooltip.css(ttPosition);
                        };
                        scope.tt_isOpen = !1, attrs.$observe(type, function(val) {
                            scope.tt_content = val, !val && scope.tt_isOpen && hide();
                        }), attrs.$observe(prefix + "Title", function(val) {
                            scope.tt_title = val;
                        }), attrs.$observe(prefix + "Placement", function(val) {
                            scope.tt_placement = angular.isDefined(val) ? val : options.placement;
                        }), attrs.$observe(prefix + "PopupDelay", function(val) {
                            var delay = parseInt(val, 10);
                            scope.tt_popupDelay = isNaN(delay) ? options.popupDelay : delay;
                        });
                        var unregisterTriggers = function() {
                            hasRegisteredTriggers && (element.unbind(triggers.show, showTooltipBind), element.unbind(triggers.hide, hideTooltipBind));
                        };
                        attrs.$observe(prefix + "Trigger", function(val) {
                            unregisterTriggers(), triggers = getTriggers(val), triggers.show === triggers.hide ? element.bind(triggers.show, toggleTooltipBind) : (element.bind(triggers.show, showTooltipBind), 
                            element.bind(triggers.hide, hideTooltipBind)), hasRegisteredTriggers = !0;
                        });
                        var animation = scope.$eval(attrs[prefix + "Animation"]);
                        scope.tt_animation = angular.isDefined(animation) ? !!animation : options.animation, 
                        attrs.$observe(prefix + "AppendToBody", function(val) {
                            appendToBody = angular.isDefined(val) ? $parse(val)(scope) : appendToBody;
                        }), appendToBody && scope.$on("$locationChangeSuccess", function() {
                            scope.tt_isOpen && hide();
                        }), scope.$on("$destroy", function() {
                            $timeout.cancel(transitionTimeout), $timeout.cancel(popupTimeout), unregisterTriggers(), 
                            removeTooltip();
                        });
                    };
                }
            };
        };
    } ];
}).directive("tooltipPopup", function() {
    return {
        restrict: "EA",
        replace: !0,
        scope: {
            content: "@",
            placement: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/tooltip/tooltip-popup.html"
    };
}).directive("tooltip", [ "$tooltip", function($tooltip) {
    return $tooltip("tooltip", "tooltip", "mouseenter");
} ]).directive("tooltipHtmlUnsafePopup", function() {
    return {
        restrict: "EA",
        replace: !0,
        scope: {
            content: "@",
            placement: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/tooltip/tooltip-html-unsafe-popup.html"
    };
}).directive("tooltipHtmlUnsafe", [ "$tooltip", function($tooltip) {
    return $tooltip("tooltipHtmlUnsafe", "tooltip", "mouseenter");
} ]), angular.module("ui.bootstrap.popover", [ "ui.bootstrap.tooltip" ]).directive("popoverPopup", function() {
    return {
        restrict: "EA",
        replace: !0,
        scope: {
            title: "@",
            content: "@",
            placement: "@",
            animation: "&",
            isOpen: "&"
        },
        templateUrl: "template/popover/popover.html"
    };
}).directive("popover", [ "$tooltip", function($tooltip) {
    return $tooltip("popover", "popover", "click");
} ]), angular.module("ui.bootstrap.progressbar", [ "ui.bootstrap.transition" ]).constant("progressConfig", {
    animate: !0,
    max: 100
}).controller("ProgressController", [ "$scope", "$attrs", "progressConfig", "$transition", function($scope, $attrs, progressConfig, $transition) {
    var self = this, bars = [], max = angular.isDefined($attrs.max) ? $scope.$parent.$eval($attrs.max) : progressConfig.max, animate = angular.isDefined($attrs.animate) ? $scope.$parent.$eval($attrs.animate) : progressConfig.animate;
    this.addBar = function(bar, element) {
        var oldValue = 0, index = bar.$parent.$index;
        angular.isDefined(index) && bars[index] && (oldValue = bars[index].value), bars.push(bar), 
        this.update(element, bar.value, oldValue), bar.$watch("value", function(value, oldValue) {
            value !== oldValue && self.update(element, value, oldValue);
        }), bar.$on("$destroy", function() {
            self.removeBar(bar);
        });
    }, this.update = function(element, newValue, oldValue) {
        var percent = this.getPercentage(newValue);
        animate ? (element.css("width", this.getPercentage(oldValue) + "%"), $transition(element, {
            width: percent + "%"
        })) : element.css({
            transition: "none",
            width: percent + "%"
        });
    }, this.removeBar = function(bar) {
        bars.splice(bars.indexOf(bar), 1);
    }, this.getPercentage = function(value) {
        return Math.round(100 * value / max);
    };
} ]).directive("progress", function() {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        require: "progress",
        scope: {},
        template: '<div class="progress" ng-transclude></div>'
    };
}).directive("bar", function() {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        require: "^progress",
        scope: {
            value: "=",
            type: "@"
        },
        templateUrl: "template/progressbar/bar.html",
        link: function(scope, element, attrs, progressCtrl) {
            progressCtrl.addBar(scope, element);
        }
    };
}).directive("progressbar", function() {
    return {
        restrict: "EA",
        replace: !0,
        transclude: !0,
        controller: "ProgressController",
        scope: {
            value: "=",
            type: "@"
        },
        templateUrl: "template/progressbar/progressbar.html",
        link: function(scope, element, attrs, progressCtrl) {
            progressCtrl.addBar(scope, angular.element(element.children()[0]));
        }
    };
}), angular.module("ui.bootstrap.rating", []).constant("ratingConfig", {
    max: 5,
    stateOn: null,
    stateOff: null
}).controller("RatingController", [ "$scope", "$attrs", "$parse", "ratingConfig", function($scope, $attrs, $parse, ratingConfig) {
    this.maxRange = angular.isDefined($attrs.max) ? $scope.$parent.$eval($attrs.max) : ratingConfig.max, 
    this.stateOn = angular.isDefined($attrs.stateOn) ? $scope.$parent.$eval($attrs.stateOn) : ratingConfig.stateOn, 
    this.stateOff = angular.isDefined($attrs.stateOff) ? $scope.$parent.$eval($attrs.stateOff) : ratingConfig.stateOff, 
    this.createRateObjects = function(states) {
        for (var defaultOptions = {
            stateOn: this.stateOn,
            stateOff: this.stateOff
        }, i = 0, n = states.length; i < n; i++) states[i] = angular.extend({
            index: i
        }, defaultOptions, states[i]);
        return states;
    }, $scope.range = angular.isDefined($attrs.ratingStates) ? this.createRateObjects(angular.copy($scope.$parent.$eval($attrs.ratingStates))) : this.createRateObjects(new Array(this.maxRange)), 
    $scope.rate = function(value) {
        $scope.value === value || $scope.readonly || ($scope.value = value);
    }, $scope.enter = function(value) {
        $scope.readonly || ($scope.val = value), $scope.onHover({
            value: value
        });
    }, $scope.reset = function() {
        $scope.val = angular.copy($scope.value), $scope.onLeave();
    }, $scope.$watch("value", function(value) {
        $scope.val = value;
    }), $scope.readonly = !1, $attrs.readonly && $scope.$parent.$watch($parse($attrs.readonly), function(value) {
        $scope.readonly = !!value;
    });
} ]).directive("rating", function() {
    return {
        restrict: "EA",
        scope: {
            value: "=",
            onHover: "&",
            onLeave: "&"
        },
        controller: "RatingController",
        templateUrl: "template/rating/rating.html",
        replace: !0
    };
}), angular.module("ui.bootstrap.tabs", []).controller("TabsetController", [ "$scope", function($scope) {
    var ctrl = this, tabs = ctrl.tabs = $scope.tabs = [];
    ctrl.select = function(tab) {
        angular.forEach(tabs, function(tab) {
            tab.active = !1;
        }), tab.active = !0;
    }, ctrl.addTab = function(tab) {
        tabs.push(tab), (1 === tabs.length || tab.active) && ctrl.select(tab);
    }, ctrl.removeTab = function(tab) {
        var index = tabs.indexOf(tab);
        if (tab.active && tabs.length > 1) {
            var newActiveIndex = index == tabs.length - 1 ? index - 1 : index + 1;
            ctrl.select(tabs[newActiveIndex]);
        }
        tabs.splice(index, 1);
    };
} ]).directive("tabset", function() {
    return {
        restrict: "EA",
        transclude: !0,
        replace: !0,
        scope: {},
        controller: "TabsetController",
        templateUrl: "template/tabs/tabset.html",
        link: function(scope, element, attrs) {
            scope.vertical = !!angular.isDefined(attrs.vertical) && scope.$parent.$eval(attrs.vertical), 
            scope.justified = !!angular.isDefined(attrs.justified) && scope.$parent.$eval(attrs.justified), 
            scope.type = angular.isDefined(attrs.type) ? scope.$parent.$eval(attrs.type) : "tabs";
        }
    };
}).directive("tab", [ "$parse", function($parse) {
    return {
        require: "^tabset",
        restrict: "EA",
        replace: !0,
        templateUrl: "template/tabs/tab.html",
        transclude: !0,
        scope: {
            heading: "@",
            onSelect: "&select",
            onDeselect: "&deselect"
        },
        controller: function() {},
        compile: function(elm, attrs, transclude) {
            return function(scope, elm, attrs, tabsetCtrl) {
                var getActive, setActive;
                attrs.active ? (getActive = $parse(attrs.active), setActive = getActive.assign, 
                scope.$parent.$watch(getActive, function(value, oldVal) {
                    value !== oldVal && (scope.active = !!value);
                }), scope.active = getActive(scope.$parent)) : setActive = getActive = angular.noop, 
                scope.$watch("active", function(active) {
                    setActive(scope.$parent, active), active ? (tabsetCtrl.select(scope), scope.onSelect()) : scope.onDeselect();
                }), scope.disabled = !1, attrs.disabled && scope.$parent.$watch($parse(attrs.disabled), function(value) {
                    scope.disabled = !!value;
                }), scope.select = function() {
                    scope.disabled || (scope.active = !0);
                }, tabsetCtrl.addTab(scope), scope.$on("$destroy", function() {
                    tabsetCtrl.removeTab(scope);
                }), scope.$transcludeFn = transclude;
            };
        }
    };
} ]).directive("tabHeadingTransclude", [ function() {
    return {
        restrict: "A",
        require: "^tab",
        link: function(scope, elm, attrs, tabCtrl) {
            scope.$watch("headingElement", function(heading) {
                heading && (elm.html(""), elm.append(heading));
            });
        }
    };
} ]).directive("tabContentTransclude", function() {
    function isTabHeading(node) {
        return node.tagName && (node.hasAttribute("tab-heading") || node.hasAttribute("data-tab-heading") || "tab-heading" === node.tagName.toLowerCase() || "data-tab-heading" === node.tagName.toLowerCase());
    }
    return {
        restrict: "A",
        require: "^tabset",
        link: function(scope, elm, attrs) {
            var tab = scope.$eval(attrs.tabContentTransclude);
            tab.$transcludeFn(tab.$parent, function(contents) {
                angular.forEach(contents, function(node) {
                    isTabHeading(node) ? tab.headingElement = node : elm.append(node);
                });
            });
        }
    };
}), angular.module("ui.bootstrap.timepicker", []).constant("timepickerConfig", {
    hourStep: 1,
    minuteStep: 1,
    showMeridian: !0,
    meridians: null,
    readonlyInput: !1,
    mousewheel: !0
}).directive("timepicker", [ "$parse", "$log", "timepickerConfig", "$locale", function($parse, $log, timepickerConfig, $locale) {
    return {
        restrict: "EA",
        require: "?^ngModel",
        replace: !0,
        scope: {},
        templateUrl: "template/timepicker/timepicker.html",
        link: function(scope, element, attrs, ngModel) {
            function getHoursFromTemplate() {
                var hours = parseInt(scope.hours, 10), valid = scope.showMeridian ? hours > 0 && hours < 13 : hours >= 0 && hours < 24;
                if (valid) return scope.showMeridian && (12 === hours && (hours = 0), scope.meridian === meridians[1] && (hours += 12)), 
                hours;
            }
            function getMinutesFromTemplate() {
                var minutes = parseInt(scope.minutes, 10);
                return minutes >= 0 && minutes < 60 ? minutes : void 0;
            }
            function pad(value) {
                return angular.isDefined(value) && value.toString().length < 2 ? "0" + value : value;
            }
            function refresh(keyboardChange) {
                makeValid(), ngModel.$setViewValue(new Date(selected)), updateTemplate(keyboardChange);
            }
            function makeValid() {
                ngModel.$setValidity("time", !0), scope.invalidHours = !1, scope.invalidMinutes = !1;
            }
            function updateTemplate(keyboardChange) {
                var hours = selected.getHours(), minutes = selected.getMinutes();
                scope.showMeridian && (hours = 0 === hours || 12 === hours ? 12 : hours % 12), scope.hours = "h" === keyboardChange ? hours : pad(hours), 
                scope.minutes = "m" === keyboardChange ? minutes : pad(minutes), scope.meridian = selected.getHours() < 12 ? meridians[0] : meridians[1];
            }
            function addMinutes(minutes) {
                var dt = new Date(selected.getTime() + 6e4 * minutes);
                selected.setHours(dt.getHours(), dt.getMinutes()), refresh();
            }
            if (ngModel) {
                var selected = new Date(), meridians = angular.isDefined(attrs.meridians) ? scope.$parent.$eval(attrs.meridians) : timepickerConfig.meridians || $locale.DATETIME_FORMATS.AMPMS, hourStep = timepickerConfig.hourStep;
                attrs.hourStep && scope.$parent.$watch($parse(attrs.hourStep), function(value) {
                    hourStep = parseInt(value, 10);
                });
                var minuteStep = timepickerConfig.minuteStep;
                attrs.minuteStep && scope.$parent.$watch($parse(attrs.minuteStep), function(value) {
                    minuteStep = parseInt(value, 10);
                }), scope.showMeridian = timepickerConfig.showMeridian, attrs.showMeridian && scope.$parent.$watch($parse(attrs.showMeridian), function(value) {
                    if (scope.showMeridian = !!value, ngModel.$error.time) {
                        var hours = getHoursFromTemplate(), minutes = getMinutesFromTemplate();
                        angular.isDefined(hours) && angular.isDefined(minutes) && (selected.setHours(hours), 
                        refresh());
                    } else updateTemplate();
                });
                var inputs = element.find("input"), hoursInputEl = inputs.eq(0), minutesInputEl = inputs.eq(1), mousewheel = angular.isDefined(attrs.mousewheel) ? scope.$eval(attrs.mousewheel) : timepickerConfig.mousewheel;
                if (mousewheel) {
                    var isScrollingUp = function(e) {
                        e.originalEvent && (e = e.originalEvent);
                        var delta = e.wheelDelta ? e.wheelDelta : -e.deltaY;
                        return e.detail || delta > 0;
                    };
                    hoursInputEl.bind("mousewheel wheel", function(e) {
                        scope.$apply(isScrollingUp(e) ? scope.incrementHours() : scope.decrementHours()), 
                        e.preventDefault();
                    }), minutesInputEl.bind("mousewheel wheel", function(e) {
                        scope.$apply(isScrollingUp(e) ? scope.incrementMinutes() : scope.decrementMinutes()), 
                        e.preventDefault();
                    });
                }
                if (scope.readonlyInput = angular.isDefined(attrs.readonlyInput) ? scope.$eval(attrs.readonlyInput) : timepickerConfig.readonlyInput, 
                scope.readonlyInput) scope.updateHours = angular.noop, scope.updateMinutes = angular.noop; else {
                    var invalidate = function(invalidHours, invalidMinutes) {
                        ngModel.$setViewValue(null), ngModel.$setValidity("time", !1), angular.isDefined(invalidHours) && (scope.invalidHours = invalidHours), 
                        angular.isDefined(invalidMinutes) && (scope.invalidMinutes = invalidMinutes);
                    };
                    scope.updateHours = function() {
                        var hours = getHoursFromTemplate();
                        angular.isDefined(hours) ? (selected.setHours(hours), refresh("h")) : invalidate(!0);
                    }, hoursInputEl.bind("blur", function(e) {
                        !scope.validHours && scope.hours < 10 && scope.$apply(function() {
                            scope.hours = pad(scope.hours);
                        });
                    }), scope.updateMinutes = function() {
                        var minutes = getMinutesFromTemplate();
                        angular.isDefined(minutes) ? (selected.setMinutes(minutes), refresh("m")) : invalidate(void 0, !0);
                    }, minutesInputEl.bind("blur", function(e) {
                        !scope.invalidMinutes && scope.minutes < 10 && scope.$apply(function() {
                            scope.minutes = pad(scope.minutes);
                        });
                    });
                }
                ngModel.$render = function() {
                    var date = ngModel.$modelValue ? new Date(ngModel.$modelValue) : null;
                    isNaN(date) ? (ngModel.$setValidity("time", !1), $log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (date && (selected = date), 
                    makeValid(), updateTemplate());
                }, scope.incrementHours = function() {
                    addMinutes(60 * hourStep);
                }, scope.decrementHours = function() {
                    addMinutes(60 * -hourStep);
                }, scope.incrementMinutes = function() {
                    addMinutes(minuteStep);
                }, scope.decrementMinutes = function() {
                    addMinutes(-minuteStep);
                }, scope.toggleMeridian = function() {
                    addMinutes(720 * (selected.getHours() < 12 ? 1 : -1));
                };
            }
        }
    };
} ]), angular.module("ui.bootstrap.typeahead", [ "ui.bootstrap.position", "ui.bootstrap.bindHtml" ]).factory("typeaheadParser", [ "$parse", function($parse) {
    var TYPEAHEAD_REGEXP = /^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;
    return {
        parse: function(input) {
            var match = input.match(TYPEAHEAD_REGEXP);
            if (!match) throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '" + input + "'.");
            return {
                itemName: match[3],
                source: $parse(match[4]),
                viewMapper: $parse(match[2] || match[1]),
                modelMapper: $parse(match[1])
            };
        }
    };
} ]).directive("typeahead", [ "$compile", "$parse", "$q", "$timeout", "$document", "$position", "typeaheadParser", function($compile, $parse, $q, $timeout, $document, $position, typeaheadParser) {
    var HOT_KEYS = [ 9, 13, 27, 38, 40 ];
    return {
        require: "ngModel",
        link: function(originalScope, element, attrs, modelCtrl) {
            var hasFocus, minSearch = originalScope.$eval(attrs.typeaheadMinLength) || 1, waitTime = originalScope.$eval(attrs.typeaheadWaitMs) || 0, isEditable = originalScope.$eval(attrs.typeaheadEditable) !== !1, isLoadingSetter = $parse(attrs.typeaheadLoading).assign || angular.noop, onSelectCallback = $parse(attrs.typeaheadOnSelect), inputFormatter = attrs.typeaheadInputFormatter ? $parse(attrs.typeaheadInputFormatter) : void 0, appendToBody = !!attrs.typeaheadAppendToBody && $parse(attrs.typeaheadAppendToBody), $setModelValue = $parse(attrs.ngModel).assign, parserResult = typeaheadParser.parse(attrs.typeahead), popUpEl = angular.element("<div typeahead-popup></div>");
            popUpEl.attr({
                matches: "matches",
                active: "activeIdx",
                select: "select(activeIdx)",
                query: "query",
                position: "position"
            }), angular.isDefined(attrs.typeaheadTemplateUrl) && popUpEl.attr("template-url", attrs.typeaheadTemplateUrl);
            var scope = originalScope.$new();
            originalScope.$on("$destroy", function() {
                scope.$destroy();
            });
            var resetMatches = function() {
                scope.matches = [], scope.activeIdx = -1;
            }, getMatchesAsync = function(inputValue) {
                var locals = {
                    $viewValue: inputValue
                };
                isLoadingSetter(originalScope, !0), $q.when(parserResult.source(originalScope, locals)).then(function(matches) {
                    if (inputValue === modelCtrl.$viewValue && hasFocus) {
                        if (matches.length > 0) {
                            scope.activeIdx = 0, scope.matches.length = 0;
                            for (var i = 0; i < matches.length; i++) locals[parserResult.itemName] = matches[i], 
                            scope.matches.push({
                                label: parserResult.viewMapper(scope, locals),
                                model: matches[i]
                            });
                            scope.query = inputValue, scope.position = appendToBody ? $position.offset(element) : $position.position(element), 
                            scope.position.top = scope.position.top + element.prop("offsetHeight");
                        } else resetMatches();
                        isLoadingSetter(originalScope, !1);
                    }
                }, function() {
                    resetMatches(), isLoadingSetter(originalScope, !1);
                });
            };
            resetMatches(), scope.query = void 0;
            var timeoutPromise;
            modelCtrl.$parsers.unshift(function(inputValue) {
                return hasFocus = !0, inputValue && inputValue.length >= minSearch ? waitTime > 0 ? (timeoutPromise && $timeout.cancel(timeoutPromise), 
                timeoutPromise = $timeout(function() {
                    getMatchesAsync(inputValue);
                }, waitTime)) : getMatchesAsync(inputValue) : (isLoadingSetter(originalScope, !1), 
                resetMatches()), isEditable ? inputValue : inputValue ? void modelCtrl.$setValidity("editable", !1) : (modelCtrl.$setValidity("editable", !0), 
                inputValue);
            }), modelCtrl.$formatters.push(function(modelValue) {
                var candidateViewValue, emptyViewValue, locals = {};
                return inputFormatter ? (locals.$model = modelValue, inputFormatter(originalScope, locals)) : (locals[parserResult.itemName] = modelValue, 
                candidateViewValue = parserResult.viewMapper(originalScope, locals), locals[parserResult.itemName] = void 0, 
                emptyViewValue = parserResult.viewMapper(originalScope, locals), candidateViewValue !== emptyViewValue ? candidateViewValue : modelValue);
            }), scope.select = function(activeIdx) {
                var model, item, locals = {};
                locals[parserResult.itemName] = item = scope.matches[activeIdx].model, model = parserResult.modelMapper(originalScope, locals), 
                $setModelValue(originalScope, model), modelCtrl.$setValidity("editable", !0), onSelectCallback(originalScope, {
                    $item: item,
                    $model: model,
                    $label: parserResult.viewMapper(originalScope, locals)
                }), resetMatches(), element[0].focus();
            }, element.bind("keydown", function(evt) {
                0 !== scope.matches.length && HOT_KEYS.indexOf(evt.which) !== -1 && (evt.preventDefault(), 
                40 === evt.which ? (scope.activeIdx = (scope.activeIdx + 1) % scope.matches.length, 
                scope.$digest()) : 38 === evt.which ? (scope.activeIdx = (scope.activeIdx ? scope.activeIdx : scope.matches.length) - 1, 
                scope.$digest()) : 13 === evt.which || 9 === evt.which ? scope.$apply(function() {
                    scope.select(scope.activeIdx);
                }) : 27 === evt.which && (evt.stopPropagation(), resetMatches(), scope.$digest()));
            }), element.bind("blur", function(evt) {
                hasFocus = !1;
            });
            var dismissClickHandler = function(evt) {
                element[0] !== evt.target && (resetMatches(), scope.$digest());
            };
            $document.bind("click", dismissClickHandler), originalScope.$on("$destroy", function() {
                $document.unbind("click", dismissClickHandler);
            });
            var $popup = $compile(popUpEl)(scope);
            appendToBody ? $document.find("body").append($popup) : element.after($popup);
        }
    };
} ]).directive("typeaheadPopup", function() {
    return {
        restrict: "EA",
        scope: {
            matches: "=",
            query: "=",
            active: "=",
            position: "=",
            select: "&"
        },
        replace: !0,
        templateUrl: "template/typeahead/typeahead-popup.html",
        link: function(scope, element, attrs) {
            scope.templateUrl = attrs.templateUrl, scope.isOpen = function() {
                return scope.matches.length > 0;
            }, scope.isActive = function(matchIdx) {
                return scope.active == matchIdx;
            }, scope.selectActive = function(matchIdx) {
                scope.active = matchIdx;
            }, scope.selectMatch = function(activeIdx) {
                scope.select({
                    activeIdx: activeIdx
                });
            };
        }
    };
}).directive("typeaheadMatch", [ "$http", "$templateCache", "$compile", "$parse", function($http, $templateCache, $compile, $parse) {
    return {
        restrict: "EA",
        scope: {
            index: "=",
            match: "=",
            query: "="
        },
        link: function(scope, element, attrs) {
            var tplUrl = $parse(attrs.templateUrl)(scope.$parent) || "template/typeahead/typeahead-match.html";
            $http.get(tplUrl, {
                cache: $templateCache
            }).success(function(tplContent) {
                element.replaceWith($compile(tplContent.trim())(scope));
            });
        }
    };
} ]).filter("typeaheadHighlight", function() {
    function escapeRegexp(queryToEscape) {
        return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
    }
    return function(matchItem, query) {
        return query ? matchItem.replace(new RegExp(escapeRegexp(query), "gi"), "<strong>$&</strong>") : matchItem;
    };
}), angular.module("template/accordion/accordion-group.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/accordion/accordion-group.html", '<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>');
} ]), angular.module("template/accordion/accordion.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/accordion/accordion.html", '<div class="panel-group" ng-transclude></div>');
} ]), angular.module("template/alert/alert.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/alert/alert.html", "<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n");
} ]), angular.module("template/carousel/carousel.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n</div>\n');
} ]), angular.module("template/carousel/slide.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/carousel/slide.html", "<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n");
} ]), angular.module("template/datepicker/datepicker.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/datepicker/datepicker.html", '<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr ng-show="labels.length > 0" class="h6">\n      <th ng-show="showWeekNumbers" class="text-center">#</th>\n      <th ng-repeat="label in labels" class="text-center">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/datepicker/popup.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/datepicker/popup.html", "<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n\t<li ng-transclude></li>\n" + '\t<li ng-show="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="today()">{{currentText}}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n\t</li>\n</ul>\n');
} ]), angular.module("template/modal/backdrop.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/modal/backdrop.html", '<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>');
} ]), angular.module("template/modal/window.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/modal/window.html", '<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>');
} ]), angular.module("template/pagination/pager.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/pagination/pager.html", '<ul class="pager">\n  <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>');
} ]), angular.module("template/pagination/pagination.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/pagination/pagination.html", '<ul class="pagination">\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>');
} ]), angular.module("template/tooltip/tooltip-html-unsafe-popup.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html", '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n');
} ]), angular.module("template/tooltip/tooltip-popup.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/tooltip/tooltip-popup.html", '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n');
} ]), angular.module("template/popover/popover.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/popover/popover.html", '<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n');
} ]), angular.module("template/progressbar/bar.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>');
} ]), angular.module("template/progressbar/progress.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/progressbar/progress.html", '<div class="progress" ng-transclude></div>');
} ]), angular.module("template/progressbar/progressbar.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/progressbar/progressbar.html", '<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>');
} ]), angular.module("template/rating/rating.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/rating/rating.html", '<span ng-mouseleave="reset()">\n    <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < val && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')"></i>\n</span>');
} ]), angular.module("template/tabs/tab.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/tabs/tab.html", '<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n');
} ]), angular.module("template/tabs/tabset-titles.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/tabs/tabset-titles.html", "<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n");
} ]), angular.module("template/tabs/tabset.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/tabs/tabset.html", '\n<div class="tabbable">\n  <ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n');
} ]), angular.module("template/timepicker/timepicker.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/timepicker/timepicker.html", '<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n');
} ]), angular.module("template/typeahead/typeahead-match.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/typeahead/typeahead-match.html", '<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>');
} ]), angular.module("template/typeahead/typeahead-popup.html", []).run([ "$templateCache", function($templateCache) {
    $templateCache.put("template/typeahead/typeahead-popup.html", "<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n" + '    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>');
} ]), angular.module("ui.alias", []).config([ "$compileProvider", "uiAliasConfig", function($compileProvider, uiAliasConfig) {
    "use strict";
    uiAliasConfig = uiAliasConfig || {}, angular.forEach(uiAliasConfig, function(config, alias) {
        angular.isString(config) && (config = {
            replace: !0,
            template: config
        }), $compileProvider.directive(alias, function() {
            return config;
        });
    });
} ]), angular.module("ui.event", []).directive("uiEvent", [ "$parse", function($parse) {
    "use strict";
    return function($scope, elm, attrs) {
        var events = $scope.$eval(attrs.uiEvent);
        angular.forEach(events, function(uiEvent, eventName) {
            var fn = $parse(uiEvent);
            elm.bind(eventName, function(evt) {
                var params = Array.prototype.slice.call(arguments);
                params = params.splice(1), fn($scope, {
                    $event: evt,
                    $params: params
                }), $scope.$$phase || $scope.$apply();
            });
        });
    };
} ]), angular.module("ui.format", []).filter("format", function() {
    "use strict";
    return function(value, replace) {
        var target = value;
        if (angular.isString(target) && void 0 !== replace) if (angular.isArray(replace) || angular.isObject(replace) || (replace = [ replace ]), 
        angular.isArray(replace)) {
            var rlen = replace.length, rfx = function(str, i) {
                return i = parseInt(i, 10), i >= 0 && i < rlen ? replace[i] : str;
            };
            target = target.replace(/\$([0-9]+)/g, rfx);
        } else angular.forEach(replace, function(value, key) {
            target = target.split(":" + key).join(value);
        });
        return target;
    };
}), angular.module("ui.highlight", []).filter("highlight", function() {
    "use strict";
    return function(text, search, caseSensitive) {
        return text && (search || angular.isNumber(search)) ? (text = text.toString(), search = search.toString(), 
        caseSensitive ? text.split(search).join('<span class="ui-match">' + search + "</span>") : text.replace(new RegExp(search, "gi"), '<span class="ui-match">$&</span>')) : text;
    };
}), angular.module("ui.include", []).directive("uiInclude", [ "$http", "$templateCache", "$anchorScroll", "$compile", function($http, $templateCache, $anchorScroll, $compile) {
    "use strict";
    return {
        restrict: "ECA",
        terminal: !0,
        compile: function(element, attr) {
            var srcExp = attr.uiInclude || attr.src, fragExp = attr.fragment || "", onloadExp = attr.onload || "", autoScrollExp = attr.autoscroll;
            return function(scope, element) {
                function ngIncludeWatchAction() {
                    var thisChangeId = ++changeCounter, src = scope.$eval(srcExp), fragment = scope.$eval(fragExp);
                    src ? $http.get(src, {
                        cache: $templateCache
                    }).success(function(response) {
                        if (thisChangeId === changeCounter) {
                            childScope && childScope.$destroy(), childScope = scope.$new();
                            var contents;
                            contents = fragment ? angular.element("<div/>").html(response).find(fragment) : angular.element("<div/>").html(response).contents(), 
                            element.html(contents), $compile(contents)(childScope), !angular.isDefined(autoScrollExp) || autoScrollExp && !scope.$eval(autoScrollExp) || $anchorScroll(), 
                            childScope.$emit("$includeContentLoaded"), scope.$eval(onloadExp);
                        }
                    }).error(function() {
                        thisChangeId === changeCounter && clearContent();
                    }) : clearContent();
                }
                var childScope, changeCounter = 0, clearContent = function() {
                    childScope && (childScope.$destroy(), childScope = null), element.html("");
                };
                scope.$watch(fragExp, ngIncludeWatchAction), scope.$watch(srcExp, ngIncludeWatchAction);
            };
        }
    };
} ]), angular.module("ui.indeterminate", []).directive("uiIndeterminate", [ function() {
    "use strict";
    return {
        compile: function(tElm, tAttrs) {
            return tAttrs.type && "checkbox" === tAttrs.type.toLowerCase() ? function($scope, elm, attrs) {
                $scope.$watch(attrs.uiIndeterminate, function(newVal) {
                    elm[0].indeterminate = !!newVal;
                });
            } : angular.noop;
        }
    };
} ]), angular.module("ui.inflector", []).filter("inflector", function() {
    "use strict";
    function tokenize(text) {
        return text = text.replace(/([A-Z])|([\-|\_])/g, function(_, $1) {
            return " " + ($1 || "");
        }), text.replace(/\s\s+/g, " ").trim().toLowerCase().split(" ");
    }
    function capitalizeTokens(tokens) {
        var result = [];
        return angular.forEach(tokens, function(token) {
            result.push(token.charAt(0).toUpperCase() + token.substr(1));
        }), result;
    }
    var inflectors = {
        humanize: function(value) {
            return capitalizeTokens(tokenize(value)).join(" ");
        },
        underscore: function(value) {
            return tokenize(value).join("_");
        },
        variable: function(value) {
            return value = tokenize(value), value = value[0] + capitalizeTokens(value.slice(1)).join("");
        }
    };
    return function(text, inflector) {
        return inflector !== !1 && angular.isString(text) ? (inflector = inflector || "humanize", 
        inflectors[inflector](text)) : text;
    };
}), angular.module("ui.jq", []).value("uiJqConfig", {}).directive("uiJq", [ "uiJqConfig", "$timeout", function(uiJqConfig, $timeout) {
    "use strict";
    return {
        restrict: "A",
        compile: function(tElm, tAttrs) {
            if (!angular.isFunction(tElm[tAttrs.uiJq])) throw new Error('ui-jq: The "' + tAttrs.uiJq + '" function does not exist');
            var options = uiJqConfig && uiJqConfig[tAttrs.uiJq];
            return function(scope, elm, attrs) {
                function createLinkOptions() {
                    var linkOptions = [];
                    return attrs.uiOptions ? (linkOptions = scope.$eval("[" + attrs.uiOptions + "]"), 
                    angular.isObject(options) && angular.isObject(linkOptions[0]) && (linkOptions[0] = angular.extend({}, options, linkOptions[0]))) : options && (linkOptions = [ options ]), 
                    linkOptions;
                }
                function callPlugin() {
                    $timeout(function() {
                        elm[attrs.uiJq].apply(elm, createLinkOptions());
                    }, 0, !1);
                }
                attrs.ngModel && elm.is("select,input,textarea") && elm.bind("change", function() {
                    elm.trigger("input");
                }), attrs.uiRefresh && scope.$watch(attrs.uiRefresh, function() {
                    callPlugin();
                }), callPlugin();
            };
        }
    };
} ]), angular.module("ui.keypress", []).factory("keypressHelper", [ "$parse", function($parse) {
    "use strict";
    var keysByCode = {
        8: "backspace",
        9: "tab",
        13: "enter",
        27: "esc",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        45: "insert",
        46: "delete"
    }, capitaliseFirstLetter = function(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    };
    return function(mode, scope, elm, attrs) {
        var params, combinations = [];
        params = scope.$eval(attrs["ui" + capitaliseFirstLetter(mode)]), angular.forEach(params, function(v, k) {
            var combination, expression;
            expression = $parse(v), angular.forEach(k.split(" "), function(variation) {
                combination = {
                    expression: expression,
                    keys: {}
                }, angular.forEach(variation.split("-"), function(value) {
                    combination.keys[value] = !0;
                }), combinations.push(combination);
            });
        }), elm.bind(mode, function(event) {
            var metaPressed = !(!event.metaKey || event.ctrlKey), altPressed = !!event.altKey, ctrlPressed = !!event.ctrlKey, shiftPressed = !!event.shiftKey, keyCode = event.keyCode;
            "keypress" === mode && !shiftPressed && keyCode >= 97 && keyCode <= 122 && (keyCode -= 32), 
            angular.forEach(combinations, function(combination) {
                var mainKeyPressed = combination.keys[keysByCode[keyCode]] || combination.keys[keyCode.toString()], metaRequired = !!combination.keys.meta, altRequired = !!combination.keys.alt, ctrlRequired = !!combination.keys.ctrl, shiftRequired = !!combination.keys.shift;
                mainKeyPressed && metaRequired === metaPressed && altRequired === altPressed && ctrlRequired === ctrlPressed && shiftRequired === shiftPressed && scope.$apply(function() {
                    combination.expression(scope, {
                        $event: event
                    });
                });
            });
        });
    };
} ]), angular.module("ui.keypress").directive("uiKeydown", [ "keypressHelper", function(keypressHelper) {
    "use strict";
    return {
        link: function(scope, elm, attrs) {
            keypressHelper("keydown", scope, elm, attrs);
        }
    };
} ]), angular.module("ui.keypress").directive("uiKeypress", [ "keypressHelper", function(keypressHelper) {
    "use strict";
    return {
        link: function(scope, elm, attrs) {
            keypressHelper("keypress", scope, elm, attrs);
        }
    };
} ]), angular.module("ui.keypress").directive("uiKeyup", [ "keypressHelper", function(keypressHelper) {
    "use strict";
    return {
        link: function(scope, elm, attrs) {
            keypressHelper("keyup", scope, elm, attrs);
        }
    };
} ]), angular.module("ui.mask", []).value("uiMaskConfig", {
    maskDefinitions: {
        "9": /\d/,
        A: /[a-zA-Z]/,
        "*": /[a-zA-Z0-9]/
    },
    clearOnBlur: !0
}).directive("uiMask", [ "uiMaskConfig", "$parse", function(maskConfig, $parse) {
    "use strict";
    return {
        priority: 100,
        require: "ngModel",
        restrict: "A",
        compile: function() {
            var options = maskConfig;
            return function(scope, iElement, iAttrs, controller) {
                function initialize(maskAttr) {
                    return angular.isDefined(maskAttr) ? (processRawMask(maskAttr), maskProcessed ? (initializeElement(), 
                    bindEventListeners(), !0) : uninitialize()) : uninitialize();
                }
                function initPlaceholder(placeholderAttr) {
                    angular.isDefined(placeholderAttr) && (maskPlaceholder = placeholderAttr, maskProcessed && eventHandler());
                }
                function formatter(fromModelValue) {
                    return maskProcessed ? (value = unmaskValue(fromModelValue || ""), isValid = validateValue(value), 
                    controller.$setValidity("mask", isValid), isValid && value.length ? maskValue(value) : void 0) : fromModelValue;
                }
                function parser(fromViewValue) {
                    return maskProcessed ? (value = unmaskValue(fromViewValue || ""), isValid = validateValue(value), 
                    controller.$viewValue = value.length ? maskValue(value) : "", controller.$setValidity("mask", isValid), 
                    "" === value && iAttrs.required && controller.$setValidity("required", !controller.$error.required), 
                    isValid ? value : void 0) : fromViewValue;
                }
                function uninitialize() {
                    return maskProcessed = !1, unbindEventListeners(), angular.isDefined(originalPlaceholder) ? iElement.attr("placeholder", originalPlaceholder) : iElement.removeAttr("placeholder"), 
                    angular.isDefined(originalMaxlength) ? iElement.attr("maxlength", originalMaxlength) : iElement.removeAttr("maxlength"), 
                    iElement.val(controller.$modelValue), controller.$viewValue = controller.$modelValue, 
                    !1;
                }
                function initializeElement() {
                    value = oldValueUnmasked = unmaskValue(controller.$viewValue || ""), valueMasked = oldValue = maskValue(value), 
                    isValid = validateValue(value);
                    var viewValue = isValid && value.length ? valueMasked : "";
                    iAttrs.maxlength && iElement.attr("maxlength", 2 * maskCaretMap[maskCaretMap.length - 1]), 
                    iElement.attr("placeholder", maskPlaceholder), iElement.val(viewValue), controller.$viewValue = viewValue;
                }
                function bindEventListeners() {
                    eventsBound || (iElement.bind("blur", blurHandler), iElement.bind("mousedown mouseup", mouseDownUpHandler), 
                    iElement.bind("input keyup click focus", eventHandler), eventsBound = !0);
                }
                function unbindEventListeners() {
                    eventsBound && (iElement.unbind("blur", blurHandler), iElement.unbind("mousedown", mouseDownUpHandler), 
                    iElement.unbind("mouseup", mouseDownUpHandler), iElement.unbind("input", eventHandler), 
                    iElement.unbind("keyup", eventHandler), iElement.unbind("click", eventHandler), 
                    iElement.unbind("focus", eventHandler), eventsBound = !1);
                }
                function validateValue(value) {
                    return !value.length || value.length >= minRequiredLength;
                }
                function unmaskValue(value) {
                    var valueUnmasked = "", maskPatternsCopy = maskPatterns.slice();
                    return value = value.toString(), angular.forEach(maskComponents, function(component) {
                        value = value.replace(component, "");
                    }), angular.forEach(value.split(""), function(chr) {
                        maskPatternsCopy.length && maskPatternsCopy[0].test(chr) && (valueUnmasked += chr, 
                        maskPatternsCopy.shift());
                    }), valueUnmasked;
                }
                function maskValue(unmaskedValue) {
                    var valueMasked = "", maskCaretMapCopy = maskCaretMap.slice();
                    return angular.forEach(maskPlaceholder.split(""), function(chr, i) {
                        unmaskedValue.length && i === maskCaretMapCopy[0] ? (valueMasked += unmaskedValue.charAt(0) || "_", 
                        unmaskedValue = unmaskedValue.substr(1), maskCaretMapCopy.shift()) : valueMasked += chr;
                    }), valueMasked;
                }
                function getPlaceholderChar(i) {
                    var placeholder = iAttrs.placeholder;
                    return "undefined" != typeof placeholder && placeholder[i] ? placeholder[i] : "_";
                }
                function getMaskComponents() {
                    return maskPlaceholder.replace(/[_]+/g, "_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g, "$1$2_$3").split("_");
                }
                function processRawMask(mask) {
                    var characterCount = 0;
                    if (maskCaretMap = [], maskPatterns = [], maskPlaceholder = "", "string" == typeof mask) {
                        minRequiredLength = 0;
                        var isOptional = !1, splitMask = mask.split("");
                        angular.forEach(splitMask, function(chr, i) {
                            linkOptions.maskDefinitions[chr] ? (maskCaretMap.push(characterCount), maskPlaceholder += getPlaceholderChar(i), 
                            maskPatterns.push(linkOptions.maskDefinitions[chr]), characterCount++, isOptional || minRequiredLength++) : "?" === chr ? isOptional = !0 : (maskPlaceholder += chr, 
                            characterCount++);
                        });
                    }
                    maskCaretMap.push(maskCaretMap.slice().pop() + 1), maskComponents = getMaskComponents(), 
                    maskProcessed = maskCaretMap.length > 1;
                }
                function blurHandler() {
                    linkOptions.clearOnBlur && (oldCaretPosition = 0, oldSelectionLength = 0, isValid && 0 !== value.length || (valueMasked = "", 
                    iElement.val(""), scope.$apply(function() {
                        controller.$setViewValue("");
                    })));
                }
                function mouseDownUpHandler(e) {
                    "mousedown" === e.type ? iElement.bind("mouseout", mouseoutHandler) : iElement.unbind("mouseout", mouseoutHandler);
                }
                function mouseoutHandler() {
                    oldSelectionLength = getSelectionLength(this), iElement.unbind("mouseout", mouseoutHandler);
                }
                function eventHandler(e) {
                    e = e || {};
                    var eventWhich = e.which, eventType = e.type;
                    if (16 !== eventWhich && 91 !== eventWhich) {
                        var valMasked, val = iElement.val(), valOld = oldValue, valUnmasked = unmaskValue(val), valUnmaskedOld = oldValueUnmasked, valAltered = !1, caretPos = getCaretPosition(this) || 0, caretPosOld = oldCaretPosition || 0, caretPosDelta = caretPos - caretPosOld, caretPosMin = maskCaretMap[0], caretPosMax = maskCaretMap[valUnmasked.length] || maskCaretMap.slice().shift(), selectionLenOld = oldSelectionLength || 0, isSelected = getSelectionLength(this) > 0, wasSelected = selectionLenOld > 0, isAddition = val.length > valOld.length || selectionLenOld && val.length > valOld.length - selectionLenOld, isDeletion = val.length < valOld.length || selectionLenOld && val.length === valOld.length - selectionLenOld, isSelection = eventWhich >= 37 && eventWhich <= 40 && e.shiftKey, isKeyLeftArrow = 37 === eventWhich, isKeyBackspace = 8 === eventWhich || "keyup" !== eventType && isDeletion && caretPosDelta === -1, isKeyDelete = 46 === eventWhich || "keyup" !== eventType && isDeletion && 0 === caretPosDelta && !wasSelected, caretBumpBack = (isKeyLeftArrow || isKeyBackspace || "click" === eventType) && caretPos > caretPosMin;
                        if (oldSelectionLength = getSelectionLength(this), !isSelection && (!isSelected || "click" !== eventType && "keyup" !== eventType)) {
                            if ("input" === eventType && isDeletion && !wasSelected && valUnmasked === valUnmaskedOld) {
                                for (;isKeyBackspace && caretPos > caretPosMin && !isValidCaretPosition(caretPos); ) caretPos--;
                                for (;isKeyDelete && caretPos < caretPosMax && maskCaretMap.indexOf(caretPos) === -1; ) caretPos++;
                                var charIndex = maskCaretMap.indexOf(caretPos);
                                valUnmasked = valUnmasked.substring(0, charIndex) + valUnmasked.substring(charIndex + 1), 
                                valAltered = !0;
                            }
                            for (valMasked = maskValue(valUnmasked), oldValue = valMasked, oldValueUnmasked = valUnmasked, 
                            iElement.val(valMasked), valAltered && scope.$apply(function() {
                                controller.$setViewValue(valUnmasked);
                            }), isAddition && caretPos <= caretPosMin && (caretPos = caretPosMin + 1), caretBumpBack && caretPos--, 
                            caretPos = caretPos > caretPosMax ? caretPosMax : caretPos < caretPosMin ? caretPosMin : caretPos; !isValidCaretPosition(caretPos) && caretPos > caretPosMin && caretPos < caretPosMax; ) caretPos += caretBumpBack ? -1 : 1;
                            (caretBumpBack && caretPos < caretPosMax || isAddition && !isValidCaretPosition(caretPosOld)) && caretPos++, 
                            oldCaretPosition = caretPos, setCaretPosition(this, caretPos);
                        }
                    }
                }
                function isValidCaretPosition(pos) {
                    return maskCaretMap.indexOf(pos) > -1;
                }
                function getCaretPosition(input) {
                    if (!input) return 0;
                    if (void 0 !== input.selectionStart) return input.selectionStart;
                    if (document.selection) {
                        input.focus();
                        var selection = document.selection.createRange();
                        return selection.moveStart("character", input.value ? -input.value.length : 0), 
                        selection.text.length;
                    }
                    return 0;
                }
                function setCaretPosition(input, pos) {
                    if (!input) return 0;
                    if (0 !== input.offsetWidth && 0 !== input.offsetHeight) if (input.setSelectionRange) input.focus(), 
                    input.setSelectionRange(pos, pos); else if (input.createTextRange) {
                        var range = input.createTextRange();
                        range.collapse(!0), range.moveEnd("character", pos), range.moveStart("character", pos), 
                        range.select();
                    }
                }
                function getSelectionLength(input) {
                    return input ? void 0 !== input.selectionStart ? input.selectionEnd - input.selectionStart : document.selection ? document.selection.createRange().text.length : 0 : 0;
                }
                var maskCaretMap, maskPatterns, maskPlaceholder, maskComponents, minRequiredLength, value, valueMasked, isValid, oldValue, oldValueUnmasked, oldCaretPosition, oldSelectionLength, maskProcessed = !1, eventsBound = !1, originalPlaceholder = iAttrs.placeholder, originalMaxlength = iAttrs.maxlength, linkOptions = {};
                iAttrs.uiOptions ? (linkOptions = scope.$eval("[" + iAttrs.uiOptions + "]"), angular.isObject(linkOptions[0]) && (linkOptions = function(original, current) {
                    for (var i in original) Object.prototype.hasOwnProperty.call(original, i) && (void 0 === current[i] ? current[i] = angular.copy(original[i]) : angular.extend(current[i], original[i]));
                    return current;
                }(options, linkOptions[0]))) : linkOptions = options, iAttrs.$observe("uiMask", initialize), 
                iAttrs.$observe("placeholder", initPlaceholder);
                var modelViewValue = !1;
                iAttrs.$observe("modelViewValue", function(val) {
                    "true" === val && (modelViewValue = !0);
                }), scope.$watch(iAttrs.ngModel, function(val) {
                    if (modelViewValue && val) {
                        var model = $parse(iAttrs.ngModel);
                        model.assign(scope, controller.$viewValue);
                    }
                }), controller.$formatters.push(formatter), controller.$parsers.push(parser), iElement.bind("mousedown mouseup", mouseDownUpHandler), 
                Array.prototype.indexOf || (Array.prototype.indexOf = function(searchElement) {
                    if (null === this) throw new TypeError();
                    var t = Object(this), len = t.length >>> 0;
                    if (0 === len) return -1;
                    var n = 0;
                    if (arguments.length > 1 && (n = Number(arguments[1]), n !== n ? n = 0 : 0 !== n && n !== 1 / 0 && n !== -(1 / 0) && (n = (n > 0 || -1) * Math.floor(Math.abs(n)))), 
                    n >= len) return -1;
                    for (var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0); k < len; k++) if (k in t && t[k] === searchElement) return k;
                    return -1;
                });
            };
        }
    };
} ]), angular.module("ui.reset", []).value("uiResetConfig", null).directive("uiReset", [ "uiResetConfig", function(uiResetConfig) {
    "use strict";
    var resetValue = null;
    return void 0 !== uiResetConfig && (resetValue = uiResetConfig), {
        require: "ngModel",
        link: function(scope, elm, attrs, ctrl) {
            var aElement;
            aElement = angular.element('<a class="ui-reset" />'), elm.wrap('<span class="ui-resetwrap" />').after(aElement), 
            aElement.bind("click", function(e) {
                e.preventDefault(), scope.$apply(function() {
                    attrs.uiReset ? ctrl.$setViewValue(scope.$eval(attrs.uiReset)) : ctrl.$setViewValue(resetValue), 
                    ctrl.$render();
                });
            });
        }
    };
} ]), angular.module("ui.route", []).directive("uiRoute", [ "$location", "$parse", function($location, $parse) {
    "use strict";
    return {
        restrict: "AC",
        scope: !0,
        compile: function(tElement, tAttrs) {
            var useProperty;
            if (tAttrs.uiRoute) useProperty = "uiRoute"; else if (tAttrs.ngHref) useProperty = "ngHref"; else {
                if (!tAttrs.href) throw new Error("uiRoute missing a route or href property on " + tElement[0]);
                useProperty = "href";
            }
            return function($scope, elm, attrs) {
                function staticWatcher(newVal) {
                    var hash = newVal.indexOf("#");
                    hash > -1 && (newVal = newVal.substr(hash + 1)), (watcher = function() {
                        modelSetter($scope, $location.path().indexOf(newVal) > -1);
                    })();
                }
                function regexWatcher(newVal) {
                    var hash = newVal.indexOf("#");
                    hash > -1 && (newVal = newVal.substr(hash + 1)), (watcher = function() {
                        var regexp = new RegExp("^" + newVal + "$", [ "i" ]);
                        modelSetter($scope, regexp.test($location.path()));
                    })();
                }
                var modelSetter = $parse(attrs.ngModel || attrs.routeModel || "$uiRoute").assign, watcher = angular.noop;
                switch (useProperty) {
                  case "uiRoute":
                    attrs.uiRoute ? regexWatcher(attrs.uiRoute) : attrs.$observe("uiRoute", regexWatcher);
                    break;

                  case "ngHref":
                    attrs.ngHref ? staticWatcher(attrs.ngHref) : attrs.$observe("ngHref", staticWatcher);
                    break;

                  case "href":
                    staticWatcher(attrs.href);
                }
                $scope.$on("$routeChangeSuccess", function() {
                    watcher();
                }), $scope.$on("$stateChangeSuccess", function() {
                    watcher();
                });
            };
        }
    };
} ]), angular.module("ui.scroll.jqlite", [ "ui.scroll" ]).service("jqLiteExtras", [ "$log", "$window", function(console, window) {
    "use strict";
    return {
        registerFor: function(element) {
            var convertToPx, css, getMeasurements, getStyle, getWidthHeight, isWindow, scrollTo;
            return css = angular.element.prototype.css, element.prototype.css = function(name, value) {
                var elem, self;
                if (self = this, elem = self[0], elem && 3 !== elem.nodeType && 8 !== elem.nodeType && elem.style) return css.call(self, name, value);
            }, isWindow = function(obj) {
                return obj && obj.document && obj.location && obj.alert && obj.setInterval;
            }, scrollTo = function(self, direction, value) {
                var elem, method, preserve, prop, _ref;
                return elem = self[0], _ref = {
                    top: [ "scrollTop", "pageYOffset", "scrollLeft" ],
                    left: [ "scrollLeft", "pageXOffset", "scrollTop" ]
                }[direction], method = _ref[0], prop = _ref[1], preserve = _ref[2], isWindow(elem) ? angular.isDefined(value) ? elem.scrollTo(self[preserve].call(self), value) : prop in elem ? elem[prop] : elem.document.documentElement[method] : angular.isDefined(value) ? elem[method] = value : elem[method];
            }, window.getComputedStyle ? (getStyle = function(elem) {
                return window.getComputedStyle(elem, null);
            }, convertToPx = function(elem, value) {
                return parseFloat(value);
            }) : (getStyle = function(elem) {
                return elem.currentStyle;
            }, convertToPx = function(elem, value) {
                var core_pnum, left, result, rnumnonpx, rs, rsLeft, style;
                return core_pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, rnumnonpx = new RegExp("^(" + core_pnum + ")(?!px)[a-z%]+$", "i"), 
                rnumnonpx.test(value) ? (style = elem.style, left = style.left, rs = elem.runtimeStyle, 
                rsLeft = rs && rs.left, rs && (rs.left = style.left), style.left = value, result = style.pixelLeft, 
                style.left = left, rsLeft && (rs.left = rsLeft), result) : parseFloat(value);
            }), getMeasurements = function(elem, measure) {
                var base, borderA, borderB, computedMarginA, computedMarginB, computedStyle, dirA, dirB, marginA, marginB, paddingA, paddingB, _ref;
                return isWindow(elem) ? (base = document.documentElement[{
                    height: "clientHeight",
                    width: "clientWidth"
                }[measure]], {
                    base: base,
                    padding: 0,
                    border: 0,
                    margin: 0
                }) : (_ref = {
                    width: [ elem.offsetWidth, "Left", "Right" ],
                    height: [ elem.offsetHeight, "Top", "Bottom" ]
                }[measure], base = _ref[0], dirA = _ref[1], dirB = _ref[2], computedStyle = getStyle(elem), 
                paddingA = convertToPx(elem, computedStyle["padding" + dirA]) || 0, paddingB = convertToPx(elem, computedStyle["padding" + dirB]) || 0, 
                borderA = convertToPx(elem, computedStyle["border" + dirA + "Width"]) || 0, borderB = convertToPx(elem, computedStyle["border" + dirB + "Width"]) || 0, 
                computedMarginA = computedStyle["margin" + dirA], computedMarginB = computedStyle["margin" + dirB], 
                marginA = convertToPx(elem, computedMarginA) || 0, marginB = convertToPx(elem, computedMarginB) || 0, 
                {
                    base: base,
                    padding: paddingA + paddingB,
                    border: borderA + borderB,
                    margin: marginA + marginB
                });
            }, getWidthHeight = function(elem, direction, measure) {
                var computedStyle, measurements, result;
                return measurements = getMeasurements(elem, direction), measurements.base > 0 ? {
                    base: measurements.base - measurements.padding - measurements.border,
                    outer: measurements.base,
                    outerfull: measurements.base + measurements.margin
                }[measure] : (computedStyle = getStyle(elem), result = computedStyle[direction], 
                (result < 0 || null === result) && (result = elem.style[direction] || 0), result = parseFloat(result) || 0, 
                {
                    base: result - measurements.padding - measurements.border,
                    outer: result,
                    outerfull: result + measurements.padding + measurements.border + measurements.margin
                }[measure]);
            }, angular.forEach({
                before: function(newElem) {
                    var children, elem, i, parent, self, _i, _ref;
                    if (self = this, elem = self[0], parent = self.parent(), children = parent.contents(), 
                    children[0] === elem) return parent.prepend(newElem);
                    for (i = _i = 1, _ref = children.length - 1; 1 <= _ref ? _i <= _ref : _i >= _ref; i = 1 <= _ref ? ++_i : --_i) if (children[i] === elem) return void angular.element(children[i - 1]).after(newElem);
                    throw new Error("invalid DOM structure " + elem.outerHTML);
                },
                height: function(value) {
                    var self;
                    return self = this, angular.isDefined(value) ? (angular.isNumber(value) && (value += "px"), 
                    css.call(self, "height", value)) : getWidthHeight(this[0], "height", "base");
                },
                outerHeight: function(option) {
                    return getWidthHeight(this[0], "height", option ? "outerfull" : "outer");
                },
                offset: function(value) {
                    var box, doc, docElem, elem, self, win;
                    if (self = this, arguments.length) {
                        if (void 0 === value) return self;
                        throw new Error("offset setter method is not implemented");
                    }
                    if (box = {
                        top: 0,
                        left: 0
                    }, elem = self[0], doc = elem && elem.ownerDocument) return docElem = doc.documentElement, 
                    null != elem.getBoundingClientRect && (box = elem.getBoundingClientRect()), win = doc.defaultView || doc.parentWindow, 
                    {
                        top: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),
                        left: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0)
                    };
                },
                scrollTop: function(value) {
                    return scrollTo(this, "top", value);
                },
                scrollLeft: function(value) {
                    return scrollTo(this, "left", value);
                }
            }, function(value, key) {
                if (!element.prototype[key]) return element.prototype[key] = value;
            });
        }
    };
} ]).run([ "$log", "$window", "jqLiteExtras", function(console, window, jqLiteExtras) {
    "use strict";
    if (!window.jQuery) return jqLiteExtras.registerFor(angular.element);
} ]), angular.module("ui.scroll", []).directive("uiScrollViewport", [ "$log", function() {
    "use strict";
    return {
        controller: [ "$scope", "$element", function(scope, element) {
            return this.viewport = element, this;
        } ]
    };
} ]).directive("uiScroll", [ "$log", "$injector", "$rootScope", "$timeout", function(console, $injector, $rootScope, $timeout) {
    "use strict";
    return {
        require: [ "?^uiScrollViewport" ],
        transclude: "element",
        priority: 1e3,
        terminal: !0,
        compile: function(elementTemplate, attr, linker) {
            return function($scope, element, $attr, controllers) {
                var adapter, adjustBuffer, adjustRowHeight, bof, bottomVisiblePos, buffer, bufferPadding, bufferSize, clipBottom, clipTop, datasource, datasourceName, doAdjustment, enqueueFetch, eof, eventListener, fetch, finalize, first, getValueChain, hideElementBeforeAppend, insert, isDatasource, isLoading, itemName, loading, log, match, next, pending, reload, removeFromBuffer, resizeHandler, ridActual, scrollHandler, scrollHeight, shouldLoadBottom, shouldLoadTop, showElementAfterRender, tempScope, topVisible, topVisibleElement, topVisibleItem, topVisiblePos, topVisibleScope, viewport, viewportScope, wheelHandler;
                if (log = console.debug || console.log, match = $attr.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/), 
                !match) throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '" + $attr.uiScroll + "'");
                if (itemName = match[1], datasourceName = match[2], isDatasource = function(datasource) {
                    return angular.isObject(datasource) && datasource.get && angular.isFunction(datasource.get);
                }, getValueChain = function(targetScope, target) {
                    var chain;
                    return targetScope ? (chain = target.match(/^([\w]+)\.(.+)$/), chain && 3 === chain.length ? getValueChain(targetScope[chain[1]], chain[2]) : targetScope[target]) : null;
                }, datasource = getValueChain($scope, datasourceName), !isDatasource(datasource) && (datasource = $injector.get(datasourceName), 
                !isDatasource(datasource))) throw new Error("" + datasourceName + " is not a valid datasource");
                return bufferSize = Math.max(3, +$attr.bufferSize || 10), bufferPadding = function() {
                    return viewport.outerHeight() * Math.max(.1, +$attr.padding || .1);
                }, scrollHeight = function(elem) {
                    var _ref;
                    return null != (_ref = elem[0].scrollHeight) ? _ref : elem[0].document.documentElement.scrollHeight;
                }, adapter = null, linker(tempScope = $scope.$new(), function(template) {
                    var bottomPadding, createPadding, padding, repeaterType, topPadding, viewport;
                    if (repeaterType = template[0].localName, "dl" === repeaterType) throw new Error("ui-scroll directive does not support <" + template[0].localName + "> as a repeating tag: " + template[0].outerHTML);
                    return "li" !== repeaterType && "tr" !== repeaterType && (repeaterType = "div"), 
                    viewport = controllers[0] && controllers[0].viewport ? controllers[0].viewport : angular.element(window), 
                    viewport.css({
                        "overflow-y": "auto",
                        display: "block"
                    }), padding = function(repeaterType) {
                        var div, result, table;
                        switch (repeaterType) {
                          case "tr":
                            return table = angular.element("<table><tr><td><div></div></td></tr></table>"), 
                            div = table.find("div"), result = table.find("tr"), result.paddingHeight = function() {
                                return div.height.apply(div, arguments);
                            }, result;

                          default:
                            return result = angular.element("<" + repeaterType + "></" + repeaterType + ">"), 
                            result.paddingHeight = result.height, result;
                        }
                    }, createPadding = function(padding, element, direction) {
                        return element[{
                            top: "before",
                            bottom: "after"
                        }[direction]](padding), {
                            paddingHeight: function() {
                                return padding.paddingHeight.apply(padding, arguments);
                            },
                            insert: function(element) {
                                return padding[{
                                    top: "after",
                                    bottom: "before"
                                }[direction]](element);
                            }
                        };
                    }, topPadding = createPadding(padding(repeaterType), element, "top"), bottomPadding = createPadding(padding(repeaterType), element, "bottom"), 
                    tempScope.$destroy(), adapter = {
                        viewport: viewport,
                        topPadding: topPadding.paddingHeight,
                        bottomPadding: bottomPadding.paddingHeight,
                        append: bottomPadding.insert,
                        prepend: topPadding.insert,
                        bottomDataPos: function() {
                            return scrollHeight(viewport) - bottomPadding.paddingHeight();
                        },
                        topDataPos: function() {
                            return topPadding.paddingHeight();
                        }
                    };
                }), viewport = adapter.viewport, viewportScope = viewport.scope() || $rootScope, 
                angular.isDefined($attr.topVisible) && (topVisibleItem = function(item) {
                    return viewportScope[$attr.topVisible] = item;
                }), angular.isDefined($attr.topVisibleElement) && (topVisibleElement = function(element) {
                    return viewportScope[$attr.topVisibleElement] = element;
                }), angular.isDefined($attr.topVisibleScope) && (topVisibleScope = function(scope) {
                    return viewportScope[$attr.topVisibleScope] = scope;
                }), topVisible = function(item) {
                    if (topVisibleItem && topVisibleItem(item.scope[itemName]), topVisibleElement && topVisibleElement(item.element), 
                    topVisibleScope && topVisibleScope(item.scope), datasource.topVisible) return datasource.topVisible(item);
                }, loading = angular.isDefined($attr.isLoading) ? function(value) {
                    if (viewportScope[$attr.isLoading] = value, datasource.loading) return datasource.loading(value);
                } : function(value) {
                    if (datasource.loading) return datasource.loading(value);
                }, ridActual = 0, first = 1, next = 1, buffer = [], pending = [], eof = !1, bof = !1, 
                isLoading = !1, removeFromBuffer = function(start, stop) {
                    var i, _i;
                    for (i = _i = start; start <= stop ? _i < stop : _i > stop; i = start <= stop ? ++_i : --_i) buffer[i].scope.$destroy(), 
                    buffer[i].element.remove();
                    return buffer.splice(start, stop - start);
                }, reload = function() {
                    return ridActual++, first = 1, next = 1, removeFromBuffer(0, buffer.length), adapter.topPadding(0), 
                    adapter.bottomPadding(0), pending = [], eof = !1, bof = !1, adjustBuffer(ridActual, !1);
                }, bottomVisiblePos = function() {
                    return viewport.scrollTop() + viewport.outerHeight();
                }, topVisiblePos = function() {
                    return viewport.scrollTop();
                }, shouldLoadBottom = function() {
                    return !eof && adapter.bottomDataPos() < bottomVisiblePos() + bufferPadding();
                }, clipBottom = function() {
                    var bottomHeight, i, item, itemHeight, itemTop, newRow, overage, rowTop, _i, _ref;
                    for (bottomHeight = 0, overage = 0, i = _i = _ref = buffer.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) if (item = buffer[i], 
                    itemTop = item.element.offset().top, newRow = rowTop !== itemTop, rowTop = itemTop, 
                    newRow && (itemHeight = item.element.outerHeight(!0)), adapter.bottomDataPos() - bottomHeight - itemHeight > bottomVisiblePos() + bufferPadding()) newRow && (bottomHeight += itemHeight), 
                    overage++, eof = !1; else {
                        if (newRow) break;
                        overage++;
                    }
                    if (overage > 0) return adapter.bottomPadding(adapter.bottomPadding() + bottomHeight), 
                    removeFromBuffer(buffer.length - overage, buffer.length), next -= overage, log("clipped off bottom " + overage + " bottom padding " + adapter.bottomPadding());
                }, shouldLoadTop = function() {
                    return !bof && adapter.topDataPos() > topVisiblePos() - bufferPadding();
                }, clipTop = function() {
                    var item, itemHeight, itemTop, newRow, overage, rowTop, topHeight, _i, _len;
                    for (topHeight = 0, overage = 0, _i = 0, _len = buffer.length; _i < _len; _i++) if (item = buffer[_i], 
                    itemTop = item.element.offset().top, newRow = rowTop !== itemTop, rowTop = itemTop, 
                    newRow && (itemHeight = item.element.outerHeight(!0)), adapter.topDataPos() + topHeight + itemHeight < topVisiblePos() - bufferPadding()) newRow && (topHeight += itemHeight), 
                    overage++, bof = !1; else {
                        if (newRow) break;
                        overage++;
                    }
                    if (overage > 0) return adapter.topPadding(adapter.topPadding() + topHeight), removeFromBuffer(0, overage), 
                    first += overage, log("clipped off top " + overage + " top padding " + adapter.topPadding());
                }, enqueueFetch = function(rid, direction, scrolling) {
                    if (isLoading || (isLoading = !0, loading(!0)), 1 === pending.push(direction)) return fetch(rid, scrolling);
                }, hideElementBeforeAppend = function(element) {
                    return element.displayTemp = element.css("display"), element.css("display", "none");
                }, showElementAfterRender = function(element) {
                    if (element.hasOwnProperty("displayTemp")) return element.css("display", element.displayTemp);
                }, insert = function(index, item) {
                    var itemScope, toBeAppended, wrapper;
                    return itemScope = $scope.$new(), itemScope[itemName] = item, toBeAppended = index > first, 
                    itemScope.$index = index, toBeAppended && itemScope.$index--, wrapper = {
                        scope: itemScope
                    }, linker(itemScope, function(clone) {
                        return wrapper.element = clone, toBeAppended ? index === next ? (hideElementBeforeAppend(clone), 
                        adapter.append(clone), buffer.push(wrapper)) : (buffer[index - first].element.after(clone), 
                        buffer.splice(index - first + 1, 0, wrapper)) : (hideElementBeforeAppend(clone), 
                        adapter.prepend(clone), buffer.unshift(wrapper));
                    }), {
                        appended: toBeAppended,
                        wrapper: wrapper
                    };
                }, adjustRowHeight = function(appended, wrapper) {
                    var newHeight;
                    return appended ? adapter.bottomPadding(Math.max(0, adapter.bottomPadding() - wrapper.element.outerHeight(!0))) : (newHeight = adapter.topPadding() - wrapper.element.outerHeight(!0), 
                    newHeight >= 0 ? adapter.topPadding(newHeight) : viewport.scrollTop(viewport.scrollTop() + wrapper.element.outerHeight(!0)));
                }, doAdjustment = function(rid, scrolling, finalize) {
                    var item, itemHeight, itemTop, newRow, rowTop, topHeight, _i, _len, _results;
                    if (log("top {actual=" + adapter.topDataPos() + " visible from=" + topVisiblePos() + " bottom {visible through=" + bottomVisiblePos() + " actual=" + adapter.bottomDataPos() + "}"), 
                    shouldLoadBottom() ? enqueueFetch(rid, !0, scrolling) : shouldLoadTop() && enqueueFetch(rid, !1, scrolling), 
                    finalize && finalize(rid), 0 === pending.length) {
                        for (topHeight = 0, _results = [], _i = 0, _len = buffer.length; _i < _len; _i++) {
                            if (item = buffer[_i], itemTop = item.element.offset().top, newRow = rowTop !== itemTop, 
                            rowTop = itemTop, newRow && (itemHeight = item.element.outerHeight(!0)), !(newRow && adapter.topDataPos() + topHeight + itemHeight < topVisiblePos())) {
                                newRow && topVisible(item);
                                break;
                            }
                            _results.push(topHeight += itemHeight);
                        }
                        return _results;
                    }
                }, adjustBuffer = function(rid, scrolling, newItems, finalize) {
                    return newItems && newItems.length ? $timeout(function() {
                        var itemTop, row, rowTop, rows, _i, _j, _len, _len1;
                        for (rows = [], _i = 0, _len = newItems.length; _i < _len; _i++) row = newItems[_i], 
                        element = row.wrapper.element, showElementAfterRender(element), itemTop = element.offset().top, 
                        rowTop !== itemTop && (rows.push(row), rowTop = itemTop);
                        for (_j = 0, _len1 = rows.length; _j < _len1; _j++) row = rows[_j], adjustRowHeight(row.appended, row.wrapper);
                        return doAdjustment(rid, scrolling, finalize);
                    }) : doAdjustment(rid, scrolling, finalize);
                }, finalize = function(rid, scrolling, newItems) {
                    return adjustBuffer(rid, scrolling, newItems, function() {
                        return pending.shift(), 0 === pending.length ? (isLoading = !1, loading(!1)) : fetch(rid, scrolling);
                    });
                }, fetch = function(rid, scrolling) {
                    var direction;
                    return direction = pending[0], direction ? buffer.length && !shouldLoadBottom() ? finalize(rid, scrolling) : datasource.get(next, bufferSize, function(result) {
                        var item, newItems, _i, _len;
                        if (!rid || rid === ridActual) {
                            if (newItems = [], result.length < bufferSize && (eof = !0, adapter.bottomPadding(0)), 
                            result.length > 0) for (clipTop(), _i = 0, _len = result.length; _i < _len; _i++) item = result[_i], 
                            newItems.push(insert(++next, item));
                            return finalize(rid, scrolling, newItems);
                        }
                    }) : buffer.length && !shouldLoadTop() ? finalize(rid, scrolling) : datasource.get(first - bufferSize, bufferSize, function(result) {
                        var i, newItems, _i, _ref;
                        if (!rid || rid === ridActual) {
                            if (newItems = [], result.length < bufferSize && (bof = !0, adapter.topPadding(0)), 
                            result.length > 0) for (buffer.length && clipBottom(), i = _i = _ref = result.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) newItems.unshift(insert(--first, result[i]));
                            return finalize(rid, scrolling, newItems);
                        }
                    });
                }, resizeHandler = function() {
                    if (!$rootScope.$$phase && !isLoading) return adjustBuffer(null, !1), $scope.$apply();
                }, viewport.bind("resize", resizeHandler), scrollHandler = function() {
                    if (!$rootScope.$$phase && !isLoading) return adjustBuffer(null, !0), $scope.$apply();
                }, viewport.bind("scroll", scrollHandler), wheelHandler = function(event) {
                    var scrollTop, yMax;
                    if (scrollTop = viewport[0].scrollTop, yMax = viewport[0].scrollHeight - viewport[0].clientHeight, 
                    0 === scrollTop && !bof || scrollTop === yMax && !eof) return event.preventDefault();
                }, viewport.bind("mousewheel", wheelHandler), $scope.$watch(datasource.revision, function() {
                    return reload();
                }), eventListener = datasource.scope ? datasource.scope.$new() : $scope.$new(), 
                $scope.$on("$destroy", function() {
                    return eventListener.$destroy(), viewport.unbind("resize", resizeHandler), viewport.unbind("scroll", scrollHandler), 
                    viewport.unbind("mousewheel", wheelHandler);
                }), eventListener.$on("update.items", function(event, locator, newItem) {
                    var wrapper, _fn, _i, _len, _ref;
                    if (angular.isFunction(locator)) for (_fn = function(wrapper) {
                        return locator(wrapper.scope);
                    }, _i = 0, _len = buffer.length; _i < _len; _i++) wrapper = buffer[_i], _fn(wrapper); else 0 <= (_ref = locator - first - 1) && _ref < buffer.length && (buffer[locator - first - 1].scope[itemName] = newItem);
                    return null;
                }), eventListener.$on("delete.items", function(event, locator) {
                    var i, item, temp, wrapper, _fn, _i, _j, _k, _len, _len1, _len2, _ref;
                    if (angular.isFunction(locator)) {
                        for (temp = [], _i = 0, _len = buffer.length; _i < _len; _i++) item = buffer[_i], 
                        temp.unshift(item);
                        for (_fn = function(wrapper) {
                            if (locator(wrapper.scope)) return removeFromBuffer(temp.length - 1 - i, temp.length - i), 
                            next--;
                        }, i = _j = 0, _len1 = temp.length; _j < _len1; i = ++_j) wrapper = temp[i], _fn(wrapper);
                    } else 0 <= (_ref = locator - first - 1) && _ref < buffer.length && (removeFromBuffer(locator - first - 1, locator - first), 
                    next--);
                    for (i = _k = 0, _len2 = buffer.length; _k < _len2; i = ++_k) item = buffer[i], 
                    item.scope.$index = first + i;
                    return adjustBuffer(null, !1);
                }), eventListener.$on("insert.item", function(event, locator, item) {
                    var i, inserted, _i, _len, _ref;
                    if (inserted = [], angular.isFunction(locator)) throw new Error("not implemented - Insert with locator function");
                    for (0 <= (_ref = locator - first - 1) && _ref < buffer.length && (inserted.push(insert(locator, item)), 
                    next++), i = _i = 0, _len = buffer.length; _i < _len; i = ++_i) item = buffer[i], 
                    item.scope.$index = first + i;
                    return adjustBuffer(null, !1, inserted);
                });
            };
        }
    };
} ]), angular.module("ui.scrollfix", []).directive("uiScrollfix", [ "$window", function($window) {
    "use strict";
    function getWindowScrollTop() {
        if (angular.isDefined($window.pageYOffset)) return $window.pageYOffset;
        var iebody = document.compatMode && "BackCompat" !== document.compatMode ? document.documentElement : document.body;
        return iebody.scrollTop;
    }
    return {
        require: "^?uiScrollfixTarget",
        link: function(scope, elm, attrs, uiScrollfixTarget) {
            function onScroll() {
                var limit = absolute ? attrs.uiScrollfix : elm[0].offsetTop + shift, offset = uiScrollfixTarget ? $target[0].scrollTop : getWindowScrollTop();
                !elm.hasClass("ui-scrollfix") && offset > limit ? (elm.addClass("ui-scrollfix"), 
                fixLimit = limit) : elm.hasClass("ui-scrollfix") && offset < fixLimit && elm.removeClass("ui-scrollfix");
            }
            var fixLimit, absolute = !0, shift = 0, $target = uiScrollfixTarget && uiScrollfixTarget.$element || angular.element($window);
            attrs.uiScrollfix ? "string" == typeof attrs.uiScrollfix && ("-" === attrs.uiScrollfix.charAt(0) ? (absolute = !1, 
            shift = -parseFloat(attrs.uiScrollfix.substr(1))) : "+" === attrs.uiScrollfix.charAt(0) && (absolute = !1, 
            shift = parseFloat(attrs.uiScrollfix.substr(1)))) : absolute = !1, fixLimit = absolute ? attrs.uiScrollfix : elm[0].offsetTop + shift, 
            $target.on("scroll", onScroll), scope.$on("$destroy", function() {
                $target.off("scroll", onScroll);
            });
        }
    };
} ]).directive("uiScrollfixTarget", [ function() {
    "use strict";
    return {
        controller: [ "$element", function($element) {
            this.$element = $element;
        } ]
    };
} ]), angular.module("ui.showhide", []).directive("uiShow", [ function() {
    "use strict";
    return function(scope, elm, attrs) {
        scope.$watch(attrs.uiShow, function(newVal) {
            newVal ? elm.addClass("ui-show") : elm.removeClass("ui-show");
        });
    };
} ]).directive("uiHide", [ function() {
    "use strict";
    return function(scope, elm, attrs) {
        scope.$watch(attrs.uiHide, function(newVal) {
            newVal ? elm.addClass("ui-hide") : elm.removeClass("ui-hide");
        });
    };
} ]).directive("uiToggle", [ function() {
    "use strict";
    return function(scope, elm, attrs) {
        scope.$watch(attrs.uiToggle, function(newVal) {
            newVal ? elm.removeClass("ui-hide").addClass("ui-show") : elm.removeClass("ui-show").addClass("ui-hide");
        });
    };
} ]), angular.module("ui.unique", []).filter("unique", [ "$parse", function($parse) {
    "use strict";
    return function(items, filterOn) {
        if (filterOn === !1) return items;
        if ((filterOn || angular.isUndefined(filterOn)) && angular.isArray(items)) {
            var newItems = [], get = angular.isString(filterOn) ? $parse(filterOn) : function(item) {
                return item;
            }, extractValueToCompare = function(item) {
                return angular.isObject(item) ? get(item) : item;
            };
            angular.forEach(items, function(item) {
                for (var isDuplicate = !1, i = 0; i < newItems.length; i++) if (angular.equals(extractValueToCompare(newItems[i]), extractValueToCompare(item))) {
                    isDuplicate = !0;
                    break;
                }
                isDuplicate || newItems.push(item);
            }), items = newItems;
        }
        return items;
    };
} ]), angular.module("ui.uploader", []).service("uiUploader", uiUploader), uiUploader.$inject = [ "$log" ], 
angular.module("ui.validate", []).directive("uiValidate", function() {
    "use strict";
    return {
        restrict: "A",
        require: "ngModel",
        link: function(scope, elm, attrs, ctrl) {
            function apply_watch(watch) {
                return angular.isString(watch) ? void scope.$watch(watch, function() {
                    angular.forEach(validators, function(validatorFn) {
                        validatorFn(ctrl.$modelValue);
                    });
                }) : angular.isArray(watch) ? void angular.forEach(watch, function(expression) {
                    scope.$watch(expression, function() {
                        angular.forEach(validators, function(validatorFn) {
                            validatorFn(ctrl.$modelValue);
                        });
                    });
                }) : void (angular.isObject(watch) && angular.forEach(watch, function(expression, validatorKey) {
                    angular.isString(expression) && scope.$watch(expression, function() {
                        validators[validatorKey](ctrl.$modelValue);
                    }), angular.isArray(expression) && angular.forEach(expression, function(intExpression) {
                        scope.$watch(intExpression, function() {
                            validators[validatorKey](ctrl.$modelValue);
                        });
                    });
                }));
            }
            var validateFn, validators = {}, validateExpr = scope.$eval(attrs.uiValidate);
            validateExpr && (angular.isString(validateExpr) && (validateExpr = {
                validator: validateExpr
            }), angular.forEach(validateExpr, function(exprssn, key) {
                validateFn = function(valueToValidate) {
                    var expression = scope.$eval(exprssn, {
                        $value: valueToValidate
                    });
                    return angular.isObject(expression) && angular.isFunction(expression.then) ? (expression.then(function() {
                        ctrl.$setValidity(key, !0);
                    }, function() {
                        ctrl.$setValidity(key, !1);
                    }), valueToValidate) : expression ? (ctrl.$setValidity(key, !0), valueToValidate) : (ctrl.$setValidity(key, !1), 
                    valueToValidate);
                }, validators[key] = validateFn, ctrl.$formatters.push(validateFn), ctrl.$parsers.push(validateFn);
            }), attrs.uiValidateWatch && apply_watch(scope.$eval(attrs.uiValidateWatch)));
        }
    };
}), angular.module("ui.utils", [ "ui.event", "ui.format", "ui.highlight", "ui.include", "ui.indeterminate", "ui.inflector", "ui.jq", "ui.keypress", "ui.mask", "ui.reset", "ui.route", "ui.scrollfix", "ui.scroll", "ui.scroll.jqlite", "ui.showhide", "ui.unique", "ui.validate" ]), 
function(window, angular, undefined) {
    "use strict";
    angular.module("ngCookies", [ "ng" ]).factory("$cookies", [ "$rootScope", "$browser", function($rootScope, $browser) {
        function push() {
            var name, value, browserCookies, updated;
            for (name in lastCookies) isUndefined(cookies[name]) && $browser.cookies(name, undefined);
            for (name in cookies) value = cookies[name], angular.isString(value) || (value = "" + value, 
            cookies[name] = value), value !== lastCookies[name] && ($browser.cookies(name, value), 
            updated = !0);
            if (updated) {
                updated = !1, browserCookies = $browser.cookies();
                for (name in cookies) cookies[name] !== browserCookies[name] && (isUndefined(browserCookies[name]) ? delete cookies[name] : cookies[name] = browserCookies[name], 
                updated = !0);
            }
        }
        var lastBrowserCookies, cookies = {}, lastCookies = {}, runEval = !1, copy = angular.copy, isUndefined = angular.isUndefined;
        return $browser.addPollFn(function() {
            var currentCookies = $browser.cookies();
            lastBrowserCookies != currentCookies && (lastBrowserCookies = currentCookies, copy(currentCookies, lastCookies), 
            copy(currentCookies, cookies), runEval && $rootScope.$apply());
        })(), runEval = !0, $rootScope.$watch(push), cookies;
    } ]).factory("$cookieStore", [ "$cookies", function($cookies) {
        return {
            get: function(key) {
                var value = $cookies[key];
                return value ? angular.fromJson(value) : value;
            },
            put: function(key, value) {
                $cookies[key] = angular.toJson(value);
            },
            remove: function(key) {
                delete $cookies[key];
            }
        };
    } ]);
}(window, window.angular), angular.module("ivpusic.cookie", [ "ipCookie" ]), angular.module("ipCookie", [ "ng" ]).factory("ipCookie", [ "$document", function($document) {
    "use strict";
    function tryDecodeURIComponent(value) {
        try {
            return decodeURIComponent(value);
        } catch (e) {}
    }
    return function() {
        function cookieFun(key, value, options) {
            var cookies, list, i, cookie, pos, name, hasCookies, all, expiresFor;
            options = options || {};
            var dec = options.decode || tryDecodeURIComponent, enc = options.encode || encodeURIComponent;
            if (void 0 !== value) return value = "object" == typeof value ? JSON.stringify(value) : String(value), 
            "number" == typeof options.expires && (expiresFor = options.expires, options.expires = new Date(), 
            expiresFor === -1 ? options.expires = new Date("Thu, 01 Jan 1970 00:00:00 GMT") : void 0 !== options.expirationUnit ? "hours" === options.expirationUnit ? options.expires.setHours(options.expires.getHours() + expiresFor) : "minutes" === options.expirationUnit ? options.expires.setMinutes(options.expires.getMinutes() + expiresFor) : "seconds" === options.expirationUnit ? options.expires.setSeconds(options.expires.getSeconds() + expiresFor) : "milliseconds" === options.expirationUnit ? options.expires.setMilliseconds(options.expires.getMilliseconds() + expiresFor) : options.expires.setDate(options.expires.getDate() + expiresFor) : options.expires.setDate(options.expires.getDate() + expiresFor)), 
            $document[0].cookie = [ enc(key), "=", enc(value), options.expires ? "; expires=" + options.expires.toUTCString() : "", options.path ? "; path=" + options.path : "", options.domain ? "; domain=" + options.domain : "", options.secure ? "; secure" : "" ].join("");
            for (list = [], all = $document[0].cookie, all && (list = all.split("; ")), cookies = {}, 
            hasCookies = !1, i = 0; i < list.length; ++i) if (list[i]) {
                if (cookie = list[i], pos = cookie.indexOf("="), name = cookie.substring(0, pos), 
                value = dec(cookie.substring(pos + 1)), angular.isUndefined(value)) continue;
                if (void 0 === key || key === name) {
                    try {
                        cookies[name] = JSON.parse(value);
                    } catch (e) {
                        cookies[name] = value;
                    }
                    if (key === name) return cookies[name];
                    hasCookies = !0;
                }
            }
            return hasCookies && void 0 === key ? cookies : void 0;
        }
        return cookieFun.remove = function(key, options) {
            var hasCookie = void 0 !== cookieFun(key);
            return hasCookie && (options || (options = {}), options.expires = -1, cookieFun(key, "", options)), 
            hasCookie;
        }, cookieFun;
    }();
} ]), function() {
    "use strict";
    angular.module("angularLoad", []).service("angularLoad", [ "$document", "$q", "$timeout", function($document, $q, $timeout) {
        this.loadScript = function(src) {
            var deferred = $q.defer(), script = $document[0].createElement("script");
            return script.onload = script.onreadystatechange = function(e) {
                $timeout(function() {
                    deferred.resolve(e);
                });
            }, script.onerror = function(e) {
                $timeout(function() {
                    deferred.reject(e);
                });
            }, script.src = src, $document[0].body.appendChild(script), deferred.promise;
        }, this.loadCSS = function(href) {
            var deferred = $q.defer(), style = $document[0].createElement("link");
            return style.rel = "stylesheet", style.type = "text/css", style.href = href, style.onload = style.onreadystatechange = function(e) {
                $timeout(function() {
                    deferred.resolve(e);
                });
            }, style.onerror = function(e) {
                $timeout(function() {
                    deferred.reject(e);
                });
            }, $document[0].head.appendChild(style), deferred.promise;
        };
    } ]);
}(), function(root) {
    function _extend(target, source) {
        if (!source || "function" == typeof source) return target;
        for (var attr in source) target[attr] = source[attr];
        return target;
    }
    function _deepExtend(target, source) {
        for (var prop in source) prop in target ? _deepExtend(target[prop], source[prop]) : target[prop] = source[prop];
        return target;
    }
    function _each(object, callback, args) {
        var name, i = 0, length = object.length, isObj = void 0 === length || "[object Array]" !== Object.prototype.toString.apply(object) || "function" == typeof object;
        if (args) if (isObj) {
            for (name in object) if (callback.apply(object[name], args) === !1) break;
        } else for (;i < length && callback.apply(object[i++], args) !== !1; ) ; else if (isObj) {
            for (name in object) if (callback.call(object[name], name, object[name]) === !1) break;
        } else for (;i < length && callback.call(object[i], i, object[i++]) !== !1; ) ;
        return object;
    }
    function _escape(data) {
        return "string" == typeof data ? data.replace(/[&<>"'\/]/g, function(s) {
            return _entityMap[s];
        }) : data;
    }
    function _ajax(options) {
        var getXhr = function(callback) {
            if (window.XMLHttpRequest) return callback(null, new XMLHttpRequest());
            if (window.ActiveXObject) try {
                return callback(null, new ActiveXObject("Msxml2.XMLHTTP"));
            } catch (e) {
                return callback(null, new ActiveXObject("Microsoft.XMLHTTP"));
            }
            return callback(new Error());
        }, encodeUsingUrlEncoding = function(data) {
            if ("string" == typeof data) return data;
            var result = [];
            for (var dataItem in data) data.hasOwnProperty(dataItem) && result.push(encodeURIComponent(dataItem) + "=" + encodeURIComponent(data[dataItem]));
            return result.join("&");
        }, utf8 = function(text) {
            text = text.replace(/\r\n/g, "\n");
            for (var result = "", i = 0; i < text.length; i++) {
                var c = text.charCodeAt(i);
                c < 128 ? result += String.fromCharCode(c) : c > 127 && c < 2048 ? (result += String.fromCharCode(c >> 6 | 192), 
                result += String.fromCharCode(63 & c | 128)) : (result += String.fromCharCode(c >> 12 | 224), 
                result += String.fromCharCode(c >> 6 & 63 | 128), result += String.fromCharCode(63 & c | 128));
            }
            return result;
        }, base64 = function(text) {
            var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            text = utf8(text);
            var chr1, chr2, chr3, enc1, enc2, enc3, enc4, result = "", i = 0;
            do chr1 = text.charCodeAt(i++), chr2 = text.charCodeAt(i++), chr3 = text.charCodeAt(i++), 
            enc1 = chr1 >> 2, enc2 = (3 & chr1) << 4 | chr2 >> 4, enc3 = (15 & chr2) << 2 | chr3 >> 6, 
            enc4 = 63 & chr3, isNaN(chr2) ? enc3 = enc4 = 64 : isNaN(chr3) && (enc4 = 64), result += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4), 
            chr1 = chr2 = chr3 = "", enc1 = enc2 = enc3 = enc4 = ""; while (i < text.length);
            return result;
        }, mergeHeaders = function() {
            for (var result = arguments[0], i = 1; i < arguments.length; i++) {
                var currentHeaders = arguments[i];
                for (var header in currentHeaders) currentHeaders.hasOwnProperty(header) && (result[header] = currentHeaders[header]);
            }
            return result;
        }, ajax = function(method, url, options, callback) {
            "function" == typeof options && (callback = options, options = {}), options.cache = options.cache || !1, 
            options.data = options.data || {}, options.headers = options.headers || {}, options.jsonp = options.jsonp || !1, 
            options.async = void 0 === options.async || options.async;
            var payload, headers = mergeHeaders({
                accept: "*/*",
                "content-type": "application/x-www-form-urlencoded;charset=UTF-8"
            }, ajax.headers, options.headers);
            if (payload = "application/json" === headers["content-type"] ? JSON.stringify(options.data) : encodeUsingUrlEncoding(options.data), 
            "GET" === method) {
                var queryString = [];
                if (payload && (queryString.push(payload), payload = null), options.cache || queryString.push("_=" + new Date().getTime()), 
                options.jsonp && (queryString.push("callback=" + options.jsonp), queryString.push("jsonp=" + options.jsonp)), 
                queryString = queryString.join("&"), queryString.length > 1 && (url += url.indexOf("?") > -1 ? "&" + queryString : "?" + queryString), 
                options.jsonp) {
                    var head = document.getElementsByTagName("head")[0], script = document.createElement("script");
                    return script.type = "text/javascript", script.src = url, void head.appendChild(script);
                }
            }
            getXhr(function(err, xhr) {
                if (err) return callback(err);
                xhr.open(method, url, options.async);
                for (var header in headers) headers.hasOwnProperty(header) && xhr.setRequestHeader(header, headers[header]);
                xhr.onreadystatechange = function() {
                    if (4 === xhr.readyState) {
                        var data = xhr.responseText || "";
                        if (!callback) return;
                        callback(xhr.status, {
                            text: function() {
                                return data;
                            },
                            json: function() {
                                try {
                                    return JSON.parse(data);
                                } catch (e) {
                                    return f.error("Can not parse JSON. URL: " + url), {};
                                }
                            }
                        });
                    }
                }, xhr.send(payload);
            });
        }, http = {
            authBasic: function(username, password) {
                ajax.headers.Authorization = "Basic " + base64(username + ":" + password);
            },
            connect: function(url, options, callback) {
                return ajax("CONNECT", url, options, callback);
            },
            del: function(url, options, callback) {
                return ajax("DELETE", url, options, callback);
            },
            get: function(url, options, callback) {
                return ajax("GET", url, options, callback);
            },
            head: function(url, options, callback) {
                return ajax("HEAD", url, options, callback);
            },
            headers: function(headers) {
                ajax.headers = headers || {};
            },
            isAllowed: function(url, verb, callback) {
                this.options(url, function(status, data) {
                    callback(data.text().indexOf(verb) !== -1);
                });
            },
            options: function(url, options, callback) {
                return ajax("OPTIONS", url, options, callback);
            },
            patch: function(url, options, callback) {
                return ajax("PATCH", url, options, callback);
            },
            post: function(url, options, callback) {
                return ajax("POST", url, options, callback);
            },
            put: function(url, options, callback) {
                return ajax("PUT", url, options, callback);
            },
            trace: function(url, options, callback) {
                return ajax("TRACE", url, options, callback);
            }
        }, methode = options.type ? options.type.toLowerCase() : "get";
        http[methode](options.url, options, function(status, data) {
            200 === status || 0 === status && data.text() ? options.success(data.json(), status, null) : options.error(data.text(), status, null);
        });
    }
    function init(options, cb) {
        "function" == typeof options && (cb = options, options = {}), options = options || {}, 
        f.extend(o, options), delete o.fixLng, o.functions && (delete o.functions, f.extend(f, options.functions)), 
        "string" == typeof o.ns && (o.ns = {
            namespaces: [ o.ns ],
            defaultNs: o.ns
        }), "string" == typeof o.fallbackNS && (o.fallbackNS = [ o.fallbackNS ]), "string" != typeof o.fallbackLng && "boolean" != typeof o.fallbackLng || (o.fallbackLng = [ o.fallbackLng ]), 
        o.interpolationPrefixEscaped = f.regexEscape(o.interpolationPrefix), o.interpolationSuffixEscaped = f.regexEscape(o.interpolationSuffix), 
        o.lng || (o.lng = f.detectLanguage()), languages = f.toLanguages(o.lng), currentLng = languages[0], 
        f.log("currentLng set to: " + currentLng), o.useCookie && f.cookie.read(o.cookieName) !== currentLng && f.cookie.create(o.cookieName, currentLng, o.cookieExpirationTime, o.cookieDomain), 
        o.detectLngFromLocalStorage && "undefined" != typeof document && window.localStorage && f.localStorage.setItem("i18next_lng", currentLng);
        var lngTranslate = translate;
        options.fixLng && (lngTranslate = function(key, options) {
            return options = options || {}, options.lng = options.lng || lngTranslate.lng, translate(key, options);
        }, lngTranslate.lng = currentLng), pluralExtensions.setCurrentLng(currentLng), $ && o.setJqueryExt && addJqueryFunct();
        var deferred;
        if ($ && $.Deferred && (deferred = $.Deferred()), o.resStore) {
            if (resStore = o.resStore, initialized = !0, cb && cb(lngTranslate), deferred && deferred.resolve(lngTranslate), 
            deferred) return deferred.promise();
        } else {
            var lngsToLoad = f.toLanguages(o.lng);
            "string" == typeof o.preload && (o.preload = [ o.preload ]);
            for (var i = 0, l = o.preload.length; i < l; i++) for (var pres = f.toLanguages(o.preload[i]), y = 0, len = pres.length; y < len; y++) lngsToLoad.indexOf(pres[y]) < 0 && lngsToLoad.push(pres[y]);
            if (i18n.sync.load(lngsToLoad, o, function(err, store) {
                resStore = store, initialized = !0, cb && cb(lngTranslate), deferred && deferred.resolve(lngTranslate);
            }), deferred) return deferred.promise();
        }
    }
    function isInitialized() {
        return initialized;
    }
    function preload(lngs, cb) {
        "string" == typeof lngs && (lngs = [ lngs ]);
        for (var i = 0, l = lngs.length; i < l; i++) o.preload.indexOf(lngs[i]) < 0 && o.preload.push(lngs[i]);
        return init(cb);
    }
    function addResourceBundle(lng, ns, resources, deep) {
        "string" != typeof ns ? (resources = ns, ns = o.ns.defaultNs) : o.ns.namespaces.indexOf(ns) < 0 && o.ns.namespaces.push(ns), 
        resStore[lng] = resStore[lng] || {}, resStore[lng][ns] = resStore[lng][ns] || {}, 
        deep ? f.deepExtend(resStore[lng][ns], resources) : f.extend(resStore[lng][ns], resources), 
        o.useLocalStorage && sync._storeLocal(resStore);
    }
    function hasResourceBundle(lng, ns) {
        "string" != typeof ns && (ns = o.ns.defaultNs), resStore[lng] = resStore[lng] || {};
        var res = resStore[lng][ns] || {}, hasValues = !1;
        for (var prop in res) res.hasOwnProperty(prop) && (hasValues = !0);
        return hasValues;
    }
    function getResourceBundle(lng, ns) {
        return "string" != typeof ns && (ns = o.ns.defaultNs), resStore[lng] = resStore[lng] || {}, 
        f.extend({}, resStore[lng][ns]);
    }
    function removeResourceBundle(lng, ns) {
        "string" != typeof ns && (ns = o.ns.defaultNs), resStore[lng] = resStore[lng] || {}, 
        resStore[lng][ns] = {}, o.useLocalStorage && sync._storeLocal(resStore);
    }
    function addResource(lng, ns, key, value) {
        "string" != typeof ns ? (resource = ns, ns = o.ns.defaultNs) : o.ns.namespaces.indexOf(ns) < 0 && o.ns.namespaces.push(ns), 
        resStore[lng] = resStore[lng] || {}, resStore[lng][ns] = resStore[lng][ns] || {};
        for (var keys = key.split(o.keyseparator), x = 0, node = resStore[lng][ns]; keys[x]; ) x == keys.length - 1 ? node[keys[x]] = value : (null == node[keys[x]] && (node[keys[x]] = {}), 
        node = node[keys[x]]), x++;
        o.useLocalStorage && sync._storeLocal(resStore);
    }
    function addResources(lng, ns, resources) {
        "string" != typeof ns ? (resource = ns, ns = o.ns.defaultNs) : o.ns.namespaces.indexOf(ns) < 0 && o.ns.namespaces.push(ns);
        for (var m in resources) "string" == typeof resources[m] && addResource(lng, ns, m, resources[m]);
    }
    function setDefaultNamespace(ns) {
        o.ns.defaultNs = ns;
    }
    function loadNamespace(namespace, cb) {
        loadNamespaces([ namespace ], cb);
    }
    function loadNamespaces(namespaces, cb) {
        var opts = {
            dynamicLoad: o.dynamicLoad,
            resGetPath: o.resGetPath,
            getAsync: o.getAsync,
            customLoad: o.customLoad,
            ns: {
                namespaces: namespaces,
                defaultNs: ""
            }
        }, lngsToLoad = f.toLanguages(o.lng);
        "string" == typeof o.preload && (o.preload = [ o.preload ]);
        for (var i = 0, l = o.preload.length; i < l; i++) for (var pres = f.toLanguages(o.preload[i]), y = 0, len = pres.length; y < len; y++) lngsToLoad.indexOf(pres[y]) < 0 && lngsToLoad.push(pres[y]);
        for (var lngNeedLoad = [], a = 0, lenA = lngsToLoad.length; a < lenA; a++) {
            var needLoad = !1, resSet = resStore[lngsToLoad[a]];
            if (resSet) for (var b = 0, lenB = namespaces.length; b < lenB; b++) resSet[namespaces[b]] || (needLoad = !0); else needLoad = !0;
            needLoad && lngNeedLoad.push(lngsToLoad[a]);
        }
        lngNeedLoad.length ? i18n.sync._fetch(lngNeedLoad, opts, function(err, store) {
            var todo = namespaces.length * lngNeedLoad.length;
            f.each(namespaces, function(nsIndex, nsValue) {
                o.ns.namespaces.indexOf(nsValue) < 0 && o.ns.namespaces.push(nsValue), f.each(lngNeedLoad, function(lngIndex, lngValue) {
                    resStore[lngValue] = resStore[lngValue] || {}, resStore[lngValue][nsValue] = store[lngValue][nsValue], 
                    todo--, 0 === todo && cb && (o.useLocalStorage && i18n.sync._storeLocal(resStore), 
                    cb());
                });
            });
        }) : cb && cb();
    }
    function setLng(lng, options, cb) {
        return "function" == typeof options ? (cb = options, options = {}) : options || (options = {}), 
        options.lng = lng, init(options, cb);
    }
    function lng() {
        return currentLng;
    }
    function reload(cb) {
        resStore = {}, setLng(currentLng, cb);
    }
    function noConflict() {
        window.i18next = window.i18n, conflictReference ? window.i18n = conflictReference : delete window.i18n;
    }
    function addJqueryFunct() {
        function parse(ele, key, options) {
            if (0 !== key.length) {
                var attr = "text";
                if (0 === key.indexOf("[")) {
                    var parts = key.split("]");
                    key = parts[1], attr = parts[0].substr(1, parts[0].length - 1);
                }
                key.indexOf(";") === key.length - 1 && (key = key.substr(0, key.length - 2));
                var optionsToUse;
                if ("html" === attr) optionsToUse = o.defaultValueFromContent ? $.extend({
                    defaultValue: ele.html()
                }, options) : options, ele.html($.t(key, optionsToUse)); else if ("text" === attr) optionsToUse = o.defaultValueFromContent ? $.extend({
                    defaultValue: ele.text()
                }, options) : options, ele.text($.t(key, optionsToUse)); else if ("prepend" === attr) optionsToUse = o.defaultValueFromContent ? $.extend({
                    defaultValue: ele.html()
                }, options) : options, ele.prepend($.t(key, optionsToUse)); else if ("append" === attr) optionsToUse = o.defaultValueFromContent ? $.extend({
                    defaultValue: ele.html()
                }, options) : options, ele.append($.t(key, optionsToUse)); else if (0 === attr.indexOf("data-")) {
                    var dataAttr = attr.substr("data-".length);
                    optionsToUse = o.defaultValueFromContent ? $.extend({
                        defaultValue: ele.data(dataAttr)
                    }, options) : options;
                    var translated = $.t(key, optionsToUse);
                    ele.data(dataAttr, translated), ele.attr(attr, translated);
                } else optionsToUse = o.defaultValueFromContent ? $.extend({
                    defaultValue: ele.attr(attr)
                }, options) : options, ele.attr(attr, $.t(key, optionsToUse));
            }
        }
        function localize(ele, options) {
            var key = ele.attr(o.selectorAttr);
            if (key || "undefined" == typeof key || key === !1 || (key = ele.text() || ele.val()), 
            key) {
                var target = ele, targetSelector = ele.data("i18n-target");
                if (targetSelector && (target = ele.find(targetSelector) || ele), options || o.useDataAttrOptions !== !0 || (options = ele.data("i18n-options")), 
                options = options || {}, key.indexOf(";") >= 0) {
                    var keys = key.split(";");
                    $.each(keys, function(m, k) {
                        "" !== k && parse(target, k, options);
                    });
                } else parse(target, key, options);
                o.useDataAttrOptions === !0 && ele.data("i18n-options", options);
            }
        }
        $.t = $.t || translate, $.fn.i18n = function(options) {
            return this.each(function() {
                localize($(this), options);
                var elements = $(this).find("[" + o.selectorAttr + "]");
                elements.each(function() {
                    localize($(this), options);
                });
            });
        };
    }
    function applyReplacement(str, replacementHash, nestedKey, options) {
        if (!str) return str;
        if (options = options || replacementHash, str.indexOf(options.interpolationPrefix || o.interpolationPrefix) < 0) return str;
        var prefix = options.interpolationPrefix ? f.regexEscape(options.interpolationPrefix) : o.interpolationPrefixEscaped, suffix = options.interpolationSuffix ? f.regexEscape(options.interpolationSuffix) : o.interpolationSuffixEscaped, unEscapingSuffix = "HTML" + suffix, hash = replacementHash.replace && "object" == typeof replacementHash.replace ? replacementHash.replace : replacementHash;
        return f.each(hash, function(key, value) {
            var nextKey = nestedKey ? nestedKey + o.keyseparator + key : key;
            "object" == typeof value && null !== value ? str = applyReplacement(str, value, nextKey, options) : options.escapeInterpolation || o.escapeInterpolation ? (str = str.replace(new RegExp([ prefix, nextKey, unEscapingSuffix ].join(""), "g"), f.regexReplacementEscape(value)), 
            str = str.replace(new RegExp([ prefix, nextKey, suffix ].join(""), "g"), f.regexReplacementEscape(f.escape(value)))) : str = str.replace(new RegExp([ prefix, nextKey, suffix ].join(""), "g"), f.regexReplacementEscape(value));
        }), str;
    }
    function applyReuse(translated, options) {
        var comma = ",", options_open = "{", options_close = "}", opts = f.extend({}, options);
        for (delete opts.postProcess; translated.indexOf(o.reusePrefix) != -1 && (replacementCounter++, 
        !(replacementCounter > o.maxRecursion)); ) {
            var index_of_opening = translated.lastIndexOf(o.reusePrefix), index_of_end_of_closing = translated.indexOf(o.reuseSuffix, index_of_opening) + o.reuseSuffix.length, token = translated.substring(index_of_opening, index_of_end_of_closing), token_without_symbols = token.replace(o.reusePrefix, "").replace(o.reuseSuffix, "");
            if (index_of_end_of_closing <= index_of_opening) return f.error("there is an missing closing in following translation value", translated), 
            "";
            if (token_without_symbols.indexOf(comma) != -1) {
                var index_of_token_end_of_closing = token_without_symbols.indexOf(comma);
                if (token_without_symbols.indexOf(options_open, index_of_token_end_of_closing) != -1 && token_without_symbols.indexOf(options_close, index_of_token_end_of_closing) != -1) {
                    var index_of_opts_opening = token_without_symbols.indexOf(options_open, index_of_token_end_of_closing), index_of_opts_end_of_closing = token_without_symbols.indexOf(options_close, index_of_opts_opening) + options_close.length;
                    try {
                        opts = f.extend(opts, JSON.parse(token_without_symbols.substring(index_of_opts_opening, index_of_opts_end_of_closing))), 
                        token_without_symbols = token_without_symbols.substring(0, index_of_token_end_of_closing);
                    } catch (e) {}
                }
            }
            var translated_token = _translate(token_without_symbols, opts);
            translated = translated.replace(token, f.regexReplacementEscape(translated_token));
        }
        return translated;
    }
    function hasContext(options) {
        return options.context && ("string" == typeof options.context || "number" == typeof options.context);
    }
    function needsPlural(options, lng) {
        return void 0 !== options.count && "string" != typeof options.count;
    }
    function needsIndefiniteArticle(options) {
        return void 0 !== options.indefinite_article && "string" != typeof options.indefinite_article && options.indefinite_article;
    }
    function exists(key, options) {
        options = options || {};
        var notFound = _getDefaultValue(key, options), found = _find(key, options);
        return void 0 !== found || found === notFound;
    }
    function translate(key, options) {
        return options = options || {}, initialized ? (replacementCounter = 0, _translate.apply(null, arguments)) : (f.log("i18next not finished initialization. you might have called t function before loading resources finished."), 
        options.defaultValue || "");
    }
    function _getDefaultValue(key, options) {
        return void 0 !== options.defaultValue ? options.defaultValue : key;
    }
    function _injectSprintfProcessor() {
        for (var values = [], i = 1; i < arguments.length; i++) values.push(arguments[i]);
        return {
            postProcess: "sprintf",
            sprintf: values
        };
    }
    function _translate(potentialKeys, options) {
        if (options && "object" != typeof options ? "sprintf" === o.shortcutFunction ? options = _injectSprintfProcessor.apply(null, arguments) : "defaultValue" === o.shortcutFunction && (options = {
            defaultValue: options
        }) : options = options || {}, "object" == typeof o.defaultVariables && (options = f.extend({}, o.defaultVariables, options)), 
        void 0 === potentialKeys || null === potentialKeys || "" === potentialKeys) return "";
        "number" == typeof potentialKeys && (potentialKeys = String(potentialKeys)), "string" == typeof potentialKeys && (potentialKeys = [ potentialKeys ]);
        var key = potentialKeys[0];
        if (potentialKeys.length > 1) for (var i = 0; i < potentialKeys.length && (key = potentialKeys[i], 
        !exists(key, options)); i++) ;
        var parts, notFound = _getDefaultValue(key, options), found = _find(key, options), lngs = options.lng ? f.toLanguages(options.lng, options.fallbackLng) : languages, ns = options.ns || o.ns.defaultNs;
        key.indexOf(o.nsseparator) > -1 && (parts = key.split(o.nsseparator), ns = parts[0], 
        key = parts[1]), void 0 === found && o.sendMissing && "function" == typeof o.missingKeyHandler && (options.lng ? o.missingKeyHandler(lngs[0], ns, key, notFound, lngs) : o.missingKeyHandler(o.lng, ns, key, notFound, lngs));
        var postProcessorsToApply;
        postProcessorsToApply = "string" == typeof o.postProcess && "" !== o.postProcess ? [ o.postProcess ] : "array" == typeof o.postProcess || "object" == typeof o.postProcess ? o.postProcess : [], 
        "string" == typeof options.postProcess && "" !== options.postProcess ? postProcessorsToApply = postProcessorsToApply.concat([ options.postProcess ]) : "array" != typeof options.postProcess && "object" != typeof options.postProcess || (postProcessorsToApply = postProcessorsToApply.concat(options.postProcess)), 
        void 0 !== found && postProcessorsToApply.length && postProcessorsToApply.forEach(function(postProcessor) {
            postProcessors[postProcessor] && (found = postProcessors[postProcessor](found, key, options));
        });
        var splitNotFound = notFound;
        if (notFound.indexOf(o.nsseparator) > -1 && (parts = notFound.split(o.nsseparator), 
        splitNotFound = parts[1]), splitNotFound === key && o.parseMissingKey && (notFound = o.parseMissingKey(notFound)), 
        void 0 === found && (notFound = applyReplacement(notFound, options), notFound = applyReuse(notFound, options), 
        postProcessorsToApply.length)) {
            var val = _getDefaultValue(key, options);
            postProcessorsToApply.forEach(function(postProcessor) {
                postProcessors[postProcessor] && (found = postProcessors[postProcessor](val, key, options));
            });
        }
        return void 0 !== found ? found : notFound;
    }
    function _find(key, options) {
        options = options || {};
        var optionWithoutCount, translated, notFound = _getDefaultValue(key, options), lngs = languages;
        if (!resStore) return notFound;
        if ("cimode" === lngs[0].toLowerCase()) return notFound;
        if (options.lngs && (lngs = options.lngs), options.lng && (lngs = f.toLanguages(options.lng, options.fallbackLng), 
        !resStore[lngs[0]])) {
            var oldAsync = o.getAsync;
            o.getAsync = !1, i18n.sync.load(lngs, o, function(err, store) {
                f.extend(resStore, store), o.getAsync = oldAsync;
            });
        }
        var ns = options.ns || o.ns.defaultNs;
        if (key.indexOf(o.nsseparator) > -1) {
            var parts = key.split(o.nsseparator);
            ns = parts[0], key = parts[1];
        }
        if (hasContext(options)) {
            optionWithoutCount = f.extend({}, options), delete optionWithoutCount.context, optionWithoutCount.defaultValue = o.contextNotFound;
            var contextKey = ns + o.nsseparator + key + "_" + options.context;
            if (translated = translate(contextKey, optionWithoutCount), translated != o.contextNotFound) return applyReplacement(translated, {
                context: options.context
            });
        }
        if (needsPlural(options, lngs[0])) {
            optionWithoutCount = f.extend({
                lngs: [ lngs[0] ]
            }, options), delete optionWithoutCount.count, optionWithoutCount._origLng = optionWithoutCount._origLng || optionWithoutCount.lng || lngs[0], 
            delete optionWithoutCount.lng, optionWithoutCount.defaultValue = o.pluralNotFound;
            var pluralKey;
            if (pluralExtensions.needsPlural(lngs[0], options.count)) {
                pluralKey = ns + o.nsseparator + key + o.pluralSuffix;
                var pluralExtension = pluralExtensions.get(lngs[0], options.count);
                pluralExtension >= 0 ? pluralKey = pluralKey + "_" + pluralExtension : 1 === pluralExtension && (pluralKey = ns + o.nsseparator + key);
            } else pluralKey = ns + o.nsseparator + key;
            if (translated = translate(pluralKey, optionWithoutCount), translated != o.pluralNotFound) return applyReplacement(translated, {
                count: options.count,
                interpolationPrefix: options.interpolationPrefix,
                interpolationSuffix: options.interpolationSuffix
            });
            if (!(lngs.length > 1)) return optionWithoutCount.lng = optionWithoutCount._origLng, 
            delete optionWithoutCount._origLng, translated = translate(ns + o.nsseparator + key, optionWithoutCount), 
            applyReplacement(translated, {
                count: options.count,
                interpolationPrefix: options.interpolationPrefix,
                interpolationSuffix: options.interpolationSuffix
            });
            var clone = lngs.slice();
            if (clone.shift(), options = f.extend(options, {
                lngs: clone
            }), options._origLng = optionWithoutCount._origLng, delete options.lng, translated = translate(ns + o.nsseparator + key, options), 
            translated != o.pluralNotFound) return translated;
        }
        if (needsIndefiniteArticle(options)) {
            var optionsWithoutIndef = f.extend({}, options);
            delete optionsWithoutIndef.indefinite_article, optionsWithoutIndef.defaultValue = o.indefiniteNotFound;
            var indefiniteKey = ns + o.nsseparator + key + (options.count && !needsPlural(options, lngs[0]) || !options.count ? o.indefiniteSuffix : "");
            if (translated = translate(indefiniteKey, optionsWithoutIndef), translated != o.indefiniteNotFound) return translated;
        }
        for (var found, keys = key.split(o.keyseparator), i = 0, len = lngs.length; i < len && void 0 === found; i++) {
            for (var l = lngs[i], x = 0, value = resStore[l] && resStore[l][ns]; keys[x]; ) value = value && value[keys[x]], 
            x++;
            if (void 0 !== value && (!o.showKeyIfEmpty || "" !== value)) {
                var valueType = Object.prototype.toString.apply(value);
                if ("string" == typeof value) value = applyReplacement(value, options), value = applyReuse(value, options); else if ("[object Array]" !== valueType || o.returnObjectTrees || options.returnObjectTrees) {
                    if (null === value && o.fallbackOnNull === !0) value = void 0; else if (null !== value) if (o.returnObjectTrees || options.returnObjectTrees) {
                        if ("[object Number]" !== valueType && "[object Function]" !== valueType && "[object RegExp]" !== valueType) {
                            var copy = "[object Array]" === valueType ? [] : {};
                            f.each(value, function(m) {
                                copy[m] = _translate(ns + o.nsseparator + key + o.keyseparator + m, options);
                            }), value = copy;
                        }
                    } else o.objectTreeKeyHandler && "function" == typeof o.objectTreeKeyHandler ? value = o.objectTreeKeyHandler(key, value, l, ns, options) : (value = "key '" + ns + ":" + key + " (" + l + ")' returned an object instead of string.", 
                    f.log(value));
                } else value = value.join("\n"), value = applyReplacement(value, options), value = applyReuse(value, options);
                "string" == typeof value && "" === value.trim() && o.fallbackOnEmpty === !0 && (value = void 0), 
                found = value;
            }
        }
        if (void 0 === found && !options.isFallbackLookup && (o.fallbackToDefaultNS === !0 || o.fallbackNS && o.fallbackNS.length > 0)) {
            if (options.isFallbackLookup = !0, o.fallbackNS.length) {
                for (var y = 0, lenY = o.fallbackNS.length; y < lenY; y++) if (found = _find(o.fallbackNS[y] + o.nsseparator + key, options), 
                found || "" === found && o.fallbackOnEmpty === !1) {
                    var foundValue = found.indexOf(o.nsseparator) > -1 ? found.split(o.nsseparator)[1] : found, notFoundValue = notFound.indexOf(o.nsseparator) > -1 ? notFound.split(o.nsseparator)[1] : notFound;
                    if (foundValue !== notFoundValue) break;
                }
            } else options.ns = o.ns.defaultNs, found = _find(key, options);
            options.isFallbackLookup = !1;
        }
        return found;
    }
    function detectLanguage() {
        var detectedLng, whitelist = o.lngWhitelist || [], userLngChoices = [];
        if ("undefined" != typeof window && !function() {
            for (var query = window.location.search.substring(1), params = query.split("&"), i = 0; i < params.length; i++) {
                var pos = params[i].indexOf("=");
                if (pos > 0) {
                    var key = params[i].substring(0, pos);
                    key == o.detectLngQS && userLngChoices.push(params[i].substring(pos + 1));
                }
            }
        }(), o.useCookie && "undefined" != typeof document) {
            var c = f.cookie.read(o.cookieName);
            c && userLngChoices.push(c);
        }
        if (o.detectLngFromLocalStorage && "undefined" != typeof window && window.localStorage) {
            var lang = f.localStorage.getItem("i18next_lng");
            lang && userLngChoices.push(lang);
        }
        if ("undefined" != typeof navigator) {
            if (navigator.languages) for (var i = 0; i < navigator.languages.length; i++) userLngChoices.push(navigator.languages[i]);
            navigator.userLanguage && userLngChoices.push(navigator.userLanguage), navigator.language && userLngChoices.push(navigator.language);
        }
        return function() {
            for (var i = 0; i < userLngChoices.length; i++) {
                var lng = userLngChoices[i];
                if (lng.indexOf("-") > -1) {
                    var parts = lng.split("-");
                    lng = o.lowerCaseLng ? parts[0].toLowerCase() + "-" + parts[1].toLowerCase() : parts[0].toLowerCase() + "-" + parts[1].toUpperCase();
                }
                if (0 === whitelist.length || whitelist.indexOf(lng) > -1) {
                    detectedLng = lng;
                    break;
                }
            }
        }(), detectedLng || (detectedLng = o.fallbackLng[0]), detectedLng;
    }
    Array.prototype.indexOf || (Array.prototype.indexOf = function(searchElement) {
        "use strict";
        if (null == this) throw new TypeError();
        var t = Object(this), len = t.length >>> 0;
        if (0 === len) return -1;
        var n = 0;
        if (arguments.length > 0 && (n = Number(arguments[1]), n != n ? n = 0 : 0 != n && n != 1 / 0 && n != -(1 / 0) && (n = (n > 0 || -1) * Math.floor(Math.abs(n)))), 
        n >= len) return -1;
        for (var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0); k < len; k++) if (k in t && t[k] === searchElement) return k;
        return -1;
    }), Array.prototype.lastIndexOf || (Array.prototype.lastIndexOf = function(searchElement) {
        "use strict";
        if (null == this) throw new TypeError();
        var t = Object(this), len = t.length >>> 0;
        if (0 === len) return -1;
        var n = len;
        arguments.length > 1 && (n = Number(arguments[1]), n != n ? n = 0 : 0 != n && n != 1 / 0 && n != -(1 / 0) && (n = (n > 0 || -1) * Math.floor(Math.abs(n))));
        for (var k = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n); k >= 0; k--) if (k in t && t[k] === searchElement) return k;
        return -1;
    }), "function" != typeof String.prototype.trim && (String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, "");
    });
    var currentLng, $ = root.jQuery || root.Zepto, i18n = {}, resStore = {}, replacementCounter = 0, languages = [], initialized = !1, sync = {}, conflictReference = null;
    "undefined" != typeof module && module.exports ? module.exports = i18n : ($ && ($.i18n = $.i18n || i18n), 
    root.i18n && (conflictReference = root.i18n), root.i18n = i18n), sync = {
        load: function(lngs, options, cb) {
            options.useLocalStorage ? sync._loadLocal(lngs, options, function(err, store) {
                for (var missingLngs = [], i = 0, len = lngs.length; i < len; i++) store[lngs[i]] || missingLngs.push(lngs[i]);
                missingLngs.length > 0 ? sync._fetch(missingLngs, options, function(err, fetched) {
                    f.extend(store, fetched), sync._storeLocal(fetched), cb(null, store);
                }) : cb(null, store);
            }) : sync._fetch(lngs, options, function(err, store) {
                cb(null, store);
            });
        },
        _loadLocal: function(lngs, options, cb) {
            var store = {}, nowMS = new Date().getTime();
            if (window.localStorage) {
                var todo = lngs.length;
                f.each(lngs, function(key, lng) {
                    var local = f.localStorage.getItem("res_" + lng);
                    local && (local = JSON.parse(local), local.i18nStamp && local.i18nStamp + options.localStorageExpirationTime > nowMS && (store[lng] = local)), 
                    todo--, 0 === todo && cb(null, store);
                });
            }
        },
        _storeLocal: function(store) {
            if (window.localStorage) for (var m in store) store[m].i18nStamp = new Date().getTime(), 
            f.localStorage.setItem("res_" + m, JSON.stringify(store[m]));
        },
        _fetch: function(lngs, options, cb) {
            var ns = options.ns, store = {};
            if (options.dynamicLoad) {
                var loadComplete = function(err, data) {
                    cb(null, data);
                };
                if ("function" == typeof options.customLoad) options.customLoad(lngs, ns.namespaces, options, loadComplete); else {
                    var url = applyReplacement(options.resGetPath, {
                        lng: lngs.join("+"),
                        ns: ns.namespaces.join("+")
                    });
                    f.ajax({
                        url: url,
                        cache: options.cache,
                        success: function(data, status, xhr) {
                            f.log("loaded: " + url), loadComplete(null, data);
                        },
                        error: function(xhr, status, error) {
                            f.log("failed loading: " + url), loadComplete("failed loading resource.json error: " + error);
                        },
                        dataType: "json",
                        async: options.getAsync,
                        timeout: options.ajaxTimeout
                    });
                }
            } else {
                var errors, todo = ns.namespaces.length * lngs.length;
                f.each(ns.namespaces, function(nsIndex, nsValue) {
                    f.each(lngs, function(lngIndex, lngValue) {
                        var loadComplete = function(err, data) {
                            err && (errors = errors || [], errors.push(err)), store[lngValue] = store[lngValue] || {}, 
                            store[lngValue][nsValue] = data, todo--, 0 === todo && cb(errors, store);
                        };
                        "function" == typeof options.customLoad ? options.customLoad(lngValue, nsValue, options, loadComplete) : sync._fetchOne(lngValue, nsValue, options, loadComplete);
                    });
                });
            }
        },
        _fetchOne: function(lng, ns, options, done) {
            var url = applyReplacement(options.resGetPath, {
                lng: lng,
                ns: ns
            });
            f.ajax({
                url: url,
                cache: options.cache,
                success: function(data, status, xhr) {
                    f.log("loaded: " + url), done(null, data);
                },
                error: function(xhr, status, error) {
                    if (status && 200 == status || xhr && xhr.status && 200 == xhr.status) f.error("There is a typo in: " + url); else if (status && 404 == status || xhr && xhr.status && 404 == xhr.status) f.log("Does not exist: " + url); else {
                        var theStatus = status ? status : xhr && xhr.status ? xhr.status : null;
                        f.log(theStatus + " when loading " + url);
                    }
                    done(error, {});
                },
                dataType: "json",
                async: options.getAsync,
                timeout: options.ajaxTimeout
            });
        },
        postMissing: function(lng, ns, key, defaultValue, lngs) {
            var payload = {};
            payload[key] = defaultValue;
            var urls = [];
            if ("fallback" === o.sendMissingTo && o.fallbackLng[0] !== !1) for (var i = 0; i < o.fallbackLng.length; i++) urls.push({
                lng: o.fallbackLng[i],
                url: applyReplacement(o.resPostPath, {
                    lng: o.fallbackLng[i],
                    ns: ns
                })
            }); else if ("current" === o.sendMissingTo || "fallback" === o.sendMissingTo && o.fallbackLng[0] === !1) urls.push({
                lng: lng,
                url: applyReplacement(o.resPostPath, {
                    lng: lng,
                    ns: ns
                })
            }); else if ("all" === o.sendMissingTo) for (var i = 0, l = lngs.length; i < l; i++) urls.push({
                lng: lngs[i],
                url: applyReplacement(o.resPostPath, {
                    lng: lngs[i],
                    ns: ns
                })
            });
            for (var y = 0, len = urls.length; y < len; y++) {
                var item = urls[y];
                f.ajax({
                    url: item.url,
                    type: o.sendType,
                    data: payload,
                    success: function(data, status, xhr) {
                        f.log("posted missing key '" + key + "' to: " + item.url);
                        for (var keys = key.split("."), x = 0, value = resStore[item.lng][ns]; keys[x]; ) value = x === keys.length - 1 ? value[keys[x]] = defaultValue : value[keys[x]] = value[keys[x]] || {}, 
                        x++;
                    },
                    error: function(xhr, status, error) {
                        f.log("failed posting missing key '" + key + "' to: " + item.url);
                    },
                    dataType: "json",
                    async: o.postAsync,
                    timeout: o.ajaxTimeout
                });
            }
        },
        reload: reload
    };
    var o = {
        lng: void 0,
        load: "all",
        preload: [],
        lowerCaseLng: !1,
        returnObjectTrees: !1,
        fallbackLng: [ "dev" ],
        fallbackNS: [],
        detectLngQS: "setLng",
        detectLngFromLocalStorage: !1,
        ns: {
            namespaces: [ "translation" ],
            defaultNs: "translation"
        },
        fallbackOnNull: !0,
        fallbackOnEmpty: !1,
        fallbackToDefaultNS: !1,
        showKeyIfEmpty: !1,
        nsseparator: ":",
        keyseparator: ".",
        selectorAttr: "data-i18n",
        debug: !1,
        resGetPath: "locales/__lng__/__ns__.json",
        resPostPath: "locales/add/__lng__/__ns__",
        getAsync: !0,
        postAsync: !0,
        resStore: void 0,
        useLocalStorage: !1,
        localStorageExpirationTime: 6048e5,
        dynamicLoad: !1,
        sendMissing: !1,
        sendMissingTo: "fallback",
        sendType: "POST",
        interpolationPrefix: "__",
        interpolationSuffix: "__",
        defaultVariables: !1,
        reusePrefix: "$t(",
        reuseSuffix: ")",
        pluralSuffix: "_plural",
        pluralNotFound: [ "plural_not_found", Math.random() ].join(""),
        contextNotFound: [ "context_not_found", Math.random() ].join(""),
        escapeInterpolation: !1,
        indefiniteSuffix: "_indefinite",
        indefiniteNotFound: [ "indefinite_not_found", Math.random() ].join(""),
        setJqueryExt: !0,
        defaultValueFromContent: !0,
        useDataAttrOptions: !1,
        cookieExpirationTime: void 0,
        useCookie: !0,
        cookieName: "i18next",
        cookieDomain: void 0,
        objectTreeKeyHandler: void 0,
        postProcess: void 0,
        parseMissingKey: void 0,
        missingKeyHandler: sync.postMissing,
        ajaxTimeout: 0,
        shortcutFunction: "sprintf"
    }, _entityMap = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
        "/": "&#x2F;"
    }, _cookie = {
        create: function(name, value, minutes, domain) {
            var expires;
            if (minutes) {
                var date = new Date();
                date.setTime(date.getTime() + 60 * minutes * 1e3), expires = "; expires=" + date.toGMTString();
            } else expires = "";
            domain = domain ? "domain=" + domain + ";" : "", document.cookie = name + "=" + value + expires + ";" + domain + "path=/";
        },
        read: function(name) {
            for (var nameEQ = name + "=", ca = document.cookie.split(";"), i = 0; i < ca.length; i++) {
                for (var c = ca[i]; " " == c.charAt(0); ) c = c.substring(1, c.length);
                if (0 === c.indexOf(nameEQ)) return c.substring(nameEQ.length, c.length);
            }
            return null;
        },
        remove: function(name) {
            this.create(name, "", -1);
        }
    }, cookie_noop = {
        create: function(name, value, minutes, domain) {},
        read: function(name) {
            return null;
        },
        remove: function(name) {}
    }, f = {
        extend: $ ? $.extend : _extend,
        deepExtend: _deepExtend,
        each: $ ? $.each : _each,
        ajax: $ ? $.ajax : "undefined" != typeof document ? _ajax : function() {},
        cookie: "undefined" != typeof document ? _cookie : cookie_noop,
        detectLanguage: detectLanguage,
        escape: _escape,
        log: function(str) {
            o.debug && "undefined" != typeof console && console.log(str);
        },
        error: function(str) {
            "undefined" != typeof console && console.error(str);
        },
        getCountyIndexOfLng: function(lng) {
            var lng_index = 0;
            return "nb-NO" !== lng && "nn-NO" !== lng && "nb-no" !== lng && "nn-no" !== lng || (lng_index = 1), 
            lng_index;
        },
        toLanguages: function(lng) {
            function applyCase(l) {
                var ret = l;
                if ("string" == typeof l && l.indexOf("-") > -1) {
                    var parts = l.split("-");
                    ret = o.lowerCaseLng ? parts[0].toLowerCase() + "-" + parts[1].toLowerCase() : parts[0].toLowerCase() + "-" + parts[1].toUpperCase();
                } else ret = o.lowerCaseLng ? l.toLowerCase() : l;
                return ret;
            }
            var log = this.log, languages = [], whitelist = o.lngWhitelist || !1, addLanguage = function(language) {
                !whitelist || whitelist.indexOf(language) > -1 ? languages.push(language) : log("rejecting non-whitelisted language: " + language);
            };
            if ("string" == typeof lng && lng.indexOf("-") > -1) {
                var parts = lng.split("-");
                "unspecific" !== o.load && addLanguage(applyCase(lng)), "current" !== o.load && addLanguage(applyCase(parts[this.getCountyIndexOfLng(lng)]));
            } else addLanguage(applyCase(lng));
            for (var i = 0; i < o.fallbackLng.length; i++) languages.indexOf(o.fallbackLng[i]) === -1 && o.fallbackLng[i] && languages.push(applyCase(o.fallbackLng[i]));
            return languages;
        },
        regexEscape: function(str) {
            return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
        },
        regexReplacementEscape: function(strOrFn) {
            return "string" == typeof strOrFn ? strOrFn.replace(/\$/g, "$$$$") : strOrFn;
        },
        localStorage: {
            setItem: function(key, value) {
                if (window.localStorage) try {
                    window.localStorage.setItem(key, value);
                } catch (e) {
                    f.log('failed to set value for key "' + key + '" to localStorage.');
                }
            },
            getItem: function(key, value) {
                if (window.localStorage) try {
                    return window.localStorage.getItem(key, value);
                } catch (e) {
                    return void f.log('failed to get value for key "' + key + '" from localStorage.');
                }
            }
        }
    };
    f.applyReplacement = applyReplacement;
    var _rules = [ [ "ach", "Acholi", [ 1, 2 ], 1 ], [ "af", "Afrikaans", [ 1, 2 ], 2 ], [ "ak", "Akan", [ 1, 2 ], 1 ], [ "am", "Amharic", [ 1, 2 ], 1 ], [ "an", "Aragonese", [ 1, 2 ], 2 ], [ "ar", "Arabic", [ 0, 1, 2, 3, 11, 100 ], 5 ], [ "arn", "Mapudungun", [ 1, 2 ], 1 ], [ "ast", "Asturian", [ 1, 2 ], 2 ], [ "ay", "Aymar", [ 1 ], 3 ], [ "az", "Azerbaijani", [ 1, 2 ], 2 ], [ "be", "Belarusian", [ 1, 2, 5 ], 4 ], [ "bg", "Bulgarian", [ 1, 2 ], 2 ], [ "bn", "Bengali", [ 1, 2 ], 2 ], [ "bo", "Tibetan", [ 1 ], 3 ], [ "br", "Breton", [ 1, 2 ], 1 ], [ "bs", "Bosnian", [ 1, 2, 5 ], 4 ], [ "ca", "Catalan", [ 1, 2 ], 2 ], [ "cgg", "Chiga", [ 1 ], 3 ], [ "cs", "Czech", [ 1, 2, 5 ], 6 ], [ "csb", "Kashubian", [ 1, 2, 5 ], 7 ], [ "cy", "Welsh", [ 1, 2, 3, 8 ], 8 ], [ "da", "Danish", [ 1, 2 ], 2 ], [ "de", "German", [ 1, 2 ], 2 ], [ "dev", "Development Fallback", [ 1, 2 ], 2 ], [ "dz", "Dzongkha", [ 1 ], 3 ], [ "el", "Greek", [ 1, 2 ], 2 ], [ "en", "English", [ 1, 2 ], 2 ], [ "eo", "Esperanto", [ 1, 2 ], 2 ], [ "es", "Spanish", [ 1, 2 ], 2 ], [ "es_ar", "Argentinean Spanish", [ 1, 2 ], 2 ], [ "et", "Estonian", [ 1, 2 ], 2 ], [ "eu", "Basque", [ 1, 2 ], 2 ], [ "fa", "Persian", [ 1 ], 3 ], [ "fi", "Finnish", [ 1, 2 ], 2 ], [ "fil", "Filipino", [ 1, 2 ], 1 ], [ "fo", "Faroese", [ 1, 2 ], 2 ], [ "fr", "French", [ 1, 2 ], 9 ], [ "fur", "Friulian", [ 1, 2 ], 2 ], [ "fy", "Frisian", [ 1, 2 ], 2 ], [ "ga", "Irish", [ 1, 2, 3, 7, 11 ], 10 ], [ "gd", "Scottish Gaelic", [ 1, 2, 3, 20 ], 11 ], [ "gl", "Galician", [ 1, 2 ], 2 ], [ "gu", "Gujarati", [ 1, 2 ], 2 ], [ "gun", "Gun", [ 1, 2 ], 1 ], [ "ha", "Hausa", [ 1, 2 ], 2 ], [ "he", "Hebrew", [ 1, 2 ], 2 ], [ "hi", "Hindi", [ 1, 2 ], 2 ], [ "hr", "Croatian", [ 1, 2, 5 ], 4 ], [ "hu", "Hungarian", [ 1, 2 ], 2 ], [ "hy", "Armenian", [ 1, 2 ], 2 ], [ "ia", "Interlingua", [ 1, 2 ], 2 ], [ "id", "Indonesian", [ 1 ], 3 ], [ "is", "Icelandic", [ 1, 2 ], 12 ], [ "it", "Italian", [ 1, 2 ], 2 ], [ "ja", "Japanese", [ 1 ], 3 ], [ "jbo", "Lojban", [ 1 ], 3 ], [ "jv", "Javanese", [ 0, 1 ], 13 ], [ "ka", "Georgian", [ 1 ], 3 ], [ "kk", "Kazakh", [ 1 ], 3 ], [ "km", "Khmer", [ 1 ], 3 ], [ "kn", "Kannada", [ 1, 2 ], 2 ], [ "ko", "Korean", [ 1 ], 3 ], [ "ku", "Kurdish", [ 1, 2 ], 2 ], [ "kw", "Cornish", [ 1, 2, 3, 4 ], 14 ], [ "ky", "Kyrgyz", [ 1 ], 3 ], [ "lb", "Letzeburgesch", [ 1, 2 ], 2 ], [ "ln", "Lingala", [ 1, 2 ], 1 ], [ "lo", "Lao", [ 1 ], 3 ], [ "lt", "Lithuanian", [ 1, 2, 10 ], 15 ], [ "lv", "Latvian", [ 1, 2, 0 ], 16 ], [ "mai", "Maithili", [ 1, 2 ], 2 ], [ "mfe", "Mauritian Creole", [ 1, 2 ], 1 ], [ "mg", "Malagasy", [ 1, 2 ], 1 ], [ "mi", "Maori", [ 1, 2 ], 1 ], [ "mk", "Macedonian", [ 1, 2 ], 17 ], [ "ml", "Malayalam", [ 1, 2 ], 2 ], [ "mn", "Mongolian", [ 1, 2 ], 2 ], [ "mnk", "Mandinka", [ 0, 1, 2 ], 18 ], [ "mr", "Marathi", [ 1, 2 ], 2 ], [ "ms", "Malay", [ 1 ], 3 ], [ "mt", "Maltese", [ 1, 2, 11, 20 ], 19 ], [ "nah", "Nahuatl", [ 1, 2 ], 2 ], [ "nap", "Neapolitan", [ 1, 2 ], 2 ], [ "nb", "Norwegian Bokmal", [ 1, 2 ], 2 ], [ "ne", "Nepali", [ 1, 2 ], 2 ], [ "nl", "Dutch", [ 1, 2 ], 2 ], [ "nn", "Norwegian Nynorsk", [ 1, 2 ], 2 ], [ "no", "Norwegian", [ 1, 2 ], 2 ], [ "nso", "Northern Sotho", [ 1, 2 ], 2 ], [ "oc", "Occitan", [ 1, 2 ], 1 ], [ "or", "Oriya", [ 2, 1 ], 2 ], [ "pa", "Punjabi", [ 1, 2 ], 2 ], [ "pap", "Papiamento", [ 1, 2 ], 2 ], [ "pl", "Polish", [ 1, 2, 5 ], 7 ], [ "pms", "Piemontese", [ 1, 2 ], 2 ], [ "ps", "Pashto", [ 1, 2 ], 2 ], [ "pt", "Portuguese", [ 1, 2 ], 2 ], [ "pt_br", "Brazilian Portuguese", [ 1, 2 ], 2 ], [ "rm", "Romansh", [ 1, 2 ], 2 ], [ "ro", "Romanian", [ 1, 2, 20 ], 20 ], [ "ru", "Russian", [ 1, 2, 5 ], 4 ], [ "sah", "Yakut", [ 1 ], 3 ], [ "sco", "Scots", [ 1, 2 ], 2 ], [ "se", "Northern Sami", [ 1, 2 ], 2 ], [ "si", "Sinhala", [ 1, 2 ], 2 ], [ "sk", "Slovak", [ 1, 2, 5 ], 6 ], [ "sl", "Slovenian", [ 5, 1, 2, 3 ], 21 ], [ "so", "Somali", [ 1, 2 ], 2 ], [ "son", "Songhay", [ 1, 2 ], 2 ], [ "sq", "Albanian", [ 1, 2 ], 2 ], [ "sr", "Serbian", [ 1, 2, 5 ], 4 ], [ "su", "Sundanese", [ 1 ], 3 ], [ "sv", "Swedish", [ 1, 2 ], 2 ], [ "sw", "Swahili", [ 1, 2 ], 2 ], [ "ta", "Tamil", [ 1, 2 ], 2 ], [ "te", "Telugu", [ 1, 2 ], 2 ], [ "tg", "Tajik", [ 1, 2 ], 1 ], [ "th", "Thai", [ 1 ], 3 ], [ "ti", "Tigrinya", [ 1, 2 ], 1 ], [ "tk", "Turkmen", [ 1, 2 ], 2 ], [ "tr", "Turkish", [ 1, 2 ], 1 ], [ "tt", "Tatar", [ 1 ], 3 ], [ "ug", "Uyghur", [ 1 ], 3 ], [ "uk", "Ukrainian", [ 1, 2, 5 ], 4 ], [ "ur", "Urdu", [ 1, 2 ], 2 ], [ "uz", "Uzbek", [ 1, 2 ], 1 ], [ "vi", "Vietnamese", [ 1 ], 3 ], [ "wa", "Walloon", [ 1, 2 ], 1 ], [ "wo", "Wolof", [ 1 ], 3 ], [ "yo", "Yoruba", [ 1, 2 ], 2 ], [ "zh", "Chinese", [ 1 ], 3 ] ], _rulesPluralsTypes = {
        1: function(n) {
            return Number(n > 1);
        },
        2: function(n) {
            return Number(1 != n);
        },
        3: function(n) {
            return 0;
        },
        4: function(n) {
            return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
        },
        5: function(n) {
            return Number(0 === n ? 0 : 1 == n ? 1 : 2 == n ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
        },
        6: function(n) {
            return Number(1 == n ? 0 : n >= 2 && n <= 4 ? 1 : 2);
        },
        7: function(n) {
            return Number(1 == n ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
        },
        8: function(n) {
            return Number(1 == n ? 0 : 2 == n ? 1 : 8 != n && 11 != n ? 2 : 3);
        },
        9: function(n) {
            return Number(n >= 2);
        },
        10: function(n) {
            return Number(1 == n ? 0 : 2 == n ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
        },
        11: function(n) {
            return Number(1 == n || 11 == n ? 0 : 2 == n || 12 == n ? 1 : n > 2 && n < 20 ? 2 : 3);
        },
        12: function(n) {
            return Number(n % 10 != 1 || n % 100 == 11);
        },
        13: function(n) {
            return Number(0 !== n);
        },
        14: function(n) {
            return Number(1 == n ? 0 : 2 == n ? 1 : 3 == n ? 2 : 3);
        },
        15: function(n) {
            return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
        },
        16: function(n) {
            return Number(n % 10 == 1 && n % 100 != 11 ? 0 : 0 !== n ? 1 : 2);
        },
        17: function(n) {
            return Number(1 == n || n % 10 == 1 ? 0 : 1);
        },
        18: function(n) {
            return Number(1 == n ? 1 : 2);
        },
        19: function(n) {
            return Number(1 == n ? 0 : 0 === n || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
        },
        20: function(n) {
            return Number(1 == n ? 0 : 0 === n || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
        },
        21: function(n) {
            return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
        }
    }, pluralExtensions = {
        rules: function() {
            var l, rules = {};
            for (l = _rules.length; l--; ) rules[_rules[l][0]] = {
                name: _rules[l][1],
                numbers: _rules[l][2],
                plurals: _rulesPluralsTypes[_rules[l][3]]
            };
            return rules;
        }(),
        addRule: function(lng, obj) {
            pluralExtensions.rules[lng] = obj;
        },
        setCurrentLng: function(lng) {
            if (!pluralExtensions.currentRule || pluralExtensions.currentRule.lng !== lng) {
                var parts = lng.split("-");
                pluralExtensions.currentRule = {
                    lng: lng,
                    rule: pluralExtensions.rules[parts[0]]
                };
            }
        },
        needsPlural: function(lng, count) {
            var ext, parts = lng.split("-");
            return ext = pluralExtensions.currentRule && pluralExtensions.currentRule.lng === lng ? pluralExtensions.currentRule.rule : pluralExtensions.rules[parts[f.getCountyIndexOfLng(lng)]], 
            !(ext && ext.numbers.length <= 1) && 1 !== this.get(lng, count);
        },
        get: function(lng, count) {
            function getResult(l, c) {
                var ext;
                if (ext = pluralExtensions.currentRule && pluralExtensions.currentRule.lng === lng ? pluralExtensions.currentRule.rule : pluralExtensions.rules[l]) {
                    var i;
                    i = ext.noAbs ? ext.plurals(c) : ext.plurals(Math.abs(c));
                    var number = ext.numbers[i];
                    return 2 === ext.numbers.length && 1 === ext.numbers[0] && (2 === number ? number = -1 : 1 === number && (number = 1)), 
                    number;
                }
                return 1 === c ? "1" : "-1";
            }
            var parts = lng.split("-");
            return getResult(parts[f.getCountyIndexOfLng(lng)], count);
        }
    }, postProcessors = {}, addPostProcessor = function(name, fc) {
        postProcessors[name] = fc;
    }, sprintf = function() {
        function get_type(variable) {
            return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
        }
        function str_repeat(input, multiplier) {
            for (var output = []; multiplier > 0; output[--multiplier] = input) ;
            return output.join("");
        }
        var str_format = function() {
            return str_format.cache.hasOwnProperty(arguments[0]) || (str_format.cache[arguments[0]] = str_format.parse(arguments[0])), 
            str_format.format.call(null, str_format.cache[arguments[0]], arguments);
        };
        return str_format.format = function(parse_tree, argv) {
            var arg, i, k, match, pad, pad_character, pad_length, cursor = 1, tree_length = parse_tree.length, node_type = "", output = [];
            for (i = 0; i < tree_length; i++) if (node_type = get_type(parse_tree[i]), "string" === node_type) output.push(parse_tree[i]); else if ("array" === node_type) {
                if (match = parse_tree[i], match[2]) for (arg = argv[cursor], k = 0; k < match[2].length; k++) {
                    if (!arg.hasOwnProperty(match[2][k])) throw sprintf('[sprintf] property "%s" does not exist', match[2][k]);
                    arg = arg[match[2][k]];
                } else arg = match[1] ? argv[match[1]] : argv[cursor++];
                if (/[^s]/.test(match[8]) && "number" != get_type(arg)) throw sprintf("[sprintf] expecting number but found %s", get_type(arg));
                switch (match[8]) {
                  case "b":
                    arg = arg.toString(2);
                    break;

                  case "c":
                    arg = String.fromCharCode(arg);
                    break;

                  case "d":
                    arg = parseInt(arg, 10);
                    break;

                  case "e":
                    arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential();
                    break;

                  case "f":
                    arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg);
                    break;

                  case "o":
                    arg = arg.toString(8);
                    break;

                  case "s":
                    arg = (arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg;
                    break;

                  case "u":
                    arg = Math.abs(arg);
                    break;

                  case "x":
                    arg = arg.toString(16);
                    break;

                  case "X":
                    arg = arg.toString(16).toUpperCase();
                }
                arg = /[def]/.test(match[8]) && match[3] && arg >= 0 ? "+" + arg : arg, pad_character = match[4] ? "0" == match[4] ? "0" : match[4].charAt(1) : " ", 
                pad_length = match[6] - String(arg).length, pad = match[6] ? str_repeat(pad_character, pad_length) : "", 
                output.push(match[5] ? arg + pad : pad + arg);
            }
            return output.join("");
        }, str_format.cache = {}, str_format.parse = function(fmt) {
            for (var _fmt = fmt, match = [], parse_tree = [], arg_names = 0; _fmt; ) {
                if (null !== (match = /^[^\x25]+/.exec(_fmt))) parse_tree.push(match[0]); else if (null !== (match = /^\x25{2}/.exec(_fmt))) parse_tree.push("%"); else {
                    if (null === (match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt))) throw "[sprintf] huh?";
                    if (match[2]) {
                        arg_names |= 1;
                        var field_list = [], replacement_field = match[2], field_match = [];
                        if (null === (field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field))) throw "[sprintf] huh?";
                        for (field_list.push(field_match[1]); "" !== (replacement_field = replacement_field.substring(field_match[0].length)); ) if (null !== (field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field))) field_list.push(field_match[1]); else {
                            if (null === (field_match = /^\[(\d+)\]/.exec(replacement_field))) throw "[sprintf] huh?";
                            field_list.push(field_match[1]);
                        }
                        match[2] = field_list;
                    } else arg_names |= 2;
                    if (3 === arg_names) throw "[sprintf] mixing positional and named placeholders is not (yet) supported";
                    parse_tree.push(match);
                }
                _fmt = _fmt.substring(match[0].length);
            }
            return parse_tree;
        }, str_format;
    }(), vsprintf = function(fmt, argv) {
        return argv.unshift(fmt), sprintf.apply(null, argv);
    };
    addPostProcessor("sprintf", function(val, key, opts) {
        return opts.sprintf ? "[object Array]" === Object.prototype.toString.apply(opts.sprintf) ? vsprintf(val, opts.sprintf) : "object" == typeof opts.sprintf ? sprintf(val, opts.sprintf) : val : val;
    }), i18n.init = init, i18n.isInitialized = isInitialized, i18n.setLng = setLng, 
    i18n.preload = preload, i18n.addResourceBundle = addResourceBundle, i18n.hasResourceBundle = hasResourceBundle, 
    i18n.getResourceBundle = getResourceBundle, i18n.addResource = addResource, i18n.addResources = addResources, 
    i18n.removeResourceBundle = removeResourceBundle, i18n.loadNamespace = loadNamespace, 
    i18n.loadNamespaces = loadNamespaces, i18n.setDefaultNamespace = setDefaultNamespace, 
    i18n.t = translate, i18n.translate = translate, i18n.exists = exists, i18n.detectLanguage = f.detectLanguage, 
    i18n.pluralExtensions = pluralExtensions, i18n.sync = sync, i18n.functions = f, 
    i18n.lng = lng, i18n.addPostProcessor = addPostProcessor, i18n.applyReplacement = f.applyReplacement, 
    i18n.options = o, i18n.noConflict = noConflict;
}("undefined" == typeof exports ? window : exports), angular.module("jm.i18next", [ "ng", "ngSanitize" ]), 
angular.module("jm.i18next").provider("$i18next", function() {
    "use strict";
    var self = this, t = null, translations = {}, globalOptions = {}, triesToLoadI18next = 0;
    self.options = globalOptions, self.$get = [ "$rootScope", "$timeout", "$q", function($rootScope, $timeout, $q) {
        function init(options) {
            options.noConflict && window.i18n && window.i18n.noConflict();
            var i18n = window.i18next || window.i18n;
            if (i18n) return i18nDeferred = $q.defer(), i18n.init(options, function(localize) {
                translations = {}, t = localize, $rootScope.$$phase || $rootScope.$digest(), $rootScope.$broadcast("i18nextLanguageChange", i18n.lng()), 
                i18nDeferred.resolve();
            }), i18nDeferred.promise;
            if (triesToLoadI18next++, !(triesToLoadI18next < 5)) throw new Error("[ng-i18next] Can't find i18next!");
            $timeout(function() {
                return init(options);
            }, 400);
        }
        function optionsChange(newOptions, oldOptions) {
            return $i18nextTanslate.debugMsg.push([ "i18next options changed:", oldOptions, newOptions ]), 
            globalOptions = newOptions, init(globalOptions);
        }
        function translate(key, options, hasOwnOptions) {
            var lng = options.lng || "auto";
            translations[lng] || (translations[lng] = {}), t ? translations[lng][key] && !hasOwnOptions || (translations[lng][key] = t(key, options)) : translations[lng][key] = "defaultLoadingValue" in options ? options.defaultLoadingValue : "defaultValue" in options ? options.defaultValue : "defaultLoadingValue" in globalOptions ? globalOptions.defaultLoadingValue : key;
        }
        function $i18nextTanslate(key, options) {
            var mergedOptions, lng, hasOwnOptions = !!options, hasOwnNsOption = hasOwnOptions && options.ns, hasGlobalNsObj = globalOptions && globalOptions.ns, defaultOptions = globalOptions;
            return !hasOwnNsOption && hasGlobalNsObj && (defaultOptions = angular.copy(globalOptions), 
            defaultOptions.ns = defaultOptions.ns.defaultNs), mergedOptions = hasOwnOptions ? angular.extend({}, defaultOptions, options) : defaultOptions, 
            lng = mergedOptions.lng, translate(key, mergedOptions, hasOwnOptions), lng ? translations[lng][key] : translations.auto[key];
        }
        var i18nDeferred;
        return $i18nextTanslate.debugMsg = [], $i18nextTanslate.options = self.options, 
        self.options !== globalOptions && optionsChange(self.options, globalOptions), $i18nextTanslate.reInit = function() {
            return optionsChange(globalOptions, globalOptions);
        }, $rootScope.$watch(function() {
            return $i18nextTanslate.options;
        }, function(newOptions, oldOptions) {
            !newOptions || oldOptions === newOptions && globalOptions === newOptions || optionsChange(newOptions, oldOptions);
        }, !0), $i18nextTanslate;
    } ];
}), angular.module("jm.i18next").directive("ngI18next", [ "$i18next", "$compile", "$parse", "$interpolate", "$sanitize", function($i18next, $compile, $parse, $interpolate, $sanitize) {
    "use strict";
    function parseOptions(options) {
        var res = {
            attr: "text"
        };
        options = options.split(":");
        for (var i = 0; i < options.length; ++i) "i18next" === options[i] ? res[options[i]] = !0 : res.attr = options[i];
        return res;
    }
    function parseKey(key) {
        var tmp, options = {
            attr: "text"
        }, i18nOptions = "{}";
        return key = key.trim(), 0 === key.indexOf("[") && (tmp = key.split("]"), options = parseOptions(tmp.shift().substr(1).trim()), 
        key = tmp.join("]")), options.i18next && 0 === key.indexOf("(") && key.indexOf(")") >= 0 && (tmp = key.split(")"), 
        key = tmp.pop().trim(), i18nOptions = tmp.join(")").substr(1).trim()), {
            key: key,
            options: options,
            i18nOptions: $parse(i18nOptions)
        };
    }
    function I18nextCtrl($scope, $element) {
        function parse(key, noWatch) {
            function render(i18nOptions) {
                i18nOptions.sprintf && (i18nOptions.postProcess = "sprintf"), "html" === parsedKey.options.attr && angular.forEach(i18nOptions, function(value, key) {
                    i18nOptions[key] = $sanitize(value);
                });
                var string = $i18next(parsedKey.key, i18nOptions);
                if ("html" === parsedKey.options.attr) return $element.empty().append(string), void $compile($element.contents())($scope);
                stringUnregister && stringUnregister();
                var insertText = $element.text.bind($element);
                "text" !== parsedKey.options.attr && (insertText = $element.attr.bind($element, parsedKey.options.attr)), 
                string = $interpolate(string), noWatch || (stringUnregister = $scope.$watch(string, insertText)), 
                insertText(string($scope));
            }
            var parsedKey = parseKey(key);
            argsUnregister && argsUnregister(), stringUnregister && stringUnregister(), noWatch || (argsUnregister = $scope.$watch(parsedKey.i18nOptions, render, !0)), 
            render(parsedKey.i18nOptions($scope));
        }
        var argsUnregister, stringUnregister;
        this.localize = function(key, noWatch) {
            for (var keys = key.split(";"), i = 0; i < keys.length; ++i) key = keys[i].trim(), 
            "" !== key && parse(key, noWatch);
        };
    }
    return {
        restrict: "A",
        scope: !1,
        controller: [ "$scope", "$element", I18nextCtrl ],
        require: "ngI18next",
        link: function(scope, element, attrs, ctrl) {
            function observe(value) {
                return translationValue = value.replace(/^\s+|\s+$/g, ""), "" === translationValue ? setupWatcher() : void ctrl.localize(translationValue);
            }
            function setupWatcher() {
                if (!setupWatcher.done) {
                    var interpolation = $interpolate(element.html());
                    scope.$watch(interpolation, observe), setupWatcher.done = !0;
                }
            }
            var translationValue = "";
            translationValue = attrs.ngI18next.replace(/^\s+|\s+$/g, ""), translationValue.indexOf("__once__") < 0 ? attrs.$observe("ngI18next", observe) : (translationValue = translationValue.split("__once__").join(""), 
            ctrl.localize(translationValue, !0)), scope.$on("i18nextLanguageChange", function() {
                ctrl.localize(translationValue);
            });
        }
    };
} ]), angular.module("jm.i18next").directive("boI18next", [ "$i18next", "$compile", function($i18next, $compile) {
    "use strict";
    return {
        restrict: "A",
        scope: !1,
        link: function(scope, element, attrs) {
            var newElement = element.clone();
            newElement.attr("ng-i18next", "__once__" + attrs.boI18next), newElement.removeAttr("bo-i18next"), 
            element.replaceWith($compile(newElement)(scope));
        }
    };
} ]), angular.module("jm.i18next").filter("i18next", [ "$i18next", function($i18next) {
    "use strict";
    function i18nextFilter(string, options) {
        return $i18next(string, options);
    }
    return i18nextFilter.$stateful = !0, i18nextFilter;
} ]), angular.module("dndLists", []).directive("dndDraggable", [ "$parse", "$timeout", "dndDropEffectWorkaround", "dndDragTypeWorkaround", function($parse, $timeout, dndDropEffectWorkaround, dndDragTypeWorkaround) {
    return function(scope, element, attr) {
        element.attr("draggable", "true"), attr.dndDisableIf && scope.$watch(attr.dndDisableIf, function(disabled) {
            element.attr("draggable", !disabled);
        }), element.on("dragstart", function(event) {
            event = event.originalEvent || event, event.dataTransfer.setData("Text", angular.toJson(scope.$eval(attr.dndDraggable))), 
            event.dataTransfer.effectAllowed = attr.dndEffectAllowed || "move", element.addClass("dndDragging"), 
            $timeout(function() {
                element.addClass("dndDraggingSource");
            }, 0), dndDropEffectWorkaround.dropEffect = "none", dndDragTypeWorkaround.isDragging = !0, 
            dndDragTypeWorkaround.dragType = attr.dndType ? scope.$eval(attr.dndType) : void 0, 
            $parse(attr.dndDragstart)(scope, {
                event: event
            }), event.stopPropagation();
        }), element.on("dragend", function(event) {
            event = event.originalEvent || event;
            var dropEffect = dndDropEffectWorkaround.dropEffect;
            scope.$apply(function() {
                switch (dropEffect) {
                  case "move":
                    $parse(attr.dndMoved)(scope, {
                        event: event
                    });
                    break;

                  case "copy":
                    $parse(attr.dndCopied)(scope, {
                        event: event
                    });
                }
            }), element.removeClass("dndDragging"), element.removeClass("dndDraggingSource"), 
            dndDragTypeWorkaround.isDragging = !1, event.stopPropagation();
        }), element.on("click", function(event) {
            event = event.originalEvent || event, scope.$apply(function() {
                $parse(attr.dndSelected)(scope, {
                    event: event
                });
            }), event.stopPropagation();
        }), element.on("selectstart", function() {
            return this.dragDrop && this.dragDrop(), !1;
        });
    };
} ]).directive("dndList", [ "$parse", "$timeout", "dndDropEffectWorkaround", "dndDragTypeWorkaround", function($parse, $timeout, dndDropEffectWorkaround, dndDragTypeWorkaround) {
    return function(scope, element, attr) {
        function isMouseInFirstHalf(event, targetNode, relativeToParent) {
            var mousePointer = horizontal ? event.offsetX || event.layerX : event.offsetY || event.layerY, targetSize = horizontal ? targetNode.offsetWidth : targetNode.offsetHeight, targetPosition = horizontal ? targetNode.offsetLeft : targetNode.offsetTop;
            return targetPosition = relativeToParent ? targetPosition : 0, mousePointer < targetPosition + targetSize / 2;
        }
        function getPlaceholderIndex() {
            return Array.prototype.indexOf.call(listNode.children, placeholderNode);
        }
        function isDropAllowed(event) {
            if (!dndDragTypeWorkaround.isDragging && !externalSources) return !1;
            if (!hasTextMimetype(event.dataTransfer.types)) return !1;
            if (attr.dndAllowedTypes && dndDragTypeWorkaround.isDragging) {
                var allowed = scope.$eval(attr.dndAllowedTypes);
                if (angular.isArray(allowed) && allowed.indexOf(dndDragTypeWorkaround.dragType) === -1) return !1;
            }
            return !attr.dndDisableIf || !scope.$eval(attr.dndDisableIf);
        }
        function stopDragover() {
            return placeholder.remove(), element.removeClass("dndDragover"), !0;
        }
        function invokeCallback(expression, event, item) {
            return $parse(expression)(scope, {
                event: event,
                index: getPlaceholderIndex(),
                item: item || void 0,
                external: !dndDragTypeWorkaround.isDragging,
                type: dndDragTypeWorkaround.isDragging ? dndDragTypeWorkaround.dragType : void 0
            });
        }
        function hasTextMimetype(types) {
            if (!types) return !0;
            for (var i = 0; i < types.length; i++) if ("Text" === types[i] || "text/plain" === types[i]) return !0;
            return !1;
        }
        var placeholder = angular.element("<li class='dndPlaceholder'></li>"), placeholderNode = placeholder[0], listNode = element[0], horizontal = attr.dndHorizontalList && scope.$eval(attr.dndHorizontalList), externalSources = attr.dndExternalSources && scope.$eval(attr.dndExternalSources);
        element.on("dragover", function(event) {
            if (event = event.originalEvent || event, !isDropAllowed(event)) return !0;
            if (placeholderNode.parentNode != listNode && element.append(placeholder), event.target !== listNode) {
                for (var listItemNode = event.target; listItemNode.parentNode !== listNode && listItemNode.parentNode; ) listItemNode = listItemNode.parentNode;
                listItemNode.parentNode === listNode && listItemNode !== placeholderNode && (isMouseInFirstHalf(event, listItemNode) ? listNode.insertBefore(placeholderNode, listItemNode) : listNode.insertBefore(placeholderNode, listItemNode.nextSibling));
            } else if (isMouseInFirstHalf(event, placeholderNode, !0)) for (;placeholderNode.previousElementSibling && (isMouseInFirstHalf(event, placeholderNode.previousElementSibling, !0) || 0 === placeholderNode.previousElementSibling.offsetHeight); ) listNode.insertBefore(placeholderNode, placeholderNode.previousElementSibling); else for (;placeholderNode.nextElementSibling && !isMouseInFirstHalf(event, placeholderNode.nextElementSibling, !0); ) listNode.insertBefore(placeholderNode, placeholderNode.nextElementSibling.nextElementSibling);
            return attr.dndDragover && !invokeCallback(attr.dndDragover, event) ? stopDragover() : (element.addClass("dndDragover"), 
            event.preventDefault(), event.stopPropagation(), !1);
        }), element.on("drop", function(event) {
            if (event = event.originalEvent || event, !isDropAllowed(event)) return !0;
            event.preventDefault();
            var transferredObject, data = event.dataTransfer.getData("Text") || event.dataTransfer.getData("text/plain");
            try {
                transferredObject = JSON.parse(data);
            } catch (e) {
                return stopDragover();
            }
            if (attr.dndDrop && (transferredObject = invokeCallback(attr.dndDrop, event, transferredObject), 
            !transferredObject)) return stopDragover();
            var targetArray = scope.$eval(attr.dndList);
            return scope.$apply(function() {
                targetArray.splice(getPlaceholderIndex(), 0, transferredObject);
            }), "none" === event.dataTransfer.dropEffect ? "copy" === event.dataTransfer.effectAllowed || "move" === event.dataTransfer.effectAllowed ? dndDropEffectWorkaround.dropEffect = event.dataTransfer.effectAllowed : dndDropEffectWorkaround.dropEffect = event.ctrlKey ? "copy" : "move" : dndDropEffectWorkaround.dropEffect = event.dataTransfer.dropEffect, 
            stopDragover(), event.stopPropagation(), !1;
        }), element.on("dragleave", function(event) {
            event = event.originalEvent || event, element.removeClass("dndDragover"), $timeout(function() {
                element.hasClass("dndDragover") || placeholder.remove();
            }, 100);
        });
    };
} ]).factory("dndDragTypeWorkaround", function() {
    return {};
}).factory("dndDropEffectWorkaround", function() {
    return {};
});

var mod;

mod = angular.module("infinite-scroll", []), mod.value("THROTTLE_MILLISECONDS", null), 
mod.directive("infiniteScroll", [ "$rootScope", "$window", "$interval", "THROTTLE_MILLISECONDS", function(a, b, c, d) {
    return {
        scope: {
            infiniteScroll: "&",
            infiniteScrollContainer: "=",
            infiniteScrollDistance: "=",
            infiniteScrollDisabled: "=",
            infiniteScrollUseDocumentBottom: "="
        },
        link: function(e, f, g) {
            var h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x;
            return x = angular.element(b), t = null, u = null, i = null, j = null, q = !0, w = !1, 
            p = function(a) {
                return a = a[0] || a, isNaN(a.offsetHeight) ? a.document.documentElement.clientHeight : a.offsetHeight;
            }, r = function(a) {
                return a[0].getBoundingClientRect && !a.css("none") ? a[0].getBoundingClientRect().top + s(a) : void 0;
            }, s = function(a) {
                return a = a[0] || a, isNaN(window.pageYOffset) ? a.document.documentElement.scrollTop : a.ownerDocument.defaultView.pageYOffset;
            }, o = function() {
                var b, c, d, g, h;
                return j === x ? (b = p(j) + s(j[0].document.documentElement), d = r(f) + p(f)) : (b = p(j), 
                c = 0, void 0 !== r(j) && (c = r(j)), d = r(f) - c + p(f)), w && (d = p((f[0].ownerDocument || f[0].document).documentElement)), 
                g = d - b, h = g <= p(j) * t + 1, h ? (i = !0, u ? e.$$phase || a.$$phase ? e.infiniteScroll() : e.$apply(e.infiniteScroll) : void 0) : i = !1;
            }, v = function(a, b) {
                var d, e, f;
                return f = null, e = 0, d = function() {
                    var b;
                    return e = new Date().getTime(), c.cancel(f), f = null, a.call(), b = null;
                }, function() {
                    var g, h;
                    return g = new Date().getTime(), h = b - (g - e), 0 >= h ? (clearTimeout(f), c.cancel(f), 
                    f = null, e = g, a.call()) : f ? void 0 : f = c(d, h, 1);
                };
            }, null != d && (o = v(o, d)), e.$on("$destroy", function() {
                return j.unbind("scroll", o);
            }), m = function(a) {
                return t = parseFloat(a) || 0;
            }, e.$watch("infiniteScrollDistance", m), m(e.infiniteScrollDistance), l = function(a) {
                return u = !a, u && i ? (i = !1, o()) : void 0;
            }, e.$watch("infiniteScrollDisabled", l), l(e.infiniteScrollDisabled), n = function(a) {
                return w = a;
            }, e.$watch("infiniteScrollUseDocumentBottom", n), n(e.infiniteScrollUseDocumentBottom), 
            h = function(a) {
                return null != j && j.unbind("scroll", o), j = a, null != a ? j.bind("scroll", o) : void 0;
            }, h(x), k = function(a) {
                if (null != a && 0 !== a.length) {
                    if (a instanceof HTMLElement ? a = angular.element(a) : "function" == typeof a.append ? a = angular.element(a[a.length - 1]) : "string" == typeof a && (a = angular.element(document.querySelector(a))), 
                    null != a) return h(a);
                    throw new Exception("invalid infinite-scroll-container attribute.");
                }
            }, e.$watch("infiniteScrollContainer", k), k(e.infiniteScrollContainer || []), null != g.infiniteScrollParent && h(angular.element(f.parent())), 
            null != g.infiniteScrollImmediateCheck && (q = e.$eval(g.infiniteScrollImmediateCheck)), 
            c(function() {
                return q ? o() : void 0;
            }, 0, 1);
        }
    };
} ]), !function(e) {
    "use strict";
    function t(t, r) {
        if (r = r || {}, r.worker && S.WORKERS_SUPPORTED) {
            var n = f();
            return n.userStep = r.step, n.userChunk = r.chunk, n.userComplete = r.complete, 
            n.userError = r.error, r.step = m(r.step), r.chunk = m(r.chunk), r.complete = m(r.complete), 
            r.error = m(r.error), delete r.worker, void n.postMessage({
                input: t,
                config: r,
                workerId: n.id
            });
        }
        var o = null;
        return "string" == typeof t ? o = r.download ? new i(r) : new a(r) : (e.File && t instanceof File || t instanceof Object) && (o = new s(r)), 
        o.stream(t);
    }
    function r(e, t) {
        function r() {
            "object" == typeof t && ("string" == typeof t.delimiter && 1 == t.delimiter.length && -1 == S.BAD_DELIMITERS.indexOf(t.delimiter) && (u = t.delimiter), 
            ("boolean" == typeof t.quotes || t.quotes instanceof Array) && (o = t.quotes), "string" == typeof t.newline && (h = t.newline));
        }
        function n(e) {
            if ("object" != typeof e) return [];
            var t = [];
            for (var r in e) t.push(r);
            return t;
        }
        function i(e, t) {
            var r = "";
            "string" == typeof e && (e = JSON.parse(e)), "string" == typeof t && (t = JSON.parse(t));
            var n = e instanceof Array && e.length > 0, i = !(t[0] instanceof Array);
            if (n) {
                for (var a = 0; a < e.length; a++) a > 0 && (r += u), r += s(e[a], a);
                t.length > 0 && (r += h);
            }
            for (var o = 0; o < t.length; o++) {
                for (var f = n ? e.length : t[o].length, c = 0; f > c; c++) {
                    c > 0 && (r += u);
                    var d = n && i ? e[c] : c;
                    r += s(t[o][d], c);
                }
                o < t.length - 1 && (r += h);
            }
            return r;
        }
        function s(e, t) {
            if ("undefined" == typeof e || null === e) return "";
            e = e.toString().replace(/"/g, '""');
            var r = "boolean" == typeof o && o || o instanceof Array && o[t] || a(e, S.BAD_DELIMITERS) || e.indexOf(u) > -1 || " " == e.charAt(0) || " " == e.charAt(e.length - 1);
            return r ? '"' + e + '"' : e;
        }
        function a(e, t) {
            for (var r = 0; r < t.length; r++) if (e.indexOf(t[r]) > -1) return !0;
            return !1;
        }
        var o = !1, u = ",", h = "\r\n";
        if (r(), "string" == typeof e && (e = JSON.parse(e)), e instanceof Array) {
            if (!e.length || e[0] instanceof Array) return i(null, e);
            if ("object" == typeof e[0]) return i(n(e[0]), e);
        } else if ("object" == typeof e) return "string" == typeof e.data && (e.data = JSON.parse(e.data)), 
        e.data instanceof Array && (e.fields || (e.fields = e.data[0] instanceof Array ? e.fields : n(e.data[0])), 
        e.data[0] instanceof Array || "object" == typeof e.data[0] || (e.data = [ e.data ])), 
        i(e.fields || [], e.data || []);
        throw "exception: Unable to serialize unrecognized input";
    }
    function n(t) {
        function r(e) {
            var t = _(e);
            t.chunkSize = parseInt(t.chunkSize), e.step || e.chunk || (t.chunkSize = null), 
            this._handle = new o(t), this._handle.streamer = this, this._config = t;
        }
        this._handle = null, this._paused = !1, this._finished = !1, this._input = null, 
        this._baseIndex = 0, this._partialLine = "", this._rowCount = 0, this._start = 0, 
        this._nextChunk = null, this.isFirstChunk = !0, this._completeResults = {
            data: [],
            errors: [],
            meta: {}
        }, r.call(this, t), this.parseChunk = function(t) {
            if (this.isFirstChunk && m(this._config.beforeFirstChunk)) {
                var r = this._config.beforeFirstChunk(t);
                void 0 !== r && (t = r);
            }
            this.isFirstChunk = !1;
            var n = this._partialLine + t;
            this._partialLine = "";
            var i = this._handle.parse(n, this._baseIndex, !this._finished);
            if (!this._handle.paused() && !this._handle.aborted()) {
                var s = i.meta.cursor;
                this._finished || (this._partialLine = n.substring(s - this._baseIndex), this._baseIndex = s), 
                i && i.data && (this._rowCount += i.data.length);
                var a = this._finished || this._config.preview && this._rowCount >= this._config.preview;
                if (y) e.postMessage({
                    results: i,
                    workerId: S.WORKER_ID,
                    finished: a
                }); else if (m(this._config.chunk)) {
                    if (this._config.chunk(i, this._handle), this._paused) return;
                    i = void 0, this._completeResults = void 0;
                }
                return this._config.step || this._config.chunk || (this._completeResults.data = this._completeResults.data.concat(i.data), 
                this._completeResults.errors = this._completeResults.errors.concat(i.errors), this._completeResults.meta = i.meta), 
                !a || !m(this._config.complete) || i && i.meta.aborted || this._config.complete(this._completeResults), 
                a || i && i.meta.paused || this._nextChunk(), i;
            }
        }, this._sendError = function(t) {
            m(this._config.error) ? this._config.error(t) : y && this._config.error && e.postMessage({
                workerId: S.WORKER_ID,
                error: t,
                finished: !1
            });
        };
    }
    function i(e) {
        function t(e) {
            var t = e.getResponseHeader("Content-Range");
            return parseInt(t.substr(t.lastIndexOf("/") + 1));
        }
        e = e || {}, e.chunkSize || (e.chunkSize = S.RemoteChunkSize), n.call(this, e);
        var r;
        this._nextChunk = k ? function() {
            this._readChunk(), this._chunkLoaded();
        } : function() {
            this._readChunk();
        }, this.stream = function(e) {
            this._input = e, this._nextChunk();
        }, this._readChunk = function() {
            if (this._finished) return void this._chunkLoaded();
            if (r = new XMLHttpRequest(), k || (r.onload = g(this._chunkLoaded, this), r.onerror = g(this._chunkError, this)), 
            r.open("GET", this._input, !k), this._config.chunkSize) {
                var e = this._start + this._config.chunkSize - 1;
                r.setRequestHeader("Range", "bytes=" + this._start + "-" + e), r.setRequestHeader("If-None-Match", "webkit-no-cache");
            }
            try {
                r.send();
            } catch (t) {
                this._chunkError(t.message);
            }
            k && 0 == r.status ? this._chunkError() : this._start += this._config.chunkSize;
        }, this._chunkLoaded = function() {
            if (4 == r.readyState) {
                if (r.status < 200 || r.status >= 400) return void this._chunkError();
                this._finished = !this._config.chunkSize || this._start > t(r), this.parseChunk(r.responseText);
            }
        }, this._chunkError = function(e) {
            var t = r.statusText || e;
            this._sendError(t);
        };
    }
    function s(e) {
        e = e || {}, e.chunkSize || (e.chunkSize = S.LocalChunkSize), n.call(this, e);
        var t, r, i = "undefined" != typeof FileReader;
        this.stream = function(e) {
            this._input = e, r = e.slice || e.webkitSlice || e.mozSlice, i ? (t = new FileReader(), 
            t.onload = g(this._chunkLoaded, this), t.onerror = g(this._chunkError, this)) : t = new FileReaderSync(), 
            this._nextChunk();
        }, this._nextChunk = function() {
            this._finished || this._config.preview && !(this._rowCount < this._config.preview) || this._readChunk();
        }, this._readChunk = function() {
            var e = this._input;
            if (this._config.chunkSize) {
                var n = Math.min(this._start + this._config.chunkSize, this._input.size);
                e = r.call(e, this._start, n);
            }
            var s = t.readAsText(e, this._config.encoding);
            i || this._chunkLoaded({
                target: {
                    result: s
                }
            });
        }, this._chunkLoaded = function(e) {
            this._start += this._config.chunkSize, this._finished = !this._config.chunkSize || this._start >= this._input.size, 
            this.parseChunk(e.target.result);
        }, this._chunkError = function() {
            this._sendError(t.error);
        };
    }
    function a(e) {
        e = e || {}, n.call(this, e);
        var t, r;
        this.stream = function(e) {
            return t = e, r = e, this._nextChunk();
        }, this._nextChunk = function() {
            if (!this._finished) {
                var e = this._config.chunkSize, t = e ? r.substr(0, e) : r;
                return r = e ? r.substr(e) : "", this._finished = !r, this.parseChunk(t);
            }
        };
    }
    function o(e) {
        function t() {
            if (b && d && (h("Delimiter", "UndetectableDelimiter", "Unable to auto-detect delimiting character; defaulted to '" + S.DefaultDelimiter + "'"), 
            d = !1), e.skipEmptyLines) for (var t = 0; t < b.data.length; t++) 1 == b.data[t].length && "" == b.data[t][0] && b.data.splice(t--, 1);
            return r() && n(), i();
        }
        function r() {
            return e.header && 0 == y.length;
        }
        function n() {
            if (b) {
                for (var e = 0; r() && e < b.data.length; e++) for (var t = 0; t < b.data[e].length; t++) y.push(b.data[e][t]);
                b.data.splice(0, 1);
            }
        }
        function i() {
            if (!b || !e.header && !e.dynamicTyping) return b;
            for (var t = 0; t < b.data.length; t++) {
                for (var r = {}, n = 0; n < b.data[t].length; n++) {
                    if (e.dynamicTyping) {
                        var i = b.data[t][n];
                        b.data[t][n] = "true" == i || "TRUE" == i || "false" != i && "FALSE" != i && o(i);
                    }
                    e.header && (n >= y.length ? (r.__parsed_extra || (r.__parsed_extra = []), r.__parsed_extra.push(b.data[t][n])) : r[y[n]] = b.data[t][n]);
                }
                e.header && (b.data[t] = r, n > y.length ? h("FieldMismatch", "TooManyFields", "Too many fields: expected " + y.length + " fields but parsed " + n, t) : n < y.length && h("FieldMismatch", "TooFewFields", "Too few fields: expected " + y.length + " fields but parsed " + n, t));
            }
            return e.header && b.meta && (b.meta.fields = y), b;
        }
        function s(t) {
            for (var r, n, i, s = [ ",", "\t", "|", ";", S.RECORD_SEP, S.UNIT_SEP ], a = 0; a < s.length; a++) {
                var o = s[a], h = 0, f = 0;
                i = void 0;
                for (var c = new u({
                    delimiter: o,
                    preview: 10
                }).parse(t), d = 0; d < c.data.length; d++) {
                    var l = c.data[d].length;
                    f += l, "undefined" != typeof i ? l > 1 && (h += Math.abs(l - i), i = l) : i = l;
                }
                c.data.length > 0 && (f /= c.data.length), ("undefined" == typeof n || n > h) && f > 1.99 && (n = h, 
                r = o);
            }
            return e.delimiter = r, {
                successful: !!r,
                bestDelimiter: r
            };
        }
        function a(e) {
            e = e.substr(0, 1048576);
            var t = e.split("\r");
            if (1 == t.length) return "\n";
            for (var r = 0, n = 0; n < t.length; n++) "\n" == t[n][0] && r++;
            return r >= t.length / 2 ? "\r\n" : "\r";
        }
        function o(e) {
            var t = l.test(e);
            return t ? parseFloat(e) : e;
        }
        function h(e, t, r, n) {
            b.errors.push({
                type: e,
                code: t,
                message: r,
                row: n
            });
        }
        var f, c, d, l = /^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i, p = this, g = 0, v = !1, k = !1, y = [], b = {
            data: [],
            errors: [],
            meta: {}
        };
        if (m(e.step)) {
            var R = e.step;
            e.step = function(n) {
                if (b = n, r()) t(); else {
                    if (t(), 0 == b.data.length) return;
                    g += n.data.length, e.preview && g > e.preview ? c.abort() : R(b, p);
                }
            };
        }
        this.parse = function(r, n, i) {
            if (e.newline || (e.newline = a(r)), d = !1, !e.delimiter) {
                var o = s(r);
                o.successful ? e.delimiter = o.bestDelimiter : (d = !0, e.delimiter = S.DefaultDelimiter), 
                b.meta.delimiter = e.delimiter;
            }
            var h = _(e);
            return e.preview && e.header && h.preview++, f = r, c = new u(h), b = c.parse(f, n, i), 
            t(), v ? {
                meta: {
                    paused: !0
                }
            } : b || {
                meta: {
                    paused: !1
                }
            };
        }, this.paused = function() {
            return v;
        }, this.pause = function() {
            v = !0, c.abort(), f = f.substr(c.getCharIndex());
        }, this.resume = function() {
            v = !1, p.streamer.parseChunk(f);
        }, this.aborted = function() {
            return k;
        }, this.abort = function() {
            k = !0, c.abort(), b.meta.aborted = !0, m(e.complete) && e.complete(b), f = "";
        };
    }
    function u(e) {
        e = e || {};
        var t = e.delimiter, r = e.newline, n = e.comments, i = e.step, s = e.preview, a = e.fastMode;
        if (("string" != typeof t || S.BAD_DELIMITERS.indexOf(t) > -1) && (t = ","), n === t) throw "Comment character same as delimiter";
        n === !0 ? n = "#" : ("string" != typeof n || S.BAD_DELIMITERS.indexOf(n) > -1) && (n = !1), 
        "\n" != r && "\r" != r && "\r\n" != r && (r = "\n");
        var o = 0, u = !1;
        this.parse = function(e, h, f) {
            function c(e) {
                b.push(e), S = o;
            }
            function d(t) {
                return f ? p() : ("undefined" == typeof t && (t = e.substr(o)), w.push(t), o = g, 
                c(w), y && _(), p());
            }
            function l(t) {
                o = t, c(w), w = [], O = e.indexOf(r, o);
            }
            function p(e) {
                return {
                    data: b,
                    errors: R,
                    meta: {
                        delimiter: t,
                        linebreak: r,
                        aborted: u,
                        truncated: !!e,
                        cursor: S + (h || 0)
                    }
                };
            }
            function _() {
                i(p()), b = [], R = [];
            }
            if ("string" != typeof e) throw "Input must be a string";
            var g = e.length, m = t.length, v = r.length, k = n.length, y = "function" == typeof i;
            o = 0;
            var b = [], R = [], w = [], S = 0;
            if (!e) return p();
            if (a || a !== !1 && -1 === e.indexOf('"')) {
                for (var C = e.split(r), E = 0; E < C.length; E++) {
                    var w = C[E];
                    if (o += w.length, E !== C.length - 1) o += r.length; else if (f) return p();
                    if (!n || w.substr(0, k) != n) {
                        if (y) {
                            if (b = [], c(w.split(t)), _(), u) return p();
                        } else c(w.split(t));
                        if (s && E >= s) return b = b.slice(0, s), p(!0);
                    }
                }
                return p();
            }
            for (var x = e.indexOf(t, o), O = e.indexOf(r, o); ;) if ('"' != e[o]) if (n && 0 === w.length && e.substr(o, k) === n) {
                if (-1 == O) return p();
                o = O + v, O = e.indexOf(r, o), x = e.indexOf(t, o);
            } else if (-1 !== x && (O > x || -1 === O)) w.push(e.substring(o, x)), o = x + m, 
            x = e.indexOf(t, o); else {
                if (-1 === O) break;
                if (w.push(e.substring(o, O)), l(O + v), y && (_(), u)) return p();
                if (s && b.length >= s) return p(!0);
            } else {
                var I = o;
                for (o++; ;) {
                    var I = e.indexOf('"', I + 1);
                    if (-1 === I) return f || R.push({
                        type: "Quotes",
                        code: "MissingQuotes",
                        message: "Quoted field unterminated",
                        row: b.length,
                        index: o
                    }), d();
                    if (I === g - 1) {
                        var D = e.substring(o, I).replace(/""/g, '"');
                        return d(D);
                    }
                    if ('"' != e[I + 1]) {
                        if (e[I + 1] == t) {
                            w.push(e.substring(o, I).replace(/""/g, '"')), o = I + 1 + m, x = e.indexOf(t, o), 
                            O = e.indexOf(r, o);
                            break;
                        }
                        if (e.substr(I + 1, v) === r) {
                            if (w.push(e.substring(o, I).replace(/""/g, '"')), l(I + 1 + v), x = e.indexOf(t, o), 
                            y && (_(), u)) return p();
                            if (s && b.length >= s) return p(!0);
                            break;
                        }
                    } else I++;
                }
            }
            return d();
        }, this.abort = function() {
            u = !0;
        }, this.getCharIndex = function() {
            return o;
        };
    }
    function h() {
        var e = document.getElementsByTagName("script");
        return e.length ? e[e.length - 1].src : "";
    }
    function f() {
        if (!S.WORKERS_SUPPORTED) return !1;
        if (!b && null === S.SCRIPT_PATH) throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");
        var t = S.SCRIPT_PATH || v;
        t += (-1 !== t.indexOf("?") ? "&" : "?") + "papaworker";
        var r = new e.Worker(t);
        return r.onmessage = c, r.id = w++, R[r.id] = r, r;
    }
    function c(e) {
        var t = e.data, r = R[t.workerId], n = !1;
        if (t.error) r.userError(t.error, t.file); else if (t.results && t.results.data) {
            var i = function() {
                n = !0, d(t.workerId, {
                    data: [],
                    errors: [],
                    meta: {
                        aborted: !0
                    }
                });
            }, s = {
                abort: i,
                pause: l,
                resume: l
            };
            if (m(r.userStep)) {
                for (var a = 0; a < t.results.data.length && (r.userStep({
                    data: [ t.results.data[a] ],
                    errors: t.results.errors,
                    meta: t.results.meta
                }, s), !n); a++) ;
                delete t.results;
            } else m(r.userChunk) && (r.userChunk(t.results, s, t.file), delete t.results);
        }
        t.finished && !n && d(t.workerId, t.results);
    }
    function d(e, t) {
        var r = R[e];
        m(r.userComplete) && r.userComplete(t), r.terminate(), delete R[e];
    }
    function l() {
        throw "Not implemented.";
    }
    function p(t) {
        var r = t.data;
        if ("undefined" == typeof S.WORKER_ID && r && (S.WORKER_ID = r.workerId), "string" == typeof r.input) e.postMessage({
            workerId: S.WORKER_ID,
            results: S.parse(r.input, r.config),
            finished: !0
        }); else if (e.File && r.input instanceof File || r.input instanceof Object) {
            var n = S.parse(r.input, r.config);
            n && e.postMessage({
                workerId: S.WORKER_ID,
                results: n,
                finished: !0
            });
        }
    }
    function _(e) {
        if ("object" != typeof e) return e;
        var t = e instanceof Array ? [] : {};
        for (var r in e) t[r] = _(e[r]);
        return t;
    }
    function g(e, t) {
        return function() {
            e.apply(t, arguments);
        };
    }
    function m(e) {
        return "function" == typeof e;
    }
    var v, k = !e.document && !!e.postMessage, y = k && /(\?|&)papaworker(=|&|$)/.test(e.location.search), b = !1, R = {}, w = 0, S = {};
    if (S.parse = t, S.unparse = r, S.RECORD_SEP = String.fromCharCode(30), S.UNIT_SEP = String.fromCharCode(31), 
    S.BYTE_ORDER_MARK = "\ufeff", S.BAD_DELIMITERS = [ "\r", "\n", '"', S.BYTE_ORDER_MARK ], 
    S.WORKERS_SUPPORTED = !k && !!e.Worker, S.SCRIPT_PATH = null, S.LocalChunkSize = 10485760, 
    S.RemoteChunkSize = 5242880, S.DefaultDelimiter = ",", S.Parser = u, S.ParserHandle = o, 
    S.NetworkStreamer = i, S.FileStreamer = s, S.StringStreamer = a, "undefined" != typeof module && module.exports ? module.exports = S : m(e.define) && e.define.amd ? define(function() {
        return S;
    }) : e.Papa = S, e.jQuery) {
        var C = e.jQuery;
        C.fn.parse = function(t) {
            function r() {
                if (0 == a.length) return void (m(t.complete) && t.complete());
                var e = a[0];
                if (m(t.before)) {
                    var r = t.before(e.file, e.inputElem);
                    if ("object" == typeof r) {
                        if ("abort" == r.action) return void n("AbortError", e.file, e.inputElem, r.reason);
                        if ("skip" == r.action) return void i();
                        "object" == typeof r.config && (e.instanceConfig = C.extend(e.instanceConfig, r.config));
                    } else if ("skip" == r) return void i();
                }
                var s = e.instanceConfig.complete;
                e.instanceConfig.complete = function(t) {
                    m(s) && s(t, e.file, e.inputElem), i();
                }, S.parse(e.file, e.instanceConfig);
            }
            function n(e, r, n, i) {
                m(t.error) && t.error({
                    name: e
                }, r, n, i);
            }
            function i() {
                a.splice(0, 1), r();
            }
            var s = t.config || {}, a = [];
            return this.each(function() {
                var t = "INPUT" == C(this).prop("tagName").toUpperCase() && "file" == C(this).attr("type").toLowerCase() && e.FileReader;
                if (!t || !this.files || 0 == this.files.length) return !0;
                for (var r = 0; r < this.files.length; r++) a.push({
                    file: this.files[r],
                    inputElem: this,
                    instanceConfig: C.extend({}, s)
                });
            }), r(), this;
        };
    }
    y ? e.onmessage = p : S.WORKERS_SUPPORTED && (v = h(), document.body ? document.addEventListener("DOMContentLoaded", function() {
        b = !0;
    }, !0) : b = !0), i.prototype = Object.create(n.prototype), i.prototype.constructor = i, 
    s.prototype = Object.create(n.prototype), s.prototype.constructor = s, a.prototype = Object.create(a.prototype), 
    a.prototype.constructor = a;
}("undefined" != typeof window ? window : this);

var saveAs = saveAs || function(e) {
    "use strict";
    if (!("undefined" == typeof e || "undefined" != typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent))) {
        var t = e.document, n = function() {
            return e.URL || e.webkitURL || e;
        }, r = t.createElementNS("http://www.w3.org/1999/xhtml", "a"), o = "download" in r, a = function(e) {
            var t = new MouseEvent("click");
            e.dispatchEvent(t);
        }, i = /constructor/i.test(e.HTMLElement) || e.safari, f = /CriOS\/[\d]+/.test(navigator.userAgent), u = function(t) {
            (e.setImmediate || e.setTimeout)(function() {
                throw t;
            }, 0);
        }, s = "application/octet-stream", d = 4e4, c = function(e) {
            var t = function() {
                "string" == typeof e ? n().revokeObjectURL(e) : e.remove();
            };
            setTimeout(t, d);
        }, l = function(e, t, n) {
            t = [].concat(t);
            for (var r = t.length; r--; ) {
                var o = e["on" + t[r]];
                if ("function" == typeof o) try {
                    o.call(e, n || e);
                } catch (a) {
                    u(a);
                }
            }
        }, p = function(e) {
            return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type) ? new Blob([ String.fromCharCode(65279), e ], {
                type: e.type
            }) : e;
        }, v = function(t, u, d) {
            d || (t = p(t));
            var y, v = this, w = t.type, m = w === s, h = function() {
                l(v, "writestart progress write writeend".split(" "));
            }, S = function() {
                if ((f || m && i) && e.FileReader) {
                    var r = new FileReader();
                    return r.onloadend = function() {
                        var t = f ? r.result : r.result.replace(/^data:[^;]*;/, "data:attachment/file;"), n = e.open(t, "_blank");
                        n || (e.location.href = t), t = void 0, v.readyState = v.DONE, h();
                    }, r.readAsDataURL(t), void (v.readyState = v.INIT);
                }
                if (y || (y = n().createObjectURL(t)), m) e.location.href = y; else {
                    var o = e.open(y, "_blank");
                    o || (e.location.href = y);
                }
                v.readyState = v.DONE, h(), c(y);
            };
            return v.readyState = v.INIT, o ? (y = n().createObjectURL(t), void setTimeout(function() {
                r.href = y, r.download = u, a(r), h(), c(y), v.readyState = v.DONE;
            })) : void S();
        }, w = v.prototype, m = function(e, t, n) {
            return new v(e, t || e.name || "download", n);
        };
        return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function(e, t, n) {
            return t = t || e.name || "download", n || (e = p(e)), navigator.msSaveOrOpenBlob(e, t);
        } : (w.abort = function() {}, w.readyState = w.INIT = 0, w.WRITING = 1, w.DONE = 2, 
        w.error = w.onwritestart = w.onprogress = w.onwrite = w.onabort = w.onerror = w.onwriteend = null, 
        m);
    }
}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);

"undefined" != typeof module && module.exports ? module.exports.saveAs = saveAs : "undefined" != typeof define && null !== define && null !== define.amd && define("FileSaver.js", function() {
    return saveAs;
}), function() {
    function patchXHR(fnName, newFn) {
        window.XMLHttpRequest.prototype[fnName] = newFn(window.XMLHttpRequest.prototype[fnName]);
    }
    function handleFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile) {
        function isInputTypeFile() {
            return "input" === elem[0].tagName.toLowerCase() && elem.attr("type") && "file" === elem.attr("type").toLowerCase();
        }
        function watch(attrVal) {
            $timeout(function() {
                elem.parent().length && watchers.push(scope.$watch(attrVal, function(val, oldVal) {
                    val != oldVal && recompileElem();
                }));
            });
        }
        function recompileElem() {
            var clone = elem.clone();
            if (elem.attr("__afu_gen__") && angular.element(document.getElementById(elem.attr("id").substring(1))).remove(), 
            elem.parent().length) {
                for (var i = 0; i < watchers.length; i++) watchers[i]();
                elem.replaceWith(clone), $compile(clone)(scope);
            }
            return clone;
        }
        function bindAttr(bindAttr, attrName) {
            if (bindAttr) {
                watch(bindAttr);
                var val = $parse(bindAttr)(scope);
                val ? (elem.attr(attrName, val), attr[attrName] = val) : (elem.attr(attrName, null), 
                delete attr[attrName]);
            }
        }
        function onChangeFn(evt) {
            var fileList;
            fileList = evt.__files_ || evt.target && evt.target.files, updateModel(fileList, attr, ngModel, scope, evt);
        }
        function resetAndClick(evt) {
            if (null != fileElem[0].value && "" != fileElem[0].value && (fileElem[0].value = null, 
            navigator.userAgent.indexOf("Trident/7") === -1 && onChangeFn({
                target: {
                    files: []
                }
            })), elem.attr("__afu_clone__")) elem.attr("__afu_clone__", null); else if (navigator.appVersion.indexOf("MSIE 10") !== -1 || navigator.userAgent.indexOf("Trident/7") !== -1) {
                var clone = recompileElem();
                return clone.attr("__afu_clone__", !0), clone[0].click(), evt.preventDefault(), 
                evt.stopPropagation(), !0;
            }
        }
        function updateModel(fileList, attr, ngModel, scope, evt) {
            for (var files = [], rejFiles = [], regexp = attr.accept ? new RegExp(globStringToRegex(attr.accept), "gi") : null, i = 0; i < fileList.length; i++) {
                var file = fileList.item(i);
                !regexp || file.type.match(regexp) || null != file.name && file.name.match(regexp) ? files.push(file) : rejFiles.push(file);
            }
            $timeout(function() {
                ngModel && ($parse(attr.ngModel).assign(scope, files), ngModel && ngModel.$setViewValue(null != files && 0 == files.length ? "" : files), 
                attr.ngModelRejected && $parse(attr.ngModelRejected).assign(scope, rejFiles)), attr.ngFileChange && "" != attr.ngFileChange && $parse(attr.ngFileChange)(scope, {
                    $files: files,
                    $rejectedFiles: rejFiles,
                    $event: evt
                });
            });
        }
        var watchers = [];
        bindAttr(attr.ngMultiple, "multiple"), bindAttr(attr.ngAccept, "accept"), bindAttr(attr.ngCapture, "capture"), 
        "" != attr.ngFileSelect && (attr.ngFileChange = attr.ngFileSelect);
        var fileElem = elem;
        if (isInputTypeFile()) elem.bind("click", resetAndClick); else {
            fileElem = angular.element('<input type="file">'), attr.multiple && fileElem.attr("multiple", attr.multiple), 
            attr.accept && fileElem.attr("accept", attr.accept), attr.capture && fileElem.attr("capture", attr.capture);
            for (var key in attr) if (0 == key.indexOf("inputFile")) {
                var name = key.substring("inputFile".length);
                name = name[0].toLowerCase() + name.substring(1), fileElem.attr(name, attr[key]);
            }
            fileElem.css("width", "0px").css("height", "0px").css("position", "absolute").css("padding", 0).css("margin", 0).css("overflow", "hidden").attr("tabindex", "-1").css("opacity", 0).attr("__afu_gen__", !0), 
            elem.attr("__refElem__", !0), fileElem[0].__refElem__ = elem[0], elem.parent()[0].insertBefore(fileElem[0], elem[0]), 
            elem.css("overflow", "hidden"), elem.bind("click", function(e) {
                resetAndClick(e) || fileElem[0].click();
            });
        }
        fileElem.bind("change", onChangeFn), elem.on("$destroy", function() {
            for (var i = 0; i < watchers.length; i++) watchers[i]();
            elem[0] != fileElem[0] && fileElem.remove();
        }), watchers.push(scope.$watch(attr.ngModel, function(val, oldVal) {
            val == oldVal || null != val && val.length || (navigator.appVersion.indexOf("MSIE 10") !== -1 ? recompileElem() : fileElem[0].value = null);
        }));
    }
    function handleDrop(scope, elem, attr, ngModel, $parse, $timeout, $location) {
        function calculateDragOverClass(scope, attr, evt) {
            var valid = !0;
            if (regexp) {
                var items = evt.dataTransfer.items;
                if (null != items) for (var i = 0; i < items.length && valid; i++) valid = valid && ("file" == items[i].kind || "" == items[i].kind) && (null != items[i].type.match(regexp) || null != items[i].name && null != items[i].name.match(regexp));
            }
            var clazz = $parse(attr.dragOverClass)(scope, {
                $event: evt
            });
            return clazz && (clazz.delay && (dragOverDelay = clazz.delay), clazz.accept && (clazz = valid ? clazz.accept : clazz.reject)), 
            clazz || attr.dragOverClass || "dragover";
        }
        function extractFiles(evt, callback, allowDir, multiple) {
            function addFile(file) {
                !regexp || file.type.match(regexp) || null != file.name && file.name.match(regexp) ? files.push(file) : rejFiles.push(file);
            }
            function traverseFileTree(files, entry, path) {
                if (null != entry) if (entry.isDirectory) {
                    var filePath = (path || "") + entry.name;
                    addFile({
                        name: entry.name,
                        type: "directory",
                        path: filePath
                    });
                    var dirReader = entry.createReader(), entries = [];
                    processing++;
                    var readEntries = function() {
                        dirReader.readEntries(function(results) {
                            try {
                                if (results.length) entries = entries.concat(Array.prototype.slice.call(results || [], 0)), 
                                readEntries(); else {
                                    for (var i = 0; i < entries.length; i++) traverseFileTree(files, entries[i], (path ? path : "") + entry.name + "/");
                                    processing--;
                                }
                            } catch (e) {
                                processing--, console.error(e);
                            }
                        }, function() {
                            processing--;
                        });
                    };
                    readEntries();
                } else processing++, entry.file(function(file) {
                    try {
                        processing--, file.path = (path ? path : "") + file.name, addFile(file);
                    } catch (e) {
                        processing--, console.error(e);
                    }
                }, function(e) {
                    processing--;
                });
            }
            var files = [], rejFiles = [], items = evt.dataTransfer.items, processing = 0;
            if (items && items.length > 0 && "file" != $location.protocol()) for (var i = 0; i < items.length; i++) {
                if (items[i].webkitGetAsEntry && items[i].webkitGetAsEntry() && items[i].webkitGetAsEntry().isDirectory) {
                    var entry = items[i].webkitGetAsEntry();
                    if (entry.isDirectory && !allowDir) continue;
                    null != entry && traverseFileTree(files, entry);
                } else {
                    var f = items[i].getAsFile();
                    null != f && addFile(f);
                }
                if (!multiple && files.length > 0) break;
            } else {
                var fileList = evt.dataTransfer.files;
                if (null != fileList) for (var i = 0; i < fileList.length && (addFile(fileList.item(i)), 
                multiple || !(files.length > 0)); i++) ;
            }
            var delays = 0;
            !function waitForProcess(delay) {
                $timeout(function() {
                    if (processing) 10 * delays++ < 2e4 && waitForProcess(10); else {
                        if (!multiple && files.length > 1) {
                            for (var i = 0; "directory" == files[i].type; ) i++;
                            files = [ files[i] ];
                        }
                        callback(files, rejFiles);
                    }
                }, delay || 0);
            }();
        }
        var available = dropAvailable();
        if (attr.dropAvailable && $timeout(function() {
            scope.dropAvailable ? scope.dropAvailable.value = available : scope.dropAvailable = available;
        }), !available) return void (0 != $parse(attr.hideOnDropNotAvailable)(scope) && elem.css("display", "none"));
        var actualDragOverClass, leaveTimeout = null, stopPropagation = $parse(attr.stopPropagation)(scope), dragOverDelay = 1, accept = $parse(attr.ngAccept)(scope) || attr.accept, regexp = accept ? new RegExp(globStringToRegex(accept), "gi") : null;
        elem[0].addEventListener("dragover", function(evt) {
            if (evt.preventDefault(), stopPropagation && evt.stopPropagation(), navigator.userAgent.indexOf("Chrome") > -1) {
                var b = evt.dataTransfer.effectAllowed;
                evt.dataTransfer.dropEffect = "move" === b || "linkMove" === b ? "move" : "copy";
            }
            $timeout.cancel(leaveTimeout), scope.actualDragOverClass || (actualDragOverClass = calculateDragOverClass(scope, attr, evt)), 
            elem.addClass(actualDragOverClass);
        }, !1), elem[0].addEventListener("dragenter", function(evt) {
            evt.preventDefault(), stopPropagation && evt.stopPropagation();
        }, !1), elem[0].addEventListener("dragleave", function(evt) {
            leaveTimeout = $timeout(function() {
                elem.removeClass(actualDragOverClass), actualDragOverClass = null;
            }, dragOverDelay || 1);
        }, !1), "" != attr.ngFileDrop && (attr.ngFileChange = scope.ngFileDrop), elem[0].addEventListener("drop", function(evt) {
            evt.preventDefault(), stopPropagation && evt.stopPropagation(), elem.removeClass(actualDragOverClass), 
            actualDragOverClass = null, extractFiles(evt, function(files, rejFiles) {
                $timeout(function() {
                    ngModel && ($parse(attr.ngModel).assign(scope, files), ngModel && ngModel.$setViewValue(null != files && 0 == files.length ? "" : files)), 
                    attr.ngModelRejected && scope[attr.ngModelRejected] && $parse(attr.ngModelRejected).assign(scope, rejFiles);
                }), $timeout(function() {
                    $parse(attr.ngFileChange)(scope, {
                        $files: files,
                        $rejectedFiles: rejFiles,
                        $event: evt
                    });
                });
            }, 0 != $parse(attr.allowDir)(scope), attr.multiple || $parse(attr.ngMultiple)(scope));
        }, !1);
    }
    function dropAvailable() {
        var div = document.createElement("div");
        return "draggable" in div && "ondrop" in div;
    }
    function globStringToRegex(str) {
        if (str.length > 2 && "/" === str[0] && "/" === str[str.length - 1]) return str.substring(1, str.length - 1);
        var split = str.split(","), result = "";
        if (split.length > 1) for (var i = 0; i < split.length; i++) result += "(" + globStringToRegex(split[i]) + ")", 
        i < split.length - 1 && (result += "|"); else 0 == str.indexOf(".") && (str = "*" + str), 
        result = "^" + str.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]", "g"), "\\$&") + "$", 
        result = result.replace(/\\\*/g, ".*").replace(/\\\?/g, ".");
        return result;
    }
    window.XMLHttpRequest && !window.XMLHttpRequest.__isFileAPIShim && patchXHR("setRequestHeader", function(orig) {
        return function(header, value) {
            if ("__setXHR_" === header) {
                var val = value(this);
                val instanceof Function && val(this);
            } else orig.apply(this, arguments);
        };
    });
    var angularFileUpload = angular.module("angularFileUpload", []);
    angularFileUpload.version = "3.0.7", angularFileUpload.service("$upload", [ "$http", "$q", "$timeout", function($http, $q, $timeout) {
        function sendHttp(config) {
            config.method = config.method || "POST", config.headers = config.headers || {}, 
            config.transformRequest = config.transformRequest || function(data, headersGetter) {
                return window.ArrayBuffer && data instanceof window.ArrayBuffer ? data : $http.defaults.transformRequest[0](data, headersGetter);
            };
            var deferred = $q.defer(), promise = deferred.promise;
            return config.headers.__setXHR_ = function() {
                return function(xhr) {
                    xhr && (config.__XHR = xhr, config.xhrFn && config.xhrFn(xhr), xhr.upload.addEventListener("progress", function(e) {
                        e.config = config, deferred.notify ? deferred.notify(e) : promise.progress_fn && $timeout(function() {
                            promise.progress_fn(e);
                        });
                    }, !1), xhr.upload.addEventListener("load", function(e) {
                        e.lengthComputable && (e.config = config, deferred.notify ? deferred.notify(e) : promise.progress_fn && $timeout(function() {
                            promise.progress_fn(e);
                        }));
                    }, !1));
                };
            }, $http(config).then(function(r) {
                deferred.resolve(r);
            }, function(e) {
                deferred.reject(e);
            }, function(n) {
                deferred.notify(n);
            }), promise.success = function(fn) {
                return promise.then(function(response) {
                    fn(response.data, response.status, response.headers, config);
                }), promise;
            }, promise.error = function(fn) {
                return promise.then(null, function(response) {
                    fn(response.data, response.status, response.headers, config);
                }), promise;
            }, promise.progress = function(fn) {
                return promise.progress_fn = fn, promise.then(null, null, function(update) {
                    fn(update);
                }), promise;
            }, promise.abort = function() {
                return config.__XHR && $timeout(function() {
                    config.__XHR.abort();
                }), promise;
            }, promise.xhr = function(fn) {
                return config.xhrFn = function(origXhrFn) {
                    return function() {
                        origXhrFn && origXhrFn.apply(promise, arguments), fn.apply(promise, arguments);
                    };
                }(config.xhrFn), promise;
            }, promise;
        }
        this.upload = function(config) {
            config.headers = config.headers || {}, config.headers["Content-Type"] = void 0;
            config.transformRequest;
            return config.transformRequest = config.transformRequest ? "[object Array]" === Object.prototype.toString.call(config.transformRequest) ? config.transformRequest : [ config.transformRequest ] : [], 
            config.transformRequest.push(function(data, headerGetter) {
                var formData = new FormData(), allFields = {};
                for (var key in config.fields) allFields[key] = config.fields[key];
                if (data && (allFields.data = data), config.formDataAppender) for (var key in allFields) config.formDataAppender(formData, key, allFields[key]); else for (var key in allFields) {
                    var val = allFields[key];
                    void 0 !== val && ("[object String]" === Object.prototype.toString.call(val) ? formData.append(key, val) : config.sendObjectsAsJsonBlob && "object" == typeof val ? formData.append(key, new Blob([ val ], {
                        type: "application/json"
                    })) : formData.append(key, JSON.stringify(val)));
                }
                if (null != config.file) {
                    var fileFormName = config.fileFormDataName || "file";
                    if ("[object Array]" === Object.prototype.toString.call(config.file)) for (var isFileFormNameString = "[object String]" === Object.prototype.toString.call(fileFormName), i = 0; i < config.file.length; i++) formData.append(isFileFormNameString ? fileFormName : fileFormName[i], config.file[i], config.fileName && config.fileName[i] || config.file[i].name); else formData.append(fileFormName, config.file, config.fileName || config.file.name);
                }
                return formData;
            }), sendHttp(config);
        }, this.http = function(config) {
            return sendHttp(config);
        };
    } ]), angularFileUpload.directive("ngFileSelect", [ "$parse", "$timeout", "$compile", function($parse, $timeout, $compile) {
        return {
            restrict: "AEC",
            require: "?ngModel",
            link: function(scope, elem, attr, ngModel) {
                handleFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile);
            }
        };
    } ]), angularFileUpload.directive("ngFileDrop", [ "$parse", "$timeout", "$location", function($parse, $timeout, $location) {
        return {
            restrict: "AEC",
            require: "?ngModel",
            link: function(scope, elem, attr, ngModel) {
                handleDrop(scope, elem, attr, ngModel, $parse, $timeout, $location);
            }
        };
    } ]), angularFileUpload.directive("ngNoFileDrop", function() {
        return function(scope, elem, attr) {
            dropAvailable() && elem.css("display", "none");
        };
    }), angularFileUpload.directive("ngFileDropAvailable", [ "$parse", "$timeout", function($parse, $timeout) {
        return function(scope, elem, attr) {
            if (dropAvailable()) {
                var fn = $parse(attr.ngFileDropAvailable);
                $timeout(function() {
                    fn(scope);
                });
            }
        };
    } ]);
    var ngFileUpload = angular.module("ngFileUpload", []);
    for (var key in angularFileUpload) ngFileUpload[key] = angularFileUpload[key];
}(), function(angular) {
    "use strict";
    angular.module("ng-autofocus", []).directive("autofocus", [ "$timeout", function($timeout) {
        return {
            restrict: "A",
            link: function($scope, element) {
                $timeout(function() {
                    element[0].focus();
                });
            }
        };
    } ]);
}(angular), function() {
    this.ResizeSensor = function(element, callback) {
        function addResizeListener(element, callback) {
            window.OverflowEvent ? element.addEventListener("overflowchanged", function(e) {
                callback.call(this, e);
            }) : (element.addEventListener("overflow", function(e) {
                callback.call(this, e);
            }), element.addEventListener("underflow", function(e) {
                callback.call(this, e);
            }));
        }
        function EventQueue() {
            this.q = [], this.add = function(ev) {
                this.q.push(ev);
            };
            var i, j;
            this.call = function() {
                for (i = 0, j = this.q.length; i < j; i++) this.q[i].call();
            };
        }
        function getComputedStyle(element, prop) {
            return element.currentStyle ? element.currentStyle[prop] : window.getComputedStyle ? window.getComputedStyle(element, null).getPropertyValue(prop) : element.style[prop];
        }
        function attachResizeEvent(element, resized) {
            function setupSensor() {
                var change = !1, width = element.resizeSensor.offsetWidth, height = element.resizeSensor.offsetHeight;
                return x != width && (firstStyle.width = width - 1 + "px", lastStyle.width = width + 1 + "px", 
                change = !0, x = width), y != height && (firstStyle.height = height - 1 + "px", 
                lastStyle.height = height + 1 + "px", change = !0, y = height), change;
            }
            if (element.resizedAttached) {
                if (element.resizedAttached) return void element.resizedAttached.add(resized);
            } else element.resizedAttached = new EventQueue(), element.resizedAttached.add(resized);
            if ("onresize" in element && 11 > document.documentMode) element.attachEvent ? element.attachEvent("onresize", function() {
                element.resizedAttached.call();
            }) : element.addEventListener && element.addEventListener("resize", function() {
                element.resizedAttached.call();
            }); else {
                var myResized = function() {
                    setupSensor() && element.resizedAttached.call();
                };
                element.resizeSensor = document.createElement("div"), element.resizeSensor.className = "resize-sensor";
                var style = "position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1;";
                element.resizeSensor.style.cssText = style, element.resizeSensor.innerHTML = '<div class="resize-sensor-overflow" style="' + style + '"><div></div></div><div class="resize-sensor-underflow" style="' + style + '"><div></div></div>', 
                element.appendChild(element.resizeSensor), "absolute" !== getComputedStyle(element, "position") && (element.style.position = "relative");
                var x = -1, y = -1, firstStyle = element.resizeSensor.firstElementChild.firstChild.style, lastStyle = element.resizeSensor.lastElementChild.firstChild.style;
                setupSensor(), addResizeListener(element.resizeSensor, myResized), addResizeListener(element.resizeSensor.firstElementChild, myResized), 
                addResizeListener(element.resizeSensor.lastElementChild, myResized);
            }
        }
        if ("array" == typeof element || "undefined" != typeof jQuery && element instanceof jQuery || "undefined" != typeof Elements && element instanceof Elements) for (var i = 0, j = element.length; i < j; i++) attachResizeEvent(element[i], callback); else attachResizeEvent(element, callback);
    };
}(), RC4.getStringBytes = function(string) {
    for (var output = [], i = 0; i < string.length; i++) {
        var c = string.charCodeAt(i), bytes = [];
        do bytes.push(255 & c), c >>= 8; while (c > 0);
        output = output.concat(bytes.reverse());
    }
    return output;
}, RC4.prototype._swap = function(i, j) {
    var tmp = this.s[i];
    this.s[i] = this.s[j], this.s[j] = tmp;
}, RC4.prototype.mix = function(seed) {
    for (var input = RC4.getStringBytes(seed), j = 0, i = 0; i < this.s.length; i++) j += this.s[i] + input[i % input.length], 
    j %= 256, this._swap(i, j);
}, RC4.prototype.next = function() {
    return this.i = (this.i + 1) % 256, this.j = (this.j + this.s[this.i]) % 256, this._swap(this.i, this.j), 
    this.s[(this.s[this.i] + this.s[this.j]) % 256];
}, RNG.prototype.nextByte = function() {
    return this._state.next();
}, RNG.prototype.uniform = function() {
    for (var BYTES = 7, output = 0, i = 0; i < BYTES; i++) output *= 256, output += this.nextByte();
    return output / (Math.pow(2, 8 * BYTES) - 1);
}, RNG.prototype.random = function(n, m) {
    return null == n ? this.uniform() : (null == m && (m = n, n = 0), n + Math.floor(this.uniform() * (m - n)));
}, RNG.prototype.normal = function() {
    if (null !== this._normal) {
        var n = this._normal;
        return this._normal = null, n;
    }
    var x = this.uniform() || Math.pow(2, -53), y = this.uniform();
    return this._normal = Math.sqrt(-2 * Math.log(x)) * Math.sin(2 * Math.PI * y), Math.sqrt(-2 * Math.log(x)) * Math.cos(2 * Math.PI * y);
}, RNG.prototype.exponential = function() {
    return -Math.log(this.uniform() || Math.pow(2, -53));
}, RNG.prototype.poisson = function(mean) {
    var L = Math.exp(-(mean || 1)), k = 0, p = 1;
    do k++, p *= this.uniform(); while (p > L);
    return k - 1;
}, RNG.prototype.gamma = function(a) {
    var d = (a < 1 ? 1 + a : a) - 1 / 3, c = 1 / Math.sqrt(9 * d);
    do {
        do var x = this.normal(), v = Math.pow(c * x + 1, 3); while (v <= 0);
        var u = this.uniform(), x2 = Math.pow(x, 2);
    } while (u >= 1 - .0331 * x2 * x2 && Math.log(u) >= .5 * x2 + d * (1 - v + Math.log(v)));
    return a < 1 ? d * v * Math.exp(this.exponential() / -a) : d * v;
}, RNG.roller = function(expr, rng) {
    var parts = expr.split(/(\d+)?d(\d+)([+-]\d+)?/).slice(1), dice = parseFloat(parts[0]) || 1, sides = parseFloat(parts[1]), mod = parseFloat(parts[2]) || 0;
    return rng = rng || new RNG(), function() {
        for (var total = dice + mod, i = 0; i < dice; i++) total += rng.random(sides);
        return total;
    };
}, RNG.$ = new RNG(), !function() {
    function n(n) {
        return n && (n.ownerDocument || n.document || n).documentElement;
    }
    function t(n) {
        return n && (n.ownerDocument && n.ownerDocument.defaultView || n.document && n || n.defaultView);
    }
    function e(n, t) {
        return t > n ? -1 : n > t ? 1 : n >= t ? 0 : NaN;
    }
    function r(n) {
        return null === n ? NaN : +n;
    }
    function i(n) {
        return !isNaN(n);
    }
    function u(n) {
        return {
            left: function(t, e, r, i) {
                for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = t.length); i > r; ) {
                    var u = r + i >>> 1;
                    n(t[u], e) < 0 ? r = u + 1 : i = u;
                }
                return r;
            },
            right: function(t, e, r, i) {
                for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = t.length); i > r; ) {
                    var u = r + i >>> 1;
                    n(t[u], e) > 0 ? i = u : r = u + 1;
                }
                return r;
            }
        };
    }
    function o(n) {
        return n.length;
    }
    function a(n) {
        for (var t = 1; n * t % 1; ) t *= 10;
        return t;
    }
    function l(n, t) {
        for (var e in t) Object.defineProperty(n.prototype, e, {
            value: t[e],
            enumerable: !1
        });
    }
    function c() {
        this._ = Object.create(null);
    }
    function f(n) {
        return (n += "") === bo || n[0] === _o ? _o + n : n;
    }
    function s(n) {
        return (n += "")[0] === _o ? n.slice(1) : n;
    }
    function h(n) {
        return f(n) in this._;
    }
    function p(n) {
        return (n = f(n)) in this._ && delete this._[n];
    }
    function g() {
        var n = [];
        for (var t in this._) n.push(s(t));
        return n;
    }
    function v() {
        var n = 0;
        for (var t in this._) ++n;
        return n;
    }
    function d() {
        for (var n in this._) return !1;
        return !0;
    }
    function y() {
        this._ = Object.create(null);
    }
    function m(n) {
        return n;
    }
    function M(n, t, e) {
        return function() {
            var r = e.apply(t, arguments);
            return r === t ? n : r;
        };
    }
    function x(n, t) {
        if (t in n) return t;
        t = t.charAt(0).toUpperCase() + t.slice(1);
        for (var e = 0, r = wo.length; r > e; ++e) {
            var i = wo[e] + t;
            if (i in n) return i;
        }
    }
    function b() {}
    function _() {}
    function w(n) {
        function t() {
            for (var t, r = e, i = -1, u = r.length; ++i < u; ) (t = r[i].on) && t.apply(this, arguments);
            return n;
        }
        var e = [], r = new c();
        return t.on = function(t, i) {
            var u, o = r.get(t);
            return arguments.length < 2 ? o && o.on : (o && (o.on = null, e = e.slice(0, u = e.indexOf(o)).concat(e.slice(u + 1)), 
            r.remove(t)), i && e.push(r.set(t, {
                on: i
            })), n);
        }, t;
    }
    function S() {
        ao.event.preventDefault();
    }
    function k() {
        for (var n, t = ao.event; n = t.sourceEvent; ) t = n;
        return t;
    }
    function N(n) {
        for (var t = new _(), e = 0, r = arguments.length; ++e < r; ) t[arguments[e]] = w(t);
        return t.of = function(e, r) {
            return function(i) {
                try {
                    var u = i.sourceEvent = ao.event;
                    i.target = n, ao.event = i, t[i.type].apply(e, r);
                } finally {
                    ao.event = u;
                }
            };
        }, t;
    }
    function E(n) {
        return ko(n, Co), n;
    }
    function A(n) {
        return "function" == typeof n ? n : function() {
            return No(n, this);
        };
    }
    function C(n) {
        return "function" == typeof n ? n : function() {
            return Eo(n, this);
        };
    }
    function z(n, t) {
        function e() {
            this.removeAttribute(n);
        }
        function r() {
            this.removeAttributeNS(n.space, n.local);
        }
        function i() {
            this.setAttribute(n, t);
        }
        function u() {
            this.setAttributeNS(n.space, n.local, t);
        }
        function o() {
            var e = t.apply(this, arguments);
            null == e ? this.removeAttribute(n) : this.setAttribute(n, e);
        }
        function a() {
            var e = t.apply(this, arguments);
            null == e ? this.removeAttributeNS(n.space, n.local) : this.setAttributeNS(n.space, n.local, e);
        }
        return n = ao.ns.qualify(n), null == t ? n.local ? r : e : "function" == typeof t ? n.local ? a : o : n.local ? u : i;
    }
    function L(n) {
        return n.trim().replace(/\s+/g, " ");
    }
    function q(n) {
        return new RegExp("(?:^|\\s+)" + ao.requote(n) + "(?:\\s+|$)", "g");
    }
    function T(n) {
        return (n + "").trim().split(/^|\s+/);
    }
    function R(n, t) {
        function e() {
            for (var e = -1; ++e < i; ) n[e](this, t);
        }
        function r() {
            for (var e = -1, r = t.apply(this, arguments); ++e < i; ) n[e](this, r);
        }
        n = T(n).map(D);
        var i = n.length;
        return "function" == typeof t ? r : e;
    }
    function D(n) {
        var t = q(n);
        return function(e, r) {
            if (i = e.classList) return r ? i.add(n) : i.remove(n);
            var i = e.getAttribute("class") || "";
            r ? (t.lastIndex = 0, t.test(i) || e.setAttribute("class", L(i + " " + n))) : e.setAttribute("class", L(i.replace(t, " ")));
        };
    }
    function P(n, t, e) {
        function r() {
            this.style.removeProperty(n);
        }
        function i() {
            this.style.setProperty(n, t, e);
        }
        function u() {
            var r = t.apply(this, arguments);
            null == r ? this.style.removeProperty(n) : this.style.setProperty(n, r, e);
        }
        return null == t ? r : "function" == typeof t ? u : i;
    }
    function U(n, t) {
        function e() {
            delete this[n];
        }
        function r() {
            this[n] = t;
        }
        function i() {
            var e = t.apply(this, arguments);
            null == e ? delete this[n] : this[n] = e;
        }
        return null == t ? e : "function" == typeof t ? i : r;
    }
    function j(n) {
        function t() {
            var t = this.ownerDocument, e = this.namespaceURI;
            return e === zo && t.documentElement.namespaceURI === zo ? t.createElement(n) : t.createElementNS(e, n);
        }
        function e() {
            return this.ownerDocument.createElementNS(n.space, n.local);
        }
        return "function" == typeof n ? n : (n = ao.ns.qualify(n)).local ? e : t;
    }
    function F() {
        var n = this.parentNode;
        n && n.removeChild(this);
    }
    function H(n) {
        return {
            __data__: n
        };
    }
    function O(n) {
        return function() {
            return Ao(this, n);
        };
    }
    function I(n) {
        return arguments.length || (n = e), function(t, e) {
            return t && e ? n(t.__data__, e.__data__) : !t - !e;
        };
    }
    function Y(n, t) {
        for (var e = 0, r = n.length; r > e; e++) for (var i, u = n[e], o = 0, a = u.length; a > o; o++) (i = u[o]) && t(i, o, e);
        return n;
    }
    function Z(n) {
        return ko(n, qo), n;
    }
    function V(n) {
        var t, e;
        return function(r, i, u) {
            var o, a = n[u].update, l = a.length;
            for (u != e && (e = u, t = 0), i >= t && (t = i + 1); !(o = a[t]) && ++t < l; ) ;
            return o;
        };
    }
    function X(n, t, e) {
        function r() {
            var t = this[o];
            t && (this.removeEventListener(n, t, t.$), delete this[o]);
        }
        function i() {
            var i = l(t, co(arguments));
            r.call(this), this.addEventListener(n, this[o] = i, i.$ = e), i._ = t;
        }
        function u() {
            var t, e = new RegExp("^__on([^.]+)" + ao.requote(n) + "$");
            for (var r in this) if (t = r.match(e)) {
                var i = this[r];
                this.removeEventListener(t[1], i, i.$), delete this[r];
            }
        }
        var o = "__on" + n, a = n.indexOf("."), l = $;
        a > 0 && (n = n.slice(0, a));
        var c = To.get(n);
        return c && (n = c, l = B), a ? t ? i : r : t ? b : u;
    }
    function $(n, t) {
        return function(e) {
            var r = ao.event;
            ao.event = e, t[0] = this.__data__;
            try {
                n.apply(this, t);
            } finally {
                ao.event = r;
            }
        };
    }
    function B(n, t) {
        var e = $(n, t);
        return function(n) {
            var t = this, r = n.relatedTarget;
            r && (r === t || 8 & r.compareDocumentPosition(t)) || e.call(t, n);
        };
    }
    function W(e) {
        var r = ".dragsuppress-" + ++Do, i = "click" + r, u = ao.select(t(e)).on("touchmove" + r, S).on("dragstart" + r, S).on("selectstart" + r, S);
        if (null == Ro && (Ro = !("onselectstart" in e) && x(e.style, "userSelect")), Ro) {
            var o = n(e).style, a = o[Ro];
            o[Ro] = "none";
        }
        return function(n) {
            if (u.on(r, null), Ro && (o[Ro] = a), n) {
                var t = function() {
                    u.on(i, null);
                };
                u.on(i, function() {
                    S(), t();
                }, !0), setTimeout(t, 0);
            }
        };
    }
    function J(n, e) {
        e.changedTouches && (e = e.changedTouches[0]);
        var r = n.ownerSVGElement || n;
        if (r.createSVGPoint) {
            var i = r.createSVGPoint();
            if (0 > Po) {
                var u = t(n);
                if (u.scrollX || u.scrollY) {
                    r = ao.select("body").append("svg").style({
                        position: "absolute",
                        top: 0,
                        left: 0,
                        margin: 0,
                        padding: 0,
                        border: "none"
                    }, "important");
                    var o = r[0][0].getScreenCTM();
                    Po = !(o.f || o.e), r.remove();
                }
            }
            return Po ? (i.x = e.pageX, i.y = e.pageY) : (i.x = e.clientX, i.y = e.clientY), 
            i = i.matrixTransform(n.getScreenCTM().inverse()), [ i.x, i.y ];
        }
        var a = n.getBoundingClientRect();
        return [ e.clientX - a.left - n.clientLeft, e.clientY - a.top - n.clientTop ];
    }
    function G() {
        return ao.event.changedTouches[0].identifier;
    }
    function K(n) {
        return n > 0 ? 1 : 0 > n ? -1 : 0;
    }
    function Q(n, t, e) {
        return (t[0] - n[0]) * (e[1] - n[1]) - (t[1] - n[1]) * (e[0] - n[0]);
    }
    function nn(n) {
        return n > 1 ? 0 : -1 > n ? Fo : Math.acos(n);
    }
    function tn(n) {
        return n > 1 ? Io : -1 > n ? -Io : Math.asin(n);
    }
    function en(n) {
        return ((n = Math.exp(n)) - 1 / n) / 2;
    }
    function rn(n) {
        return ((n = Math.exp(n)) + 1 / n) / 2;
    }
    function un(n) {
        return ((n = Math.exp(2 * n)) - 1) / (n + 1);
    }
    function on(n) {
        return (n = Math.sin(n / 2)) * n;
    }
    function an() {}
    function ln(n, t, e) {
        return this instanceof ln ? (this.h = +n, this.s = +t, void (this.l = +e)) : arguments.length < 2 ? n instanceof ln ? new ln(n.h, n.s, n.l) : _n("" + n, wn, ln) : new ln(n, t, e);
    }
    function cn(n, t, e) {
        function r(n) {
            return n > 360 ? n -= 360 : 0 > n && (n += 360), 60 > n ? u + (o - u) * n / 60 : 180 > n ? o : 240 > n ? u + (o - u) * (240 - n) / 60 : u;
        }
        function i(n) {
            return Math.round(255 * r(n));
        }
        var u, o;
        return n = isNaN(n) ? 0 : (n %= 360) < 0 ? n + 360 : n, t = isNaN(t) ? 0 : 0 > t ? 0 : t > 1 ? 1 : t, 
        e = 0 > e ? 0 : e > 1 ? 1 : e, o = .5 >= e ? e * (1 + t) : e + t - e * t, u = 2 * e - o, 
        new mn(i(n + 120), i(n), i(n - 120));
    }
    function fn(n, t, e) {
        return this instanceof fn ? (this.h = +n, this.c = +t, void (this.l = +e)) : arguments.length < 2 ? n instanceof fn ? new fn(n.h, n.c, n.l) : n instanceof hn ? gn(n.l, n.a, n.b) : gn((n = Sn((n = ao.rgb(n)).r, n.g, n.b)).l, n.a, n.b) : new fn(n, t, e);
    }
    function sn(n, t, e) {
        return isNaN(n) && (n = 0), isNaN(t) && (t = 0), new hn(e, Math.cos(n *= Yo) * t, Math.sin(n) * t);
    }
    function hn(n, t, e) {
        return this instanceof hn ? (this.l = +n, this.a = +t, void (this.b = +e)) : arguments.length < 2 ? n instanceof hn ? new hn(n.l, n.a, n.b) : n instanceof fn ? sn(n.h, n.c, n.l) : Sn((n = mn(n)).r, n.g, n.b) : new hn(n, t, e);
    }
    function pn(n, t, e) {
        var r = (n + 16) / 116, i = r + t / 500, u = r - e / 200;
        return i = vn(i) * na, r = vn(r) * ta, u = vn(u) * ea, new mn(yn(3.2404542 * i - 1.5371385 * r - .4985314 * u), yn(-.969266 * i + 1.8760108 * r + .041556 * u), yn(.0556434 * i - .2040259 * r + 1.0572252 * u));
    }
    function gn(n, t, e) {
        return n > 0 ? new fn(Math.atan2(e, t) * Zo, Math.sqrt(t * t + e * e), n) : new fn(NaN, NaN, n);
    }
    function vn(n) {
        return n > .206893034 ? n * n * n : (n - 4 / 29) / 7.787037;
    }
    function dn(n) {
        return n > .008856 ? Math.pow(n, 1 / 3) : 7.787037 * n + 4 / 29;
    }
    function yn(n) {
        return Math.round(255 * (.00304 >= n ? 12.92 * n : 1.055 * Math.pow(n, 1 / 2.4) - .055));
    }
    function mn(n, t, e) {
        return this instanceof mn ? (this.r = ~~n, this.g = ~~t, void (this.b = ~~e)) : arguments.length < 2 ? n instanceof mn ? new mn(n.r, n.g, n.b) : _n("" + n, mn, cn) : new mn(n, t, e);
    }
    function Mn(n) {
        return new mn(n >> 16, n >> 8 & 255, 255 & n);
    }
    function xn(n) {
        return Mn(n) + "";
    }
    function bn(n) {
        return 16 > n ? "0" + Math.max(0, n).toString(16) : Math.min(255, n).toString(16);
    }
    function _n(n, t, e) {
        var r, i, u, o = 0, a = 0, l = 0;
        if (r = /([a-z]+)\((.*)\)/.exec(n = n.toLowerCase())) switch (i = r[2].split(","), 
        r[1]) {
          case "hsl":
            return e(parseFloat(i[0]), parseFloat(i[1]) / 100, parseFloat(i[2]) / 100);

          case "rgb":
            return t(Nn(i[0]), Nn(i[1]), Nn(i[2]));
        }
        return (u = ua.get(n)) ? t(u.r, u.g, u.b) : (null == n || "#" !== n.charAt(0) || isNaN(u = parseInt(n.slice(1), 16)) || (4 === n.length ? (o = (3840 & u) >> 4, 
        o |= o >> 4, a = 240 & u, a |= a >> 4, l = 15 & u, l |= l << 4) : 7 === n.length && (o = (16711680 & u) >> 16, 
        a = (65280 & u) >> 8, l = 255 & u)), t(o, a, l));
    }
    function wn(n, t, e) {
        var r, i, u = Math.min(n /= 255, t /= 255, e /= 255), o = Math.max(n, t, e), a = o - u, l = (o + u) / 2;
        return a ? (i = .5 > l ? a / (o + u) : a / (2 - o - u), r = n == o ? (t - e) / a + (e > t ? 6 : 0) : t == o ? (e - n) / a + 2 : (n - t) / a + 4, 
        r *= 60) : (r = NaN, i = l > 0 && 1 > l ? 0 : r), new ln(r, i, l);
    }
    function Sn(n, t, e) {
        n = kn(n), t = kn(t), e = kn(e);
        var r = dn((.4124564 * n + .3575761 * t + .1804375 * e) / na), i = dn((.2126729 * n + .7151522 * t + .072175 * e) / ta), u = dn((.0193339 * n + .119192 * t + .9503041 * e) / ea);
        return hn(116 * i - 16, 500 * (r - i), 200 * (i - u));
    }
    function kn(n) {
        return (n /= 255) <= .04045 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4);
    }
    function Nn(n) {
        var t = parseFloat(n);
        return "%" === n.charAt(n.length - 1) ? Math.round(2.55 * t) : t;
    }
    function En(n) {
        return "function" == typeof n ? n : function() {
            return n;
        };
    }
    function An(n) {
        return function(t, e, r) {
            return 2 === arguments.length && "function" == typeof e && (r = e, e = null), Cn(t, e, n, r);
        };
    }
    function Cn(n, t, e, r) {
        function i() {
            var n, t = l.status;
            if (!t && Ln(l) || t >= 200 && 300 > t || 304 === t) {
                try {
                    n = e.call(u, l);
                } catch (r) {
                    return void o.error.call(u, r);
                }
                o.load.call(u, n);
            } else o.error.call(u, l);
        }
        var u = {}, o = ao.dispatch("beforesend", "progress", "load", "error"), a = {}, l = new XMLHttpRequest(), c = null;
        return !this.XDomainRequest || "withCredentials" in l || !/^(http(s)?:)?\/\//.test(n) || (l = new XDomainRequest()), 
        "onload" in l ? l.onload = l.onerror = i : l.onreadystatechange = function() {
            l.readyState > 3 && i();
        }, l.onprogress = function(n) {
            var t = ao.event;
            ao.event = n;
            try {
                o.progress.call(u, l);
            } finally {
                ao.event = t;
            }
        }, u.header = function(n, t) {
            return n = (n + "").toLowerCase(), arguments.length < 2 ? a[n] : (null == t ? delete a[n] : a[n] = t + "", 
            u);
        }, u.mimeType = function(n) {
            return arguments.length ? (t = null == n ? null : n + "", u) : t;
        }, u.responseType = function(n) {
            return arguments.length ? (c = n, u) : c;
        }, u.response = function(n) {
            return e = n, u;
        }, [ "get", "post" ].forEach(function(n) {
            u[n] = function() {
                return u.send.apply(u, [ n ].concat(co(arguments)));
            };
        }), u.send = function(e, r, i) {
            if (2 === arguments.length && "function" == typeof r && (i = r, r = null), l.open(e, n, !0), 
            null == t || "accept" in a || (a.accept = t + ",*/*"), l.setRequestHeader) for (var f in a) l.setRequestHeader(f, a[f]);
            return null != t && l.overrideMimeType && l.overrideMimeType(t), null != c && (l.responseType = c), 
            null != i && u.on("error", i).on("load", function(n) {
                i(null, n);
            }), o.beforesend.call(u, l), l.send(null == r ? null : r), u;
        }, u.abort = function() {
            return l.abort(), u;
        }, ao.rebind(u, o, "on"), null == r ? u : u.get(zn(r));
    }
    function zn(n) {
        return 1 === n.length ? function(t, e) {
            n(null == t ? e : null);
        } : n;
    }
    function Ln(n) {
        var t = n.responseType;
        return t && "text" !== t ? n.response : n.responseText;
    }
    function qn(n, t, e) {
        var r = arguments.length;
        2 > r && (t = 0), 3 > r && (e = Date.now());
        var i = e + t, u = {
            c: n,
            t: i,
            n: null
        };
        return aa ? aa.n = u : oa = u, aa = u, la || (ca = clearTimeout(ca), la = 1, fa(Tn)), 
        u;
    }
    function Tn() {
        var n = Rn(), t = Dn() - n;
        t > 24 ? (isFinite(t) && (clearTimeout(ca), ca = setTimeout(Tn, t)), la = 0) : (la = 1, 
        fa(Tn));
    }
    function Rn() {
        for (var n = Date.now(), t = oa; t; ) n >= t.t && t.c(n - t.t) && (t.c = null), 
        t = t.n;
        return n;
    }
    function Dn() {
        for (var n, t = oa, e = 1 / 0; t; ) t.c ? (t.t < e && (e = t.t), t = (n = t).n) : t = n ? n.n = t.n : oa = t.n;
        return aa = n, e;
    }
    function Pn(n, t) {
        return t - (n ? Math.ceil(Math.log(n) / Math.LN10) : 1);
    }
    function Un(n, t) {
        var e = Math.pow(10, 3 * xo(8 - t));
        return {
            scale: t > 8 ? function(n) {
                return n / e;
            } : function(n) {
                return n * e;
            },
            symbol: n
        };
    }
    function jn(n) {
        var t = n.decimal, e = n.thousands, r = n.grouping, i = n.currency, u = r && e ? function(n, t) {
            for (var i = n.length, u = [], o = 0, a = r[0], l = 0; i > 0 && a > 0 && (l + a + 1 > t && (a = Math.max(1, t - l)), 
            u.push(n.substring(i -= a, i + a)), !((l += a + 1) > t)); ) a = r[o = (o + 1) % r.length];
            return u.reverse().join(e);
        } : m;
        return function(n) {
            var e = ha.exec(n), r = e[1] || " ", o = e[2] || ">", a = e[3] || "-", l = e[4] || "", c = e[5], f = +e[6], s = e[7], h = e[8], p = e[9], g = 1, v = "", d = "", y = !1, m = !0;
            switch (h && (h = +h.substring(1)), (c || "0" === r && "=" === o) && (c = r = "0", 
            o = "="), p) {
              case "n":
                s = !0, p = "g";
                break;

              case "%":
                g = 100, d = "%", p = "f";
                break;

              case "p":
                g = 100, d = "%", p = "r";
                break;

              case "b":
              case "o":
              case "x":
              case "X":
                "#" === l && (v = "0" + p.toLowerCase());

              case "c":
                m = !1;

              case "d":
                y = !0, h = 0;
                break;

              case "s":
                g = -1, p = "r";
            }
            "$" === l && (v = i[0], d = i[1]), "r" != p || h || (p = "g"), null != h && ("g" == p ? h = Math.max(1, Math.min(21, h)) : "e" != p && "f" != p || (h = Math.max(0, Math.min(20, h)))), 
            p = pa.get(p) || Fn;
            var M = c && s;
            return function(n) {
                var e = d;
                if (y && n % 1) return "";
                var i = 0 > n || 0 === n && 0 > 1 / n ? (n = -n, "-") : "-" === a ? "" : a;
                if (0 > g) {
                    var l = ao.formatPrefix(n, h);
                    n = l.scale(n), e = l.symbol + d;
                } else n *= g;
                n = p(n, h);
                var x, b, _ = n.lastIndexOf(".");
                if (0 > _) {
                    var w = m ? n.lastIndexOf("e") : -1;
                    0 > w ? (x = n, b = "") : (x = n.substring(0, w), b = n.substring(w));
                } else x = n.substring(0, _), b = t + n.substring(_ + 1);
                !c && s && (x = u(x, 1 / 0));
                var S = v.length + x.length + b.length + (M ? 0 : i.length), k = f > S ? new Array(S = f - S + 1).join(r) : "";
                return M && (x = u(k + x, k.length ? f - b.length : 1 / 0)), i += v, n = x + b, 
                ("<" === o ? i + n + k : ">" === o ? k + i + n : "^" === o ? k.substring(0, S >>= 1) + i + n + k.substring(S) : i + (M ? n : k + n)) + e;
            };
        };
    }
    function Fn(n) {
        return n + "";
    }
    function Hn() {
        this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);
    }
    function On(n, t, e) {
        function r(t) {
            var e = n(t), r = u(e, 1);
            return r - t > t - e ? e : r;
        }
        function i(e) {
            return t(e = n(new va(e - 1)), 1), e;
        }
        function u(n, e) {
            return t(n = new va(+n), e), n;
        }
        function o(n, r, u) {
            var o = i(n), a = [];
            if (u > 1) for (;r > o; ) e(o) % u || a.push(new Date(+o)), t(o, 1); else for (;r > o; ) a.push(new Date(+o)), 
            t(o, 1);
            return a;
        }
        function a(n, t, e) {
            try {
                va = Hn;
                var r = new Hn();
                return r._ = n, o(r, t, e);
            } finally {
                va = Date;
            }
        }
        n.floor = n, n.round = r, n.ceil = i, n.offset = u, n.range = o;
        var l = n.utc = In(n);
        return l.floor = l, l.round = In(r), l.ceil = In(i), l.offset = In(u), l.range = a, 
        n;
    }
    function In(n) {
        return function(t, e) {
            try {
                va = Hn;
                var r = new Hn();
                return r._ = t, n(r, e)._;
            } finally {
                va = Date;
            }
        };
    }
    function Yn(n) {
        function t(n) {
            function t(t) {
                for (var e, i, u, o = [], a = -1, l = 0; ++a < r; ) 37 === n.charCodeAt(a) && (o.push(n.slice(l, a)), 
                null != (i = ya[e = n.charAt(++a)]) && (e = n.charAt(++a)), (u = A[e]) && (e = u(t, null == i ? "e" === e ? " " : "0" : i)), 
                o.push(e), l = a + 1);
                return o.push(n.slice(l, a)), o.join("");
            }
            var r = n.length;
            return t.parse = function(t) {
                var r = {
                    y: 1900,
                    m: 0,
                    d: 1,
                    H: 0,
                    M: 0,
                    S: 0,
                    L: 0,
                    Z: null
                }, i = e(r, n, t, 0);
                if (i != t.length) return null;
                "p" in r && (r.H = r.H % 12 + 12 * r.p);
                var u = null != r.Z && va !== Hn, o = new (u ? Hn : va)();
                return "j" in r ? o.setFullYear(r.y, 0, r.j) : "W" in r || "U" in r ? ("w" in r || (r.w = "W" in r ? 1 : 0), 
                o.setFullYear(r.y, 0, 1), o.setFullYear(r.y, 0, "W" in r ? (r.w + 6) % 7 + 7 * r.W - (o.getDay() + 5) % 7 : r.w + 7 * r.U - (o.getDay() + 6) % 7)) : o.setFullYear(r.y, r.m, r.d), 
                o.setHours(r.H + (r.Z / 100 | 0), r.M + r.Z % 100, r.S, r.L), u ? o._ : o;
            }, t.toString = function() {
                return n;
            }, t;
        }
        function e(n, t, e, r) {
            for (var i, u, o, a = 0, l = t.length, c = e.length; l > a; ) {
                if (r >= c) return -1;
                if (i = t.charCodeAt(a++), 37 === i) {
                    if (o = t.charAt(a++), u = C[o in ya ? t.charAt(a++) : o], !u || (r = u(n, e, r)) < 0) return -1;
                } else if (i != e.charCodeAt(r++)) return -1;
            }
            return r;
        }
        function r(n, t, e) {
            _.lastIndex = 0;
            var r = _.exec(t.slice(e));
            return r ? (n.w = w.get(r[0].toLowerCase()), e + r[0].length) : -1;
        }
        function i(n, t, e) {
            x.lastIndex = 0;
            var r = x.exec(t.slice(e));
            return r ? (n.w = b.get(r[0].toLowerCase()), e + r[0].length) : -1;
        }
        function u(n, t, e) {
            N.lastIndex = 0;
            var r = N.exec(t.slice(e));
            return r ? (n.m = E.get(r[0].toLowerCase()), e + r[0].length) : -1;
        }
        function o(n, t, e) {
            S.lastIndex = 0;
            var r = S.exec(t.slice(e));
            return r ? (n.m = k.get(r[0].toLowerCase()), e + r[0].length) : -1;
        }
        function a(n, t, r) {
            return e(n, A.c.toString(), t, r);
        }
        function l(n, t, r) {
            return e(n, A.x.toString(), t, r);
        }
        function c(n, t, r) {
            return e(n, A.X.toString(), t, r);
        }
        function f(n, t, e) {
            var r = M.get(t.slice(e, e += 2).toLowerCase());
            return null == r ? -1 : (n.p = r, e);
        }
        var s = n.dateTime, h = n.date, p = n.time, g = n.periods, v = n.days, d = n.shortDays, y = n.months, m = n.shortMonths;
        t.utc = function(n) {
            function e(n) {
                try {
                    va = Hn;
                    var t = new va();
                    return t._ = n, r(t);
                } finally {
                    va = Date;
                }
            }
            var r = t(n);
            return e.parse = function(n) {
                try {
                    va = Hn;
                    var t = r.parse(n);
                    return t && t._;
                } finally {
                    va = Date;
                }
            }, e.toString = r.toString, e;
        }, t.multi = t.utc.multi = ct;
        var M = ao.map(), x = Vn(v), b = Xn(v), _ = Vn(d), w = Xn(d), S = Vn(y), k = Xn(y), N = Vn(m), E = Xn(m);
        g.forEach(function(n, t) {
            M.set(n.toLowerCase(), t);
        });
        var A = {
            a: function(n) {
                return d[n.getDay()];
            },
            A: function(n) {
                return v[n.getDay()];
            },
            b: function(n) {
                return m[n.getMonth()];
            },
            B: function(n) {
                return y[n.getMonth()];
            },
            c: t(s),
            d: function(n, t) {
                return Zn(n.getDate(), t, 2);
            },
            e: function(n, t) {
                return Zn(n.getDate(), t, 2);
            },
            H: function(n, t) {
                return Zn(n.getHours(), t, 2);
            },
            I: function(n, t) {
                return Zn(n.getHours() % 12 || 12, t, 2);
            },
            j: function(n, t) {
                return Zn(1 + ga.dayOfYear(n), t, 3);
            },
            L: function(n, t) {
                return Zn(n.getMilliseconds(), t, 3);
            },
            m: function(n, t) {
                return Zn(n.getMonth() + 1, t, 2);
            },
            M: function(n, t) {
                return Zn(n.getMinutes(), t, 2);
            },
            p: function(n) {
                return g[+(n.getHours() >= 12)];
            },
            S: function(n, t) {
                return Zn(n.getSeconds(), t, 2);
            },
            U: function(n, t) {
                return Zn(ga.sundayOfYear(n), t, 2);
            },
            w: function(n) {
                return n.getDay();
            },
            W: function(n, t) {
                return Zn(ga.mondayOfYear(n), t, 2);
            },
            x: t(h),
            X: t(p),
            y: function(n, t) {
                return Zn(n.getFullYear() % 100, t, 2);
            },
            Y: function(n, t) {
                return Zn(n.getFullYear() % 1e4, t, 4);
            },
            Z: at,
            "%": function() {
                return "%";
            }
        }, C = {
            a: r,
            A: i,
            b: u,
            B: o,
            c: a,
            d: tt,
            e: tt,
            H: rt,
            I: rt,
            j: et,
            L: ot,
            m: nt,
            M: it,
            p: f,
            S: ut,
            U: Bn,
            w: $n,
            W: Wn,
            x: l,
            X: c,
            y: Gn,
            Y: Jn,
            Z: Kn,
            "%": lt
        };
        return t;
    }
    function Zn(n, t, e) {
        var r = 0 > n ? "-" : "", i = (r ? -n : n) + "", u = i.length;
        return r + (e > u ? new Array(e - u + 1).join(t) + i : i);
    }
    function Vn(n) {
        return new RegExp("^(?:" + n.map(ao.requote).join("|") + ")", "i");
    }
    function Xn(n) {
        for (var t = new c(), e = -1, r = n.length; ++e < r; ) t.set(n[e].toLowerCase(), e);
        return t;
    }
    function $n(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 1));
        return r ? (n.w = +r[0], e + r[0].length) : -1;
    }
    function Bn(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e));
        return r ? (n.U = +r[0], e + r[0].length) : -1;
    }
    function Wn(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e));
        return r ? (n.W = +r[0], e + r[0].length) : -1;
    }
    function Jn(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 4));
        return r ? (n.y = +r[0], e + r[0].length) : -1;
    }
    function Gn(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 2));
        return r ? (n.y = Qn(+r[0]), e + r[0].length) : -1;
    }
    function Kn(n, t, e) {
        return /^[+-]\d{4}$/.test(t = t.slice(e, e + 5)) ? (n.Z = -t, e + 5) : -1;
    }
    function Qn(n) {
        return n + (n > 68 ? 1900 : 2e3);
    }
    function nt(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 2));
        return r ? (n.m = r[0] - 1, e + r[0].length) : -1;
    }
    function tt(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 2));
        return r ? (n.d = +r[0], e + r[0].length) : -1;
    }
    function et(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 3));
        return r ? (n.j = +r[0], e + r[0].length) : -1;
    }
    function rt(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 2));
        return r ? (n.H = +r[0], e + r[0].length) : -1;
    }
    function it(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 2));
        return r ? (n.M = +r[0], e + r[0].length) : -1;
    }
    function ut(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 2));
        return r ? (n.S = +r[0], e + r[0].length) : -1;
    }
    function ot(n, t, e) {
        ma.lastIndex = 0;
        var r = ma.exec(t.slice(e, e + 3));
        return r ? (n.L = +r[0], e + r[0].length) : -1;
    }
    function at(n) {
        var t = n.getTimezoneOffset(), e = t > 0 ? "-" : "+", r = xo(t) / 60 | 0, i = xo(t) % 60;
        return e + Zn(r, "0", 2) + Zn(i, "0", 2);
    }
    function lt(n, t, e) {
        Ma.lastIndex = 0;
        var r = Ma.exec(t.slice(e, e + 1));
        return r ? e + r[0].length : -1;
    }
    function ct(n) {
        for (var t = n.length, e = -1; ++e < t; ) n[e][0] = this(n[e][0]);
        return function(t) {
            for (var e = 0, r = n[e]; !r[1](t); ) r = n[++e];
            return r[0](t);
        };
    }
    function ft() {}
    function st(n, t, e) {
        var r = e.s = n + t, i = r - n, u = r - i;
        e.t = n - u + (t - i);
    }
    function ht(n, t) {
        n && wa.hasOwnProperty(n.type) && wa[n.type](n, t);
    }
    function pt(n, t, e) {
        var r, i = -1, u = n.length - e;
        for (t.lineStart(); ++i < u; ) r = n[i], t.point(r[0], r[1], r[2]);
        t.lineEnd();
    }
    function gt(n, t) {
        var e = -1, r = n.length;
        for (t.polygonStart(); ++e < r; ) pt(n[e], t, 1);
        t.polygonEnd();
    }
    function vt() {
        function n(n, t) {
            n *= Yo, t = t * Yo / 2 + Fo / 4;
            var e = n - r, o = e >= 0 ? 1 : -1, a = o * e, l = Math.cos(t), c = Math.sin(t), f = u * c, s = i * l + f * Math.cos(a), h = f * o * Math.sin(a);
            ka.add(Math.atan2(h, s)), r = n, i = l, u = c;
        }
        var t, e, r, i, u;
        Na.point = function(o, a) {
            Na.point = n, r = (t = o) * Yo, i = Math.cos(a = (e = a) * Yo / 2 + Fo / 4), u = Math.sin(a);
        }, Na.lineEnd = function() {
            n(t, e);
        };
    }
    function dt(n) {
        var t = n[0], e = n[1], r = Math.cos(e);
        return [ r * Math.cos(t), r * Math.sin(t), Math.sin(e) ];
    }
    function yt(n, t) {
        return n[0] * t[0] + n[1] * t[1] + n[2] * t[2];
    }
    function mt(n, t) {
        return [ n[1] * t[2] - n[2] * t[1], n[2] * t[0] - n[0] * t[2], n[0] * t[1] - n[1] * t[0] ];
    }
    function Mt(n, t) {
        n[0] += t[0], n[1] += t[1], n[2] += t[2];
    }
    function xt(n, t) {
        return [ n[0] * t, n[1] * t, n[2] * t ];
    }
    function bt(n) {
        var t = Math.sqrt(n[0] * n[0] + n[1] * n[1] + n[2] * n[2]);
        n[0] /= t, n[1] /= t, n[2] /= t;
    }
    function _t(n) {
        return [ Math.atan2(n[1], n[0]), tn(n[2]) ];
    }
    function wt(n, t) {
        return xo(n[0] - t[0]) < Uo && xo(n[1] - t[1]) < Uo;
    }
    function St(n, t) {
        n *= Yo;
        var e = Math.cos(t *= Yo);
        kt(e * Math.cos(n), e * Math.sin(n), Math.sin(t));
    }
    function kt(n, t, e) {
        ++Ea, Ca += (n - Ca) / Ea, za += (t - za) / Ea, La += (e - La) / Ea;
    }
    function Nt() {
        function n(n, i) {
            n *= Yo;
            var u = Math.cos(i *= Yo), o = u * Math.cos(n), a = u * Math.sin(n), l = Math.sin(i), c = Math.atan2(Math.sqrt((c = e * l - r * a) * c + (c = r * o - t * l) * c + (c = t * a - e * o) * c), t * o + e * a + r * l);
            Aa += c, qa += c * (t + (t = o)), Ta += c * (e + (e = a)), Ra += c * (r + (r = l)), 
            kt(t, e, r);
        }
        var t, e, r;
        ja.point = function(i, u) {
            i *= Yo;
            var o = Math.cos(u *= Yo);
            t = o * Math.cos(i), e = o * Math.sin(i), r = Math.sin(u), ja.point = n, kt(t, e, r);
        };
    }
    function Et() {
        ja.point = St;
    }
    function At() {
        function n(n, t) {
            n *= Yo;
            var e = Math.cos(t *= Yo), o = e * Math.cos(n), a = e * Math.sin(n), l = Math.sin(t), c = i * l - u * a, f = u * o - r * l, s = r * a - i * o, h = Math.sqrt(c * c + f * f + s * s), p = r * o + i * a + u * l, g = h && -nn(p) / h, v = Math.atan2(h, p);
            Da += g * c, Pa += g * f, Ua += g * s, Aa += v, qa += v * (r + (r = o)), Ta += v * (i + (i = a)), 
            Ra += v * (u + (u = l)), kt(r, i, u);
        }
        var t, e, r, i, u;
        ja.point = function(o, a) {
            t = o, e = a, ja.point = n, o *= Yo;
            var l = Math.cos(a *= Yo);
            r = l * Math.cos(o), i = l * Math.sin(o), u = Math.sin(a), kt(r, i, u);
        }, ja.lineEnd = function() {
            n(t, e), ja.lineEnd = Et, ja.point = St;
        };
    }
    function Ct(n, t) {
        function e(e, r) {
            return e = n(e, r), t(e[0], e[1]);
        }
        return n.invert && t.invert && (e.invert = function(e, r) {
            return e = t.invert(e, r), e && n.invert(e[0], e[1]);
        }), e;
    }
    function zt() {
        return !0;
    }
    function Lt(n, t, e, r, i) {
        var u = [], o = [];
        if (n.forEach(function(n) {
            if (!((t = n.length - 1) <= 0)) {
                var t, e = n[0], r = n[t];
                if (wt(e, r)) {
                    i.lineStart();
                    for (var a = 0; t > a; ++a) i.point((e = n[a])[0], e[1]);
                    return void i.lineEnd();
                }
                var l = new Tt(e, n, null, !0), c = new Tt(e, null, l, !1);
                l.o = c, u.push(l), o.push(c), l = new Tt(r, n, null, !1), c = new Tt(r, null, l, !0), 
                l.o = c, u.push(l), o.push(c);
            }
        }), o.sort(t), qt(u), qt(o), u.length) {
            for (var a = 0, l = e, c = o.length; c > a; ++a) o[a].e = l = !l;
            for (var f, s, h = u[0]; ;) {
                for (var p = h, g = !0; p.v; ) if ((p = p.n) === h) return;
                f = p.z, i.lineStart();
                do {
                    if (p.v = p.o.v = !0, p.e) {
                        if (g) for (var a = 0, c = f.length; c > a; ++a) i.point((s = f[a])[0], s[1]); else r(p.x, p.n.x, 1, i);
                        p = p.n;
                    } else {
                        if (g) {
                            f = p.p.z;
                            for (var a = f.length - 1; a >= 0; --a) i.point((s = f[a])[0], s[1]);
                        } else r(p.x, p.p.x, -1, i);
                        p = p.p;
                    }
                    p = p.o, f = p.z, g = !g;
                } while (!p.v);
                i.lineEnd();
            }
        }
    }
    function qt(n) {
        if (t = n.length) {
            for (var t, e, r = 0, i = n[0]; ++r < t; ) i.n = e = n[r], e.p = i, i = e;
            i.n = e = n[0], e.p = i;
        }
    }
    function Tt(n, t, e, r) {
        this.x = n, this.z = t, this.o = e, this.e = r, this.v = !1, this.n = this.p = null;
    }
    function Rt(n, t, e, r) {
        return function(i, u) {
            function o(t, e) {
                var r = i(t, e);
                n(t = r[0], e = r[1]) && u.point(t, e);
            }
            function a(n, t) {
                var e = i(n, t);
                d.point(e[0], e[1]);
            }
            function l() {
                m.point = a, d.lineStart();
            }
            function c() {
                m.point = o, d.lineEnd();
            }
            function f(n, t) {
                v.push([ n, t ]);
                var e = i(n, t);
                x.point(e[0], e[1]);
            }
            function s() {
                x.lineStart(), v = [];
            }
            function h() {
                f(v[0][0], v[0][1]), x.lineEnd();
                var n, t = x.clean(), e = M.buffer(), r = e.length;
                if (v.pop(), g.push(v), v = null, r) if (1 & t) {
                    n = e[0];
                    var i, r = n.length - 1, o = -1;
                    if (r > 0) {
                        for (b || (u.polygonStart(), b = !0), u.lineStart(); ++o < r; ) u.point((i = n[o])[0], i[1]);
                        u.lineEnd();
                    }
                } else r > 1 && 2 & t && e.push(e.pop().concat(e.shift())), p.push(e.filter(Dt));
            }
            var p, g, v, d = t(u), y = i.invert(r[0], r[1]), m = {
                point: o,
                lineStart: l,
                lineEnd: c,
                polygonStart: function() {
                    m.point = f, m.lineStart = s, m.lineEnd = h, p = [], g = [];
                },
                polygonEnd: function() {
                    m.point = o, m.lineStart = l, m.lineEnd = c, p = ao.merge(p);
                    var n = Ot(y, g);
                    p.length ? (b || (u.polygonStart(), b = !0), Lt(p, Ut, n, e, u)) : n && (b || (u.polygonStart(), 
                    b = !0), u.lineStart(), e(null, null, 1, u), u.lineEnd()), b && (u.polygonEnd(), 
                    b = !1), p = g = null;
                },
                sphere: function() {
                    u.polygonStart(), u.lineStart(), e(null, null, 1, u), u.lineEnd(), u.polygonEnd();
                }
            }, M = Pt(), x = t(M), b = !1;
            return m;
        };
    }
    function Dt(n) {
        return n.length > 1;
    }
    function Pt() {
        var n, t = [];
        return {
            lineStart: function() {
                t.push(n = []);
            },
            point: function(t, e) {
                n.push([ t, e ]);
            },
            lineEnd: b,
            buffer: function() {
                var e = t;
                return t = [], n = null, e;
            },
            rejoin: function() {
                t.length > 1 && t.push(t.pop().concat(t.shift()));
            }
        };
    }
    function Ut(n, t) {
        return ((n = n.x)[0] < 0 ? n[1] - Io - Uo : Io - n[1]) - ((t = t.x)[0] < 0 ? t[1] - Io - Uo : Io - t[1]);
    }
    function jt(n) {
        var t, e = NaN, r = NaN, i = NaN;
        return {
            lineStart: function() {
                n.lineStart(), t = 1;
            },
            point: function(u, o) {
                var a = u > 0 ? Fo : -Fo, l = xo(u - e);
                xo(l - Fo) < Uo ? (n.point(e, r = (r + o) / 2 > 0 ? Io : -Io), n.point(i, r), n.lineEnd(), 
                n.lineStart(), n.point(a, r), n.point(u, r), t = 0) : i !== a && l >= Fo && (xo(e - i) < Uo && (e -= i * Uo), 
                xo(u - a) < Uo && (u -= a * Uo), r = Ft(e, r, u, o), n.point(i, r), n.lineEnd(), 
                n.lineStart(), n.point(a, r), t = 0), n.point(e = u, r = o), i = a;
            },
            lineEnd: function() {
                n.lineEnd(), e = r = NaN;
            },
            clean: function() {
                return 2 - t;
            }
        };
    }
    function Ft(n, t, e, r) {
        var i, u, o = Math.sin(n - e);
        return xo(o) > Uo ? Math.atan((Math.sin(t) * (u = Math.cos(r)) * Math.sin(e) - Math.sin(r) * (i = Math.cos(t)) * Math.sin(n)) / (i * u * o)) : (t + r) / 2;
    }
    function Ht(n, t, e, r) {
        var i;
        if (null == n) i = e * Io, r.point(-Fo, i), r.point(0, i), r.point(Fo, i), r.point(Fo, 0), 
        r.point(Fo, -i), r.point(0, -i), r.point(-Fo, -i), r.point(-Fo, 0), r.point(-Fo, i); else if (xo(n[0] - t[0]) > Uo) {
            var u = n[0] < t[0] ? Fo : -Fo;
            i = e * u / 2, r.point(-u, i), r.point(0, i), r.point(u, i);
        } else r.point(t[0], t[1]);
    }
    function Ot(n, t) {
        var e = n[0], r = n[1], i = [ Math.sin(e), -Math.cos(e), 0 ], u = 0, o = 0;
        ka.reset();
        for (var a = 0, l = t.length; l > a; ++a) {
            var c = t[a], f = c.length;
            if (f) for (var s = c[0], h = s[0], p = s[1] / 2 + Fo / 4, g = Math.sin(p), v = Math.cos(p), d = 1; ;) {
                d === f && (d = 0), n = c[d];
                var y = n[0], m = n[1] / 2 + Fo / 4, M = Math.sin(m), x = Math.cos(m), b = y - h, _ = b >= 0 ? 1 : -1, w = _ * b, S = w > Fo, k = g * M;
                if (ka.add(Math.atan2(k * _ * Math.sin(w), v * x + k * Math.cos(w))), u += S ? b + _ * Ho : b, 
                S ^ h >= e ^ y >= e) {
                    var N = mt(dt(s), dt(n));
                    bt(N);
                    var E = mt(i, N);
                    bt(E);
                    var A = (S ^ b >= 0 ? -1 : 1) * tn(E[2]);
                    (r > A || r === A && (N[0] || N[1])) && (o += S ^ b >= 0 ? 1 : -1);
                }
                if (!d++) break;
                h = y, g = M, v = x, s = n;
            }
        }
        return (-Uo > u || Uo > u && -Uo > ka) ^ 1 & o;
    }
    function It(n) {
        function t(n, t) {
            return Math.cos(n) * Math.cos(t) > u;
        }
        function e(n) {
            var e, u, l, c, f;
            return {
                lineStart: function() {
                    c = l = !1, f = 1;
                },
                point: function(s, h) {
                    var p, g = [ s, h ], v = t(s, h), d = o ? v ? 0 : i(s, h) : v ? i(s + (0 > s ? Fo : -Fo), h) : 0;
                    if (!e && (c = l = v) && n.lineStart(), v !== l && (p = r(e, g), (wt(e, p) || wt(g, p)) && (g[0] += Uo, 
                    g[1] += Uo, v = t(g[0], g[1]))), v !== l) f = 0, v ? (n.lineStart(), p = r(g, e), 
                    n.point(p[0], p[1])) : (p = r(e, g), n.point(p[0], p[1]), n.lineEnd()), e = p; else if (a && e && o ^ v) {
                        var y;
                        d & u || !(y = r(g, e, !0)) || (f = 0, o ? (n.lineStart(), n.point(y[0][0], y[0][1]), 
                        n.point(y[1][0], y[1][1]), n.lineEnd()) : (n.point(y[1][0], y[1][1]), n.lineEnd(), 
                        n.lineStart(), n.point(y[0][0], y[0][1])));
                    }
                    !v || e && wt(e, g) || n.point(g[0], g[1]), e = g, l = v, u = d;
                },
                lineEnd: function() {
                    l && n.lineEnd(), e = null;
                },
                clean: function() {
                    return f | (c && l) << 1;
                }
            };
        }
        function r(n, t, e) {
            var r = dt(n), i = dt(t), o = [ 1, 0, 0 ], a = mt(r, i), l = yt(a, a), c = a[0], f = l - c * c;
            if (!f) return !e && n;
            var s = u * l / f, h = -u * c / f, p = mt(o, a), g = xt(o, s), v = xt(a, h);
            Mt(g, v);
            var d = p, y = yt(g, d), m = yt(d, d), M = y * y - m * (yt(g, g) - 1);
            if (!(0 > M)) {
                var x = Math.sqrt(M), b = xt(d, (-y - x) / m);
                if (Mt(b, g), b = _t(b), !e) return b;
                var _, w = n[0], S = t[0], k = n[1], N = t[1];
                w > S && (_ = w, w = S, S = _);
                var E = S - w, A = xo(E - Fo) < Uo, C = A || Uo > E;
                if (!A && k > N && (_ = k, k = N, N = _), C ? A ? k + N > 0 ^ b[1] < (xo(b[0] - w) < Uo ? k : N) : k <= b[1] && b[1] <= N : E > Fo ^ (w <= b[0] && b[0] <= S)) {
                    var z = xt(d, (-y + x) / m);
                    return Mt(z, g), [ b, _t(z) ];
                }
            }
        }
        function i(t, e) {
            var r = o ? n : Fo - n, i = 0;
            return -r > t ? i |= 1 : t > r && (i |= 2), -r > e ? i |= 4 : e > r && (i |= 8), 
            i;
        }
        var u = Math.cos(n), o = u > 0, a = xo(u) > Uo, l = ve(n, 6 * Yo);
        return Rt(t, e, l, o ? [ 0, -n ] : [ -Fo, n - Fo ]);
    }
    function Yt(n, t, e, r) {
        return function(i) {
            var u, o = i.a, a = i.b, l = o.x, c = o.y, f = a.x, s = a.y, h = 0, p = 1, g = f - l, v = s - c;
            if (u = n - l, g || !(u > 0)) {
                if (u /= g, 0 > g) {
                    if (h > u) return;
                    p > u && (p = u);
                } else if (g > 0) {
                    if (u > p) return;
                    u > h && (h = u);
                }
                if (u = e - l, g || !(0 > u)) {
                    if (u /= g, 0 > g) {
                        if (u > p) return;
                        u > h && (h = u);
                    } else if (g > 0) {
                        if (h > u) return;
                        p > u && (p = u);
                    }
                    if (u = t - c, v || !(u > 0)) {
                        if (u /= v, 0 > v) {
                            if (h > u) return;
                            p > u && (p = u);
                        } else if (v > 0) {
                            if (u > p) return;
                            u > h && (h = u);
                        }
                        if (u = r - c, v || !(0 > u)) {
                            if (u /= v, 0 > v) {
                                if (u > p) return;
                                u > h && (h = u);
                            } else if (v > 0) {
                                if (h > u) return;
                                p > u && (p = u);
                            }
                            return h > 0 && (i.a = {
                                x: l + h * g,
                                y: c + h * v
                            }), 1 > p && (i.b = {
                                x: l + p * g,
                                y: c + p * v
                            }), i;
                        }
                    }
                }
            }
        };
    }
    function Zt(n, t, e, r) {
        function i(r, i) {
            return xo(r[0] - n) < Uo ? i > 0 ? 0 : 3 : xo(r[0] - e) < Uo ? i > 0 ? 2 : 1 : xo(r[1] - t) < Uo ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2;
        }
        function u(n, t) {
            return o(n.x, t.x);
        }
        function o(n, t) {
            var e = i(n, 1), r = i(t, 1);
            return e !== r ? e - r : 0 === e ? t[1] - n[1] : 1 === e ? n[0] - t[0] : 2 === e ? n[1] - t[1] : t[0] - n[0];
        }
        return function(a) {
            function l(n) {
                for (var t = 0, e = d.length, r = n[1], i = 0; e > i; ++i) for (var u, o = 1, a = d[i], l = a.length, c = a[0]; l > o; ++o) u = a[o], 
                c[1] <= r ? u[1] > r && Q(c, u, n) > 0 && ++t : u[1] <= r && Q(c, u, n) < 0 && --t, 
                c = u;
                return 0 !== t;
            }
            function c(u, a, l, c) {
                var f = 0, s = 0;
                if (null == u || (f = i(u, l)) !== (s = i(a, l)) || o(u, a) < 0 ^ l > 0) {
                    do c.point(0 === f || 3 === f ? n : e, f > 1 ? r : t); while ((f = (f + l + 4) % 4) !== s);
                } else c.point(a[0], a[1]);
            }
            function f(i, u) {
                return i >= n && e >= i && u >= t && r >= u;
            }
            function s(n, t) {
                f(n, t) && a.point(n, t);
            }
            function h() {
                C.point = g, d && d.push(y = []), S = !0, w = !1, b = _ = NaN;
            }
            function p() {
                v && (g(m, M), x && w && E.rejoin(), v.push(E.buffer())), C.point = s, w && a.lineEnd();
            }
            function g(n, t) {
                n = Math.max(-Ha, Math.min(Ha, n)), t = Math.max(-Ha, Math.min(Ha, t));
                var e = f(n, t);
                if (d && y.push([ n, t ]), S) m = n, M = t, x = e, S = !1, e && (a.lineStart(), 
                a.point(n, t)); else if (e && w) a.point(n, t); else {
                    var r = {
                        a: {
                            x: b,
                            y: _
                        },
                        b: {
                            x: n,
                            y: t
                        }
                    };
                    A(r) ? (w || (a.lineStart(), a.point(r.a.x, r.a.y)), a.point(r.b.x, r.b.y), e || a.lineEnd(), 
                    k = !1) : e && (a.lineStart(), a.point(n, t), k = !1);
                }
                b = n, _ = t, w = e;
            }
            var v, d, y, m, M, x, b, _, w, S, k, N = a, E = Pt(), A = Yt(n, t, e, r), C = {
                point: s,
                lineStart: h,
                lineEnd: p,
                polygonStart: function() {
                    a = E, v = [], d = [], k = !0;
                },
                polygonEnd: function() {
                    a = N, v = ao.merge(v);
                    var t = l([ n, r ]), e = k && t, i = v.length;
                    (e || i) && (a.polygonStart(), e && (a.lineStart(), c(null, null, 1, a), a.lineEnd()), 
                    i && Lt(v, u, t, c, a), a.polygonEnd()), v = d = y = null;
                }
            };
            return C;
        };
    }
    function Vt(n) {
        var t = 0, e = Fo / 3, r = ae(n), i = r(t, e);
        return i.parallels = function(n) {
            return arguments.length ? r(t = n[0] * Fo / 180, e = n[1] * Fo / 180) : [ t / Fo * 180, e / Fo * 180 ];
        }, i;
    }
    function Xt(n, t) {
        function e(n, t) {
            var e = Math.sqrt(u - 2 * i * Math.sin(t)) / i;
            return [ e * Math.sin(n *= i), o - e * Math.cos(n) ];
        }
        var r = Math.sin(n), i = (r + Math.sin(t)) / 2, u = 1 + r * (2 * i - r), o = Math.sqrt(u) / i;
        return e.invert = function(n, t) {
            var e = o - t;
            return [ Math.atan2(n, e) / i, tn((u - (n * n + e * e) * i * i) / (2 * i)) ];
        }, e;
    }
    function $t() {
        function n(n, t) {
            Ia += i * n - r * t, r = n, i = t;
        }
        var t, e, r, i;
        $a.point = function(u, o) {
            $a.point = n, t = r = u, e = i = o;
        }, $a.lineEnd = function() {
            n(t, e);
        };
    }
    function Bt(n, t) {
        Ya > n && (Ya = n), n > Va && (Va = n), Za > t && (Za = t), t > Xa && (Xa = t);
    }
    function Wt() {
        function n(n, t) {
            o.push("M", n, ",", t, u);
        }
        function t(n, t) {
            o.push("M", n, ",", t), a.point = e;
        }
        function e(n, t) {
            o.push("L", n, ",", t);
        }
        function r() {
            a.point = n;
        }
        function i() {
            o.push("Z");
        }
        var u = Jt(4.5), o = [], a = {
            point: n,
            lineStart: function() {
                a.point = t;
            },
            lineEnd: r,
            polygonStart: function() {
                a.lineEnd = i;
            },
            polygonEnd: function() {
                a.lineEnd = r, a.point = n;
            },
            pointRadius: function(n) {
                return u = Jt(n), a;
            },
            result: function() {
                if (o.length) {
                    var n = o.join("");
                    return o = [], n;
                }
            }
        };
        return a;
    }
    function Jt(n) {
        return "m0," + n + "a" + n + "," + n + " 0 1,1 0," + -2 * n + "a" + n + "," + n + " 0 1,1 0," + 2 * n + "z";
    }
    function Gt(n, t) {
        Ca += n, za += t, ++La;
    }
    function Kt() {
        function n(n, r) {
            var i = n - t, u = r - e, o = Math.sqrt(i * i + u * u);
            qa += o * (t + n) / 2, Ta += o * (e + r) / 2, Ra += o, Gt(t = n, e = r);
        }
        var t, e;
        Wa.point = function(r, i) {
            Wa.point = n, Gt(t = r, e = i);
        };
    }
    function Qt() {
        Wa.point = Gt;
    }
    function ne() {
        function n(n, t) {
            var e = n - r, u = t - i, o = Math.sqrt(e * e + u * u);
            qa += o * (r + n) / 2, Ta += o * (i + t) / 2, Ra += o, o = i * n - r * t, Da += o * (r + n), 
            Pa += o * (i + t), Ua += 3 * o, Gt(r = n, i = t);
        }
        var t, e, r, i;
        Wa.point = function(u, o) {
            Wa.point = n, Gt(t = r = u, e = i = o);
        }, Wa.lineEnd = function() {
            n(t, e);
        };
    }
    function te(n) {
        function t(t, e) {
            n.moveTo(t + o, e), n.arc(t, e, o, 0, Ho);
        }
        function e(t, e) {
            n.moveTo(t, e), a.point = r;
        }
        function r(t, e) {
            n.lineTo(t, e);
        }
        function i() {
            a.point = t;
        }
        function u() {
            n.closePath();
        }
        var o = 4.5, a = {
            point: t,
            lineStart: function() {
                a.point = e;
            },
            lineEnd: i,
            polygonStart: function() {
                a.lineEnd = u;
            },
            polygonEnd: function() {
                a.lineEnd = i, a.point = t;
            },
            pointRadius: function(n) {
                return o = n, a;
            },
            result: b
        };
        return a;
    }
    function ee(n) {
        function t(n) {
            return (a ? r : e)(n);
        }
        function e(t) {
            return ue(t, function(e, r) {
                e = n(e, r), t.point(e[0], e[1]);
            });
        }
        function r(t) {
            function e(e, r) {
                e = n(e, r), t.point(e[0], e[1]);
            }
            function r() {
                M = NaN, S.point = u, t.lineStart();
            }
            function u(e, r) {
                var u = dt([ e, r ]), o = n(e, r);
                i(M, x, m, b, _, w, M = o[0], x = o[1], m = e, b = u[0], _ = u[1], w = u[2], a, t), 
                t.point(M, x);
            }
            function o() {
                S.point = e, t.lineEnd();
            }
            function l() {
                r(), S.point = c, S.lineEnd = f;
            }
            function c(n, t) {
                u(s = n, h = t), p = M, g = x, v = b, d = _, y = w, S.point = u;
            }
            function f() {
                i(M, x, m, b, _, w, p, g, s, v, d, y, a, t), S.lineEnd = o, o();
            }
            var s, h, p, g, v, d, y, m, M, x, b, _, w, S = {
                point: e,
                lineStart: r,
                lineEnd: o,
                polygonStart: function() {
                    t.polygonStart(), S.lineStart = l;
                },
                polygonEnd: function() {
                    t.polygonEnd(), S.lineStart = r;
                }
            };
            return S;
        }
        function i(t, e, r, a, l, c, f, s, h, p, g, v, d, y) {
            var m = f - t, M = s - e, x = m * m + M * M;
            if (x > 4 * u && d--) {
                var b = a + p, _ = l + g, w = c + v, S = Math.sqrt(b * b + _ * _ + w * w), k = Math.asin(w /= S), N = xo(xo(w) - 1) < Uo || xo(r - h) < Uo ? (r + h) / 2 : Math.atan2(_, b), E = n(N, k), A = E[0], C = E[1], z = A - t, L = C - e, q = M * z - m * L;
                (q * q / x > u || xo((m * z + M * L) / x - .5) > .3 || o > a * p + l * g + c * v) && (i(t, e, r, a, l, c, A, C, N, b /= S, _ /= S, w, d, y), 
                y.point(A, C), i(A, C, N, b, _, w, f, s, h, p, g, v, d, y));
            }
        }
        var u = .5, o = Math.cos(30 * Yo), a = 16;
        return t.precision = function(n) {
            return arguments.length ? (a = (u = n * n) > 0 && 16, t) : Math.sqrt(u);
        }, t;
    }
    function re(n) {
        var t = ee(function(t, e) {
            return n([ t * Zo, e * Zo ]);
        });
        return function(n) {
            return le(t(n));
        };
    }
    function ie(n) {
        this.stream = n;
    }
    function ue(n, t) {
        return {
            point: t,
            sphere: function() {
                n.sphere();
            },
            lineStart: function() {
                n.lineStart();
            },
            lineEnd: function() {
                n.lineEnd();
            },
            polygonStart: function() {
                n.polygonStart();
            },
            polygonEnd: function() {
                n.polygonEnd();
            }
        };
    }
    function oe(n) {
        return ae(function() {
            return n;
        })();
    }
    function ae(n) {
        function t(n) {
            return n = a(n[0] * Yo, n[1] * Yo), [ n[0] * h + l, c - n[1] * h ];
        }
        function e(n) {
            return n = a.invert((n[0] - l) / h, (c - n[1]) / h), n && [ n[0] * Zo, n[1] * Zo ];
        }
        function r() {
            a = Ct(o = se(y, M, x), u);
            var n = u(v, d);
            return l = p - n[0] * h, c = g + n[1] * h, i();
        }
        function i() {
            return f && (f.valid = !1, f = null), t;
        }
        var u, o, a, l, c, f, s = ee(function(n, t) {
            return n = u(n, t), [ n[0] * h + l, c - n[1] * h ];
        }), h = 150, p = 480, g = 250, v = 0, d = 0, y = 0, M = 0, x = 0, b = Fa, _ = m, w = null, S = null;
        return t.stream = function(n) {
            return f && (f.valid = !1), f = le(b(o, s(_(n)))), f.valid = !0, f;
        }, t.clipAngle = function(n) {
            return arguments.length ? (b = null == n ? (w = n, Fa) : It((w = +n) * Yo), i()) : w;
        }, t.clipExtent = function(n) {
            return arguments.length ? (S = n, _ = n ? Zt(n[0][0], n[0][1], n[1][0], n[1][1]) : m, 
            i()) : S;
        }, t.scale = function(n) {
            return arguments.length ? (h = +n, r()) : h;
        }, t.translate = function(n) {
            return arguments.length ? (p = +n[0], g = +n[1], r()) : [ p, g ];
        }, t.center = function(n) {
            return arguments.length ? (v = n[0] % 360 * Yo, d = n[1] % 360 * Yo, r()) : [ v * Zo, d * Zo ];
        }, t.rotate = function(n) {
            return arguments.length ? (y = n[0] % 360 * Yo, M = n[1] % 360 * Yo, x = n.length > 2 ? n[2] % 360 * Yo : 0, 
            r()) : [ y * Zo, M * Zo, x * Zo ];
        }, ao.rebind(t, s, "precision"), function() {
            return u = n.apply(this, arguments), t.invert = u.invert && e, r();
        };
    }
    function le(n) {
        return ue(n, function(t, e) {
            n.point(t * Yo, e * Yo);
        });
    }
    function ce(n, t) {
        return [ n, t ];
    }
    function fe(n, t) {
        return [ n > Fo ? n - Ho : -Fo > n ? n + Ho : n, t ];
    }
    function se(n, t, e) {
        return n ? t || e ? Ct(pe(n), ge(t, e)) : pe(n) : t || e ? ge(t, e) : fe;
    }
    function he(n) {
        return function(t, e) {
            return t += n, [ t > Fo ? t - Ho : -Fo > t ? t + Ho : t, e ];
        };
    }
    function pe(n) {
        var t = he(n);
        return t.invert = he(-n), t;
    }
    function ge(n, t) {
        function e(n, t) {
            var e = Math.cos(t), a = Math.cos(n) * e, l = Math.sin(n) * e, c = Math.sin(t), f = c * r + a * i;
            return [ Math.atan2(l * u - f * o, a * r - c * i), tn(f * u + l * o) ];
        }
        var r = Math.cos(n), i = Math.sin(n), u = Math.cos(t), o = Math.sin(t);
        return e.invert = function(n, t) {
            var e = Math.cos(t), a = Math.cos(n) * e, l = Math.sin(n) * e, c = Math.sin(t), f = c * u - l * o;
            return [ Math.atan2(l * u + c * o, a * r + f * i), tn(f * r - a * i) ];
        }, e;
    }
    function ve(n, t) {
        var e = Math.cos(n), r = Math.sin(n);
        return function(i, u, o, a) {
            var l = o * t;
            null != i ? (i = de(e, i), u = de(e, u), (o > 0 ? u > i : i > u) && (i += o * Ho)) : (i = n + o * Ho, 
            u = n - .5 * l);
            for (var c, f = i; o > 0 ? f > u : u > f; f -= l) a.point((c = _t([ e, -r * Math.cos(f), -r * Math.sin(f) ]))[0], c[1]);
        };
    }
    function de(n, t) {
        var e = dt(t);
        e[0] -= n, bt(e);
        var r = nn(-e[1]);
        return ((-e[2] < 0 ? -r : r) + 2 * Math.PI - Uo) % (2 * Math.PI);
    }
    function ye(n, t, e) {
        var r = ao.range(n, t - Uo, e).concat(t);
        return function(n) {
            return r.map(function(t) {
                return [ n, t ];
            });
        };
    }
    function me(n, t, e) {
        var r = ao.range(n, t - Uo, e).concat(t);
        return function(n) {
            return r.map(function(t) {
                return [ t, n ];
            });
        };
    }
    function Me(n) {
        return n.source;
    }
    function xe(n) {
        return n.target;
    }
    function be(n, t, e, r) {
        var i = Math.cos(t), u = Math.sin(t), o = Math.cos(r), a = Math.sin(r), l = i * Math.cos(n), c = i * Math.sin(n), f = o * Math.cos(e), s = o * Math.sin(e), h = 2 * Math.asin(Math.sqrt(on(r - t) + i * o * on(e - n))), p = 1 / Math.sin(h), g = h ? function(n) {
            var t = Math.sin(n *= h) * p, e = Math.sin(h - n) * p, r = e * l + t * f, i = e * c + t * s, o = e * u + t * a;
            return [ Math.atan2(i, r) * Zo, Math.atan2(o, Math.sqrt(r * r + i * i)) * Zo ];
        } : function() {
            return [ n * Zo, t * Zo ];
        };
        return g.distance = h, g;
    }
    function _e() {
        function n(n, i) {
            var u = Math.sin(i *= Yo), o = Math.cos(i), a = xo((n *= Yo) - t), l = Math.cos(a);
            Ja += Math.atan2(Math.sqrt((a = o * Math.sin(a)) * a + (a = r * u - e * o * l) * a), e * u + r * o * l), 
            t = n, e = u, r = o;
        }
        var t, e, r;
        Ga.point = function(i, u) {
            t = i * Yo, e = Math.sin(u *= Yo), r = Math.cos(u), Ga.point = n;
        }, Ga.lineEnd = function() {
            Ga.point = Ga.lineEnd = b;
        };
    }
    function we(n, t) {
        function e(t, e) {
            var r = Math.cos(t), i = Math.cos(e), u = n(r * i);
            return [ u * i * Math.sin(t), u * Math.sin(e) ];
        }
        return e.invert = function(n, e) {
            var r = Math.sqrt(n * n + e * e), i = t(r), u = Math.sin(i), o = Math.cos(i);
            return [ Math.atan2(n * u, r * o), Math.asin(r && e * u / r) ];
        }, e;
    }
    function Se(n, t) {
        function e(n, t) {
            o > 0 ? -Io + Uo > t && (t = -Io + Uo) : t > Io - Uo && (t = Io - Uo);
            var e = o / Math.pow(i(t), u);
            return [ e * Math.sin(u * n), o - e * Math.cos(u * n) ];
        }
        var r = Math.cos(n), i = function(n) {
            return Math.tan(Fo / 4 + n / 2);
        }, u = n === t ? Math.sin(n) : Math.log(r / Math.cos(t)) / Math.log(i(t) / i(n)), o = r * Math.pow(i(n), u) / u;
        return u ? (e.invert = function(n, t) {
            var e = o - t, r = K(u) * Math.sqrt(n * n + e * e);
            return [ Math.atan2(n, e) / u, 2 * Math.atan(Math.pow(o / r, 1 / u)) - Io ];
        }, e) : Ne;
    }
    function ke(n, t) {
        function e(n, t) {
            var e = u - t;
            return [ e * Math.sin(i * n), u - e * Math.cos(i * n) ];
        }
        var r = Math.cos(n), i = n === t ? Math.sin(n) : (r - Math.cos(t)) / (t - n), u = r / i + n;
        return xo(i) < Uo ? ce : (e.invert = function(n, t) {
            var e = u - t;
            return [ Math.atan2(n, e) / i, u - K(i) * Math.sqrt(n * n + e * e) ];
        }, e);
    }
    function Ne(n, t) {
        return [ n, Math.log(Math.tan(Fo / 4 + t / 2)) ];
    }
    function Ee(n) {
        var t, e = oe(n), r = e.scale, i = e.translate, u = e.clipExtent;
        return e.scale = function() {
            var n = r.apply(e, arguments);
            return n === e ? t ? e.clipExtent(null) : e : n;
        }, e.translate = function() {
            var n = i.apply(e, arguments);
            return n === e ? t ? e.clipExtent(null) : e : n;
        }, e.clipExtent = function(n) {
            var o = u.apply(e, arguments);
            if (o === e) {
                if (t = null == n) {
                    var a = Fo * r(), l = i();
                    u([ [ l[0] - a, l[1] - a ], [ l[0] + a, l[1] + a ] ]);
                }
            } else t && (o = null);
            return o;
        }, e.clipExtent(null);
    }
    function Ae(n, t) {
        return [ Math.log(Math.tan(Fo / 4 + t / 2)), -n ];
    }
    function Ce(n) {
        return n[0];
    }
    function ze(n) {
        return n[1];
    }
    function Le(n) {
        for (var t = n.length, e = [ 0, 1 ], r = 2, i = 2; t > i; i++) {
            for (;r > 1 && Q(n[e[r - 2]], n[e[r - 1]], n[i]) <= 0; ) --r;
            e[r++] = i;
        }
        return e.slice(0, r);
    }
    function qe(n, t) {
        return n[0] - t[0] || n[1] - t[1];
    }
    function Te(n, t, e) {
        return (e[0] - t[0]) * (n[1] - t[1]) < (e[1] - t[1]) * (n[0] - t[0]);
    }
    function Re(n, t, e, r) {
        var i = n[0], u = e[0], o = t[0] - i, a = r[0] - u, l = n[1], c = e[1], f = t[1] - l, s = r[1] - c, h = (a * (l - c) - s * (i - u)) / (s * o - a * f);
        return [ i + h * o, l + h * f ];
    }
    function De(n) {
        var t = n[0], e = n[n.length - 1];
        return !(t[0] - e[0] || t[1] - e[1]);
    }
    function Pe() {
        rr(this), this.edge = this.site = this.circle = null;
    }
    function Ue(n) {
        var t = cl.pop() || new Pe();
        return t.site = n, t;
    }
    function je(n) {
        Be(n), ol.remove(n), cl.push(n), rr(n);
    }
    function Fe(n) {
        var t = n.circle, e = t.x, r = t.cy, i = {
            x: e,
            y: r
        }, u = n.P, o = n.N, a = [ n ];
        je(n);
        for (var l = u; l.circle && xo(e - l.circle.x) < Uo && xo(r - l.circle.cy) < Uo; ) u = l.P, 
        a.unshift(l), je(l), l = u;
        a.unshift(l), Be(l);
        for (var c = o; c.circle && xo(e - c.circle.x) < Uo && xo(r - c.circle.cy) < Uo; ) o = c.N, 
        a.push(c), je(c), c = o;
        a.push(c), Be(c);
        var f, s = a.length;
        for (f = 1; s > f; ++f) c = a[f], l = a[f - 1], nr(c.edge, l.site, c.site, i);
        l = a[0], c = a[s - 1], c.edge = Ke(l.site, c.site, null, i), $e(l), $e(c);
    }
    function He(n) {
        for (var t, e, r, i, u = n.x, o = n.y, a = ol._; a; ) if (r = Oe(a, o) - u, r > Uo) a = a.L; else {
            if (i = u - Ie(a, o), !(i > Uo)) {
                r > -Uo ? (t = a.P, e = a) : i > -Uo ? (t = a, e = a.N) : t = e = a;
                break;
            }
            if (!a.R) {
                t = a;
                break;
            }
            a = a.R;
        }
        var l = Ue(n);
        if (ol.insert(t, l), t || e) {
            if (t === e) return Be(t), e = Ue(t.site), ol.insert(l, e), l.edge = e.edge = Ke(t.site, l.site), 
            $e(t), void $e(e);
            if (!e) return void (l.edge = Ke(t.site, l.site));
            Be(t), Be(e);
            var c = t.site, f = c.x, s = c.y, h = n.x - f, p = n.y - s, g = e.site, v = g.x - f, d = g.y - s, y = 2 * (h * d - p * v), m = h * h + p * p, M = v * v + d * d, x = {
                x: (d * m - p * M) / y + f,
                y: (h * M - v * m) / y + s
            };
            nr(e.edge, c, g, x), l.edge = Ke(c, n, null, x), e.edge = Ke(n, g, null, x), $e(t), 
            $e(e);
        }
    }
    function Oe(n, t) {
        var e = n.site, r = e.x, i = e.y, u = i - t;
        if (!u) return r;
        var o = n.P;
        if (!o) return -(1 / 0);
        e = o.site;
        var a = e.x, l = e.y, c = l - t;
        if (!c) return a;
        var f = a - r, s = 1 / u - 1 / c, h = f / c;
        return s ? (-h + Math.sqrt(h * h - 2 * s * (f * f / (-2 * c) - l + c / 2 + i - u / 2))) / s + r : (r + a) / 2;
    }
    function Ie(n, t) {
        var e = n.N;
        if (e) return Oe(e, t);
        var r = n.site;
        return r.y === t ? r.x : 1 / 0;
    }
    function Ye(n) {
        this.site = n, this.edges = [];
    }
    function Ze(n) {
        for (var t, e, r, i, u, o, a, l, c, f, s = n[0][0], h = n[1][0], p = n[0][1], g = n[1][1], v = ul, d = v.length; d--; ) if (u = v[d], 
        u && u.prepare()) for (a = u.edges, l = a.length, o = 0; l > o; ) f = a[o].end(), 
        r = f.x, i = f.y, c = a[++o % l].start(), t = c.x, e = c.y, (xo(r - t) > Uo || xo(i - e) > Uo) && (a.splice(o, 0, new tr(Qe(u.site, f, xo(r - s) < Uo && g - i > Uo ? {
            x: s,
            y: xo(t - s) < Uo ? e : g
        } : xo(i - g) < Uo && h - r > Uo ? {
            x: xo(e - g) < Uo ? t : h,
            y: g
        } : xo(r - h) < Uo && i - p > Uo ? {
            x: h,
            y: xo(t - h) < Uo ? e : p
        } : xo(i - p) < Uo && r - s > Uo ? {
            x: xo(e - p) < Uo ? t : s,
            y: p
        } : null), u.site, null)), ++l);
    }
    function Ve(n, t) {
        return t.angle - n.angle;
    }
    function Xe() {
        rr(this), this.x = this.y = this.arc = this.site = this.cy = null;
    }
    function $e(n) {
        var t = n.P, e = n.N;
        if (t && e) {
            var r = t.site, i = n.site, u = e.site;
            if (r !== u) {
                var o = i.x, a = i.y, l = r.x - o, c = r.y - a, f = u.x - o, s = u.y - a, h = 2 * (l * s - c * f);
                if (!(h >= -jo)) {
                    var p = l * l + c * c, g = f * f + s * s, v = (s * p - c * g) / h, d = (l * g - f * p) / h, s = d + a, y = fl.pop() || new Xe();
                    y.arc = n, y.site = i, y.x = v + o, y.y = s + Math.sqrt(v * v + d * d), y.cy = s, 
                    n.circle = y;
                    for (var m = null, M = ll._; M; ) if (y.y < M.y || y.y === M.y && y.x <= M.x) {
                        if (!M.L) {
                            m = M.P;
                            break;
                        }
                        M = M.L;
                    } else {
                        if (!M.R) {
                            m = M;
                            break;
                        }
                        M = M.R;
                    }
                    ll.insert(m, y), m || (al = y);
                }
            }
        }
    }
    function Be(n) {
        var t = n.circle;
        t && (t.P || (al = t.N), ll.remove(t), fl.push(t), rr(t), n.circle = null);
    }
    function We(n) {
        for (var t, e = il, r = Yt(n[0][0], n[0][1], n[1][0], n[1][1]), i = e.length; i--; ) t = e[i], 
        (!Je(t, n) || !r(t) || xo(t.a.x - t.b.x) < Uo && xo(t.a.y - t.b.y) < Uo) && (t.a = t.b = null, 
        e.splice(i, 1));
    }
    function Je(n, t) {
        var e = n.b;
        if (e) return !0;
        var r, i, u = n.a, o = t[0][0], a = t[1][0], l = t[0][1], c = t[1][1], f = n.l, s = n.r, h = f.x, p = f.y, g = s.x, v = s.y, d = (h + g) / 2, y = (p + v) / 2;
        if (v === p) {
            if (o > d || d >= a) return;
            if (h > g) {
                if (u) {
                    if (u.y >= c) return;
                } else u = {
                    x: d,
                    y: l
                };
                e = {
                    x: d,
                    y: c
                };
            } else {
                if (u) {
                    if (u.y < l) return;
                } else u = {
                    x: d,
                    y: c
                };
                e = {
                    x: d,
                    y: l
                };
            }
        } else if (r = (h - g) / (v - p), i = y - r * d, -1 > r || r > 1) if (h > g) {
            if (u) {
                if (u.y >= c) return;
            } else u = {
                x: (l - i) / r,
                y: l
            };
            e = {
                x: (c - i) / r,
                y: c
            };
        } else {
            if (u) {
                if (u.y < l) return;
            } else u = {
                x: (c - i) / r,
                y: c
            };
            e = {
                x: (l - i) / r,
                y: l
            };
        } else if (v > p) {
            if (u) {
                if (u.x >= a) return;
            } else u = {
                x: o,
                y: r * o + i
            };
            e = {
                x: a,
                y: r * a + i
            };
        } else {
            if (u) {
                if (u.x < o) return;
            } else u = {
                x: a,
                y: r * a + i
            };
            e = {
                x: o,
                y: r * o + i
            };
        }
        return n.a = u, n.b = e, !0;
    }
    function Ge(n, t) {
        this.l = n, this.r = t, this.a = this.b = null;
    }
    function Ke(n, t, e, r) {
        var i = new Ge(n, t);
        return il.push(i), e && nr(i, n, t, e), r && nr(i, t, n, r), ul[n.i].edges.push(new tr(i, n, t)), 
        ul[t.i].edges.push(new tr(i, t, n)), i;
    }
    function Qe(n, t, e) {
        var r = new Ge(n, null);
        return r.a = t, r.b = e, il.push(r), r;
    }
    function nr(n, t, e, r) {
        n.a || n.b ? n.l === e ? n.b = r : n.a = r : (n.a = r, n.l = t, n.r = e);
    }
    function tr(n, t, e) {
        var r = n.a, i = n.b;
        this.edge = n, this.site = t, this.angle = e ? Math.atan2(e.y - t.y, e.x - t.x) : n.l === t ? Math.atan2(i.x - r.x, r.y - i.y) : Math.atan2(r.x - i.x, i.y - r.y);
    }
    function er() {
        this._ = null;
    }
    function rr(n) {
        n.U = n.C = n.L = n.R = n.P = n.N = null;
    }
    function ir(n, t) {
        var e = t, r = t.R, i = e.U;
        i ? i.L === e ? i.L = r : i.R = r : n._ = r, r.U = i, e.U = r, e.R = r.L, e.R && (e.R.U = e), 
        r.L = e;
    }
    function ur(n, t) {
        var e = t, r = t.L, i = e.U;
        i ? i.L === e ? i.L = r : i.R = r : n._ = r, r.U = i, e.U = r, e.L = r.R, e.L && (e.L.U = e), 
        r.R = e;
    }
    function or(n) {
        for (;n.L; ) n = n.L;
        return n;
    }
    function ar(n, t) {
        var e, r, i, u = n.sort(lr).pop();
        for (il = [], ul = new Array(n.length), ol = new er(), ll = new er(); ;) if (i = al, 
        u && (!i || u.y < i.y || u.y === i.y && u.x < i.x)) u.x === e && u.y === r || (ul[u.i] = new Ye(u), 
        He(u), e = u.x, r = u.y), u = n.pop(); else {
            if (!i) break;
            Fe(i.arc);
        }
        t && (We(t), Ze(t));
        var o = {
            cells: ul,
            edges: il
        };
        return ol = ll = il = ul = null, o;
    }
    function lr(n, t) {
        return t.y - n.y || t.x - n.x;
    }
    function cr(n, t, e) {
        return (n.x - e.x) * (t.y - n.y) - (n.x - t.x) * (e.y - n.y);
    }
    function fr(n) {
        return n.x;
    }
    function sr(n) {
        return n.y;
    }
    function hr() {
        return {
            leaf: !0,
            nodes: [],
            point: null,
            x: null,
            y: null
        };
    }
    function pr(n, t, e, r, i, u) {
        if (!n(t, e, r, i, u)) {
            var o = .5 * (e + i), a = .5 * (r + u), l = t.nodes;
            l[0] && pr(n, l[0], e, r, o, a), l[1] && pr(n, l[1], o, r, i, a), l[2] && pr(n, l[2], e, a, o, u), 
            l[3] && pr(n, l[3], o, a, i, u);
        }
    }
    function gr(n, t, e, r, i, u, o) {
        var a, l = 1 / 0;
        return function c(n, f, s, h, p) {
            if (!(f > u || s > o || r > h || i > p)) {
                if (g = n.point) {
                    var g, v = t - n.x, d = e - n.y, y = v * v + d * d;
                    if (l > y) {
                        var m = Math.sqrt(l = y);
                        r = t - m, i = e - m, u = t + m, o = e + m, a = g;
                    }
                }
                for (var M = n.nodes, x = .5 * (f + h), b = .5 * (s + p), _ = t >= x, w = e >= b, S = w << 1 | _, k = S + 4; k > S; ++S) if (n = M[3 & S]) switch (3 & S) {
                  case 0:
                    c(n, f, s, x, b);
                    break;

                  case 1:
                    c(n, x, s, h, b);
                    break;

                  case 2:
                    c(n, f, b, x, p);
                    break;

                  case 3:
                    c(n, x, b, h, p);
                }
            }
        }(n, r, i, u, o), a;
    }
    function vr(n, t) {
        n = ao.rgb(n), t = ao.rgb(t);
        var e = n.r, r = n.g, i = n.b, u = t.r - e, o = t.g - r, a = t.b - i;
        return function(n) {
            return "#" + bn(Math.round(e + u * n)) + bn(Math.round(r + o * n)) + bn(Math.round(i + a * n));
        };
    }
    function dr(n, t) {
        var e, r = {}, i = {};
        for (e in n) e in t ? r[e] = Mr(n[e], t[e]) : i[e] = n[e];
        for (e in t) e in n || (i[e] = t[e]);
        return function(n) {
            for (e in r) i[e] = r[e](n);
            return i;
        };
    }
    function yr(n, t) {
        return n = +n, t = +t, function(e) {
            return n * (1 - e) + t * e;
        };
    }
    function mr(n, t) {
        var e, r, i, u = hl.lastIndex = pl.lastIndex = 0, o = -1, a = [], l = [];
        for (n += "", t += ""; (e = hl.exec(n)) && (r = pl.exec(t)); ) (i = r.index) > u && (i = t.slice(u, i), 
        a[o] ? a[o] += i : a[++o] = i), (e = e[0]) === (r = r[0]) ? a[o] ? a[o] += r : a[++o] = r : (a[++o] = null, 
        l.push({
            i: o,
            x: yr(e, r)
        })), u = pl.lastIndex;
        return u < t.length && (i = t.slice(u), a[o] ? a[o] += i : a[++o] = i), a.length < 2 ? l[0] ? (t = l[0].x, 
        function(n) {
            return t(n) + "";
        }) : function() {
            return t;
        } : (t = l.length, function(n) {
            for (var e, r = 0; t > r; ++r) a[(e = l[r]).i] = e.x(n);
            return a.join("");
        });
    }
    function Mr(n, t) {
        for (var e, r = ao.interpolators.length; --r >= 0 && !(e = ao.interpolators[r](n, t)); ) ;
        return e;
    }
    function xr(n, t) {
        var e, r = [], i = [], u = n.length, o = t.length, a = Math.min(n.length, t.length);
        for (e = 0; a > e; ++e) r.push(Mr(n[e], t[e]));
        for (;u > e; ++e) i[e] = n[e];
        for (;o > e; ++e) i[e] = t[e];
        return function(n) {
            for (e = 0; a > e; ++e) i[e] = r[e](n);
            return i;
        };
    }
    function br(n) {
        return function(t) {
            return 0 >= t ? 0 : t >= 1 ? 1 : n(t);
        };
    }
    function _r(n) {
        return function(t) {
            return 1 - n(1 - t);
        };
    }
    function wr(n) {
        return function(t) {
            return .5 * (.5 > t ? n(2 * t) : 2 - n(2 - 2 * t));
        };
    }
    function Sr(n) {
        return n * n;
    }
    function kr(n) {
        return n * n * n;
    }
    function Nr(n) {
        if (0 >= n) return 0;
        if (n >= 1) return 1;
        var t = n * n, e = t * n;
        return 4 * (.5 > n ? e : 3 * (n - t) + e - .75);
    }
    function Er(n) {
        return function(t) {
            return Math.pow(t, n);
        };
    }
    function Ar(n) {
        return 1 - Math.cos(n * Io);
    }
    function Cr(n) {
        return Math.pow(2, 10 * (n - 1));
    }
    function zr(n) {
        return 1 - Math.sqrt(1 - n * n);
    }
    function Lr(n, t) {
        var e;
        return arguments.length < 2 && (t = .45), arguments.length ? e = t / Ho * Math.asin(1 / n) : (n = 1, 
        e = t / 4), function(r) {
            return 1 + n * Math.pow(2, -10 * r) * Math.sin((r - e) * Ho / t);
        };
    }
    function qr(n) {
        return n || (n = 1.70158), function(t) {
            return t * t * ((n + 1) * t - n);
        };
    }
    function Tr(n) {
        return 1 / 2.75 > n ? 7.5625 * n * n : 2 / 2.75 > n ? 7.5625 * (n -= 1.5 / 2.75) * n + .75 : 2.5 / 2.75 > n ? 7.5625 * (n -= 2.25 / 2.75) * n + .9375 : 7.5625 * (n -= 2.625 / 2.75) * n + .984375;
    }
    function Rr(n, t) {
        n = ao.hcl(n), t = ao.hcl(t);
        var e = n.h, r = n.c, i = n.l, u = t.h - e, o = t.c - r, a = t.l - i;
        return isNaN(o) && (o = 0, r = isNaN(r) ? t.c : r), isNaN(u) ? (u = 0, e = isNaN(e) ? t.h : e) : u > 180 ? u -= 360 : -180 > u && (u += 360), 
        function(n) {
            return sn(e + u * n, r + o * n, i + a * n) + "";
        };
    }
    function Dr(n, t) {
        n = ao.hsl(n), t = ao.hsl(t);
        var e = n.h, r = n.s, i = n.l, u = t.h - e, o = t.s - r, a = t.l - i;
        return isNaN(o) && (o = 0, r = isNaN(r) ? t.s : r), isNaN(u) ? (u = 0, e = isNaN(e) ? t.h : e) : u > 180 ? u -= 360 : -180 > u && (u += 360), 
        function(n) {
            return cn(e + u * n, r + o * n, i + a * n) + "";
        };
    }
    function Pr(n, t) {
        n = ao.lab(n), t = ao.lab(t);
        var e = n.l, r = n.a, i = n.b, u = t.l - e, o = t.a - r, a = t.b - i;
        return function(n) {
            return pn(e + u * n, r + o * n, i + a * n) + "";
        };
    }
    function Ur(n, t) {
        return t -= n, function(e) {
            return Math.round(n + t * e);
        };
    }
    function jr(n) {
        var t = [ n.a, n.b ], e = [ n.c, n.d ], r = Hr(t), i = Fr(t, e), u = Hr(Or(e, t, -i)) || 0;
        t[0] * e[1] < e[0] * t[1] && (t[0] *= -1, t[1] *= -1, r *= -1, i *= -1), this.rotate = (r ? Math.atan2(t[1], t[0]) : Math.atan2(-e[0], e[1])) * Zo, 
        this.translate = [ n.e, n.f ], this.scale = [ r, u ], this.skew = u ? Math.atan2(i, u) * Zo : 0;
    }
    function Fr(n, t) {
        return n[0] * t[0] + n[1] * t[1];
    }
    function Hr(n) {
        var t = Math.sqrt(Fr(n, n));
        return t && (n[0] /= t, n[1] /= t), t;
    }
    function Or(n, t, e) {
        return n[0] += e * t[0], n[1] += e * t[1], n;
    }
    function Ir(n) {
        return n.length ? n.pop() + "," : "";
    }
    function Yr(n, t, e, r) {
        if (n[0] !== t[0] || n[1] !== t[1]) {
            var i = e.push("translate(", null, ",", null, ")");
            r.push({
                i: i - 4,
                x: yr(n[0], t[0])
            }, {
                i: i - 2,
                x: yr(n[1], t[1])
            });
        } else (t[0] || t[1]) && e.push("translate(" + t + ")");
    }
    function Zr(n, t, e, r) {
        n !== t ? (n - t > 180 ? t += 360 : t - n > 180 && (n += 360), r.push({
            i: e.push(Ir(e) + "rotate(", null, ")") - 2,
            x: yr(n, t)
        })) : t && e.push(Ir(e) + "rotate(" + t + ")");
    }
    function Vr(n, t, e, r) {
        n !== t ? r.push({
            i: e.push(Ir(e) + "skewX(", null, ")") - 2,
            x: yr(n, t)
        }) : t && e.push(Ir(e) + "skewX(" + t + ")");
    }
    function Xr(n, t, e, r) {
        if (n[0] !== t[0] || n[1] !== t[1]) {
            var i = e.push(Ir(e) + "scale(", null, ",", null, ")");
            r.push({
                i: i - 4,
                x: yr(n[0], t[0])
            }, {
                i: i - 2,
                x: yr(n[1], t[1])
            });
        } else 1 === t[0] && 1 === t[1] || e.push(Ir(e) + "scale(" + t + ")");
    }
    function $r(n, t) {
        var e = [], r = [];
        return n = ao.transform(n), t = ao.transform(t), Yr(n.translate, t.translate, e, r), 
        Zr(n.rotate, t.rotate, e, r), Vr(n.skew, t.skew, e, r), Xr(n.scale, t.scale, e, r), 
        n = t = null, function(n) {
            for (var t, i = -1, u = r.length; ++i < u; ) e[(t = r[i]).i] = t.x(n);
            return e.join("");
        };
    }
    function Br(n, t) {
        return t = (t -= n = +n) || 1 / t, function(e) {
            return (e - n) / t;
        };
    }
    function Wr(n, t) {
        return t = (t -= n = +n) || 1 / t, function(e) {
            return Math.max(0, Math.min(1, (e - n) / t));
        };
    }
    function Jr(n) {
        for (var t = n.source, e = n.target, r = Kr(t, e), i = [ t ]; t !== r; ) t = t.parent, 
        i.push(t);
        for (var u = i.length; e !== r; ) i.splice(u, 0, e), e = e.parent;
        return i;
    }
    function Gr(n) {
        for (var t = [], e = n.parent; null != e; ) t.push(n), n = e, e = e.parent;
        return t.push(n), t;
    }
    function Kr(n, t) {
        if (n === t) return n;
        for (var e = Gr(n), r = Gr(t), i = e.pop(), u = r.pop(), o = null; i === u; ) o = i, 
        i = e.pop(), u = r.pop();
        return o;
    }
    function Qr(n) {
        n.fixed |= 2;
    }
    function ni(n) {
        n.fixed &= -7;
    }
    function ti(n) {
        n.fixed |= 4, n.px = n.x, n.py = n.y;
    }
    function ei(n) {
        n.fixed &= -5;
    }
    function ri(n, t, e) {
        var r = 0, i = 0;
        if (n.charge = 0, !n.leaf) for (var u, o = n.nodes, a = o.length, l = -1; ++l < a; ) u = o[l], 
        null != u && (ri(u, t, e), n.charge += u.charge, r += u.charge * u.cx, i += u.charge * u.cy);
        if (n.point) {
            n.leaf || (n.point.x += Math.random() - .5, n.point.y += Math.random() - .5);
            var c = t * e[n.point.index];
            n.charge += n.pointCharge = c, r += c * n.point.x, i += c * n.point.y;
        }
        n.cx = r / n.charge, n.cy = i / n.charge;
    }
    function ii(n, t) {
        return ao.rebind(n, t, "sort", "children", "value"), n.nodes = n, n.links = fi, 
        n;
    }
    function ui(n, t) {
        for (var e = [ n ]; null != (n = e.pop()); ) if (t(n), (i = n.children) && (r = i.length)) for (var r, i; --r >= 0; ) e.push(i[r]);
    }
    function oi(n, t) {
        for (var e = [ n ], r = []; null != (n = e.pop()); ) if (r.push(n), (u = n.children) && (i = u.length)) for (var i, u, o = -1; ++o < i; ) e.push(u[o]);
        for (;null != (n = r.pop()); ) t(n);
    }
    function ai(n) {
        return n.children;
    }
    function li(n) {
        return n.value;
    }
    function ci(n, t) {
        return t.value - n.value;
    }
    function fi(n) {
        return ao.merge(n.map(function(n) {
            return (n.children || []).map(function(t) {
                return {
                    source: n,
                    target: t
                };
            });
        }));
    }
    function si(n) {
        return n.x;
    }
    function hi(n) {
        return n.y;
    }
    function pi(n, t, e) {
        n.y0 = t, n.y = e;
    }
    function gi(n) {
        return ao.range(n.length);
    }
    function vi(n) {
        for (var t = -1, e = n[0].length, r = []; ++t < e; ) r[t] = 0;
        return r;
    }
    function di(n) {
        for (var t, e = 1, r = 0, i = n[0][1], u = n.length; u > e; ++e) (t = n[e][1]) > i && (r = e, 
        i = t);
        return r;
    }
    function yi(n) {
        return n.reduce(mi, 0);
    }
    function mi(n, t) {
        return n + t[1];
    }
    function Mi(n, t) {
        return xi(n, Math.ceil(Math.log(t.length) / Math.LN2 + 1));
    }
    function xi(n, t) {
        for (var e = -1, r = +n[0], i = (n[1] - r) / t, u = []; ++e <= t; ) u[e] = i * e + r;
        return u;
    }
    function bi(n) {
        return [ ao.min(n), ao.max(n) ];
    }
    function _i(n, t) {
        return n.value - t.value;
    }
    function wi(n, t) {
        var e = n._pack_next;
        n._pack_next = t, t._pack_prev = n, t._pack_next = e, e._pack_prev = t;
    }
    function Si(n, t) {
        n._pack_next = t, t._pack_prev = n;
    }
    function ki(n, t) {
        var e = t.x - n.x, r = t.y - n.y, i = n.r + t.r;
        return .999 * i * i > e * e + r * r;
    }
    function Ni(n) {
        function t(n) {
            f = Math.min(n.x - n.r, f), s = Math.max(n.x + n.r, s), h = Math.min(n.y - n.r, h), 
            p = Math.max(n.y + n.r, p);
        }
        if ((e = n.children) && (c = e.length)) {
            var e, r, i, u, o, a, l, c, f = 1 / 0, s = -(1 / 0), h = 1 / 0, p = -(1 / 0);
            if (e.forEach(Ei), r = e[0], r.x = -r.r, r.y = 0, t(r), c > 1 && (i = e[1], i.x = i.r, 
            i.y = 0, t(i), c > 2)) for (u = e[2], zi(r, i, u), t(u), wi(r, u), r._pack_prev = u, 
            wi(u, i), i = r._pack_next, o = 3; c > o; o++) {
                zi(r, i, u = e[o]);
                var g = 0, v = 1, d = 1;
                for (a = i._pack_next; a !== i; a = a._pack_next, v++) if (ki(a, u)) {
                    g = 1;
                    break;
                }
                if (1 == g) for (l = r._pack_prev; l !== a._pack_prev && !ki(l, u); l = l._pack_prev, 
                d++) ;
                g ? (d > v || v == d && i.r < r.r ? Si(r, i = a) : Si(r = l, i), o--) : (wi(r, u), 
                i = u, t(u));
            }
            var y = (f + s) / 2, m = (h + p) / 2, M = 0;
            for (o = 0; c > o; o++) u = e[o], u.x -= y, u.y -= m, M = Math.max(M, u.r + Math.sqrt(u.x * u.x + u.y * u.y));
            n.r = M, e.forEach(Ai);
        }
    }
    function Ei(n) {
        n._pack_next = n._pack_prev = n;
    }
    function Ai(n) {
        delete n._pack_next, delete n._pack_prev;
    }
    function Ci(n, t, e, r) {
        var i = n.children;
        if (n.x = t += r * n.x, n.y = e += r * n.y, n.r *= r, i) for (var u = -1, o = i.length; ++u < o; ) Ci(i[u], t, e, r);
    }
    function zi(n, t, e) {
        var r = n.r + e.r, i = t.x - n.x, u = t.y - n.y;
        if (r && (i || u)) {
            var o = t.r + e.r, a = i * i + u * u;
            o *= o, r *= r;
            var l = .5 + (r - o) / (2 * a), c = Math.sqrt(Math.max(0, 2 * o * (r + a) - (r -= a) * r - o * o)) / (2 * a);
            e.x = n.x + l * i + c * u, e.y = n.y + l * u - c * i;
        } else e.x = n.x + r, e.y = n.y;
    }
    function Li(n, t) {
        return n.parent == t.parent ? 1 : 2;
    }
    function qi(n) {
        var t = n.children;
        return t.length ? t[0] : n.t;
    }
    function Ti(n) {
        var t, e = n.children;
        return (t = e.length) ? e[t - 1] : n.t;
    }
    function Ri(n, t, e) {
        var r = e / (t.i - n.i);
        t.c -= r, t.s += e, n.c += r, t.z += e, t.m += e;
    }
    function Di(n) {
        for (var t, e = 0, r = 0, i = n.children, u = i.length; --u >= 0; ) t = i[u], t.z += e, 
        t.m += e, e += t.s + (r += t.c);
    }
    function Pi(n, t, e) {
        return n.a.parent === t.parent ? n.a : e;
    }
    function Ui(n) {
        return 1 + ao.max(n, function(n) {
            return n.y;
        });
    }
    function ji(n) {
        return n.reduce(function(n, t) {
            return n + t.x;
        }, 0) / n.length;
    }
    function Fi(n) {
        var t = n.children;
        return t && t.length ? Fi(t[0]) : n;
    }
    function Hi(n) {
        var t, e = n.children;
        return e && (t = e.length) ? Hi(e[t - 1]) : n;
    }
    function Oi(n) {
        return {
            x: n.x,
            y: n.y,
            dx: n.dx,
            dy: n.dy
        };
    }
    function Ii(n, t) {
        var e = n.x + t[3], r = n.y + t[0], i = n.dx - t[1] - t[3], u = n.dy - t[0] - t[2];
        return 0 > i && (e += i / 2, i = 0), 0 > u && (r += u / 2, u = 0), {
            x: e,
            y: r,
            dx: i,
            dy: u
        };
    }
    function Yi(n) {
        var t = n[0], e = n[n.length - 1];
        return e > t ? [ t, e ] : [ e, t ];
    }
    function Zi(n) {
        return n.rangeExtent ? n.rangeExtent() : Yi(n.range());
    }
    function Vi(n, t, e, r) {
        var i = e(n[0], n[1]), u = r(t[0], t[1]);
        return function(n) {
            return u(i(n));
        };
    }
    function Xi(n, t) {
        var e, r = 0, i = n.length - 1, u = n[r], o = n[i];
        return u > o && (e = r, r = i, i = e, e = u, u = o, o = e), n[r] = t.floor(u), n[i] = t.ceil(o), 
        n;
    }
    function $i(n) {
        return n ? {
            floor: function(t) {
                return Math.floor(t / n) * n;
            },
            ceil: function(t) {
                return Math.ceil(t / n) * n;
            }
        } : Sl;
    }
    function Bi(n, t, e, r) {
        var i = [], u = [], o = 0, a = Math.min(n.length, t.length) - 1;
        for (n[a] < n[0] && (n = n.slice().reverse(), t = t.slice().reverse()); ++o <= a; ) i.push(e(n[o - 1], n[o])), 
        u.push(r(t[o - 1], t[o]));
        return function(t) {
            var e = ao.bisect(n, t, 1, a) - 1;
            return u[e](i[e](t));
        };
    }
    function Wi(n, t, e, r) {
        function i() {
            var i = Math.min(n.length, t.length) > 2 ? Bi : Vi, l = r ? Wr : Br;
            return o = i(n, t, l, e), a = i(t, n, l, Mr), u;
        }
        function u(n) {
            return o(n);
        }
        var o, a;
        return u.invert = function(n) {
            return a(n);
        }, u.domain = function(t) {
            return arguments.length ? (n = t.map(Number), i()) : n;
        }, u.range = function(n) {
            return arguments.length ? (t = n, i()) : t;
        }, u.rangeRound = function(n) {
            return u.range(n).interpolate(Ur);
        }, u.clamp = function(n) {
            return arguments.length ? (r = n, i()) : r;
        }, u.interpolate = function(n) {
            return arguments.length ? (e = n, i()) : e;
        }, u.ticks = function(t) {
            return Qi(n, t);
        }, u.tickFormat = function(t, e) {
            return nu(n, t, e);
        }, u.nice = function(t) {
            return Gi(n, t), i();
        }, u.copy = function() {
            return Wi(n, t, e, r);
        }, i();
    }
    function Ji(n, t) {
        return ao.rebind(n, t, "range", "rangeRound", "interpolate", "clamp");
    }
    function Gi(n, t) {
        return Xi(n, $i(Ki(n, t)[2])), Xi(n, $i(Ki(n, t)[2])), n;
    }
    function Ki(n, t) {
        null == t && (t = 10);
        var e = Yi(n), r = e[1] - e[0], i = Math.pow(10, Math.floor(Math.log(r / t) / Math.LN10)), u = t / r * i;
        return .15 >= u ? i *= 10 : .35 >= u ? i *= 5 : .75 >= u && (i *= 2), e[0] = Math.ceil(e[0] / i) * i, 
        e[1] = Math.floor(e[1] / i) * i + .5 * i, e[2] = i, e;
    }
    function Qi(n, t) {
        return ao.range.apply(ao, Ki(n, t));
    }
    function nu(n, t, e) {
        var r = Ki(n, t);
        if (e) {
            var i = ha.exec(e);
            if (i.shift(), "s" === i[8]) {
                var u = ao.formatPrefix(Math.max(xo(r[0]), xo(r[1])));
                return i[7] || (i[7] = "." + tu(u.scale(r[2]))), i[8] = "f", e = ao.format(i.join("")), 
                function(n) {
                    return e(u.scale(n)) + u.symbol;
                };
            }
            i[7] || (i[7] = "." + eu(i[8], r)), e = i.join("");
        } else e = ",." + tu(r[2]) + "f";
        return ao.format(e);
    }
    function tu(n) {
        return -Math.floor(Math.log(n) / Math.LN10 + .01);
    }
    function eu(n, t) {
        var e = tu(t[2]);
        return n in kl ? Math.abs(e - tu(Math.max(xo(t[0]), xo(t[1])))) + +("e" !== n) : e - 2 * ("%" === n);
    }
    function ru(n, t, e, r) {
        function i(n) {
            return (e ? Math.log(0 > n ? 0 : n) : -Math.log(n > 0 ? 0 : -n)) / Math.log(t);
        }
        function u(n) {
            return e ? Math.pow(t, n) : -Math.pow(t, -n);
        }
        function o(t) {
            return n(i(t));
        }
        return o.invert = function(t) {
            return u(n.invert(t));
        }, o.domain = function(t) {
            return arguments.length ? (e = t[0] >= 0, n.domain((r = t.map(Number)).map(i)), 
            o) : r;
        }, o.base = function(e) {
            return arguments.length ? (t = +e, n.domain(r.map(i)), o) : t;
        }, o.nice = function() {
            var t = Xi(r.map(i), e ? Math : El);
            return n.domain(t), r = t.map(u), o;
        }, o.ticks = function() {
            var n = Yi(r), o = [], a = n[0], l = n[1], c = Math.floor(i(a)), f = Math.ceil(i(l)), s = t % 1 ? 2 : t;
            if (isFinite(f - c)) {
                if (e) {
                    for (;f > c; c++) for (var h = 1; s > h; h++) o.push(u(c) * h);
                    o.push(u(c));
                } else for (o.push(u(c)); c++ < f; ) for (var h = s - 1; h > 0; h--) o.push(u(c) * h);
                for (c = 0; o[c] < a; c++) ;
                for (f = o.length; o[f - 1] > l; f--) ;
                o = o.slice(c, f);
            }
            return o;
        }, o.tickFormat = function(n, e) {
            if (!arguments.length) return Nl;
            arguments.length < 2 ? e = Nl : "function" != typeof e && (e = ao.format(e));
            var r = Math.max(1, t * n / o.ticks().length);
            return function(n) {
                var o = n / u(Math.round(i(n)));
                return t - .5 > o * t && (o *= t), r >= o ? e(n) : "";
            };
        }, o.copy = function() {
            return ru(n.copy(), t, e, r);
        }, Ji(o, n);
    }
    function iu(n, t, e) {
        function r(t) {
            return n(i(t));
        }
        var i = uu(t), u = uu(1 / t);
        return r.invert = function(t) {
            return u(n.invert(t));
        }, r.domain = function(t) {
            return arguments.length ? (n.domain((e = t.map(Number)).map(i)), r) : e;
        }, r.ticks = function(n) {
            return Qi(e, n);
        }, r.tickFormat = function(n, t) {
            return nu(e, n, t);
        }, r.nice = function(n) {
            return r.domain(Gi(e, n));
        }, r.exponent = function(o) {
            return arguments.length ? (i = uu(t = o), u = uu(1 / t), n.domain(e.map(i)), r) : t;
        }, r.copy = function() {
            return iu(n.copy(), t, e);
        }, Ji(r, n);
    }
    function uu(n) {
        return function(t) {
            return 0 > t ? -Math.pow(-t, n) : Math.pow(t, n);
        };
    }
    function ou(n, t) {
        function e(e) {
            return u[((i.get(e) || ("range" === t.t ? i.set(e, n.push(e)) : NaN)) - 1) % u.length];
        }
        function r(t, e) {
            return ao.range(n.length).map(function(n) {
                return t + e * n;
            });
        }
        var i, u, o;
        return e.domain = function(r) {
            if (!arguments.length) return n;
            n = [], i = new c();
            for (var u, o = -1, a = r.length; ++o < a; ) i.has(u = r[o]) || i.set(u, n.push(u));
            return e[t.t].apply(e, t.a);
        }, e.range = function(n) {
            return arguments.length ? (u = n, o = 0, t = {
                t: "range",
                a: arguments
            }, e) : u;
        }, e.rangePoints = function(i, a) {
            arguments.length < 2 && (a = 0);
            var l = i[0], c = i[1], f = n.length < 2 ? (l = (l + c) / 2, 0) : (c - l) / (n.length - 1 + a);
            return u = r(l + f * a / 2, f), o = 0, t = {
                t: "rangePoints",
                a: arguments
            }, e;
        }, e.rangeRoundPoints = function(i, a) {
            arguments.length < 2 && (a = 0);
            var l = i[0], c = i[1], f = n.length < 2 ? (l = c = Math.round((l + c) / 2), 0) : (c - l) / (n.length - 1 + a) | 0;
            return u = r(l + Math.round(f * a / 2 + (c - l - (n.length - 1 + a) * f) / 2), f), 
            o = 0, t = {
                t: "rangeRoundPoints",
                a: arguments
            }, e;
        }, e.rangeBands = function(i, a, l) {
            arguments.length < 2 && (a = 0), arguments.length < 3 && (l = a);
            var c = i[1] < i[0], f = i[c - 0], s = i[1 - c], h = (s - f) / (n.length - a + 2 * l);
            return u = r(f + h * l, h), c && u.reverse(), o = h * (1 - a), t = {
                t: "rangeBands",
                a: arguments
            }, e;
        }, e.rangeRoundBands = function(i, a, l) {
            arguments.length < 2 && (a = 0), arguments.length < 3 && (l = a);
            var c = i[1] < i[0], f = i[c - 0], s = i[1 - c], h = Math.floor((s - f) / (n.length - a + 2 * l));
            return u = r(f + Math.round((s - f - (n.length - a) * h) / 2), h), c && u.reverse(), 
            o = Math.round(h * (1 - a)), t = {
                t: "rangeRoundBands",
                a: arguments
            }, e;
        }, e.rangeBand = function() {
            return o;
        }, e.rangeExtent = function() {
            return Yi(t.a[0]);
        }, e.copy = function() {
            return ou(n, t);
        }, e.domain(n);
    }
    function au(n, t) {
        function u() {
            var e = 0, r = t.length;
            for (a = []; ++e < r; ) a[e - 1] = ao.quantile(n, e / r);
            return o;
        }
        function o(n) {
            return isNaN(n = +n) ? void 0 : t[ao.bisect(a, n)];
        }
        var a;
        return o.domain = function(t) {
            return arguments.length ? (n = t.map(r).filter(i).sort(e), u()) : n;
        }, o.range = function(n) {
            return arguments.length ? (t = n, u()) : t;
        }, o.quantiles = function() {
            return a;
        }, o.invertExtent = function(e) {
            return e = t.indexOf(e), 0 > e ? [ NaN, NaN ] : [ e > 0 ? a[e - 1] : n[0], e < a.length ? a[e] : n[n.length - 1] ];
        }, o.copy = function() {
            return au(n, t);
        }, u();
    }
    function lu(n, t, e) {
        function r(t) {
            return e[Math.max(0, Math.min(o, Math.floor(u * (t - n))))];
        }
        function i() {
            return u = e.length / (t - n), o = e.length - 1, r;
        }
        var u, o;
        return r.domain = function(e) {
            return arguments.length ? (n = +e[0], t = +e[e.length - 1], i()) : [ n, t ];
        }, r.range = function(n) {
            return arguments.length ? (e = n, i()) : e;
        }, r.invertExtent = function(t) {
            return t = e.indexOf(t), t = 0 > t ? NaN : t / u + n, [ t, t + 1 / u ];
        }, r.copy = function() {
            return lu(n, t, e);
        }, i();
    }
    function cu(n, t) {
        function e(e) {
            return e >= e ? t[ao.bisect(n, e)] : void 0;
        }
        return e.domain = function(t) {
            return arguments.length ? (n = t, e) : n;
        }, e.range = function(n) {
            return arguments.length ? (t = n, e) : t;
        }, e.invertExtent = function(e) {
            return e = t.indexOf(e), [ n[e - 1], n[e] ];
        }, e.copy = function() {
            return cu(n, t);
        }, e;
    }
    function fu(n) {
        function t(n) {
            return +n;
        }
        return t.invert = t, t.domain = t.range = function(e) {
            return arguments.length ? (n = e.map(t), t) : n;
        }, t.ticks = function(t) {
            return Qi(n, t);
        }, t.tickFormat = function(t, e) {
            return nu(n, t, e);
        }, t.copy = function() {
            return fu(n);
        }, t;
    }
    function su() {
        return 0;
    }
    function hu(n) {
        return n.innerRadius;
    }
    function pu(n) {
        return n.outerRadius;
    }
    function gu(n) {
        return n.startAngle;
    }
    function vu(n) {
        return n.endAngle;
    }
    function du(n) {
        return n && n.padAngle;
    }
    function yu(n, t, e, r) {
        return (n - e) * t - (t - r) * n > 0 ? 0 : 1;
    }
    function mu(n, t, e, r, i) {
        var u = n[0] - t[0], o = n[1] - t[1], a = (i ? r : -r) / Math.sqrt(u * u + o * o), l = a * o, c = -a * u, f = n[0] + l, s = n[1] + c, h = t[0] + l, p = t[1] + c, g = (f + h) / 2, v = (s + p) / 2, d = h - f, y = p - s, m = d * d + y * y, M = e - r, x = f * p - h * s, b = (0 > y ? -1 : 1) * Math.sqrt(Math.max(0, M * M * m - x * x)), _ = (x * y - d * b) / m, w = (-x * d - y * b) / m, S = (x * y + d * b) / m, k = (-x * d + y * b) / m, N = _ - g, E = w - v, A = S - g, C = k - v;
        return N * N + E * E > A * A + C * C && (_ = S, w = k), [ [ _ - l, w - c ], [ _ * e / M, w * e / M ] ];
    }
    function Mu(n) {
        function t(t) {
            function o() {
                c.push("M", u(n(f), a));
            }
            for (var l, c = [], f = [], s = -1, h = t.length, p = En(e), g = En(r); ++s < h; ) i.call(this, l = t[s], s) ? f.push([ +p.call(this, l, s), +g.call(this, l, s) ]) : f.length && (o(), 
            f = []);
            return f.length && o(), c.length ? c.join("") : null;
        }
        var e = Ce, r = ze, i = zt, u = xu, o = u.key, a = .7;
        return t.x = function(n) {
            return arguments.length ? (e = n, t) : e;
        }, t.y = function(n) {
            return arguments.length ? (r = n, t) : r;
        }, t.defined = function(n) {
            return arguments.length ? (i = n, t) : i;
        }, t.interpolate = function(n) {
            return arguments.length ? (o = "function" == typeof n ? u = n : (u = Tl.get(n) || xu).key, 
            t) : o;
        }, t.tension = function(n) {
            return arguments.length ? (a = n, t) : a;
        }, t;
    }
    function xu(n) {
        return n.length > 1 ? n.join("L") : n + "Z";
    }
    function bu(n) {
        return n.join("L") + "Z";
    }
    function _u(n) {
        for (var t = 0, e = n.length, r = n[0], i = [ r[0], ",", r[1] ]; ++t < e; ) i.push("H", (r[0] + (r = n[t])[0]) / 2, "V", r[1]);
        return e > 1 && i.push("H", r[0]), i.join("");
    }
    function wu(n) {
        for (var t = 0, e = n.length, r = n[0], i = [ r[0], ",", r[1] ]; ++t < e; ) i.push("V", (r = n[t])[1], "H", r[0]);
        return i.join("");
    }
    function Su(n) {
        for (var t = 0, e = n.length, r = n[0], i = [ r[0], ",", r[1] ]; ++t < e; ) i.push("H", (r = n[t])[0], "V", r[1]);
        return i.join("");
    }
    function ku(n, t) {
        return n.length < 4 ? xu(n) : n[1] + Au(n.slice(1, -1), Cu(n, t));
    }
    function Nu(n, t) {
        return n.length < 3 ? bu(n) : n[0] + Au((n.push(n[0]), n), Cu([ n[n.length - 2] ].concat(n, [ n[1] ]), t));
    }
    function Eu(n, t) {
        return n.length < 3 ? xu(n) : n[0] + Au(n, Cu(n, t));
    }
    function Au(n, t) {
        if (t.length < 1 || n.length != t.length && n.length != t.length + 2) return xu(n);
        var e = n.length != t.length, r = "", i = n[0], u = n[1], o = t[0], a = o, l = 1;
        if (e && (r += "Q" + (u[0] - 2 * o[0] / 3) + "," + (u[1] - 2 * o[1] / 3) + "," + u[0] + "," + u[1], 
        i = n[1], l = 2), t.length > 1) {
            a = t[1], u = n[l], l++, r += "C" + (i[0] + o[0]) + "," + (i[1] + o[1]) + "," + (u[0] - a[0]) + "," + (u[1] - a[1]) + "," + u[0] + "," + u[1];
            for (var c = 2; c < t.length; c++, l++) u = n[l], a = t[c], r += "S" + (u[0] - a[0]) + "," + (u[1] - a[1]) + "," + u[0] + "," + u[1];
        }
        if (e) {
            var f = n[l];
            r += "Q" + (u[0] + 2 * a[0] / 3) + "," + (u[1] + 2 * a[1] / 3) + "," + f[0] + "," + f[1];
        }
        return r;
    }
    function Cu(n, t) {
        for (var e, r = [], i = (1 - t) / 2, u = n[0], o = n[1], a = 1, l = n.length; ++a < l; ) e = u, 
        u = o, o = n[a], r.push([ i * (o[0] - e[0]), i * (o[1] - e[1]) ]);
        return r;
    }
    function zu(n) {
        if (n.length < 3) return xu(n);
        var t = 1, e = n.length, r = n[0], i = r[0], u = r[1], o = [ i, i, i, (r = n[1])[0] ], a = [ u, u, u, r[1] ], l = [ i, ",", u, "L", Ru(Pl, o), ",", Ru(Pl, a) ];
        for (n.push(n[e - 1]); ++t <= e; ) r = n[t], o.shift(), o.push(r[0]), a.shift(), 
        a.push(r[1]), Du(l, o, a);
        return n.pop(), l.push("L", r), l.join("");
    }
    function Lu(n) {
        if (n.length < 4) return xu(n);
        for (var t, e = [], r = -1, i = n.length, u = [ 0 ], o = [ 0 ]; ++r < 3; ) t = n[r], 
        u.push(t[0]), o.push(t[1]);
        for (e.push(Ru(Pl, u) + "," + Ru(Pl, o)), --r; ++r < i; ) t = n[r], u.shift(), u.push(t[0]), 
        o.shift(), o.push(t[1]), Du(e, u, o);
        return e.join("");
    }
    function qu(n) {
        for (var t, e, r = -1, i = n.length, u = i + 4, o = [], a = []; ++r < 4; ) e = n[r % i], 
        o.push(e[0]), a.push(e[1]);
        for (t = [ Ru(Pl, o), ",", Ru(Pl, a) ], --r; ++r < u; ) e = n[r % i], o.shift(), 
        o.push(e[0]), a.shift(), a.push(e[1]), Du(t, o, a);
        return t.join("");
    }
    function Tu(n, t) {
        var e = n.length - 1;
        if (e) for (var r, i, u = n[0][0], o = n[0][1], a = n[e][0] - u, l = n[e][1] - o, c = -1; ++c <= e; ) r = n[c], 
        i = c / e, r[0] = t * r[0] + (1 - t) * (u + i * a), r[1] = t * r[1] + (1 - t) * (o + i * l);
        return zu(n);
    }
    function Ru(n, t) {
        return n[0] * t[0] + n[1] * t[1] + n[2] * t[2] + n[3] * t[3];
    }
    function Du(n, t, e) {
        n.push("C", Ru(Rl, t), ",", Ru(Rl, e), ",", Ru(Dl, t), ",", Ru(Dl, e), ",", Ru(Pl, t), ",", Ru(Pl, e));
    }
    function Pu(n, t) {
        return (t[1] - n[1]) / (t[0] - n[0]);
    }
    function Uu(n) {
        for (var t = 0, e = n.length - 1, r = [], i = n[0], u = n[1], o = r[0] = Pu(i, u); ++t < e; ) r[t] = (o + (o = Pu(i = u, u = n[t + 1]))) / 2;
        return r[t] = o, r;
    }
    function ju(n) {
        for (var t, e, r, i, u = [], o = Uu(n), a = -1, l = n.length - 1; ++a < l; ) t = Pu(n[a], n[a + 1]), 
        xo(t) < Uo ? o[a] = o[a + 1] = 0 : (e = o[a] / t, r = o[a + 1] / t, i = e * e + r * r, 
        i > 9 && (i = 3 * t / Math.sqrt(i), o[a] = i * e, o[a + 1] = i * r));
        for (a = -1; ++a <= l; ) i = (n[Math.min(l, a + 1)][0] - n[Math.max(0, a - 1)][0]) / (6 * (1 + o[a] * o[a])), 
        u.push([ i || 0, o[a] * i || 0 ]);
        return u;
    }
    function Fu(n) {
        return n.length < 3 ? xu(n) : n[0] + Au(n, ju(n));
    }
    function Hu(n) {
        for (var t, e, r, i = -1, u = n.length; ++i < u; ) t = n[i], e = t[0], r = t[1] - Io, 
        t[0] = e * Math.cos(r), t[1] = e * Math.sin(r);
        return n;
    }
    function Ou(n) {
        function t(t) {
            function l() {
                v.push("M", a(n(y), s), f, c(n(d.reverse()), s), "Z");
            }
            for (var h, p, g, v = [], d = [], y = [], m = -1, M = t.length, x = En(e), b = En(i), _ = e === r ? function() {
                return p;
            } : En(r), w = i === u ? function() {
                return g;
            } : En(u); ++m < M; ) o.call(this, h = t[m], m) ? (d.push([ p = +x.call(this, h, m), g = +b.call(this, h, m) ]), 
            y.push([ +_.call(this, h, m), +w.call(this, h, m) ])) : d.length && (l(), d = [], 
            y = []);
            return d.length && l(), v.length ? v.join("") : null;
        }
        var e = Ce, r = Ce, i = 0, u = ze, o = zt, a = xu, l = a.key, c = a, f = "L", s = .7;
        return t.x = function(n) {
            return arguments.length ? (e = r = n, t) : r;
        }, t.x0 = function(n) {
            return arguments.length ? (e = n, t) : e;
        }, t.x1 = function(n) {
            return arguments.length ? (r = n, t) : r;
        }, t.y = function(n) {
            return arguments.length ? (i = u = n, t) : u;
        }, t.y0 = function(n) {
            return arguments.length ? (i = n, t) : i;
        }, t.y1 = function(n) {
            return arguments.length ? (u = n, t) : u;
        }, t.defined = function(n) {
            return arguments.length ? (o = n, t) : o;
        }, t.interpolate = function(n) {
            return arguments.length ? (l = "function" == typeof n ? a = n : (a = Tl.get(n) || xu).key, 
            c = a.reverse || a, f = a.closed ? "M" : "L", t) : l;
        }, t.tension = function(n) {
            return arguments.length ? (s = n, t) : s;
        }, t;
    }
    function Iu(n) {
        return n.radius;
    }
    function Yu(n) {
        return [ n.x, n.y ];
    }
    function Zu(n) {
        return function() {
            var t = n.apply(this, arguments), e = t[0], r = t[1] - Io;
            return [ e * Math.cos(r), e * Math.sin(r) ];
        };
    }
    function Vu() {
        return 64;
    }
    function Xu() {
        return "circle";
    }
    function $u(n) {
        var t = Math.sqrt(n / Fo);
        return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z";
    }
    function Bu(n) {
        return function() {
            var t, e, r;
            (t = this[n]) && (r = t[e = t.active]) && (r.timer.c = null, r.timer.t = NaN, --t.count ? delete t[e] : delete this[n], 
            t.active += .5, r.event && r.event.interrupt.call(this, this.__data__, r.index));
        };
    }
    function Wu(n, t, e) {
        return ko(n, Yl), n.namespace = t, n.id = e, n;
    }
    function Ju(n, t, e, r) {
        var i = n.id, u = n.namespace;
        return Y(n, "function" == typeof e ? function(n, o, a) {
            n[u][i].tween.set(t, r(e.call(n, n.__data__, o, a)));
        } : (e = r(e), function(n) {
            n[u][i].tween.set(t, e);
        }));
    }
    function Gu(n) {
        return null == n && (n = ""), function() {
            this.textContent = n;
        };
    }
    function Ku(n) {
        return null == n ? "__transition__" : "__transition_" + n + "__";
    }
    function Qu(n, t, e, r, i) {
        function u(n) {
            var t = v.delay;
            return f.t = t + l, n >= t ? o(n - t) : void (f.c = o);
        }
        function o(e) {
            var i = g.active, u = g[i];
            u && (u.timer.c = null, u.timer.t = NaN, --g.count, delete g[i], u.event && u.event.interrupt.call(n, n.__data__, u.index));
            for (var o in g) if (r > +o) {
                var c = g[o];
                c.timer.c = null, c.timer.t = NaN, --g.count, delete g[o];
            }
            f.c = a, qn(function() {
                return f.c && a(e || 1) && (f.c = null, f.t = NaN), 1;
            }, 0, l), g.active = r, v.event && v.event.start.call(n, n.__data__, t), p = [], 
            v.tween.forEach(function(e, r) {
                (r = r.call(n, n.__data__, t)) && p.push(r);
            }), h = v.ease, s = v.duration;
        }
        function a(i) {
            for (var u = i / s, o = h(u), a = p.length; a > 0; ) p[--a].call(n, o);
            return u >= 1 ? (v.event && v.event.end.call(n, n.__data__, t), --g.count ? delete g[r] : delete n[e], 
            1) : void 0;
        }
        var l, f, s, h, p, g = n[e] || (n[e] = {
            active: 0,
            count: 0
        }), v = g[r];
        v || (l = i.time, f = qn(u, 0, l), v = g[r] = {
            tween: new c(),
            time: l,
            timer: f,
            delay: i.delay,
            duration: i.duration,
            ease: i.ease,
            index: t
        }, i = null, ++g.count);
    }
    function no(n, t, e) {
        n.attr("transform", function(n) {
            var r = t(n);
            return "translate(" + (isFinite(r) ? r : e(n)) + ",0)";
        });
    }
    function to(n, t, e) {
        n.attr("transform", function(n) {
            var r = t(n);
            return "translate(0," + (isFinite(r) ? r : e(n)) + ")";
        });
    }
    function eo(n) {
        return n.toISOString();
    }
    function ro(n, t, e) {
        function r(t) {
            return n(t);
        }
        function i(n, e) {
            var r = n[1] - n[0], i = r / e, u = ao.bisect(Kl, i);
            return u == Kl.length ? [ t.year, Ki(n.map(function(n) {
                return n / 31536e6;
            }), e)[2] ] : u ? t[i / Kl[u - 1] < Kl[u] / i ? u - 1 : u] : [ tc, Ki(n, e)[2] ];
        }
        return r.invert = function(t) {
            return io(n.invert(t));
        }, r.domain = function(t) {
            return arguments.length ? (n.domain(t), r) : n.domain().map(io);
        }, r.nice = function(n, t) {
            function e(e) {
                return !isNaN(e) && !n.range(e, io(+e + 1), t).length;
            }
            var u = r.domain(), o = Yi(u), a = null == n ? i(o, 10) : "number" == typeof n && i(o, n);
            return a && (n = a[0], t = a[1]), r.domain(Xi(u, t > 1 ? {
                floor: function(t) {
                    for (;e(t = n.floor(t)); ) t = io(t - 1);
                    return t;
                },
                ceil: function(t) {
                    for (;e(t = n.ceil(t)); ) t = io(+t + 1);
                    return t;
                }
            } : n));
        }, r.ticks = function(n, t) {
            var e = Yi(r.domain()), u = null == n ? i(e, 10) : "number" == typeof n ? i(e, n) : !n.range && [ {
                range: n
            }, t ];
            return u && (n = u[0], t = u[1]), n.range(e[0], io(+e[1] + 1), 1 > t ? 1 : t);
        }, r.tickFormat = function() {
            return e;
        }, r.copy = function() {
            return ro(n.copy(), t, e);
        }, Ji(r, n);
    }
    function io(n) {
        return new Date(n);
    }
    function uo(n) {
        return JSON.parse(n.responseText);
    }
    function oo(n) {
        var t = fo.createRange();
        return t.selectNode(fo.body), t.createContextualFragment(n.responseText);
    }
    var ao = {
        version: "3.5.17"
    }, lo = [].slice, co = function(n) {
        return lo.call(n);
    }, fo = this.document;
    if (fo) try {
        co(fo.documentElement.childNodes)[0].nodeType;
    } catch (so) {
        co = function(n) {
            for (var t = n.length, e = new Array(t); t--; ) e[t] = n[t];
            return e;
        };
    }
    if (Date.now || (Date.now = function() {
        return +new Date();
    }), fo) try {
        fo.createElement("DIV").style.setProperty("opacity", 0, "");
    } catch (ho) {
        var po = this.Element.prototype, go = po.setAttribute, vo = po.setAttributeNS, yo = this.CSSStyleDeclaration.prototype, mo = yo.setProperty;
        po.setAttribute = function(n, t) {
            go.call(this, n, t + "");
        }, po.setAttributeNS = function(n, t, e) {
            vo.call(this, n, t, e + "");
        }, yo.setProperty = function(n, t, e) {
            mo.call(this, n, t + "", e);
        };
    }
    ao.ascending = e, ao.descending = function(n, t) {
        return n > t ? -1 : t > n ? 1 : t >= n ? 0 : NaN;
    }, ao.min = function(n, t) {
        var e, r, i = -1, u = n.length;
        if (1 === arguments.length) {
            for (;++i < u; ) if (null != (r = n[i]) && r >= r) {
                e = r;
                break;
            }
            for (;++i < u; ) null != (r = n[i]) && e > r && (e = r);
        } else {
            for (;++i < u; ) if (null != (r = t.call(n, n[i], i)) && r >= r) {
                e = r;
                break;
            }
            for (;++i < u; ) null != (r = t.call(n, n[i], i)) && e > r && (e = r);
        }
        return e;
    }, ao.max = function(n, t) {
        var e, r, i = -1, u = n.length;
        if (1 === arguments.length) {
            for (;++i < u; ) if (null != (r = n[i]) && r >= r) {
                e = r;
                break;
            }
            for (;++i < u; ) null != (r = n[i]) && r > e && (e = r);
        } else {
            for (;++i < u; ) if (null != (r = t.call(n, n[i], i)) && r >= r) {
                e = r;
                break;
            }
            for (;++i < u; ) null != (r = t.call(n, n[i], i)) && r > e && (e = r);
        }
        return e;
    }, ao.extent = function(n, t) {
        var e, r, i, u = -1, o = n.length;
        if (1 === arguments.length) {
            for (;++u < o; ) if (null != (r = n[u]) && r >= r) {
                e = i = r;
                break;
            }
            for (;++u < o; ) null != (r = n[u]) && (e > r && (e = r), r > i && (i = r));
        } else {
            for (;++u < o; ) if (null != (r = t.call(n, n[u], u)) && r >= r) {
                e = i = r;
                break;
            }
            for (;++u < o; ) null != (r = t.call(n, n[u], u)) && (e > r && (e = r), r > i && (i = r));
        }
        return [ e, i ];
    }, ao.sum = function(n, t) {
        var e, r = 0, u = n.length, o = -1;
        if (1 === arguments.length) for (;++o < u; ) i(e = +n[o]) && (r += e); else for (;++o < u; ) i(e = +t.call(n, n[o], o)) && (r += e);
        return r;
    }, ao.mean = function(n, t) {
        var e, u = 0, o = n.length, a = -1, l = o;
        if (1 === arguments.length) for (;++a < o; ) i(e = r(n[a])) ? u += e : --l; else for (;++a < o; ) i(e = r(t.call(n, n[a], a))) ? u += e : --l;
        return l ? u / l : void 0;
    }, ao.quantile = function(n, t) {
        var e = (n.length - 1) * t + 1, r = Math.floor(e), i = +n[r - 1], u = e - r;
        return u ? i + u * (n[r] - i) : i;
    }, ao.median = function(n, t) {
        var u, o = [], a = n.length, l = -1;
        if (1 === arguments.length) for (;++l < a; ) i(u = r(n[l])) && o.push(u); else for (;++l < a; ) i(u = r(t.call(n, n[l], l))) && o.push(u);
        return o.length ? ao.quantile(o.sort(e), .5) : void 0;
    }, ao.variance = function(n, t) {
        var e, u, o = n.length, a = 0, l = 0, c = -1, f = 0;
        if (1 === arguments.length) for (;++c < o; ) i(e = r(n[c])) && (u = e - a, a += u / ++f, 
        l += u * (e - a)); else for (;++c < o; ) i(e = r(t.call(n, n[c], c))) && (u = e - a, 
        a += u / ++f, l += u * (e - a));
        return f > 1 ? l / (f - 1) : void 0;
    }, ao.deviation = function() {
        var n = ao.variance.apply(this, arguments);
        return n ? Math.sqrt(n) : n;
    };
    var Mo = u(e);
    ao.bisectLeft = Mo.left, ao.bisect = ao.bisectRight = Mo.right, ao.bisector = function(n) {
        return u(1 === n.length ? function(t, r) {
            return e(n(t), r);
        } : n);
    }, ao.shuffle = function(n, t, e) {
        (u = arguments.length) < 3 && (e = n.length, 2 > u && (t = 0));
        for (var r, i, u = e - t; u; ) i = Math.random() * u-- | 0, r = n[u + t], n[u + t] = n[i + t], 
        n[i + t] = r;
        return n;
    }, ao.permute = function(n, t) {
        for (var e = t.length, r = new Array(e); e--; ) r[e] = n[t[e]];
        return r;
    }, ao.pairs = function(n) {
        for (var t, e = 0, r = n.length - 1, i = n[0], u = new Array(0 > r ? 0 : r); r > e; ) u[e] = [ t = i, i = n[++e] ];
        return u;
    }, ao.transpose = function(n) {
        if (!(i = n.length)) return [];
        for (var t = -1, e = ao.min(n, o), r = new Array(e); ++t < e; ) for (var i, u = -1, a = r[t] = new Array(i); ++u < i; ) a[u] = n[u][t];
        return r;
    }, ao.zip = function() {
        return ao.transpose(arguments);
    }, ao.keys = function(n) {
        var t = [];
        for (var e in n) t.push(e);
        return t;
    }, ao.values = function(n) {
        var t = [];
        for (var e in n) t.push(n[e]);
        return t;
    }, ao.entries = function(n) {
        var t = [];
        for (var e in n) t.push({
            key: e,
            value: n[e]
        });
        return t;
    }, ao.merge = function(n) {
        for (var t, e, r, i = n.length, u = -1, o = 0; ++u < i; ) o += n[u].length;
        for (e = new Array(o); --i >= 0; ) for (r = n[i], t = r.length; --t >= 0; ) e[--o] = r[t];
        return e;
    };
    var xo = Math.abs;
    ao.range = function(n, t, e) {
        if (arguments.length < 3 && (e = 1, arguments.length < 2 && (t = n, n = 0)), (t - n) / e === 1 / 0) throw new Error("infinite range");
        var r, i = [], u = a(xo(e)), o = -1;
        if (n *= u, t *= u, e *= u, 0 > e) for (;(r = n + e * ++o) > t; ) i.push(r / u); else for (;(r = n + e * ++o) < t; ) i.push(r / u);
        return i;
    }, ao.map = function(n, t) {
        var e = new c();
        if (n instanceof c) n.forEach(function(n, t) {
            e.set(n, t);
        }); else if (Array.isArray(n)) {
            var r, i = -1, u = n.length;
            if (1 === arguments.length) for (;++i < u; ) e.set(i, n[i]); else for (;++i < u; ) e.set(t.call(n, r = n[i], i), r);
        } else for (var o in n) e.set(o, n[o]);
        return e;
    };
    var bo = "__proto__", _o = "\0";
    l(c, {
        has: h,
        get: function(n) {
            return this._[f(n)];
        },
        set: function(n, t) {
            return this._[f(n)] = t;
        },
        remove: p,
        keys: g,
        values: function() {
            var n = [];
            for (var t in this._) n.push(this._[t]);
            return n;
        },
        entries: function() {
            var n = [];
            for (var t in this._) n.push({
                key: s(t),
                value: this._[t]
            });
            return n;
        },
        size: v,
        empty: d,
        forEach: function(n) {
            for (var t in this._) n.call(this, s(t), this._[t]);
        }
    }), ao.nest = function() {
        function n(t, o, a) {
            if (a >= u.length) return r ? r.call(i, o) : e ? o.sort(e) : o;
            for (var l, f, s, h, p = -1, g = o.length, v = u[a++], d = new c(); ++p < g; ) (h = d.get(l = v(f = o[p]))) ? h.push(f) : d.set(l, [ f ]);
            return t ? (f = t(), s = function(e, r) {
                f.set(e, n(t, r, a));
            }) : (f = {}, s = function(e, r) {
                f[e] = n(t, r, a);
            }), d.forEach(s), f;
        }
        function t(n, e) {
            if (e >= u.length) return n;
            var r = [], i = o[e++];
            return n.forEach(function(n, i) {
                r.push({
                    key: n,
                    values: t(i, e)
                });
            }), i ? r.sort(function(n, t) {
                return i(n.key, t.key);
            }) : r;
        }
        var e, r, i = {}, u = [], o = [];
        return i.map = function(t, e) {
            return n(e, t, 0);
        }, i.entries = function(e) {
            return t(n(ao.map, e, 0), 0);
        }, i.key = function(n) {
            return u.push(n), i;
        }, i.sortKeys = function(n) {
            return o[u.length - 1] = n, i;
        }, i.sortValues = function(n) {
            return e = n, i;
        }, i.rollup = function(n) {
            return r = n, i;
        }, i;
    }, ao.set = function(n) {
        var t = new y();
        if (n) for (var e = 0, r = n.length; r > e; ++e) t.add(n[e]);
        return t;
    }, l(y, {
        has: h,
        add: function(n) {
            return this._[f(n += "")] = !0, n;
        },
        remove: p,
        values: g,
        size: v,
        empty: d,
        forEach: function(n) {
            for (var t in this._) n.call(this, s(t));
        }
    }), ao.behavior = {}, ao.rebind = function(n, t) {
        for (var e, r = 1, i = arguments.length; ++r < i; ) n[e = arguments[r]] = M(n, t, t[e]);
        return n;
    };
    var wo = [ "webkit", "ms", "moz", "Moz", "o", "O" ];
    ao.dispatch = function() {
        for (var n = new _(), t = -1, e = arguments.length; ++t < e; ) n[arguments[t]] = w(n);
        return n;
    }, _.prototype.on = function(n, t) {
        var e = n.indexOf("."), r = "";
        if (e >= 0 && (r = n.slice(e + 1), n = n.slice(0, e)), n) return arguments.length < 2 ? this[n].on(r) : this[n].on(r, t);
        if (2 === arguments.length) {
            if (null == t) for (n in this) this.hasOwnProperty(n) && this[n].on(r, null);
            return this;
        }
    }, ao.event = null, ao.requote = function(n) {
        return n.replace(So, "\\$&");
    };
    var So = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g, ko = {}.__proto__ ? function(n, t) {
        n.__proto__ = t;
    } : function(n, t) {
        for (var e in t) n[e] = t[e];
    }, No = function(n, t) {
        return t.querySelector(n);
    }, Eo = function(n, t) {
        return t.querySelectorAll(n);
    }, Ao = function(n, t) {
        var e = n.matches || n[x(n, "matchesSelector")];
        return (Ao = function(n, t) {
            return e.call(n, t);
        })(n, t);
    };
    "function" == typeof Sizzle && (No = function(n, t) {
        return Sizzle(n, t)[0] || null;
    }, Eo = Sizzle, Ao = Sizzle.matchesSelector), ao.selection = function() {
        return ao.select(fo.documentElement);
    };
    var Co = ao.selection.prototype = [];
    Co.select = function(n) {
        var t, e, r, i, u = [];
        n = A(n);
        for (var o = -1, a = this.length; ++o < a; ) {
            u.push(t = []), t.parentNode = (r = this[o]).parentNode;
            for (var l = -1, c = r.length; ++l < c; ) (i = r[l]) ? (t.push(e = n.call(i, i.__data__, l, o)), 
            e && "__data__" in i && (e.__data__ = i.__data__)) : t.push(null);
        }
        return E(u);
    }, Co.selectAll = function(n) {
        var t, e, r = [];
        n = C(n);
        for (var i = -1, u = this.length; ++i < u; ) for (var o = this[i], a = -1, l = o.length; ++a < l; ) (e = o[a]) && (r.push(t = co(n.call(e, e.__data__, a, i))), 
        t.parentNode = e);
        return E(r);
    };
    var zo = "http://www.w3.org/1999/xhtml", Lo = {
        svg: "http://www.w3.org/2000/svg",
        xhtml: zo,
        xlink: "http://www.w3.org/1999/xlink",
        xml: "http://www.w3.org/XML/1998/namespace",
        xmlns: "http://www.w3.org/2000/xmlns/"
    };
    ao.ns = {
        prefix: Lo,
        qualify: function(n) {
            var t = n.indexOf(":"), e = n;
            return t >= 0 && "xmlns" !== (e = n.slice(0, t)) && (n = n.slice(t + 1)), Lo.hasOwnProperty(e) ? {
                space: Lo[e],
                local: n
            } : n;
        }
    }, Co.attr = function(n, t) {
        if (arguments.length < 2) {
            if ("string" == typeof n) {
                var e = this.node();
                return n = ao.ns.qualify(n), n.local ? e.getAttributeNS(n.space, n.local) : e.getAttribute(n);
            }
            for (t in n) this.each(z(t, n[t]));
            return this;
        }
        return this.each(z(n, t));
    }, Co.classed = function(n, t) {
        if (arguments.length < 2) {
            if ("string" == typeof n) {
                var e = this.node(), r = (n = T(n)).length, i = -1;
                if (t = e.classList) {
                    for (;++i < r; ) if (!t.contains(n[i])) return !1;
                } else for (t = e.getAttribute("class"); ++i < r; ) if (!q(n[i]).test(t)) return !1;
                return !0;
            }
            for (t in n) this.each(R(t, n[t]));
            return this;
        }
        return this.each(R(n, t));
    }, Co.style = function(n, e, r) {
        var i = arguments.length;
        if (3 > i) {
            if ("string" != typeof n) {
                2 > i && (e = "");
                for (r in n) this.each(P(r, n[r], e));
                return this;
            }
            if (2 > i) {
                var u = this.node();
                return t(u).getComputedStyle(u, null).getPropertyValue(n);
            }
            r = "";
        }
        return this.each(P(n, e, r));
    }, Co.property = function(n, t) {
        if (arguments.length < 2) {
            if ("string" == typeof n) return this.node()[n];
            for (t in n) this.each(U(t, n[t]));
            return this;
        }
        return this.each(U(n, t));
    }, Co.text = function(n) {
        return arguments.length ? this.each("function" == typeof n ? function() {
            var t = n.apply(this, arguments);
            this.textContent = null == t ? "" : t;
        } : null == n ? function() {
            this.textContent = "";
        } : function() {
            this.textContent = n;
        }) : this.node().textContent;
    }, Co.html = function(n) {
        return arguments.length ? this.each("function" == typeof n ? function() {
            var t = n.apply(this, arguments);
            this.innerHTML = null == t ? "" : t;
        } : null == n ? function() {
            this.innerHTML = "";
        } : function() {
            this.innerHTML = n;
        }) : this.node().innerHTML;
    }, Co.append = function(n) {
        return n = j(n), this.select(function() {
            return this.appendChild(n.apply(this, arguments));
        });
    }, Co.insert = function(n, t) {
        return n = j(n), t = A(t), this.select(function() {
            return this.insertBefore(n.apply(this, arguments), t.apply(this, arguments) || null);
        });
    }, Co.remove = function() {
        return this.each(F);
    }, Co.data = function(n, t) {
        function e(n, e) {
            var r, i, u, o = n.length, s = e.length, h = Math.min(o, s), p = new Array(s), g = new Array(s), v = new Array(o);
            if (t) {
                var d, y = new c(), m = new Array(o);
                for (r = -1; ++r < o; ) (i = n[r]) && (y.has(d = t.call(i, i.__data__, r)) ? v[r] = i : y.set(d, i), 
                m[r] = d);
                for (r = -1; ++r < s; ) (i = y.get(d = t.call(e, u = e[r], r))) ? i !== !0 && (p[r] = i, 
                i.__data__ = u) : g[r] = H(u), y.set(d, !0);
                for (r = -1; ++r < o; ) r in m && y.get(m[r]) !== !0 && (v[r] = n[r]);
            } else {
                for (r = -1; ++r < h; ) i = n[r], u = e[r], i ? (i.__data__ = u, p[r] = i) : g[r] = H(u);
                for (;s > r; ++r) g[r] = H(e[r]);
                for (;o > r; ++r) v[r] = n[r];
            }
            g.update = p, g.parentNode = p.parentNode = v.parentNode = n.parentNode, a.push(g), 
            l.push(p), f.push(v);
        }
        var r, i, u = -1, o = this.length;
        if (!arguments.length) {
            for (n = new Array(o = (r = this[0]).length); ++u < o; ) (i = r[u]) && (n[u] = i.__data__);
            return n;
        }
        var a = Z([]), l = E([]), f = E([]);
        if ("function" == typeof n) for (;++u < o; ) e(r = this[u], n.call(r, r.parentNode.__data__, u)); else for (;++u < o; ) e(r = this[u], n);
        return l.enter = function() {
            return a;
        }, l.exit = function() {
            return f;
        }, l;
    }, Co.datum = function(n) {
        return arguments.length ? this.property("__data__", n) : this.property("__data__");
    }, Co.filter = function(n) {
        var t, e, r, i = [];
        "function" != typeof n && (n = O(n));
        for (var u = 0, o = this.length; o > u; u++) {
            i.push(t = []), t.parentNode = (e = this[u]).parentNode;
            for (var a = 0, l = e.length; l > a; a++) (r = e[a]) && n.call(r, r.__data__, a, u) && t.push(r);
        }
        return E(i);
    }, Co.order = function() {
        for (var n = -1, t = this.length; ++n < t; ) for (var e, r = this[n], i = r.length - 1, u = r[i]; --i >= 0; ) (e = r[i]) && (u && u !== e.nextSibling && u.parentNode.insertBefore(e, u), 
        u = e);
        return this;
    }, Co.sort = function(n) {
        n = I.apply(this, arguments);
        for (var t = -1, e = this.length; ++t < e; ) this[t].sort(n);
        return this.order();
    }, Co.each = function(n) {
        return Y(this, function(t, e, r) {
            n.call(t, t.__data__, e, r);
        });
    }, Co.call = function(n) {
        var t = co(arguments);
        return n.apply(t[0] = this, t), this;
    }, Co.empty = function() {
        return !this.node();
    }, Co.node = function() {
        for (var n = 0, t = this.length; t > n; n++) for (var e = this[n], r = 0, i = e.length; i > r; r++) {
            var u = e[r];
            if (u) return u;
        }
        return null;
    }, Co.size = function() {
        var n = 0;
        return Y(this, function() {
            ++n;
        }), n;
    };
    var qo = [];
    ao.selection.enter = Z, ao.selection.enter.prototype = qo, qo.append = Co.append, 
    qo.empty = Co.empty, qo.node = Co.node, qo.call = Co.call, qo.size = Co.size, qo.select = function(n) {
        for (var t, e, r, i, u, o = [], a = -1, l = this.length; ++a < l; ) {
            r = (i = this[a]).update, o.push(t = []), t.parentNode = i.parentNode;
            for (var c = -1, f = i.length; ++c < f; ) (u = i[c]) ? (t.push(r[c] = e = n.call(i.parentNode, u.__data__, c, a)), 
            e.__data__ = u.__data__) : t.push(null);
        }
        return E(o);
    }, qo.insert = function(n, t) {
        return arguments.length < 2 && (t = V(this)), Co.insert.call(this, n, t);
    }, ao.select = function(t) {
        var e;
        return "string" == typeof t ? (e = [ No(t, fo) ], e.parentNode = fo.documentElement) : (e = [ t ], 
        e.parentNode = n(t)), E([ e ]);
    }, ao.selectAll = function(n) {
        var t;
        return "string" == typeof n ? (t = co(Eo(n, fo)), t.parentNode = fo.documentElement) : (t = co(n), 
        t.parentNode = null), E([ t ]);
    }, Co.on = function(n, t, e) {
        var r = arguments.length;
        if (3 > r) {
            if ("string" != typeof n) {
                2 > r && (t = !1);
                for (e in n) this.each(X(e, n[e], t));
                return this;
            }
            if (2 > r) return (r = this.node()["__on" + n]) && r._;
            e = !1;
        }
        return this.each(X(n, t, e));
    };
    var To = ao.map({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    });
    fo && To.forEach(function(n) {
        "on" + n in fo && To.remove(n);
    });
    var Ro, Do = 0;
    ao.mouse = function(n) {
        return J(n, k());
    };
    var Po = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
    ao.touch = function(n, t, e) {
        if (arguments.length < 3 && (e = t, t = k().changedTouches), t) for (var r, i = 0, u = t.length; u > i; ++i) if ((r = t[i]).identifier === e) return J(n, r);
    }, ao.behavior.drag = function() {
        function n() {
            this.on("mousedown.drag", u).on("touchstart.drag", o);
        }
        function e(n, t, e, u, o) {
            return function() {
                function a() {
                    var n, e, r = t(h, v);
                    r && (n = r[0] - M[0], e = r[1] - M[1], g |= n | e, M = r, p({
                        type: "drag",
                        x: r[0] + c[0],
                        y: r[1] + c[1],
                        dx: n,
                        dy: e
                    }));
                }
                function l() {
                    t(h, v) && (y.on(u + d, null).on(o + d, null), m(g), p({
                        type: "dragend"
                    }));
                }
                var c, f = this, s = ao.event.target.correspondingElement || ao.event.target, h = f.parentNode, p = r.of(f, arguments), g = 0, v = n(), d = ".drag" + (null == v ? "" : "-" + v), y = ao.select(e(s)).on(u + d, a).on(o + d, l), m = W(s), M = t(h, v);
                i ? (c = i.apply(f, arguments), c = [ c.x - M[0], c.y - M[1] ]) : c = [ 0, 0 ], 
                p({
                    type: "dragstart"
                });
            };
        }
        var r = N(n, "drag", "dragstart", "dragend"), i = null, u = e(b, ao.mouse, t, "mousemove", "mouseup"), o = e(G, ao.touch, m, "touchmove", "touchend");
        return n.origin = function(t) {
            return arguments.length ? (i = t, n) : i;
        }, ao.rebind(n, r, "on");
    }, ao.touches = function(n, t) {
        return arguments.length < 2 && (t = k().touches), t ? co(t).map(function(t) {
            var e = J(n, t);
            return e.identifier = t.identifier, e;
        }) : [];
    };
    var Uo = 1e-6, jo = Uo * Uo, Fo = Math.PI, Ho = 2 * Fo, Oo = Ho - Uo, Io = Fo / 2, Yo = Fo / 180, Zo = 180 / Fo, Vo = Math.SQRT2, Xo = 2, $o = 4;
    ao.interpolateZoom = function(n, t) {
        var e, r, i = n[0], u = n[1], o = n[2], a = t[0], l = t[1], c = t[2], f = a - i, s = l - u, h = f * f + s * s;
        if (jo > h) r = Math.log(c / o) / Vo, e = function(n) {
            return [ i + n * f, u + n * s, o * Math.exp(Vo * n * r) ];
        }; else {
            var p = Math.sqrt(h), g = (c * c - o * o + $o * h) / (2 * o * Xo * p), v = (c * c - o * o - $o * h) / (2 * c * Xo * p), d = Math.log(Math.sqrt(g * g + 1) - g), y = Math.log(Math.sqrt(v * v + 1) - v);
            r = (y - d) / Vo, e = function(n) {
                var t = n * r, e = rn(d), a = o / (Xo * p) * (e * un(Vo * t + d) - en(d));
                return [ i + a * f, u + a * s, o * e / rn(Vo * t + d) ];
            };
        }
        return e.duration = 1e3 * r, e;
    }, ao.behavior.zoom = function() {
        function n(n) {
            n.on(L, s).on(Wo + ".zoom", p).on("dblclick.zoom", g).on(R, h);
        }
        function e(n) {
            return [ (n[0] - k.x) / k.k, (n[1] - k.y) / k.k ];
        }
        function r(n) {
            return [ n[0] * k.k + k.x, n[1] * k.k + k.y ];
        }
        function i(n) {
            k.k = Math.max(A[0], Math.min(A[1], n));
        }
        function u(n, t) {
            t = r(t), k.x += n[0] - t[0], k.y += n[1] - t[1];
        }
        function o(t, e, r, o) {
            t.__chart__ = {
                x: k.x,
                y: k.y,
                k: k.k
            }, i(Math.pow(2, o)), u(d = e, r), t = ao.select(t), C > 0 && (t = t.transition().duration(C)), 
            t.call(n.event);
        }
        function a() {
            b && b.domain(x.range().map(function(n) {
                return (n - k.x) / k.k;
            }).map(x.invert)), w && w.domain(_.range().map(function(n) {
                return (n - k.y) / k.k;
            }).map(_.invert));
        }
        function l(n) {
            z++ || n({
                type: "zoomstart"
            });
        }
        function c(n) {
            a(), n({
                type: "zoom",
                scale: k.k,
                translate: [ k.x, k.y ]
            });
        }
        function f(n) {
            --z || (n({
                type: "zoomend"
            }), d = null);
        }
        function s() {
            function n() {
                a = 1, u(ao.mouse(i), h), c(o);
            }
            function r() {
                s.on(q, null).on(T, null), p(a), f(o);
            }
            var i = this, o = D.of(i, arguments), a = 0, s = ao.select(t(i)).on(q, n).on(T, r), h = e(ao.mouse(i)), p = W(i);
            Il.call(i), l(o);
        }
        function h() {
            function n() {
                var n = ao.touches(g);
                return p = k.k, n.forEach(function(n) {
                    n.identifier in d && (d[n.identifier] = e(n));
                }), n;
            }
            function t() {
                var t = ao.event.target;
                ao.select(t).on(x, r).on(b, a), _.push(t);
                for (var e = ao.event.changedTouches, i = 0, u = e.length; u > i; ++i) d[e[i].identifier] = null;
                var l = n(), c = Date.now();
                if (1 === l.length) {
                    if (500 > c - M) {
                        var f = l[0];
                        o(g, f, d[f.identifier], Math.floor(Math.log(k.k) / Math.LN2) + 1), S();
                    }
                    M = c;
                } else if (l.length > 1) {
                    var f = l[0], s = l[1], h = f[0] - s[0], p = f[1] - s[1];
                    y = h * h + p * p;
                }
            }
            function r() {
                var n, t, e, r, o = ao.touches(g);
                Il.call(g);
                for (var a = 0, l = o.length; l > a; ++a, r = null) if (e = o[a], r = d[e.identifier]) {
                    if (t) break;
                    n = e, t = r;
                }
                if (r) {
                    var f = (f = e[0] - n[0]) * f + (f = e[1] - n[1]) * f, s = y && Math.sqrt(f / y);
                    n = [ (n[0] + e[0]) / 2, (n[1] + e[1]) / 2 ], t = [ (t[0] + r[0]) / 2, (t[1] + r[1]) / 2 ], 
                    i(s * p);
                }
                M = null, u(n, t), c(v);
            }
            function a() {
                if (ao.event.touches.length) {
                    for (var t = ao.event.changedTouches, e = 0, r = t.length; r > e; ++e) delete d[t[e].identifier];
                    for (var i in d) return void n();
                }
                ao.selectAll(_).on(m, null), w.on(L, s).on(R, h), N(), f(v);
            }
            var p, g = this, v = D.of(g, arguments), d = {}, y = 0, m = ".zoom-" + ao.event.changedTouches[0].identifier, x = "touchmove" + m, b = "touchend" + m, _ = [], w = ao.select(g), N = W(g);
            t(), l(v), w.on(L, null).on(R, t);
        }
        function p() {
            var n = D.of(this, arguments);
            m ? clearTimeout(m) : (Il.call(this), v = e(d = y || ao.mouse(this)), l(n)), m = setTimeout(function() {
                m = null, f(n);
            }, 50), S(), i(Math.pow(2, .002 * Bo()) * k.k), u(d, v), c(n);
        }
        function g() {
            var n = ao.mouse(this), t = Math.log(k.k) / Math.LN2;
            o(this, n, e(n), ao.event.shiftKey ? Math.ceil(t) - 1 : Math.floor(t) + 1);
        }
        var v, d, y, m, M, x, b, _, w, k = {
            x: 0,
            y: 0,
            k: 1
        }, E = [ 960, 500 ], A = Jo, C = 250, z = 0, L = "mousedown.zoom", q = "mousemove.zoom", T = "mouseup.zoom", R = "touchstart.zoom", D = N(n, "zoomstart", "zoom", "zoomend");
        return Wo || (Wo = "onwheel" in fo ? (Bo = function() {
            return -ao.event.deltaY * (ao.event.deltaMode ? 120 : 1);
        }, "wheel") : "onmousewheel" in fo ? (Bo = function() {
            return ao.event.wheelDelta;
        }, "mousewheel") : (Bo = function() {
            return -ao.event.detail;
        }, "MozMousePixelScroll")), n.event = function(n) {
            n.each(function() {
                var n = D.of(this, arguments), t = k;
                Hl ? ao.select(this).transition().each("start.zoom", function() {
                    k = this.__chart__ || {
                        x: 0,
                        y: 0,
                        k: 1
                    }, l(n);
                }).tween("zoom:zoom", function() {
                    var e = E[0], r = E[1], i = d ? d[0] : e / 2, u = d ? d[1] : r / 2, o = ao.interpolateZoom([ (i - k.x) / k.k, (u - k.y) / k.k, e / k.k ], [ (i - t.x) / t.k, (u - t.y) / t.k, e / t.k ]);
                    return function(t) {
                        var r = o(t), a = e / r[2];
                        this.__chart__ = k = {
                            x: i - r[0] * a,
                            y: u - r[1] * a,
                            k: a
                        }, c(n);
                    };
                }).each("interrupt.zoom", function() {
                    f(n);
                }).each("end.zoom", function() {
                    f(n);
                }) : (this.__chart__ = k, l(n), c(n), f(n));
            });
        }, n.translate = function(t) {
            return arguments.length ? (k = {
                x: +t[0],
                y: +t[1],
                k: k.k
            }, a(), n) : [ k.x, k.y ];
        }, n.scale = function(t) {
            return arguments.length ? (k = {
                x: k.x,
                y: k.y,
                k: null
            }, i(+t), a(), n) : k.k;
        }, n.scaleExtent = function(t) {
            return arguments.length ? (A = null == t ? Jo : [ +t[0], +t[1] ], n) : A;
        }, n.center = function(t) {
            return arguments.length ? (y = t && [ +t[0], +t[1] ], n) : y;
        }, n.size = function(t) {
            return arguments.length ? (E = t && [ +t[0], +t[1] ], n) : E;
        }, n.duration = function(t) {
            return arguments.length ? (C = +t, n) : C;
        }, n.x = function(t) {
            return arguments.length ? (b = t, x = t.copy(), k = {
                x: 0,
                y: 0,
                k: 1
            }, n) : b;
        }, n.y = function(t) {
            return arguments.length ? (w = t, _ = t.copy(), k = {
                x: 0,
                y: 0,
                k: 1
            }, n) : w;
        }, ao.rebind(n, D, "on");
    };
    var Bo, Wo, Jo = [ 0, 1 / 0 ];
    ao.color = an, an.prototype.toString = function() {
        return this.rgb() + "";
    }, ao.hsl = ln;
    var Go = ln.prototype = new an();
    Go.brighter = function(n) {
        return n = Math.pow(.7, arguments.length ? n : 1), new ln(this.h, this.s, this.l / n);
    }, Go.darker = function(n) {
        return n = Math.pow(.7, arguments.length ? n : 1), new ln(this.h, this.s, n * this.l);
    }, Go.rgb = function() {
        return cn(this.h, this.s, this.l);
    }, ao.hcl = fn;
    var Ko = fn.prototype = new an();
    Ko.brighter = function(n) {
        return new fn(this.h, this.c, Math.min(100, this.l + Qo * (arguments.length ? n : 1)));
    }, Ko.darker = function(n) {
        return new fn(this.h, this.c, Math.max(0, this.l - Qo * (arguments.length ? n : 1)));
    }, Ko.rgb = function() {
        return sn(this.h, this.c, this.l).rgb();
    }, ao.lab = hn;
    var Qo = 18, na = .95047, ta = 1, ea = 1.08883, ra = hn.prototype = new an();
    ra.brighter = function(n) {
        return new hn(Math.min(100, this.l + Qo * (arguments.length ? n : 1)), this.a, this.b);
    }, ra.darker = function(n) {
        return new hn(Math.max(0, this.l - Qo * (arguments.length ? n : 1)), this.a, this.b);
    }, ra.rgb = function() {
        return pn(this.l, this.a, this.b);
    }, ao.rgb = mn;
    var ia = mn.prototype = new an();
    ia.brighter = function(n) {
        n = Math.pow(.7, arguments.length ? n : 1);
        var t = this.r, e = this.g, r = this.b, i = 30;
        return t || e || r ? (t && i > t && (t = i), e && i > e && (e = i), r && i > r && (r = i), 
        new mn(Math.min(255, t / n), Math.min(255, e / n), Math.min(255, r / n))) : new mn(i, i, i);
    }, ia.darker = function(n) {
        return n = Math.pow(.7, arguments.length ? n : 1), new mn(n * this.r, n * this.g, n * this.b);
    }, ia.hsl = function() {
        return wn(this.r, this.g, this.b);
    }, ia.toString = function() {
        return "#" + bn(this.r) + bn(this.g) + bn(this.b);
    };
    var ua = ao.map({
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    });
    ua.forEach(function(n, t) {
        ua.set(n, Mn(t));
    }), ao.functor = En, ao.xhr = An(m), ao.dsv = function(n, t) {
        function e(n, e, u) {
            arguments.length < 3 && (u = e, e = null);
            var o = Cn(n, t, null == e ? r : i(e), u);
            return o.row = function(n) {
                return arguments.length ? o.response(null == (e = n) ? r : i(n)) : e;
            }, o;
        }
        function r(n) {
            return e.parse(n.responseText);
        }
        function i(n) {
            return function(t) {
                return e.parse(t.responseText, n);
            };
        }
        function u(t) {
            return t.map(o).join(n);
        }
        function o(n) {
            return a.test(n) ? '"' + n.replace(/\"/g, '""') + '"' : n;
        }
        var a = new RegExp('["' + n + "\n]"), l = n.charCodeAt(0);
        return e.parse = function(n, t) {
            var r;
            return e.parseRows(n, function(n, e) {
                if (r) return r(n, e - 1);
                var i = new Function("d", "return {" + n.map(function(n, t) {
                    return JSON.stringify(n) + ": d[" + t + "]";
                }).join(",") + "}");
                r = t ? function(n, e) {
                    return t(i(n), e);
                } : i;
            });
        }, e.parseRows = function(n, t) {
            function e() {
                if (f >= c) return o;
                if (i) return i = !1, u;
                var t = f;
                if (34 === n.charCodeAt(t)) {
                    for (var e = t; e++ < c; ) if (34 === n.charCodeAt(e)) {
                        if (34 !== n.charCodeAt(e + 1)) break;
                        ++e;
                    }
                    f = e + 2;
                    var r = n.charCodeAt(e + 1);
                    return 13 === r ? (i = !0, 10 === n.charCodeAt(e + 2) && ++f) : 10 === r && (i = !0), 
                    n.slice(t + 1, e).replace(/""/g, '"');
                }
                for (;c > f; ) {
                    var r = n.charCodeAt(f++), a = 1;
                    if (10 === r) i = !0; else if (13 === r) i = !0, 10 === n.charCodeAt(f) && (++f, 
                    ++a); else if (r !== l) continue;
                    return n.slice(t, f - a);
                }
                return n.slice(t);
            }
            for (var r, i, u = {}, o = {}, a = [], c = n.length, f = 0, s = 0; (r = e()) !== o; ) {
                for (var h = []; r !== u && r !== o; ) h.push(r), r = e();
                t && null == (h = t(h, s++)) || a.push(h);
            }
            return a;
        }, e.format = function(t) {
            if (Array.isArray(t[0])) return e.formatRows(t);
            var r = new y(), i = [];
            return t.forEach(function(n) {
                for (var t in n) r.has(t) || i.push(r.add(t));
            }), [ i.map(o).join(n) ].concat(t.map(function(t) {
                return i.map(function(n) {
                    return o(t[n]);
                }).join(n);
            })).join("\n");
        }, e.formatRows = function(n) {
            return n.map(u).join("\n");
        }, e;
    }, ao.csv = ao.dsv(",", "text/csv"), ao.tsv = ao.dsv("\t", "text/tab-separated-values");
    var oa, aa, la, ca, fa = this[x(this, "requestAnimationFrame")] || function(n) {
        setTimeout(n, 17);
    };
    ao.timer = function() {
        qn.apply(this, arguments);
    }, ao.timer.flush = function() {
        Rn(), Dn();
    }, ao.round = function(n, t) {
        return t ? Math.round(n * (t = Math.pow(10, t))) / t : Math.round(n);
    };
    var sa = [ "y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y" ].map(Un);
    ao.formatPrefix = function(n, t) {
        var e = 0;
        return (n = +n) && (0 > n && (n *= -1), t && (n = ao.round(n, Pn(n, t))), e = 1 + Math.floor(1e-12 + Math.log(n) / Math.LN10), 
        e = Math.max(-24, Math.min(24, 3 * Math.floor((e - 1) / 3)))), sa[8 + e / 3];
    };
    var ha = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i, pa = ao.map({
        b: function(n) {
            return n.toString(2);
        },
        c: function(n) {
            return String.fromCharCode(n);
        },
        o: function(n) {
            return n.toString(8);
        },
        x: function(n) {
            return n.toString(16);
        },
        X: function(n) {
            return n.toString(16).toUpperCase();
        },
        g: function(n, t) {
            return n.toPrecision(t);
        },
        e: function(n, t) {
            return n.toExponential(t);
        },
        f: function(n, t) {
            return n.toFixed(t);
        },
        r: function(n, t) {
            return (n = ao.round(n, Pn(n, t))).toFixed(Math.max(0, Math.min(20, Pn(n * (1 + 1e-15), t))));
        }
    }), ga = ao.time = {}, va = Date;
    Hn.prototype = {
        getDate: function() {
            return this._.getUTCDate();
        },
        getDay: function() {
            return this._.getUTCDay();
        },
        getFullYear: function() {
            return this._.getUTCFullYear();
        },
        getHours: function() {
            return this._.getUTCHours();
        },
        getMilliseconds: function() {
            return this._.getUTCMilliseconds();
        },
        getMinutes: function() {
            return this._.getUTCMinutes();
        },
        getMonth: function() {
            return this._.getUTCMonth();
        },
        getSeconds: function() {
            return this._.getUTCSeconds();
        },
        getTime: function() {
            return this._.getTime();
        },
        getTimezoneOffset: function() {
            return 0;
        },
        valueOf: function() {
            return this._.valueOf();
        },
        setDate: function() {
            da.setUTCDate.apply(this._, arguments);
        },
        setDay: function() {
            da.setUTCDay.apply(this._, arguments);
        },
        setFullYear: function() {
            da.setUTCFullYear.apply(this._, arguments);
        },
        setHours: function() {
            da.setUTCHours.apply(this._, arguments);
        },
        setMilliseconds: function() {
            da.setUTCMilliseconds.apply(this._, arguments);
        },
        setMinutes: function() {
            da.setUTCMinutes.apply(this._, arguments);
        },
        setMonth: function() {
            da.setUTCMonth.apply(this._, arguments);
        },
        setSeconds: function() {
            da.setUTCSeconds.apply(this._, arguments);
        },
        setTime: function() {
            da.setTime.apply(this._, arguments);
        }
    };
    var da = Date.prototype;
    ga.year = On(function(n) {
        return n = ga.day(n), n.setMonth(0, 1), n;
    }, function(n, t) {
        n.setFullYear(n.getFullYear() + t);
    }, function(n) {
        return n.getFullYear();
    }), ga.years = ga.year.range, ga.years.utc = ga.year.utc.range, ga.day = On(function(n) {
        var t = new va(2e3, 0);
        return t.setFullYear(n.getFullYear(), n.getMonth(), n.getDate()), t;
    }, function(n, t) {
        n.setDate(n.getDate() + t);
    }, function(n) {
        return n.getDate() - 1;
    }), ga.days = ga.day.range, ga.days.utc = ga.day.utc.range, ga.dayOfYear = function(n) {
        var t = ga.year(n);
        return Math.floor((n - t - 6e4 * (n.getTimezoneOffset() - t.getTimezoneOffset())) / 864e5);
    }, [ "sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday" ].forEach(function(n, t) {
        t = 7 - t;
        var e = ga[n] = On(function(n) {
            return (n = ga.day(n)).setDate(n.getDate() - (n.getDay() + t) % 7), n;
        }, function(n, t) {
            n.setDate(n.getDate() + 7 * Math.floor(t));
        }, function(n) {
            var e = ga.year(n).getDay();
            return Math.floor((ga.dayOfYear(n) + (e + t) % 7) / 7) - (e !== t);
        });
        ga[n + "s"] = e.range, ga[n + "s"].utc = e.utc.range, ga[n + "OfYear"] = function(n) {
            var e = ga.year(n).getDay();
            return Math.floor((ga.dayOfYear(n) + (e + t) % 7) / 7);
        };
    }), ga.week = ga.sunday, ga.weeks = ga.sunday.range, ga.weeks.utc = ga.sunday.utc.range, 
    ga.weekOfYear = ga.sundayOfYear;
    var ya = {
        "-": "",
        _: " ",
        0: "0"
    }, ma = /^\s*\d+/, Ma = /^%/;
    ao.locale = function(n) {
        return {
            numberFormat: jn(n),
            timeFormat: Yn(n)
        };
    };
    var xa = ao.locale({
        decimal: ".",
        thousands: ",",
        grouping: [ 3 ],
        currency: [ "$", "" ],
        dateTime: "%a %b %e %X %Y",
        date: "%m/%d/%Y",
        time: "%H:%M:%S",
        periods: [ "AM", "PM" ],
        days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
        shortDays: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
        months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
        shortMonths: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]
    });
    ao.format = xa.numberFormat, ao.geo = {}, ft.prototype = {
        s: 0,
        t: 0,
        add: function(n) {
            st(n, this.t, ba), st(ba.s, this.s, this), this.s ? this.t += ba.t : this.s = ba.t;
        },
        reset: function() {
            this.s = this.t = 0;
        },
        valueOf: function() {
            return this.s;
        }
    };
    var ba = new ft();
    ao.geo.stream = function(n, t) {
        n && _a.hasOwnProperty(n.type) ? _a[n.type](n, t) : ht(n, t);
    };
    var _a = {
        Feature: function(n, t) {
            ht(n.geometry, t);
        },
        FeatureCollection: function(n, t) {
            for (var e = n.features, r = -1, i = e.length; ++r < i; ) ht(e[r].geometry, t);
        }
    }, wa = {
        Sphere: function(n, t) {
            t.sphere();
        },
        Point: function(n, t) {
            n = n.coordinates, t.point(n[0], n[1], n[2]);
        },
        MultiPoint: function(n, t) {
            for (var e = n.coordinates, r = -1, i = e.length; ++r < i; ) n = e[r], t.point(n[0], n[1], n[2]);
        },
        LineString: function(n, t) {
            pt(n.coordinates, t, 0);
        },
        MultiLineString: function(n, t) {
            for (var e = n.coordinates, r = -1, i = e.length; ++r < i; ) pt(e[r], t, 0);
        },
        Polygon: function(n, t) {
            gt(n.coordinates, t);
        },
        MultiPolygon: function(n, t) {
            for (var e = n.coordinates, r = -1, i = e.length; ++r < i; ) gt(e[r], t);
        },
        GeometryCollection: function(n, t) {
            for (var e = n.geometries, r = -1, i = e.length; ++r < i; ) ht(e[r], t);
        }
    };
    ao.geo.area = function(n) {
        return Sa = 0, ao.geo.stream(n, Na), Sa;
    };
    var Sa, ka = new ft(), Na = {
        sphere: function() {
            Sa += 4 * Fo;
        },
        point: b,
        lineStart: b,
        lineEnd: b,
        polygonStart: function() {
            ka.reset(), Na.lineStart = vt;
        },
        polygonEnd: function() {
            var n = 2 * ka;
            Sa += 0 > n ? 4 * Fo + n : n, Na.lineStart = Na.lineEnd = Na.point = b;
        }
    };
    ao.geo.bounds = function() {
        function n(n, t) {
            M.push(x = [ f = n, h = n ]), s > t && (s = t), t > p && (p = t);
        }
        function t(t, e) {
            var r = dt([ t * Yo, e * Yo ]);
            if (y) {
                var i = mt(y, r), u = [ i[1], -i[0], 0 ], o = mt(u, i);
                bt(o), o = _t(o);
                var l = t - g, c = l > 0 ? 1 : -1, v = o[0] * Zo * c, d = xo(l) > 180;
                if (d ^ (v > c * g && c * t > v)) {
                    var m = o[1] * Zo;
                    m > p && (p = m);
                } else if (v = (v + 360) % 360 - 180, d ^ (v > c * g && c * t > v)) {
                    var m = -o[1] * Zo;
                    s > m && (s = m);
                } else s > e && (s = e), e > p && (p = e);
                d ? g > t ? a(f, t) > a(f, h) && (h = t) : a(t, h) > a(f, h) && (f = t) : h >= f ? (f > t && (f = t), 
                t > h && (h = t)) : t > g ? a(f, t) > a(f, h) && (h = t) : a(t, h) > a(f, h) && (f = t);
            } else n(t, e);
            y = r, g = t;
        }
        function e() {
            b.point = t;
        }
        function r() {
            x[0] = f, x[1] = h, b.point = n, y = null;
        }
        function i(n, e) {
            if (y) {
                var r = n - g;
                m += xo(r) > 180 ? r + (r > 0 ? 360 : -360) : r;
            } else v = n, d = e;
            Na.point(n, e), t(n, e);
        }
        function u() {
            Na.lineStart();
        }
        function o() {
            i(v, d), Na.lineEnd(), xo(m) > Uo && (f = -(h = 180)), x[0] = f, x[1] = h, y = null;
        }
        function a(n, t) {
            return (t -= n) < 0 ? t + 360 : t;
        }
        function l(n, t) {
            return n[0] - t[0];
        }
        function c(n, t) {
            return t[0] <= t[1] ? t[0] <= n && n <= t[1] : n < t[0] || t[1] < n;
        }
        var f, s, h, p, g, v, d, y, m, M, x, b = {
            point: n,
            lineStart: e,
            lineEnd: r,
            polygonStart: function() {
                b.point = i, b.lineStart = u, b.lineEnd = o, m = 0, Na.polygonStart();
            },
            polygonEnd: function() {
                Na.polygonEnd(), b.point = n, b.lineStart = e, b.lineEnd = r, 0 > ka ? (f = -(h = 180), 
                s = -(p = 90)) : m > Uo ? p = 90 : -Uo > m && (s = -90), x[0] = f, x[1] = h;
            }
        };
        return function(n) {
            p = h = -(f = s = 1 / 0), M = [], ao.geo.stream(n, b);
            var t = M.length;
            if (t) {
                M.sort(l);
                for (var e, r = 1, i = M[0], u = [ i ]; t > r; ++r) e = M[r], c(e[0], i) || c(e[1], i) ? (a(i[0], e[1]) > a(i[0], i[1]) && (i[1] = e[1]), 
                a(e[0], i[1]) > a(i[0], i[1]) && (i[0] = e[0])) : u.push(i = e);
                for (var o, e, g = -(1 / 0), t = u.length - 1, r = 0, i = u[t]; t >= r; i = e, ++r) e = u[r], 
                (o = a(i[1], e[0])) > g && (g = o, f = e[0], h = i[1]);
            }
            return M = x = null, f === 1 / 0 || s === 1 / 0 ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ f, s ], [ h, p ] ];
        };
    }(), ao.geo.centroid = function(n) {
        Ea = Aa = Ca = za = La = qa = Ta = Ra = Da = Pa = Ua = 0, ao.geo.stream(n, ja);
        var t = Da, e = Pa, r = Ua, i = t * t + e * e + r * r;
        return jo > i && (t = qa, e = Ta, r = Ra, Uo > Aa && (t = Ca, e = za, r = La), i = t * t + e * e + r * r, 
        jo > i) ? [ NaN, NaN ] : [ Math.atan2(e, t) * Zo, tn(r / Math.sqrt(i)) * Zo ];
    };
    var Ea, Aa, Ca, za, La, qa, Ta, Ra, Da, Pa, Ua, ja = {
        sphere: b,
        point: St,
        lineStart: Nt,
        lineEnd: Et,
        polygonStart: function() {
            ja.lineStart = At;
        },
        polygonEnd: function() {
            ja.lineStart = Nt;
        }
    }, Fa = Rt(zt, jt, Ht, [ -Fo, -Fo / 2 ]), Ha = 1e9;
    ao.geo.clipExtent = function() {
        var n, t, e, r, i, u, o = {
            stream: function(n) {
                return i && (i.valid = !1), i = u(n), i.valid = !0, i;
            },
            extent: function(a) {
                return arguments.length ? (u = Zt(n = +a[0][0], t = +a[0][1], e = +a[1][0], r = +a[1][1]), 
                i && (i.valid = !1, i = null), o) : [ [ n, t ], [ e, r ] ];
            }
        };
        return o.extent([ [ 0, 0 ], [ 960, 500 ] ]);
    }, (ao.geo.conicEqualArea = function() {
        return Vt(Xt);
    }).raw = Xt, ao.geo.albers = function() {
        return ao.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);
    }, ao.geo.albersUsa = function() {
        function n(n) {
            var u = n[0], o = n[1];
            return t = null, e(u, o), t || (r(u, o), t) || i(u, o), t;
        }
        var t, e, r, i, u = ao.geo.albers(), o = ao.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]), a = ao.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]), l = {
            point: function(n, e) {
                t = [ n, e ];
            }
        };
        return n.invert = function(n) {
            var t = u.scale(), e = u.translate(), r = (n[0] - e[0]) / t, i = (n[1] - e[1]) / t;
            return (i >= .12 && .234 > i && r >= -.425 && -.214 > r ? o : i >= .166 && .234 > i && r >= -.214 && -.115 > r ? a : u).invert(n);
        }, n.stream = function(n) {
            var t = u.stream(n), e = o.stream(n), r = a.stream(n);
            return {
                point: function(n, i) {
                    t.point(n, i), e.point(n, i), r.point(n, i);
                },
                sphere: function() {
                    t.sphere(), e.sphere(), r.sphere();
                },
                lineStart: function() {
                    t.lineStart(), e.lineStart(), r.lineStart();
                },
                lineEnd: function() {
                    t.lineEnd(), e.lineEnd(), r.lineEnd();
                },
                polygonStart: function() {
                    t.polygonStart(), e.polygonStart(), r.polygonStart();
                },
                polygonEnd: function() {
                    t.polygonEnd(), e.polygonEnd(), r.polygonEnd();
                }
            };
        }, n.precision = function(t) {
            return arguments.length ? (u.precision(t), o.precision(t), a.precision(t), n) : u.precision();
        }, n.scale = function(t) {
            return arguments.length ? (u.scale(t), o.scale(.35 * t), a.scale(t), n.translate(u.translate())) : u.scale();
        }, n.translate = function(t) {
            if (!arguments.length) return u.translate();
            var c = u.scale(), f = +t[0], s = +t[1];
            return e = u.translate(t).clipExtent([ [ f - .455 * c, s - .238 * c ], [ f + .455 * c, s + .238 * c ] ]).stream(l).point, 
            r = o.translate([ f - .307 * c, s + .201 * c ]).clipExtent([ [ f - .425 * c + Uo, s + .12 * c + Uo ], [ f - .214 * c - Uo, s + .234 * c - Uo ] ]).stream(l).point, 
            i = a.translate([ f - .205 * c, s + .212 * c ]).clipExtent([ [ f - .214 * c + Uo, s + .166 * c + Uo ], [ f - .115 * c - Uo, s + .234 * c - Uo ] ]).stream(l).point, 
            n;
        }, n.scale(1070);
    };
    var Oa, Ia, Ya, Za, Va, Xa, $a = {
        point: b,
        lineStart: b,
        lineEnd: b,
        polygonStart: function() {
            Ia = 0, $a.lineStart = $t;
        },
        polygonEnd: function() {
            $a.lineStart = $a.lineEnd = $a.point = b, Oa += xo(Ia / 2);
        }
    }, Ba = {
        point: Bt,
        lineStart: b,
        lineEnd: b,
        polygonStart: b,
        polygonEnd: b
    }, Wa = {
        point: Gt,
        lineStart: Kt,
        lineEnd: Qt,
        polygonStart: function() {
            Wa.lineStart = ne;
        },
        polygonEnd: function() {
            Wa.point = Gt, Wa.lineStart = Kt, Wa.lineEnd = Qt;
        }
    };
    ao.geo.path = function() {
        function n(n) {
            return n && ("function" == typeof a && u.pointRadius(+a.apply(this, arguments)), 
            o && o.valid || (o = i(u)), ao.geo.stream(n, o)), u.result();
        }
        function t() {
            return o = null, n;
        }
        var e, r, i, u, o, a = 4.5;
        return n.area = function(n) {
            return Oa = 0, ao.geo.stream(n, i($a)), Oa;
        }, n.centroid = function(n) {
            return Ca = za = La = qa = Ta = Ra = Da = Pa = Ua = 0, ao.geo.stream(n, i(Wa)), 
            Ua ? [ Da / Ua, Pa / Ua ] : Ra ? [ qa / Ra, Ta / Ra ] : La ? [ Ca / La, za / La ] : [ NaN, NaN ];
        }, n.bounds = function(n) {
            return Va = Xa = -(Ya = Za = 1 / 0), ao.geo.stream(n, i(Ba)), [ [ Ya, Za ], [ Va, Xa ] ];
        }, n.projection = function(n) {
            return arguments.length ? (i = (e = n) ? n.stream || re(n) : m, t()) : e;
        }, n.context = function(n) {
            return arguments.length ? (u = null == (r = n) ? new Wt() : new te(n), "function" != typeof a && u.pointRadius(a), 
            t()) : r;
        }, n.pointRadius = function(t) {
            return arguments.length ? (a = "function" == typeof t ? t : (u.pointRadius(+t), 
            +t), n) : a;
        }, n.projection(ao.geo.albersUsa()).context(null);
    }, ao.geo.transform = function(n) {
        return {
            stream: function(t) {
                var e = new ie(t);
                for (var r in n) e[r] = n[r];
                return e;
            }
        };
    }, ie.prototype = {
        point: function(n, t) {
            this.stream.point(n, t);
        },
        sphere: function() {
            this.stream.sphere();
        },
        lineStart: function() {
            this.stream.lineStart();
        },
        lineEnd: function() {
            this.stream.lineEnd();
        },
        polygonStart: function() {
            this.stream.polygonStart();
        },
        polygonEnd: function() {
            this.stream.polygonEnd();
        }
    }, ao.geo.projection = oe, ao.geo.projectionMutator = ae, (ao.geo.equirectangular = function() {
        return oe(ce);
    }).raw = ce.invert = ce, ao.geo.rotation = function(n) {
        function t(t) {
            return t = n(t[0] * Yo, t[1] * Yo), t[0] *= Zo, t[1] *= Zo, t;
        }
        return n = se(n[0] % 360 * Yo, n[1] * Yo, n.length > 2 ? n[2] * Yo : 0), t.invert = function(t) {
            return t = n.invert(t[0] * Yo, t[1] * Yo), t[0] *= Zo, t[1] *= Zo, t;
        }, t;
    }, fe.invert = ce, ao.geo.circle = function() {
        function n() {
            var n = "function" == typeof r ? r.apply(this, arguments) : r, t = se(-n[0] * Yo, -n[1] * Yo, 0).invert, i = [];
            return e(null, null, 1, {
                point: function(n, e) {
                    i.push(n = t(n, e)), n[0] *= Zo, n[1] *= Zo;
                }
            }), {
                type: "Polygon",
                coordinates: [ i ]
            };
        }
        var t, e, r = [ 0, 0 ], i = 6;
        return n.origin = function(t) {
            return arguments.length ? (r = t, n) : r;
        }, n.angle = function(r) {
            return arguments.length ? (e = ve((t = +r) * Yo, i * Yo), n) : t;
        }, n.precision = function(r) {
            return arguments.length ? (e = ve(t * Yo, (i = +r) * Yo), n) : i;
        }, n.angle(90);
    }, ao.geo.distance = function(n, t) {
        var e, r = (t[0] - n[0]) * Yo, i = n[1] * Yo, u = t[1] * Yo, o = Math.sin(r), a = Math.cos(r), l = Math.sin(i), c = Math.cos(i), f = Math.sin(u), s = Math.cos(u);
        return Math.atan2(Math.sqrt((e = s * o) * e + (e = c * f - l * s * a) * e), l * f + c * s * a);
    }, ao.geo.graticule = function() {
        function n() {
            return {
                type: "MultiLineString",
                coordinates: t()
            };
        }
        function t() {
            return ao.range(Math.ceil(u / d) * d, i, d).map(h).concat(ao.range(Math.ceil(c / y) * y, l, y).map(p)).concat(ao.range(Math.ceil(r / g) * g, e, g).filter(function(n) {
                return xo(n % d) > Uo;
            }).map(f)).concat(ao.range(Math.ceil(a / v) * v, o, v).filter(function(n) {
                return xo(n % y) > Uo;
            }).map(s));
        }
        var e, r, i, u, o, a, l, c, f, s, h, p, g = 10, v = g, d = 90, y = 360, m = 2.5;
        return n.lines = function() {
            return t().map(function(n) {
                return {
                    type: "LineString",
                    coordinates: n
                };
            });
        }, n.outline = function() {
            return {
                type: "Polygon",
                coordinates: [ h(u).concat(p(l).slice(1), h(i).reverse().slice(1), p(c).reverse().slice(1)) ]
            };
        }, n.extent = function(t) {
            return arguments.length ? n.majorExtent(t).minorExtent(t) : n.minorExtent();
        }, n.majorExtent = function(t) {
            return arguments.length ? (u = +t[0][0], i = +t[1][0], c = +t[0][1], l = +t[1][1], 
            u > i && (t = u, u = i, i = t), c > l && (t = c, c = l, l = t), n.precision(m)) : [ [ u, c ], [ i, l ] ];
        }, n.minorExtent = function(t) {
            return arguments.length ? (r = +t[0][0], e = +t[1][0], a = +t[0][1], o = +t[1][1], 
            r > e && (t = r, r = e, e = t), a > o && (t = a, a = o, o = t), n.precision(m)) : [ [ r, a ], [ e, o ] ];
        }, n.step = function(t) {
            return arguments.length ? n.majorStep(t).minorStep(t) : n.minorStep();
        }, n.majorStep = function(t) {
            return arguments.length ? (d = +t[0], y = +t[1], n) : [ d, y ];
        }, n.minorStep = function(t) {
            return arguments.length ? (g = +t[0], v = +t[1], n) : [ g, v ];
        }, n.precision = function(t) {
            return arguments.length ? (m = +t, f = ye(a, o, 90), s = me(r, e, m), h = ye(c, l, 90), 
            p = me(u, i, m), n) : m;
        }, n.majorExtent([ [ -180, -90 + Uo ], [ 180, 90 - Uo ] ]).minorExtent([ [ -180, -80 - Uo ], [ 180, 80 + Uo ] ]);
    }, ao.geo.greatArc = function() {
        function n() {
            return {
                type: "LineString",
                coordinates: [ t || r.apply(this, arguments), e || i.apply(this, arguments) ]
            };
        }
        var t, e, r = Me, i = xe;
        return n.distance = function() {
            return ao.geo.distance(t || r.apply(this, arguments), e || i.apply(this, arguments));
        }, n.source = function(e) {
            return arguments.length ? (r = e, t = "function" == typeof e ? null : e, n) : r;
        }, n.target = function(t) {
            return arguments.length ? (i = t, e = "function" == typeof t ? null : t, n) : i;
        }, n.precision = function() {
            return arguments.length ? n : 0;
        }, n;
    }, ao.geo.interpolate = function(n, t) {
        return be(n[0] * Yo, n[1] * Yo, t[0] * Yo, t[1] * Yo);
    }, ao.geo.length = function(n) {
        return Ja = 0, ao.geo.stream(n, Ga), Ja;
    };
    var Ja, Ga = {
        sphere: b,
        point: b,
        lineStart: _e,
        lineEnd: b,
        polygonStart: b,
        polygonEnd: b
    }, Ka = we(function(n) {
        return Math.sqrt(2 / (1 + n));
    }, function(n) {
        return 2 * Math.asin(n / 2);
    });
    (ao.geo.azimuthalEqualArea = function() {
        return oe(Ka);
    }).raw = Ka;
    var Qa = we(function(n) {
        var t = Math.acos(n);
        return t && t / Math.sin(t);
    }, m);
    (ao.geo.azimuthalEquidistant = function() {
        return oe(Qa);
    }).raw = Qa, (ao.geo.conicConformal = function() {
        return Vt(Se);
    }).raw = Se, (ao.geo.conicEquidistant = function() {
        return Vt(ke);
    }).raw = ke;
    var nl = we(function(n) {
        return 1 / n;
    }, Math.atan);
    (ao.geo.gnomonic = function() {
        return oe(nl);
    }).raw = nl, Ne.invert = function(n, t) {
        return [ n, 2 * Math.atan(Math.exp(t)) - Io ];
    }, (ao.geo.mercator = function() {
        return Ee(Ne);
    }).raw = Ne;
    var tl = we(function() {
        return 1;
    }, Math.asin);
    (ao.geo.orthographic = function() {
        return oe(tl);
    }).raw = tl;
    var el = we(function(n) {
        return 1 / (1 + n);
    }, function(n) {
        return 2 * Math.atan(n);
    });
    (ao.geo.stereographic = function() {
        return oe(el);
    }).raw = el, Ae.invert = function(n, t) {
        return [ -t, 2 * Math.atan(Math.exp(n)) - Io ];
    }, (ao.geo.transverseMercator = function() {
        var n = Ee(Ae), t = n.center, e = n.rotate;
        return n.center = function(n) {
            return n ? t([ -n[1], n[0] ]) : (n = t(), [ n[1], -n[0] ]);
        }, n.rotate = function(n) {
            return n ? e([ n[0], n[1], n.length > 2 ? n[2] + 90 : 90 ]) : (n = e(), [ n[0], n[1], n[2] - 90 ]);
        }, e([ 0, 0, 90 ]);
    }).raw = Ae, ao.geom = {}, ao.geom.hull = function(n) {
        function t(n) {
            if (n.length < 3) return [];
            var t, i = En(e), u = En(r), o = n.length, a = [], l = [];
            for (t = 0; o > t; t++) a.push([ +i.call(this, n[t], t), +u.call(this, n[t], t), t ]);
            for (a.sort(qe), t = 0; o > t; t++) l.push([ a[t][0], -a[t][1] ]);
            var c = Le(a), f = Le(l), s = f[0] === c[0], h = f[f.length - 1] === c[c.length - 1], p = [];
            for (t = c.length - 1; t >= 0; --t) p.push(n[a[c[t]][2]]);
            for (t = +s; t < f.length - h; ++t) p.push(n[a[f[t]][2]]);
            return p;
        }
        var e = Ce, r = ze;
        return arguments.length ? t(n) : (t.x = function(n) {
            return arguments.length ? (e = n, t) : e;
        }, t.y = function(n) {
            return arguments.length ? (r = n, t) : r;
        }, t);
    }, ao.geom.polygon = function(n) {
        return ko(n, rl), n;
    };
    var rl = ao.geom.polygon.prototype = [];
    rl.area = function() {
        for (var n, t = -1, e = this.length, r = this[e - 1], i = 0; ++t < e; ) n = r, r = this[t], 
        i += n[1] * r[0] - n[0] * r[1];
        return .5 * i;
    }, rl.centroid = function(n) {
        var t, e, r = -1, i = this.length, u = 0, o = 0, a = this[i - 1];
        for (arguments.length || (n = -1 / (6 * this.area())); ++r < i; ) t = a, a = this[r], 
        e = t[0] * a[1] - a[0] * t[1], u += (t[0] + a[0]) * e, o += (t[1] + a[1]) * e;
        return [ u * n, o * n ];
    }, rl.clip = function(n) {
        for (var t, e, r, i, u, o, a = De(n), l = -1, c = this.length - De(this), f = this[c - 1]; ++l < c; ) {
            for (t = n.slice(), n.length = 0, i = this[l], u = t[(r = t.length - a) - 1], e = -1; ++e < r; ) o = t[e], 
            Te(o, f, i) ? (Te(u, f, i) || n.push(Re(u, o, f, i)), n.push(o)) : Te(u, f, i) && n.push(Re(u, o, f, i)), 
            u = o;
            a && n.push(n[0]), f = i;
        }
        return n;
    };
    var il, ul, ol, al, ll, cl = [], fl = [];
    Ye.prototype.prepare = function() {
        for (var n, t = this.edges, e = t.length; e--; ) n = t[e].edge, n.b && n.a || t.splice(e, 1);
        return t.sort(Ve), t.length;
    }, tr.prototype = {
        start: function() {
            return this.edge.l === this.site ? this.edge.a : this.edge.b;
        },
        end: function() {
            return this.edge.l === this.site ? this.edge.b : this.edge.a;
        }
    }, er.prototype = {
        insert: function(n, t) {
            var e, r, i;
            if (n) {
                if (t.P = n, t.N = n.N, n.N && (n.N.P = t), n.N = t, n.R) {
                    for (n = n.R; n.L; ) n = n.L;
                    n.L = t;
                } else n.R = t;
                e = n;
            } else this._ ? (n = or(this._), t.P = null, t.N = n, n.P = n.L = t, e = n) : (t.P = t.N = null, 
            this._ = t, e = null);
            for (t.L = t.R = null, t.U = e, t.C = !0, n = t; e && e.C; ) r = e.U, e === r.L ? (i = r.R, 
            i && i.C ? (e.C = i.C = !1, r.C = !0, n = r) : (n === e.R && (ir(this, e), n = e, 
            e = n.U), e.C = !1, r.C = !0, ur(this, r))) : (i = r.L, i && i.C ? (e.C = i.C = !1, 
            r.C = !0, n = r) : (n === e.L && (ur(this, e), n = e, e = n.U), e.C = !1, r.C = !0, 
            ir(this, r))), e = n.U;
            this._.C = !1;
        },
        remove: function(n) {
            n.N && (n.N.P = n.P), n.P && (n.P.N = n.N), n.N = n.P = null;
            var t, e, r, i = n.U, u = n.L, o = n.R;
            if (e = u ? o ? or(o) : u : o, i ? i.L === n ? i.L = e : i.R = e : this._ = e, u && o ? (r = e.C, 
            e.C = n.C, e.L = u, u.U = e, e !== o ? (i = e.U, e.U = n.U, n = e.R, i.L = n, e.R = o, 
            o.U = e) : (e.U = i, i = e, n = e.R)) : (r = n.C, n = e), n && (n.U = i), !r) {
                if (n && n.C) return void (n.C = !1);
                do {
                    if (n === this._) break;
                    if (n === i.L) {
                        if (t = i.R, t.C && (t.C = !1, i.C = !0, ir(this, i), t = i.R), t.L && t.L.C || t.R && t.R.C) {
                            t.R && t.R.C || (t.L.C = !1, t.C = !0, ur(this, t), t = i.R), t.C = i.C, i.C = t.R.C = !1, 
                            ir(this, i), n = this._;
                            break;
                        }
                    } else if (t = i.L, t.C && (t.C = !1, i.C = !0, ur(this, i), t = i.L), t.L && t.L.C || t.R && t.R.C) {
                        t.L && t.L.C || (t.R.C = !1, t.C = !0, ir(this, t), t = i.L), t.C = i.C, i.C = t.L.C = !1, 
                        ur(this, i), n = this._;
                        break;
                    }
                    t.C = !0, n = i, i = i.U;
                } while (!n.C);
                n && (n.C = !1);
            }
        }
    }, ao.geom.voronoi = function(n) {
        function t(n) {
            var t = new Array(n.length), r = a[0][0], i = a[0][1], u = a[1][0], o = a[1][1];
            return ar(e(n), a).cells.forEach(function(e, a) {
                var l = e.edges, c = e.site, f = t[a] = l.length ? l.map(function(n) {
                    var t = n.start();
                    return [ t.x, t.y ];
                }) : c.x >= r && c.x <= u && c.y >= i && c.y <= o ? [ [ r, o ], [ u, o ], [ u, i ], [ r, i ] ] : [];
                f.point = n[a];
            }), t;
        }
        function e(n) {
            return n.map(function(n, t) {
                return {
                    x: Math.round(u(n, t) / Uo) * Uo,
                    y: Math.round(o(n, t) / Uo) * Uo,
                    i: t
                };
            });
        }
        var r = Ce, i = ze, u = r, o = i, a = sl;
        return n ? t(n) : (t.links = function(n) {
            return ar(e(n)).edges.filter(function(n) {
                return n.l && n.r;
            }).map(function(t) {
                return {
                    source: n[t.l.i],
                    target: n[t.r.i]
                };
            });
        }, t.triangles = function(n) {
            var t = [];
            return ar(e(n)).cells.forEach(function(e, r) {
                for (var i, u, o = e.site, a = e.edges.sort(Ve), l = -1, c = a.length, f = a[c - 1].edge, s = f.l === o ? f.r : f.l; ++l < c; ) i = f, 
                u = s, f = a[l].edge, s = f.l === o ? f.r : f.l, r < u.i && r < s.i && cr(o, u, s) < 0 && t.push([ n[r], n[u.i], n[s.i] ]);
            }), t;
        }, t.x = function(n) {
            return arguments.length ? (u = En(r = n), t) : r;
        }, t.y = function(n) {
            return arguments.length ? (o = En(i = n), t) : i;
        }, t.clipExtent = function(n) {
            return arguments.length ? (a = null == n ? sl : n, t) : a === sl ? null : a;
        }, t.size = function(n) {
            return arguments.length ? t.clipExtent(n && [ [ 0, 0 ], n ]) : a === sl ? null : a && a[1];
        }, t);
    };
    var sl = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];
    ao.geom.delaunay = function(n) {
        return ao.geom.voronoi().triangles(n);
    }, ao.geom.quadtree = function(n, t, e, r, i) {
        function u(n) {
            function u(n, t, e, r, i, u, o, a) {
                if (!isNaN(e) && !isNaN(r)) if (n.leaf) {
                    var l = n.x, f = n.y;
                    if (null != l) if (xo(l - e) + xo(f - r) < .01) c(n, t, e, r, i, u, o, a); else {
                        var s = n.point;
                        n.x = n.y = n.point = null, c(n, s, l, f, i, u, o, a), c(n, t, e, r, i, u, o, a);
                    } else n.x = e, n.y = r, n.point = t;
                } else c(n, t, e, r, i, u, o, a);
            }
            function c(n, t, e, r, i, o, a, l) {
                var c = .5 * (i + a), f = .5 * (o + l), s = e >= c, h = r >= f, p = h << 1 | s;
                n.leaf = !1, n = n.nodes[p] || (n.nodes[p] = hr()), s ? i = c : a = c, h ? o = f : l = f, 
                u(n, t, e, r, i, o, a, l);
            }
            var f, s, h, p, g, v, d, y, m, M = En(a), x = En(l);
            if (null != t) v = t, d = e, y = r, m = i; else if (y = m = -(v = d = 1 / 0), s = [], 
            h = [], g = n.length, o) for (p = 0; g > p; ++p) f = n[p], f.x < v && (v = f.x), 
            f.y < d && (d = f.y), f.x > y && (y = f.x), f.y > m && (m = f.y), s.push(f.x), h.push(f.y); else for (p = 0; g > p; ++p) {
                var b = +M(f = n[p], p), _ = +x(f, p);
                v > b && (v = b), d > _ && (d = _), b > y && (y = b), _ > m && (m = _), s.push(b), 
                h.push(_);
            }
            var w = y - v, S = m - d;
            w > S ? m = d + w : y = v + S;
            var k = hr();
            if (k.add = function(n) {
                u(k, n, +M(n, ++p), +x(n, p), v, d, y, m);
            }, k.visit = function(n) {
                pr(n, k, v, d, y, m);
            }, k.find = function(n) {
                return gr(k, n[0], n[1], v, d, y, m);
            }, p = -1, null == t) {
                for (;++p < g; ) u(k, n[p], s[p], h[p], v, d, y, m);
                --p;
            } else n.forEach(k.add);
            return s = h = n = f = null, k;
        }
        var o, a = Ce, l = ze;
        return (o = arguments.length) ? (a = fr, l = sr, 3 === o && (i = e, r = t, e = t = 0), 
        u(n)) : (u.x = function(n) {
            return arguments.length ? (a = n, u) : a;
        }, u.y = function(n) {
            return arguments.length ? (l = n, u) : l;
        }, u.extent = function(n) {
            return arguments.length ? (null == n ? t = e = r = i = null : (t = +n[0][0], e = +n[0][1], 
            r = +n[1][0], i = +n[1][1]), u) : null == t ? null : [ [ t, e ], [ r, i ] ];
        }, u.size = function(n) {
            return arguments.length ? (null == n ? t = e = r = i = null : (t = e = 0, r = +n[0], 
            i = +n[1]), u) : null == t ? null : [ r - t, i - e ];
        }, u);
    }, ao.interpolateRgb = vr, ao.interpolateObject = dr, ao.interpolateNumber = yr, 
    ao.interpolateString = mr;
    var hl = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, pl = new RegExp(hl.source, "g");
    ao.interpolate = Mr, ao.interpolators = [ function(n, t) {
        var e = typeof t;
        return ("string" === e ? ua.has(t.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(t) ? vr : mr : t instanceof an ? vr : Array.isArray(t) ? xr : "object" === e && isNaN(t) ? dr : yr)(n, t);
    } ], ao.interpolateArray = xr;
    var gl = function() {
        return m;
    }, vl = ao.map({
        linear: gl,
        poly: Er,
        quad: function() {
            return Sr;
        },
        cubic: function() {
            return kr;
        },
        sin: function() {
            return Ar;
        },
        exp: function() {
            return Cr;
        },
        circle: function() {
            return zr;
        },
        elastic: Lr,
        back: qr,
        bounce: function() {
            return Tr;
        }
    }), dl = ao.map({
        in: m,
        out: _r,
        "in-out": wr,
        "out-in": function(n) {
            return wr(_r(n));
        }
    });
    ao.ease = function(n) {
        var t = n.indexOf("-"), e = t >= 0 ? n.slice(0, t) : n, r = t >= 0 ? n.slice(t + 1) : "in";
        return e = vl.get(e) || gl, r = dl.get(r) || m, br(r(e.apply(null, lo.call(arguments, 1))));
    }, ao.interpolateHcl = Rr, ao.interpolateHsl = Dr, ao.interpolateLab = Pr, ao.interpolateRound = Ur, 
    ao.transform = function(n) {
        var t = fo.createElementNS(ao.ns.prefix.svg, "g");
        return (ao.transform = function(n) {
            if (null != n) {
                t.setAttribute("transform", n);
                var e = t.transform.baseVal.consolidate();
            }
            return new jr(e ? e.matrix : yl);
        })(n);
    }, jr.prototype.toString = function() {
        return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")";
    };
    var yl = {
        a: 1,
        b: 0,
        c: 0,
        d: 1,
        e: 0,
        f: 0
    };
    ao.interpolateTransform = $r, ao.layout = {}, ao.layout.bundle = function() {
        return function(n) {
            for (var t = [], e = -1, r = n.length; ++e < r; ) t.push(Jr(n[e]));
            return t;
        };
    }, ao.layout.chord = function() {
        function n() {
            var n, c, s, h, p, g = {}, v = [], d = ao.range(u), y = [];
            for (e = [], r = [], n = 0, h = -1; ++h < u; ) {
                for (c = 0, p = -1; ++p < u; ) c += i[h][p];
                v.push(c), y.push(ao.range(u)), n += c;
            }
            for (o && d.sort(function(n, t) {
                return o(v[n], v[t]);
            }), a && y.forEach(function(n, t) {
                n.sort(function(n, e) {
                    return a(i[t][n], i[t][e]);
                });
            }), n = (Ho - f * u) / n, c = 0, h = -1; ++h < u; ) {
                for (s = c, p = -1; ++p < u; ) {
                    var m = d[h], M = y[m][p], x = i[m][M], b = c, _ = c += x * n;
                    g[m + "-" + M] = {
                        index: m,
                        subindex: M,
                        startAngle: b,
                        endAngle: _,
                        value: x
                    };
                }
                r[m] = {
                    index: m,
                    startAngle: s,
                    endAngle: c,
                    value: v[m]
                }, c += f;
            }
            for (h = -1; ++h < u; ) for (p = h - 1; ++p < u; ) {
                var w = g[h + "-" + p], S = g[p + "-" + h];
                (w.value || S.value) && e.push(w.value < S.value ? {
                    source: S,
                    target: w
                } : {
                    source: w,
                    target: S
                });
            }
            l && t();
        }
        function t() {
            e.sort(function(n, t) {
                return l((n.source.value + n.target.value) / 2, (t.source.value + t.target.value) / 2);
            });
        }
        var e, r, i, u, o, a, l, c = {}, f = 0;
        return c.matrix = function(n) {
            return arguments.length ? (u = (i = n) && i.length, e = r = null, c) : i;
        }, c.padding = function(n) {
            return arguments.length ? (f = n, e = r = null, c) : f;
        }, c.sortGroups = function(n) {
            return arguments.length ? (o = n, e = r = null, c) : o;
        }, c.sortSubgroups = function(n) {
            return arguments.length ? (a = n, e = null, c) : a;
        }, c.sortChords = function(n) {
            return arguments.length ? (l = n, e && t(), c) : l;
        }, c.chords = function() {
            return e || n(), e;
        }, c.groups = function() {
            return r || n(), r;
        }, c;
    }, ao.layout.force = function() {
        function n(n) {
            return function(t, e, r, i) {
                if (t.point !== n) {
                    var u = t.cx - n.x, o = t.cy - n.y, a = i - e, l = u * u + o * o;
                    if (l > a * a / y) {
                        if (v > l) {
                            var c = t.charge / l;
                            n.px -= u * c, n.py -= o * c;
                        }
                        return !0;
                    }
                    if (t.point && l && v > l) {
                        var c = t.pointCharge / l;
                        n.px -= u * c, n.py -= o * c;
                    }
                }
                return !t.charge;
            };
        }
        function t(n) {
            n.px = ao.event.x, n.py = ao.event.y, l.resume();
        }
        var e, r, i, u, o, a, l = {}, c = ao.dispatch("start", "tick", "end"), f = [ 1, 1 ], s = .9, h = ml, p = Ml, g = -30, v = xl, d = .1, y = .64, M = [], x = [];
        return l.tick = function() {
            if ((i *= .99) < .005) return e = null, c.end({
                type: "end",
                alpha: i = 0
            }), !0;
            var t, r, l, h, p, v, y, m, b, _ = M.length, w = x.length;
            for (r = 0; w > r; ++r) l = x[r], h = l.source, p = l.target, m = p.x - h.x, b = p.y - h.y, 
            (v = m * m + b * b) && (v = i * o[r] * ((v = Math.sqrt(v)) - u[r]) / v, m *= v, 
            b *= v, p.x -= m * (y = h.weight + p.weight ? h.weight / (h.weight + p.weight) : .5), 
            p.y -= b * y, h.x += m * (y = 1 - y), h.y += b * y);
            if ((y = i * d) && (m = f[0] / 2, b = f[1] / 2, r = -1, y)) for (;++r < _; ) l = M[r], 
            l.x += (m - l.x) * y, l.y += (b - l.y) * y;
            if (g) for (ri(t = ao.geom.quadtree(M), i, a), r = -1; ++r < _; ) (l = M[r]).fixed || t.visit(n(l));
            for (r = -1; ++r < _; ) l = M[r], l.fixed ? (l.x = l.px, l.y = l.py) : (l.x -= (l.px - (l.px = l.x)) * s, 
            l.y -= (l.py - (l.py = l.y)) * s);
            c.tick({
                type: "tick",
                alpha: i
            });
        }, l.nodes = function(n) {
            return arguments.length ? (M = n, l) : M;
        }, l.links = function(n) {
            return arguments.length ? (x = n, l) : x;
        }, l.size = function(n) {
            return arguments.length ? (f = n, l) : f;
        }, l.linkDistance = function(n) {
            return arguments.length ? (h = "function" == typeof n ? n : +n, l) : h;
        }, l.distance = l.linkDistance, l.linkStrength = function(n) {
            return arguments.length ? (p = "function" == typeof n ? n : +n, l) : p;
        }, l.friction = function(n) {
            return arguments.length ? (s = +n, l) : s;
        }, l.charge = function(n) {
            return arguments.length ? (g = "function" == typeof n ? n : +n, l) : g;
        }, l.chargeDistance = function(n) {
            return arguments.length ? (v = n * n, l) : Math.sqrt(v);
        }, l.gravity = function(n) {
            return arguments.length ? (d = +n, l) : d;
        }, l.theta = function(n) {
            return arguments.length ? (y = n * n, l) : Math.sqrt(y);
        }, l.alpha = function(n) {
            return arguments.length ? (n = +n, i ? n > 0 ? i = n : (e.c = null, e.t = NaN, e = null, 
            c.end({
                type: "end",
                alpha: i = 0
            })) : n > 0 && (c.start({
                type: "start",
                alpha: i = n
            }), e = qn(l.tick)), l) : i;
        }, l.start = function() {
            function n(n, r) {
                if (!e) {
                    for (e = new Array(i), l = 0; i > l; ++l) e[l] = [];
                    for (l = 0; c > l; ++l) {
                        var u = x[l];
                        e[u.source.index].push(u.target), e[u.target.index].push(u.source);
                    }
                }
                for (var o, a = e[t], l = -1, f = a.length; ++l < f; ) if (!isNaN(o = a[l][n])) return o;
                return Math.random() * r;
            }
            var t, e, r, i = M.length, c = x.length, s = f[0], v = f[1];
            for (t = 0; i > t; ++t) (r = M[t]).index = t, r.weight = 0;
            for (t = 0; c > t; ++t) r = x[t], "number" == typeof r.source && (r.source = M[r.source]), 
            "number" == typeof r.target && (r.target = M[r.target]), ++r.source.weight, ++r.target.weight;
            for (t = 0; i > t; ++t) r = M[t], isNaN(r.x) && (r.x = n("x", s)), isNaN(r.y) && (r.y = n("y", v)), 
            isNaN(r.px) && (r.px = r.x), isNaN(r.py) && (r.py = r.y);
            if (u = [], "function" == typeof h) for (t = 0; c > t; ++t) u[t] = +h.call(this, x[t], t); else for (t = 0; c > t; ++t) u[t] = h;
            if (o = [], "function" == typeof p) for (t = 0; c > t; ++t) o[t] = +p.call(this, x[t], t); else for (t = 0; c > t; ++t) o[t] = p;
            if (a = [], "function" == typeof g) for (t = 0; i > t; ++t) a[t] = +g.call(this, M[t], t); else for (t = 0; i > t; ++t) a[t] = g;
            return l.resume();
        }, l.resume = function() {
            return l.alpha(.1);
        }, l.stop = function() {
            return l.alpha(0);
        }, l.drag = function() {
            return r || (r = ao.behavior.drag().origin(m).on("dragstart.force", Qr).on("drag.force", t).on("dragend.force", ni)), 
            arguments.length ? void this.on("mouseover.force", ti).on("mouseout.force", ei).call(r) : r;
        }, ao.rebind(l, c, "on");
    };
    var ml = 20, Ml = 1, xl = 1 / 0;
    ao.layout.hierarchy = function() {
        function n(i) {
            var u, o = [ i ], a = [];
            for (i.depth = 0; null != (u = o.pop()); ) if (a.push(u), (c = e.call(n, u, u.depth)) && (l = c.length)) {
                for (var l, c, f; --l >= 0; ) o.push(f = c[l]), f.parent = u, f.depth = u.depth + 1;
                r && (u.value = 0), u.children = c;
            } else r && (u.value = +r.call(n, u, u.depth) || 0), delete u.children;
            return oi(i, function(n) {
                var e, i;
                t && (e = n.children) && e.sort(t), r && (i = n.parent) && (i.value += n.value);
            }), a;
        }
        var t = ci, e = ai, r = li;
        return n.sort = function(e) {
            return arguments.length ? (t = e, n) : t;
        }, n.children = function(t) {
            return arguments.length ? (e = t, n) : e;
        }, n.value = function(t) {
            return arguments.length ? (r = t, n) : r;
        }, n.revalue = function(t) {
            return r && (ui(t, function(n) {
                n.children && (n.value = 0);
            }), oi(t, function(t) {
                var e;
                t.children || (t.value = +r.call(n, t, t.depth) || 0), (e = t.parent) && (e.value += t.value);
            })), t;
        }, n;
    }, ao.layout.partition = function() {
        function n(t, e, r, i) {
            var u = t.children;
            if (t.x = e, t.y = t.depth * i, t.dx = r, t.dy = i, u && (o = u.length)) {
                var o, a, l, c = -1;
                for (r = t.value ? r / t.value : 0; ++c < o; ) n(a = u[c], e, l = a.value * r, i), 
                e += l;
            }
        }
        function t(n) {
            var e = n.children, r = 0;
            if (e && (i = e.length)) for (var i, u = -1; ++u < i; ) r = Math.max(r, t(e[u]));
            return 1 + r;
        }
        function e(e, u) {
            var o = r.call(this, e, u);
            return n(o[0], 0, i[0], i[1] / t(o[0])), o;
        }
        var r = ao.layout.hierarchy(), i = [ 1, 1 ];
        return e.size = function(n) {
            return arguments.length ? (i = n, e) : i;
        }, ii(e, r);
    }, ao.layout.pie = function() {
        function n(o) {
            var a, l = o.length, c = o.map(function(e, r) {
                return +t.call(n, e, r);
            }), f = +("function" == typeof r ? r.apply(this, arguments) : r), s = ("function" == typeof i ? i.apply(this, arguments) : i) - f, h = Math.min(Math.abs(s) / l, +("function" == typeof u ? u.apply(this, arguments) : u)), p = h * (0 > s ? -1 : 1), g = ao.sum(c), v = g ? (s - l * p) / g : 0, d = ao.range(l), y = [];
            return null != e && d.sort(e === bl ? function(n, t) {
                return c[t] - c[n];
            } : function(n, t) {
                return e(o[n], o[t]);
            }), d.forEach(function(n) {
                y[n] = {
                    data: o[n],
                    value: a = c[n],
                    startAngle: f,
                    endAngle: f += a * v + p,
                    padAngle: h
                };
            }), y;
        }
        var t = Number, e = bl, r = 0, i = Ho, u = 0;
        return n.value = function(e) {
            return arguments.length ? (t = e, n) : t;
        }, n.sort = function(t) {
            return arguments.length ? (e = t, n) : e;
        }, n.startAngle = function(t) {
            return arguments.length ? (r = t, n) : r;
        }, n.endAngle = function(t) {
            return arguments.length ? (i = t, n) : i;
        }, n.padAngle = function(t) {
            return arguments.length ? (u = t, n) : u;
        }, n;
    };
    var bl = {};
    ao.layout.stack = function() {
        function n(a, l) {
            if (!(h = a.length)) return a;
            var c = a.map(function(e, r) {
                return t.call(n, e, r);
            }), f = c.map(function(t) {
                return t.map(function(t, e) {
                    return [ u.call(n, t, e), o.call(n, t, e) ];
                });
            }), s = e.call(n, f, l);
            c = ao.permute(c, s), f = ao.permute(f, s);
            var h, p, g, v, d = r.call(n, f, l), y = c[0].length;
            for (g = 0; y > g; ++g) for (i.call(n, c[0][g], v = d[g], f[0][g][1]), p = 1; h > p; ++p) i.call(n, c[p][g], v += f[p - 1][g][1], f[p][g][1]);
            return a;
        }
        var t = m, e = gi, r = vi, i = pi, u = si, o = hi;
        return n.values = function(e) {
            return arguments.length ? (t = e, n) : t;
        }, n.order = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : _l.get(t) || gi, n) : e;
        }, n.offset = function(t) {
            return arguments.length ? (r = "function" == typeof t ? t : wl.get(t) || vi, n) : r;
        }, n.x = function(t) {
            return arguments.length ? (u = t, n) : u;
        }, n.y = function(t) {
            return arguments.length ? (o = t, n) : o;
        }, n.out = function(t) {
            return arguments.length ? (i = t, n) : i;
        }, n;
    };
    var _l = ao.map({
        "inside-out": function(n) {
            var t, e, r = n.length, i = n.map(di), u = n.map(yi), o = ao.range(r).sort(function(n, t) {
                return i[n] - i[t];
            }), a = 0, l = 0, c = [], f = [];
            for (t = 0; r > t; ++t) e = o[t], l > a ? (a += u[e], c.push(e)) : (l += u[e], f.push(e));
            return f.reverse().concat(c);
        },
        reverse: function(n) {
            return ao.range(n.length).reverse();
        },
        default: gi
    }), wl = ao.map({
        silhouette: function(n) {
            var t, e, r, i = n.length, u = n[0].length, o = [], a = 0, l = [];
            for (e = 0; u > e; ++e) {
                for (t = 0, r = 0; i > t; t++) r += n[t][e][1];
                r > a && (a = r), o.push(r);
            }
            for (e = 0; u > e; ++e) l[e] = (a - o[e]) / 2;
            return l;
        },
        wiggle: function(n) {
            var t, e, r, i, u, o, a, l, c, f = n.length, s = n[0], h = s.length, p = [];
            for (p[0] = l = c = 0, e = 1; h > e; ++e) {
                for (t = 0, i = 0; f > t; ++t) i += n[t][e][1];
                for (t = 0, u = 0, a = s[e][0] - s[e - 1][0]; f > t; ++t) {
                    for (r = 0, o = (n[t][e][1] - n[t][e - 1][1]) / (2 * a); t > r; ++r) o += (n[r][e][1] - n[r][e - 1][1]) / a;
                    u += o * n[t][e][1];
                }
                p[e] = l -= i ? u / i * a : 0, c > l && (c = l);
            }
            for (e = 0; h > e; ++e) p[e] -= c;
            return p;
        },
        expand: function(n) {
            var t, e, r, i = n.length, u = n[0].length, o = 1 / i, a = [];
            for (e = 0; u > e; ++e) {
                for (t = 0, r = 0; i > t; t++) r += n[t][e][1];
                if (r) for (t = 0; i > t; t++) n[t][e][1] /= r; else for (t = 0; i > t; t++) n[t][e][1] = o;
            }
            for (e = 0; u > e; ++e) a[e] = 0;
            return a;
        },
        zero: vi
    });
    ao.layout.histogram = function() {
        function n(n, u) {
            for (var o, a, l = [], c = n.map(e, this), f = r.call(this, c, u), s = i.call(this, f, c, u), u = -1, h = c.length, p = s.length - 1, g = t ? 1 : 1 / h; ++u < p; ) o = l[u] = [], 
            o.dx = s[u + 1] - (o.x = s[u]), o.y = 0;
            if (p > 0) for (u = -1; ++u < h; ) a = c[u], a >= f[0] && a <= f[1] && (o = l[ao.bisect(s, a, 1, p) - 1], 
            o.y += g, o.push(n[u]));
            return l;
        }
        var t = !0, e = Number, r = bi, i = Mi;
        return n.value = function(t) {
            return arguments.length ? (e = t, n) : e;
        }, n.range = function(t) {
            return arguments.length ? (r = En(t), n) : r;
        }, n.bins = function(t) {
            return arguments.length ? (i = "number" == typeof t ? function(n) {
                return xi(n, t);
            } : En(t), n) : i;
        }, n.frequency = function(e) {
            return arguments.length ? (t = !!e, n) : t;
        }, n;
    }, ao.layout.pack = function() {
        function n(n, u) {
            var o = e.call(this, n, u), a = o[0], l = i[0], c = i[1], f = null == t ? Math.sqrt : "function" == typeof t ? t : function() {
                return t;
            };
            if (a.x = a.y = 0, oi(a, function(n) {
                n.r = +f(n.value);
            }), oi(a, Ni), r) {
                var s = r * (t ? 1 : Math.max(2 * a.r / l, 2 * a.r / c)) / 2;
                oi(a, function(n) {
                    n.r += s;
                }), oi(a, Ni), oi(a, function(n) {
                    n.r -= s;
                });
            }
            return Ci(a, l / 2, c / 2, t ? 1 : 1 / Math.max(2 * a.r / l, 2 * a.r / c)), o;
        }
        var t, e = ao.layout.hierarchy().sort(_i), r = 0, i = [ 1, 1 ];
        return n.size = function(t) {
            return arguments.length ? (i = t, n) : i;
        }, n.radius = function(e) {
            return arguments.length ? (t = null == e || "function" == typeof e ? e : +e, n) : t;
        }, n.padding = function(t) {
            return arguments.length ? (r = +t, n) : r;
        }, ii(n, e);
    }, ao.layout.tree = function() {
        function n(n, i) {
            var f = o.call(this, n, i), s = f[0], h = t(s);
            if (oi(h, e), h.parent.m = -h.z, ui(h, r), c) ui(s, u); else {
                var p = s, g = s, v = s;
                ui(s, function(n) {
                    n.x < p.x && (p = n), n.x > g.x && (g = n), n.depth > v.depth && (v = n);
                });
                var d = a(p, g) / 2 - p.x, y = l[0] / (g.x + a(g, p) / 2 + d), m = l[1] / (v.depth || 1);
                ui(s, function(n) {
                    n.x = (n.x + d) * y, n.y = n.depth * m;
                });
            }
            return f;
        }
        function t(n) {
            for (var t, e = {
                A: null,
                children: [ n ]
            }, r = [ e ]; null != (t = r.pop()); ) for (var i, u = t.children, o = 0, a = u.length; a > o; ++o) r.push((u[o] = i = {
                _: u[o],
                parent: t,
                children: (i = u[o].children) && i.slice() || [],
                A: null,
                a: null,
                z: 0,
                m: 0,
                c: 0,
                s: 0,
                t: null,
                i: o
            }).a = i);
            return e.children[0];
        }
        function e(n) {
            var t = n.children, e = n.parent.children, r = n.i ? e[n.i - 1] : null;
            if (t.length) {
                Di(n);
                var u = (t[0].z + t[t.length - 1].z) / 2;
                r ? (n.z = r.z + a(n._, r._), n.m = n.z - u) : n.z = u;
            } else r && (n.z = r.z + a(n._, r._));
            n.parent.A = i(n, r, n.parent.A || e[0]);
        }
        function r(n) {
            n._.x = n.z + n.parent.m, n.m += n.parent.m;
        }
        function i(n, t, e) {
            if (t) {
                for (var r, i = n, u = n, o = t, l = i.parent.children[0], c = i.m, f = u.m, s = o.m, h = l.m; o = Ti(o), 
                i = qi(i), o && i; ) l = qi(l), u = Ti(u), u.a = n, r = o.z + s - i.z - c + a(o._, i._), 
                r > 0 && (Ri(Pi(o, n, e), n, r), c += r, f += r), s += o.m, c += i.m, h += l.m, 
                f += u.m;
                o && !Ti(u) && (u.t = o, u.m += s - f), i && !qi(l) && (l.t = i, l.m += c - h, e = n);
            }
            return e;
        }
        function u(n) {
            n.x *= l[0], n.y = n.depth * l[1];
        }
        var o = ao.layout.hierarchy().sort(null).value(null), a = Li, l = [ 1, 1 ], c = null;
        return n.separation = function(t) {
            return arguments.length ? (a = t, n) : a;
        }, n.size = function(t) {
            return arguments.length ? (c = null == (l = t) ? u : null, n) : c ? null : l;
        }, n.nodeSize = function(t) {
            return arguments.length ? (c = null == (l = t) ? null : u, n) : c ? l : null;
        }, ii(n, o);
    }, ao.layout.cluster = function() {
        function n(n, u) {
            var o, a = t.call(this, n, u), l = a[0], c = 0;
            oi(l, function(n) {
                var t = n.children;
                t && t.length ? (n.x = ji(t), n.y = Ui(t)) : (n.x = o ? c += e(n, o) : 0, n.y = 0, 
                o = n);
            });
            var f = Fi(l), s = Hi(l), h = f.x - e(f, s) / 2, p = s.x + e(s, f) / 2;
            return oi(l, i ? function(n) {
                n.x = (n.x - l.x) * r[0], n.y = (l.y - n.y) * r[1];
            } : function(n) {
                n.x = (n.x - h) / (p - h) * r[0], n.y = (1 - (l.y ? n.y / l.y : 1)) * r[1];
            }), a;
        }
        var t = ao.layout.hierarchy().sort(null).value(null), e = Li, r = [ 1, 1 ], i = !1;
        return n.separation = function(t) {
            return arguments.length ? (e = t, n) : e;
        }, n.size = function(t) {
            return arguments.length ? (i = null == (r = t), n) : i ? null : r;
        }, n.nodeSize = function(t) {
            return arguments.length ? (i = null != (r = t), n) : i ? r : null;
        }, ii(n, t);
    }, ao.layout.treemap = function() {
        function n(n, t) {
            for (var e, r, i = -1, u = n.length; ++i < u; ) r = (e = n[i]).value * (0 > t ? 0 : t), 
            e.area = isNaN(r) || 0 >= r ? 0 : r;
        }
        function t(e) {
            var u = e.children;
            if (u && u.length) {
                var o, a, l, c = s(e), f = [], h = u.slice(), g = 1 / 0, v = "slice" === p ? c.dx : "dice" === p ? c.dy : "slice-dice" === p ? 1 & e.depth ? c.dy : c.dx : Math.min(c.dx, c.dy);
                for (n(h, c.dx * c.dy / e.value), f.area = 0; (l = h.length) > 0; ) f.push(o = h[l - 1]), 
                f.area += o.area, "squarify" !== p || (a = r(f, v)) <= g ? (h.pop(), g = a) : (f.area -= f.pop().area, 
                i(f, v, c, !1), v = Math.min(c.dx, c.dy), f.length = f.area = 0, g = 1 / 0);
                f.length && (i(f, v, c, !0), f.length = f.area = 0), u.forEach(t);
            }
        }
        function e(t) {
            var r = t.children;
            if (r && r.length) {
                var u, o = s(t), a = r.slice(), l = [];
                for (n(a, o.dx * o.dy / t.value), l.area = 0; u = a.pop(); ) l.push(u), l.area += u.area, 
                null != u.z && (i(l, u.z ? o.dx : o.dy, o, !a.length), l.length = l.area = 0);
                r.forEach(e);
            }
        }
        function r(n, t) {
            for (var e, r = n.area, i = 0, u = 1 / 0, o = -1, a = n.length; ++o < a; ) (e = n[o].area) && (u > e && (u = e), 
            e > i && (i = e));
            return r *= r, t *= t, r ? Math.max(t * i * g / r, r / (t * u * g)) : 1 / 0;
        }
        function i(n, t, e, r) {
            var i, u = -1, o = n.length, a = e.x, c = e.y, f = t ? l(n.area / t) : 0;
            if (t == e.dx) {
                for ((r || f > e.dy) && (f = e.dy); ++u < o; ) i = n[u], i.x = a, i.y = c, i.dy = f, 
                a += i.dx = Math.min(e.x + e.dx - a, f ? l(i.area / f) : 0);
                i.z = !0, i.dx += e.x + e.dx - a, e.y += f, e.dy -= f;
            } else {
                for ((r || f > e.dx) && (f = e.dx); ++u < o; ) i = n[u], i.x = a, i.y = c, i.dx = f, 
                c += i.dy = Math.min(e.y + e.dy - c, f ? l(i.area / f) : 0);
                i.z = !1, i.dy += e.y + e.dy - c, e.x += f, e.dx -= f;
            }
        }
        function u(r) {
            var i = o || a(r), u = i[0];
            return u.x = u.y = 0, u.value ? (u.dx = c[0], u.dy = c[1]) : u.dx = u.dy = 0, o && a.revalue(u), 
            n([ u ], u.dx * u.dy / u.value), (o ? e : t)(u), h && (o = i), i;
        }
        var o, a = ao.layout.hierarchy(), l = Math.round, c = [ 1, 1 ], f = null, s = Oi, h = !1, p = "squarify", g = .5 * (1 + Math.sqrt(5));
        return u.size = function(n) {
            return arguments.length ? (c = n, u) : c;
        }, u.padding = function(n) {
            function t(t) {
                var e = n.call(u, t, t.depth);
                return null == e ? Oi(t) : Ii(t, "number" == typeof e ? [ e, e, e, e ] : e);
            }
            function e(t) {
                return Ii(t, n);
            }
            if (!arguments.length) return f;
            var r;
            return s = null == (f = n) ? Oi : "function" == (r = typeof n) ? t : "number" === r ? (n = [ n, n, n, n ], 
            e) : e, u;
        }, u.round = function(n) {
            return arguments.length ? (l = n ? Math.round : Number, u) : l != Number;
        }, u.sticky = function(n) {
            return arguments.length ? (h = n, o = null, u) : h;
        }, u.ratio = function(n) {
            return arguments.length ? (g = n, u) : g;
        }, u.mode = function(n) {
            return arguments.length ? (p = n + "", u) : p;
        }, ii(u, a);
    }, ao.random = {
        normal: function(n, t) {
            var e = arguments.length;
            return 2 > e && (t = 1), 1 > e && (n = 0), function() {
                var e, r, i;
                do e = 2 * Math.random() - 1, r = 2 * Math.random() - 1, i = e * e + r * r; while (!i || i > 1);
                return n + t * e * Math.sqrt(-2 * Math.log(i) / i);
            };
        },
        logNormal: function() {
            var n = ao.random.normal.apply(ao, arguments);
            return function() {
                return Math.exp(n());
            };
        },
        bates: function(n) {
            var t = ao.random.irwinHall(n);
            return function() {
                return t() / n;
            };
        },
        irwinHall: function(n) {
            return function() {
                for (var t = 0, e = 0; n > e; e++) t += Math.random();
                return t;
            };
        }
    }, ao.scale = {};
    var Sl = {
        floor: m,
        ceil: m
    };
    ao.scale.linear = function() {
        return Wi([ 0, 1 ], [ 0, 1 ], Mr, !1);
    };
    var kl = {
        s: 1,
        g: 1,
        p: 1,
        r: 1,
        e: 1
    };
    ao.scale.log = function() {
        return ru(ao.scale.linear().domain([ 0, 1 ]), 10, !0, [ 1, 10 ]);
    };
    var Nl = ao.format(".0e"), El = {
        floor: function(n) {
            return -Math.ceil(-n);
        },
        ceil: function(n) {
            return -Math.floor(-n);
        }
    };
    ao.scale.pow = function() {
        return iu(ao.scale.linear(), 1, [ 0, 1 ]);
    }, ao.scale.sqrt = function() {
        return ao.scale.pow().exponent(.5);
    }, ao.scale.ordinal = function() {
        return ou([], {
            t: "range",
            a: [ [] ]
        });
    }, ao.scale.category10 = function() {
        return ao.scale.ordinal().range(Al);
    }, ao.scale.category20 = function() {
        return ao.scale.ordinal().range(Cl);
    }, ao.scale.category20b = function() {
        return ao.scale.ordinal().range(zl);
    }, ao.scale.category20c = function() {
        return ao.scale.ordinal().range(Ll);
    };
    var Al = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(xn), Cl = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(xn), zl = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(xn), Ll = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(xn);
    ao.scale.quantile = function() {
        return au([], []);
    }, ao.scale.quantize = function() {
        return lu(0, 1, [ 0, 1 ]);
    }, ao.scale.threshold = function() {
        return cu([ .5 ], [ 0, 1 ]);
    }, ao.scale.identity = function() {
        return fu([ 0, 1 ]);
    }, ao.svg = {}, ao.svg.arc = function() {
        function n() {
            var n = Math.max(0, +e.apply(this, arguments)), c = Math.max(0, +r.apply(this, arguments)), f = o.apply(this, arguments) - Io, s = a.apply(this, arguments) - Io, h = Math.abs(s - f), p = f > s ? 0 : 1;
            if (n > c && (g = c, c = n, n = g), h >= Oo) return t(c, p) + (n ? t(n, 1 - p) : "") + "Z";
            var g, v, d, y, m, M, x, b, _, w, S, k, N = 0, E = 0, A = [];
            if ((y = (+l.apply(this, arguments) || 0) / 2) && (d = u === ql ? Math.sqrt(n * n + c * c) : +u.apply(this, arguments), 
            p || (E *= -1), c && (E = tn(d / c * Math.sin(y))), n && (N = tn(d / n * Math.sin(y)))), 
            c) {
                m = c * Math.cos(f + E), M = c * Math.sin(f + E), x = c * Math.cos(s - E), b = c * Math.sin(s - E);
                var C = Math.abs(s - f - 2 * E) <= Fo ? 0 : 1;
                if (E && yu(m, M, x, b) === p ^ C) {
                    var z = (f + s) / 2;
                    m = c * Math.cos(z), M = c * Math.sin(z), x = b = null;
                }
            } else m = M = 0;
            if (n) {
                _ = n * Math.cos(s - N), w = n * Math.sin(s - N), S = n * Math.cos(f + N), k = n * Math.sin(f + N);
                var L = Math.abs(f - s + 2 * N) <= Fo ? 0 : 1;
                if (N && yu(_, w, S, k) === 1 - p ^ L) {
                    var q = (f + s) / 2;
                    _ = n * Math.cos(q), w = n * Math.sin(q), S = k = null;
                }
            } else _ = w = 0;
            if (h > Uo && (g = Math.min(Math.abs(c - n) / 2, +i.apply(this, arguments))) > .001) {
                v = c > n ^ p ? 0 : 1;
                var T = g, R = g;
                if (Fo > h) {
                    var D = null == S ? [ _, w ] : null == x ? [ m, M ] : Re([ m, M ], [ S, k ], [ x, b ], [ _, w ]), P = m - D[0], U = M - D[1], j = x - D[0], F = b - D[1], H = 1 / Math.sin(Math.acos((P * j + U * F) / (Math.sqrt(P * P + U * U) * Math.sqrt(j * j + F * F))) / 2), O = Math.sqrt(D[0] * D[0] + D[1] * D[1]);
                    R = Math.min(g, (n - O) / (H - 1)), T = Math.min(g, (c - O) / (H + 1));
                }
                if (null != x) {
                    var I = mu(null == S ? [ _, w ] : [ S, k ], [ m, M ], c, T, p), Y = mu([ x, b ], [ _, w ], c, T, p);
                    g === T ? A.push("M", I[0], "A", T, ",", T, " 0 0,", v, " ", I[1], "A", c, ",", c, " 0 ", 1 - p ^ yu(I[1][0], I[1][1], Y[1][0], Y[1][1]), ",", p, " ", Y[1], "A", T, ",", T, " 0 0,", v, " ", Y[0]) : A.push("M", I[0], "A", T, ",", T, " 0 1,", v, " ", Y[0]);
                } else A.push("M", m, ",", M);
                if (null != S) {
                    var Z = mu([ m, M ], [ S, k ], n, -R, p), V = mu([ _, w ], null == x ? [ m, M ] : [ x, b ], n, -R, p);
                    g === R ? A.push("L", V[0], "A", R, ",", R, " 0 0,", v, " ", V[1], "A", n, ",", n, " 0 ", p ^ yu(V[1][0], V[1][1], Z[1][0], Z[1][1]), ",", 1 - p, " ", Z[1], "A", R, ",", R, " 0 0,", v, " ", Z[0]) : A.push("L", V[0], "A", R, ",", R, " 0 0,", v, " ", Z[0]);
                } else A.push("L", _, ",", w);
            } else A.push("M", m, ",", M), null != x && A.push("A", c, ",", c, " 0 ", C, ",", p, " ", x, ",", b), 
            A.push("L", _, ",", w), null != S && A.push("A", n, ",", n, " 0 ", L, ",", 1 - p, " ", S, ",", k);
            return A.push("Z"), A.join("");
        }
        function t(n, t) {
            return "M0," + n + "A" + n + "," + n + " 0 1," + t + " 0," + -n + "A" + n + "," + n + " 0 1," + t + " 0," + n;
        }
        var e = hu, r = pu, i = su, u = ql, o = gu, a = vu, l = du;
        return n.innerRadius = function(t) {
            return arguments.length ? (e = En(t), n) : e;
        }, n.outerRadius = function(t) {
            return arguments.length ? (r = En(t), n) : r;
        }, n.cornerRadius = function(t) {
            return arguments.length ? (i = En(t), n) : i;
        }, n.padRadius = function(t) {
            return arguments.length ? (u = t == ql ? ql : En(t), n) : u;
        }, n.startAngle = function(t) {
            return arguments.length ? (o = En(t), n) : o;
        }, n.endAngle = function(t) {
            return arguments.length ? (a = En(t), n) : a;
        }, n.padAngle = function(t) {
            return arguments.length ? (l = En(t), n) : l;
        }, n.centroid = function() {
            var n = (+e.apply(this, arguments) + +r.apply(this, arguments)) / 2, t = (+o.apply(this, arguments) + +a.apply(this, arguments)) / 2 - Io;
            return [ Math.cos(t) * n, Math.sin(t) * n ];
        }, n;
    };
    var ql = "auto";
    ao.svg.line = function() {
        return Mu(m);
    };
    var Tl = ao.map({
        linear: xu,
        "linear-closed": bu,
        step: _u,
        "step-before": wu,
        "step-after": Su,
        basis: zu,
        "basis-open": Lu,
        "basis-closed": qu,
        bundle: Tu,
        cardinal: Eu,
        "cardinal-open": ku,
        "cardinal-closed": Nu,
        monotone: Fu
    });
    Tl.forEach(function(n, t) {
        t.key = n, t.closed = /-closed$/.test(n);
    });
    var Rl = [ 0, 2 / 3, 1 / 3, 0 ], Dl = [ 0, 1 / 3, 2 / 3, 0 ], Pl = [ 0, 1 / 6, 2 / 3, 1 / 6 ];
    ao.svg.line.radial = function() {
        var n = Mu(Hu);
        return n.radius = n.x, delete n.x, n.angle = n.y, delete n.y, n;
    }, wu.reverse = Su, Su.reverse = wu, ao.svg.area = function() {
        return Ou(m);
    }, ao.svg.area.radial = function() {
        var n = Ou(Hu);
        return n.radius = n.x, delete n.x, n.innerRadius = n.x0, delete n.x0, n.outerRadius = n.x1, 
        delete n.x1, n.angle = n.y, delete n.y, n.startAngle = n.y0, delete n.y0, n.endAngle = n.y1, 
        delete n.y1, n;
    }, ao.svg.chord = function() {
        function n(n, a) {
            var l = t(this, u, n, a), c = t(this, o, n, a);
            return "M" + l.p0 + r(l.r, l.p1, l.a1 - l.a0) + (e(l, c) ? i(l.r, l.p1, l.r, l.p0) : i(l.r, l.p1, c.r, c.p0) + r(c.r, c.p1, c.a1 - c.a0) + i(c.r, c.p1, l.r, l.p0)) + "Z";
        }
        function t(n, t, e, r) {
            var i = t.call(n, e, r), u = a.call(n, i, r), o = l.call(n, i, r) - Io, f = c.call(n, i, r) - Io;
            return {
                r: u,
                a0: o,
                a1: f,
                p0: [ u * Math.cos(o), u * Math.sin(o) ],
                p1: [ u * Math.cos(f), u * Math.sin(f) ]
            };
        }
        function e(n, t) {
            return n.a0 == t.a0 && n.a1 == t.a1;
        }
        function r(n, t, e) {
            return "A" + n + "," + n + " 0 " + +(e > Fo) + ",1 " + t;
        }
        function i(n, t, e, r) {
            return "Q 0,0 " + r;
        }
        var u = Me, o = xe, a = Iu, l = gu, c = vu;
        return n.radius = function(t) {
            return arguments.length ? (a = En(t), n) : a;
        }, n.source = function(t) {
            return arguments.length ? (u = En(t), n) : u;
        }, n.target = function(t) {
            return arguments.length ? (o = En(t), n) : o;
        }, n.startAngle = function(t) {
            return arguments.length ? (l = En(t), n) : l;
        }, n.endAngle = function(t) {
            return arguments.length ? (c = En(t), n) : c;
        }, n;
    }, ao.svg.diagonal = function() {
        function n(n, i) {
            var u = t.call(this, n, i), o = e.call(this, n, i), a = (u.y + o.y) / 2, l = [ u, {
                x: u.x,
                y: a
            }, {
                x: o.x,
                y: a
            }, o ];
            return l = l.map(r), "M" + l[0] + "C" + l[1] + " " + l[2] + " " + l[3];
        }
        var t = Me, e = xe, r = Yu;
        return n.source = function(e) {
            return arguments.length ? (t = En(e), n) : t;
        }, n.target = function(t) {
            return arguments.length ? (e = En(t), n) : e;
        }, n.projection = function(t) {
            return arguments.length ? (r = t, n) : r;
        }, n;
    }, ao.svg.diagonal.radial = function() {
        var n = ao.svg.diagonal(), t = Yu, e = n.projection;
        return n.projection = function(n) {
            return arguments.length ? e(Zu(t = n)) : t;
        }, n;
    }, ao.svg.symbol = function() {
        function n(n, r) {
            return (Ul.get(t.call(this, n, r)) || $u)(e.call(this, n, r));
        }
        var t = Xu, e = Vu;
        return n.type = function(e) {
            return arguments.length ? (t = En(e), n) : t;
        }, n.size = function(t) {
            return arguments.length ? (e = En(t), n) : e;
        }, n;
    };
    var Ul = ao.map({
        circle: $u,
        cross: function(n) {
            var t = Math.sqrt(n / 5) / 2;
            return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z";
        },
        diamond: function(n) {
            var t = Math.sqrt(n / (2 * Fl)), e = t * Fl;
            return "M0," + -t + "L" + e + ",0 0," + t + " " + -e + ",0Z";
        },
        square: function(n) {
            var t = Math.sqrt(n) / 2;
            return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z";
        },
        "triangle-down": function(n) {
            var t = Math.sqrt(n / jl), e = t * jl / 2;
            return "M0," + e + "L" + t + "," + -e + " " + -t + "," + -e + "Z";
        },
        "triangle-up": function(n) {
            var t = Math.sqrt(n / jl), e = t * jl / 2;
            return "M0," + -e + "L" + t + "," + e + " " + -t + "," + e + "Z";
        }
    });
    ao.svg.symbolTypes = Ul.keys();
    var jl = Math.sqrt(3), Fl = Math.tan(30 * Yo);
    Co.transition = function(n) {
        for (var t, e, r = Hl || ++Zl, i = Ku(n), u = [], o = Ol || {
            time: Date.now(),
            ease: Nr,
            delay: 0,
            duration: 250
        }, a = -1, l = this.length; ++a < l; ) {
            u.push(t = []);
            for (var c = this[a], f = -1, s = c.length; ++f < s; ) (e = c[f]) && Qu(e, f, i, r, o), 
            t.push(e);
        }
        return Wu(u, i, r);
    }, Co.interrupt = function(n) {
        return this.each(null == n ? Il : Bu(Ku(n)));
    };
    var Hl, Ol, Il = Bu(Ku()), Yl = [], Zl = 0;
    Yl.call = Co.call, Yl.empty = Co.empty, Yl.node = Co.node, Yl.size = Co.size, ao.transition = function(n, t) {
        return n && n.transition ? Hl ? n.transition(t) : n : ao.selection().transition(n);
    }, ao.transition.prototype = Yl, Yl.select = function(n) {
        var t, e, r, i = this.id, u = this.namespace, o = [];
        n = A(n);
        for (var a = -1, l = this.length; ++a < l; ) {
            o.push(t = []);
            for (var c = this[a], f = -1, s = c.length; ++f < s; ) (r = c[f]) && (e = n.call(r, r.__data__, f, a)) ? ("__data__" in r && (e.__data__ = r.__data__), 
            Qu(e, f, u, i, r[u][i]), t.push(e)) : t.push(null);
        }
        return Wu(o, u, i);
    }, Yl.selectAll = function(n) {
        var t, e, r, i, u, o = this.id, a = this.namespace, l = [];
        n = C(n);
        for (var c = -1, f = this.length; ++c < f; ) for (var s = this[c], h = -1, p = s.length; ++h < p; ) if (r = s[h]) {
            u = r[a][o], e = n.call(r, r.__data__, h, c), l.push(t = []);
            for (var g = -1, v = e.length; ++g < v; ) (i = e[g]) && Qu(i, g, a, o, u), t.push(i);
        }
        return Wu(l, a, o);
    }, Yl.filter = function(n) {
        var t, e, r, i = [];
        "function" != typeof n && (n = O(n));
        for (var u = 0, o = this.length; o > u; u++) {
            i.push(t = []);
            for (var e = this[u], a = 0, l = e.length; l > a; a++) (r = e[a]) && n.call(r, r.__data__, a, u) && t.push(r);
        }
        return Wu(i, this.namespace, this.id);
    }, Yl.tween = function(n, t) {
        var e = this.id, r = this.namespace;
        return arguments.length < 2 ? this.node()[r][e].tween.get(n) : Y(this, null == t ? function(t) {
            t[r][e].tween.remove(n);
        } : function(i) {
            i[r][e].tween.set(n, t);
        });
    }, Yl.attr = function(n, t) {
        function e() {
            this.removeAttribute(a);
        }
        function r() {
            this.removeAttributeNS(a.space, a.local);
        }
        function i(n) {
            return null == n ? e : (n += "", function() {
                var t, e = this.getAttribute(a);
                return e !== n && (t = o(e, n), function(n) {
                    this.setAttribute(a, t(n));
                });
            });
        }
        function u(n) {
            return null == n ? r : (n += "", function() {
                var t, e = this.getAttributeNS(a.space, a.local);
                return e !== n && (t = o(e, n), function(n) {
                    this.setAttributeNS(a.space, a.local, t(n));
                });
            });
        }
        if (arguments.length < 2) {
            for (t in n) this.attr(t, n[t]);
            return this;
        }
        var o = "transform" == n ? $r : Mr, a = ao.ns.qualify(n);
        return Ju(this, "attr." + n, t, a.local ? u : i);
    }, Yl.attrTween = function(n, t) {
        function e(n, e) {
            var r = t.call(this, n, e, this.getAttribute(i));
            return r && function(n) {
                this.setAttribute(i, r(n));
            };
        }
        function r(n, e) {
            var r = t.call(this, n, e, this.getAttributeNS(i.space, i.local));
            return r && function(n) {
                this.setAttributeNS(i.space, i.local, r(n));
            };
        }
        var i = ao.ns.qualify(n);
        return this.tween("attr." + n, i.local ? r : e);
    }, Yl.style = function(n, e, r) {
        function i() {
            this.style.removeProperty(n);
        }
        function u(e) {
            return null == e ? i : (e += "", function() {
                var i, u = t(this).getComputedStyle(this, null).getPropertyValue(n);
                return u !== e && (i = Mr(u, e), function(t) {
                    this.style.setProperty(n, i(t), r);
                });
            });
        }
        var o = arguments.length;
        if (3 > o) {
            if ("string" != typeof n) {
                2 > o && (e = "");
                for (r in n) this.style(r, n[r], e);
                return this;
            }
            r = "";
        }
        return Ju(this, "style." + n, e, u);
    }, Yl.styleTween = function(n, e, r) {
        function i(i, u) {
            var o = e.call(this, i, u, t(this).getComputedStyle(this, null).getPropertyValue(n));
            return o && function(t) {
                this.style.setProperty(n, o(t), r);
            };
        }
        return arguments.length < 3 && (r = ""), this.tween("style." + n, i);
    }, Yl.text = function(n) {
        return Ju(this, "text", n, Gu);
    }, Yl.remove = function() {
        var n = this.namespace;
        return this.each("end.transition", function() {
            var t;
            this[n].count < 2 && (t = this.parentNode) && t.removeChild(this);
        });
    }, Yl.ease = function(n) {
        var t = this.id, e = this.namespace;
        return arguments.length < 1 ? this.node()[e][t].ease : ("function" != typeof n && (n = ao.ease.apply(ao, arguments)), 
        Y(this, function(r) {
            r[e][t].ease = n;
        }));
    }, Yl.delay = function(n) {
        var t = this.id, e = this.namespace;
        return arguments.length < 1 ? this.node()[e][t].delay : Y(this, "function" == typeof n ? function(r, i, u) {
            r[e][t].delay = +n.call(r, r.__data__, i, u);
        } : (n = +n, function(r) {
            r[e][t].delay = n;
        }));
    }, Yl.duration = function(n) {
        var t = this.id, e = this.namespace;
        return arguments.length < 1 ? this.node()[e][t].duration : Y(this, "function" == typeof n ? function(r, i, u) {
            r[e][t].duration = Math.max(1, n.call(r, r.__data__, i, u));
        } : (n = Math.max(1, n), function(r) {
            r[e][t].duration = n;
        }));
    }, Yl.each = function(n, t) {
        var e = this.id, r = this.namespace;
        if (arguments.length < 2) {
            var i = Ol, u = Hl;
            try {
                Hl = e, Y(this, function(t, i, u) {
                    Ol = t[r][e], n.call(t, t.__data__, i, u);
                });
            } finally {
                Ol = i, Hl = u;
            }
        } else Y(this, function(i) {
            var u = i[r][e];
            (u.event || (u.event = ao.dispatch("start", "end", "interrupt"))).on(n, t);
        });
        return this;
    }, Yl.transition = function() {
        for (var n, t, e, r, i = this.id, u = ++Zl, o = this.namespace, a = [], l = 0, c = this.length; c > l; l++) {
            a.push(n = []);
            for (var t = this[l], f = 0, s = t.length; s > f; f++) (e = t[f]) && (r = e[o][i], 
            Qu(e, f, o, u, {
                time: r.time,
                ease: r.ease,
                delay: r.delay + r.duration,
                duration: r.duration
            })), n.push(e);
        }
        return Wu(a, o, u);
    }, ao.svg.axis = function() {
        function n(n) {
            n.each(function() {
                var n, c = ao.select(this), f = this.__chart__ || e, s = this.__chart__ = e.copy(), h = null == l ? s.ticks ? s.ticks.apply(s, a) : s.domain() : l, p = null == t ? s.tickFormat ? s.tickFormat.apply(s, a) : m : t, g = c.selectAll(".tick").data(h, s), v = g.enter().insert("g", ".domain").attr("class", "tick").style("opacity", Uo), d = ao.transition(g.exit()).style("opacity", Uo).remove(), y = ao.transition(g.order()).style("opacity", 1), M = Math.max(i, 0) + o, x = Zi(s), b = c.selectAll(".domain").data([ 0 ]), _ = (b.enter().append("path").attr("class", "domain"), 
                ao.transition(b));
                v.append("line"), v.append("text");
                var w, S, k, N, E = v.select("line"), A = y.select("line"), C = g.select("text").text(p), z = v.select("text"), L = y.select("text"), q = "top" === r || "left" === r ? -1 : 1;
                if ("bottom" === r || "top" === r ? (n = no, w = "x", k = "y", S = "x2", N = "y2", 
                C.attr("dy", 0 > q ? "0em" : ".71em").style("text-anchor", "middle"), _.attr("d", "M" + x[0] + "," + q * u + "V0H" + x[1] + "V" + q * u)) : (n = to, 
                w = "y", k = "x", S = "y2", N = "x2", C.attr("dy", ".32em").style("text-anchor", 0 > q ? "end" : "start"), 
                _.attr("d", "M" + q * u + "," + x[0] + "H0V" + x[1] + "H" + q * u)), E.attr(N, q * i), 
                z.attr(k, q * M), A.attr(S, 0).attr(N, q * i), L.attr(w, 0).attr(k, q * M), s.rangeBand) {
                    var T = s, R = T.rangeBand() / 2;
                    f = s = function(n) {
                        return T(n) + R;
                    };
                } else f.rangeBand ? f = s : d.call(n, s, f);
                v.call(n, f, s), y.call(n, s, s);
            });
        }
        var t, e = ao.scale.linear(), r = Vl, i = 6, u = 6, o = 3, a = [ 10 ], l = null;
        return n.scale = function(t) {
            return arguments.length ? (e = t, n) : e;
        }, n.orient = function(t) {
            return arguments.length ? (r = t in Xl ? t + "" : Vl, n) : r;
        }, n.ticks = function() {
            return arguments.length ? (a = co(arguments), n) : a;
        }, n.tickValues = function(t) {
            return arguments.length ? (l = t, n) : l;
        }, n.tickFormat = function(e) {
            return arguments.length ? (t = e, n) : t;
        }, n.tickSize = function(t) {
            var e = arguments.length;
            return e ? (i = +t, u = +arguments[e - 1], n) : i;
        }, n.innerTickSize = function(t) {
            return arguments.length ? (i = +t, n) : i;
        }, n.outerTickSize = function(t) {
            return arguments.length ? (u = +t, n) : u;
        }, n.tickPadding = function(t) {
            return arguments.length ? (o = +t, n) : o;
        }, n.tickSubdivide = function() {
            return arguments.length && n;
        }, n;
    };
    var Vl = "bottom", Xl = {
        top: 1,
        right: 1,
        bottom: 1,
        left: 1
    };
    ao.svg.brush = function() {
        function n(t) {
            t.each(function() {
                var t = ao.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", u).on("touchstart.brush", u), o = t.selectAll(".background").data([ 0 ]);
                o.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"), 
                t.selectAll(".extent").data([ 0 ]).enter().append("rect").attr("class", "extent").style("cursor", "move");
                var a = t.selectAll(".resize").data(v, m);
                a.exit().remove(), a.enter().append("g").attr("class", function(n) {
                    return "resize " + n;
                }).style("cursor", function(n) {
                    return $l[n];
                }).append("rect").attr("x", function(n) {
                    return /[ew]$/.test(n) ? -3 : null;
                }).attr("y", function(n) {
                    return /^[ns]/.test(n) ? -3 : null;
                }).attr("width", 6).attr("height", 6).style("visibility", "hidden"), a.style("display", n.empty() ? "none" : null);
                var l, s = ao.transition(t), h = ao.transition(o);
                c && (l = Zi(c), h.attr("x", l[0]).attr("width", l[1] - l[0]), r(s)), f && (l = Zi(f), 
                h.attr("y", l[0]).attr("height", l[1] - l[0]), i(s)), e(s);
            });
        }
        function e(n) {
            n.selectAll(".resize").attr("transform", function(n) {
                return "translate(" + s[+/e$/.test(n)] + "," + h[+/^s/.test(n)] + ")";
            });
        }
        function r(n) {
            n.select(".extent").attr("x", s[0]), n.selectAll(".extent,.n>rect,.s>rect").attr("width", s[1] - s[0]);
        }
        function i(n) {
            n.select(".extent").attr("y", h[0]), n.selectAll(".extent,.e>rect,.w>rect").attr("height", h[1] - h[0]);
        }
        function u() {
            function u() {
                32 == ao.event.keyCode && (C || (M = null, L[0] -= s[1], L[1] -= h[1], C = 2), S());
            }
            function v() {
                32 == ao.event.keyCode && 2 == C && (L[0] += s[1], L[1] += h[1], C = 0, S());
            }
            function d() {
                var n = ao.mouse(b), t = !1;
                x && (n[0] += x[0], n[1] += x[1]), C || (ao.event.altKey ? (M || (M = [ (s[0] + s[1]) / 2, (h[0] + h[1]) / 2 ]), 
                L[0] = s[+(n[0] < M[0])], L[1] = h[+(n[1] < M[1])]) : M = null), E && y(n, c, 0) && (r(k), 
                t = !0), A && y(n, f, 1) && (i(k), t = !0), t && (e(k), w({
                    type: "brush",
                    mode: C ? "move" : "resize"
                }));
            }
            function y(n, t, e) {
                var r, i, u = Zi(t), l = u[0], c = u[1], f = L[e], v = e ? h : s, d = v[1] - v[0];
                return C && (l -= f, c -= d + f), r = (e ? g : p) ? Math.max(l, Math.min(c, n[e])) : n[e], 
                C ? i = (r += f) + d : (M && (f = Math.max(l, Math.min(c, 2 * M[e] - r))), r > f ? (i = r, 
                r = f) : i = f), v[0] != r || v[1] != i ? (e ? a = null : o = null, v[0] = r, v[1] = i, 
                !0) : void 0;
            }
            function m() {
                d(), k.style("pointer-events", "all").selectAll(".resize").style("display", n.empty() ? "none" : null), 
                ao.select("body").style("cursor", null), q.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null), 
                z(), w({
                    type: "brushend"
                });
            }
            var M, x, b = this, _ = ao.select(ao.event.target), w = l.of(b, arguments), k = ao.select(b), N = _.datum(), E = !/^(n|s)$/.test(N) && c, A = !/^(e|w)$/.test(N) && f, C = _.classed("extent"), z = W(b), L = ao.mouse(b), q = ao.select(t(b)).on("keydown.brush", u).on("keyup.brush", v);
            if (ao.event.changedTouches ? q.on("touchmove.brush", d).on("touchend.brush", m) : q.on("mousemove.brush", d).on("mouseup.brush", m), 
            k.interrupt().selectAll("*").interrupt(), C) L[0] = s[0] - L[0], L[1] = h[0] - L[1]; else if (N) {
                var T = +/w$/.test(N), R = +/^n/.test(N);
                x = [ s[1 - T] - L[0], h[1 - R] - L[1] ], L[0] = s[T], L[1] = h[R];
            } else ao.event.altKey && (M = L.slice());
            k.style("pointer-events", "none").selectAll(".resize").style("display", null), ao.select("body").style("cursor", _.style("cursor")), 
            w({
                type: "brushstart"
            }), d();
        }
        var o, a, l = N(n, "brushstart", "brush", "brushend"), c = null, f = null, s = [ 0, 0 ], h = [ 0, 0 ], p = !0, g = !0, v = Bl[0];
        return n.event = function(n) {
            n.each(function() {
                var n = l.of(this, arguments), t = {
                    x: s,
                    y: h,
                    i: o,
                    j: a
                }, e = this.__chart__ || t;
                this.__chart__ = t, Hl ? ao.select(this).transition().each("start.brush", function() {
                    o = e.i, a = e.j, s = e.x, h = e.y, n({
                        type: "brushstart"
                    });
                }).tween("brush:brush", function() {
                    var e = xr(s, t.x), r = xr(h, t.y);
                    return o = a = null, function(i) {
                        s = t.x = e(i), h = t.y = r(i), n({
                            type: "brush",
                            mode: "resize"
                        });
                    };
                }).each("end.brush", function() {
                    o = t.i, a = t.j, n({
                        type: "brush",
                        mode: "resize"
                    }), n({
                        type: "brushend"
                    });
                }) : (n({
                    type: "brushstart"
                }), n({
                    type: "brush",
                    mode: "resize"
                }), n({
                    type: "brushend"
                }));
            });
        }, n.x = function(t) {
            return arguments.length ? (c = t, v = Bl[!c << 1 | !f], n) : c;
        }, n.y = function(t) {
            return arguments.length ? (f = t, v = Bl[!c << 1 | !f], n) : f;
        }, n.clamp = function(t) {
            return arguments.length ? (c && f ? (p = !!t[0], g = !!t[1]) : c ? p = !!t : f && (g = !!t), 
            n) : c && f ? [ p, g ] : c ? p : f ? g : null;
        }, n.extent = function(t) {
            var e, r, i, u, l;
            return arguments.length ? (c && (e = t[0], r = t[1], f && (e = e[0], r = r[0]), 
            o = [ e, r ], c.invert && (e = c(e), r = c(r)), e > r && (l = e, e = r, r = l), 
            e == s[0] && r == s[1] || (s = [ e, r ])), f && (i = t[0], u = t[1], c && (i = i[1], 
            u = u[1]), a = [ i, u ], f.invert && (i = f(i), u = f(u)), i > u && (l = i, i = u, 
            u = l), i == h[0] && u == h[1] || (h = [ i, u ])), n) : (c && (o ? (e = o[0], r = o[1]) : (e = s[0], 
            r = s[1], c.invert && (e = c.invert(e), r = c.invert(r)), e > r && (l = e, e = r, 
            r = l))), f && (a ? (i = a[0], u = a[1]) : (i = h[0], u = h[1], f.invert && (i = f.invert(i), 
            u = f.invert(u)), i > u && (l = i, i = u, u = l))), c && f ? [ [ e, i ], [ r, u ] ] : c ? [ e, r ] : f && [ i, u ]);
        }, n.clear = function() {
            return n.empty() || (s = [ 0, 0 ], h = [ 0, 0 ], o = a = null), n;
        }, n.empty = function() {
            return !!c && s[0] == s[1] || !!f && h[0] == h[1];
        }, ao.rebind(n, l, "on");
    };
    var $l = {
        n: "ns-resize",
        e: "ew-resize",
        s: "ns-resize",
        w: "ew-resize",
        nw: "nwse-resize",
        ne: "nesw-resize",
        se: "nwse-resize",
        sw: "nesw-resize"
    }, Bl = [ [ "n", "e", "s", "w", "nw", "ne", "se", "sw" ], [ "e", "w" ], [ "n", "s" ], [] ], Wl = ga.format = xa.timeFormat, Jl = Wl.utc, Gl = Jl("%Y-%m-%dT%H:%M:%S.%LZ");
    Wl.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? eo : Gl, 
    eo.parse = function(n) {
        var t = new Date(n);
        return isNaN(t) ? null : t;
    }, eo.toString = Gl.toString, ga.second = On(function(n) {
        return new va(1e3 * Math.floor(n / 1e3));
    }, function(n, t) {
        n.setTime(n.getTime() + 1e3 * Math.floor(t));
    }, function(n) {
        return n.getSeconds();
    }), ga.seconds = ga.second.range, ga.seconds.utc = ga.second.utc.range, ga.minute = On(function(n) {
        return new va(6e4 * Math.floor(n / 6e4));
    }, function(n, t) {
        n.setTime(n.getTime() + 6e4 * Math.floor(t));
    }, function(n) {
        return n.getMinutes();
    }), ga.minutes = ga.minute.range, ga.minutes.utc = ga.minute.utc.range, ga.hour = On(function(n) {
        var t = n.getTimezoneOffset() / 60;
        return new va(36e5 * (Math.floor(n / 36e5 - t) + t));
    }, function(n, t) {
        n.setTime(n.getTime() + 36e5 * Math.floor(t));
    }, function(n) {
        return n.getHours();
    }), ga.hours = ga.hour.range, ga.hours.utc = ga.hour.utc.range, ga.month = On(function(n) {
        return n = ga.day(n), n.setDate(1), n;
    }, function(n, t) {
        n.setMonth(n.getMonth() + t);
    }, function(n) {
        return n.getMonth();
    }), ga.months = ga.month.range, ga.months.utc = ga.month.utc.range;
    var Kl = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ], Ql = [ [ ga.second, 1 ], [ ga.second, 5 ], [ ga.second, 15 ], [ ga.second, 30 ], [ ga.minute, 1 ], [ ga.minute, 5 ], [ ga.minute, 15 ], [ ga.minute, 30 ], [ ga.hour, 1 ], [ ga.hour, 3 ], [ ga.hour, 6 ], [ ga.hour, 12 ], [ ga.day, 1 ], [ ga.day, 2 ], [ ga.week, 1 ], [ ga.month, 1 ], [ ga.month, 3 ], [ ga.year, 1 ] ], nc = Wl.multi([ [ ".%L", function(n) {
        return n.getMilliseconds();
    } ], [ ":%S", function(n) {
        return n.getSeconds();
    } ], [ "%I:%M", function(n) {
        return n.getMinutes();
    } ], [ "%I %p", function(n) {
        return n.getHours();
    } ], [ "%a %d", function(n) {
        return n.getDay() && 1 != n.getDate();
    } ], [ "%b %d", function(n) {
        return 1 != n.getDate();
    } ], [ "%B", function(n) {
        return n.getMonth();
    } ], [ "%Y", zt ] ]), tc = {
        range: function(n, t, e) {
            return ao.range(Math.ceil(n / e) * e, +t, e).map(io);
        },
        floor: m,
        ceil: m
    };
    Ql.year = ga.year, ga.scale = function() {
        return ro(ao.scale.linear(), Ql, nc);
    };
    var ec = Ql.map(function(n) {
        return [ n[0].utc, n[1] ];
    }), rc = Jl.multi([ [ ".%L", function(n) {
        return n.getUTCMilliseconds();
    } ], [ ":%S", function(n) {
        return n.getUTCSeconds();
    } ], [ "%I:%M", function(n) {
        return n.getUTCMinutes();
    } ], [ "%I %p", function(n) {
        return n.getUTCHours();
    } ], [ "%a %d", function(n) {
        return n.getUTCDay() && 1 != n.getUTCDate();
    } ], [ "%b %d", function(n) {
        return 1 != n.getUTCDate();
    } ], [ "%B", function(n) {
        return n.getUTCMonth();
    } ], [ "%Y", zt ] ]);
    ec.year = ga.year.utc, ga.scale.utc = function() {
        return ro(ao.scale.linear(), ec, rc);
    }, ao.text = An(function(n) {
        return n.responseText;
    }), ao.json = function(n, t) {
        return Cn(n, "application/json", uo, t);
    }, ao.html = function(n, t) {
        return Cn(n, "text/html", oo, t);
    }, ao.xml = An(function(n) {
        return n.responseXML;
    }), "function" == typeof define && define.amd ? (this.d3 = ao, define(ao)) : "object" == typeof module && module.exports ? module.exports = ao : this.d3 = ao;
}(), !function() {
    var a = {};
    a.dev = !1, a.tooltip = a.tooltip || {}, a.utils = a.utils || {}, a.models = a.models || {}, 
    a.charts = {}, a.logs = {}, a.dom = {}, "undefined" != typeof module && "undefined" != typeof exports && "undefined" == typeof d3 && (d3 = require("d3")), 
    a.dispatch = d3.dispatch("render_start", "render_end"), Function.prototype.bind || (Function.prototype.bind = function(a) {
        if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
        var b = Array.prototype.slice.call(arguments, 1), c = this, d = function() {}, e = function() {
            return c.apply(this instanceof d && a ? this : a, b.concat(Array.prototype.slice.call(arguments)));
        };
        return d.prototype = this.prototype, e.prototype = new d(), e;
    }), a.dev && (a.dispatch.on("render_start", function(b) {
        a.logs.startTime = +new Date();
    }), a.dispatch.on("render_end", function(b) {
        a.logs.endTime = +new Date(), a.logs.totalTime = a.logs.endTime - a.logs.startTime, 
        a.log("total", a.logs.totalTime);
    })), a.log = function() {
        if (a.dev && window.console && console.log && console.log.apply) console.log.apply(console, arguments); else if (a.dev && window.console && "function" == typeof console.log && Function.prototype.bind) {
            var b = Function.prototype.bind.call(console.log, console);
            b.apply(console, arguments);
        }
        return arguments[arguments.length - 1];
    }, a.deprecated = function(a, b) {
        console && console.warn && console.warn("nvd3 warning: `" + a + "` has been deprecated. ", b || "");
    }, a.render = function(b) {
        b = b || 1, a.render.active = !0, a.dispatch.render_start();
        var c = function() {
            for (var d, e, f = 0; b > f && (e = a.render.queue[f]); f++) d = e.generate(), typeof e.callback == typeof Function && e.callback(d);
            a.render.queue.splice(0, f), a.render.queue.length ? setTimeout(c) : (a.dispatch.render_end(), 
            a.render.active = !1);
        };
        setTimeout(c);
    }, a.render.active = !1, a.render.queue = [], a.addGraph = function(b) {
        typeof arguments[0] == typeof Function && (b = {
            generate: arguments[0],
            callback: arguments[1]
        }), a.render.queue.push(b), a.render.active || a.render();
    }, "undefined" != typeof module && "undefined" != typeof exports && (module.exports = a), 
    "undefined" != typeof window && (window.nv = a), a.dom.write = function(a) {
        return void 0 !== window.fastdom ? fastdom.mutate(a) : a();
    }, a.dom.read = function(a) {
        return void 0 !== window.fastdom ? fastdom.measure(a) : a();
    }, a.interactiveGuideline = function() {
        "use strict";
        function b(l) {
            l.each(function(l) {
                function m() {
                    var a = d3.mouse(this), d = a[0], e = a[1], h = !0, i = !1;
                    if (k && (d = d3.event.offsetX, e = d3.event.offsetY, "svg" !== d3.event.target.tagName && (h = !1), 
                    d3.event.target.className.baseVal.match("nv-legend") && (i = !0)), h && (d -= c.left, 
                    e -= c.top), "mouseout" === d3.event.type || 0 > d || 0 > e || d > o || e > p || d3.event.relatedTarget && void 0 === d3.event.relatedTarget.ownerSVGElement || i) {
                        if (k && d3.event.relatedTarget && void 0 === d3.event.relatedTarget.ownerSVGElement && (void 0 === d3.event.relatedTarget.className || d3.event.relatedTarget.className.match(j.nvPointerEventsClass))) return;
                        return g.elementMouseout({
                            mouseX: d,
                            mouseY: e
                        }), b.renderGuideLine(null), void j.hidden(!0);
                    }
                    j.hidden(!1);
                    var l = "function" == typeof f.rangeBands, m = void 0;
                    if (l) {
                        var n = d3.bisect(f.range(), d) - 1;
                        if (!(f.range()[n] + f.rangeBand() >= d)) return g.elementMouseout({
                            mouseX: d,
                            mouseY: e
                        }), b.renderGuideLine(null), void j.hidden(!0);
                        m = f.domain()[d3.bisect(f.range(), d) - 1];
                    } else m = f.invert(d);
                    g.elementMousemove({
                        mouseX: d,
                        mouseY: e,
                        pointXValue: m
                    }), "dblclick" === d3.event.type && g.elementDblclick({
                        mouseX: d,
                        mouseY: e,
                        pointXValue: m
                    }), "click" === d3.event.type && g.elementClick({
                        mouseX: d,
                        mouseY: e,
                        pointXValue: m
                    }), "mousedown" === d3.event.type && g.elementMouseDown({
                        mouseX: d,
                        mouseY: e,
                        pointXValue: m
                    }), "mouseup" === d3.event.type && g.elementMouseUp({
                        mouseX: d,
                        mouseY: e,
                        pointXValue: m
                    });
                }
                var n = d3.select(this), o = d || 960, p = e || 400, q = n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([ l ]), r = q.enter().append("g").attr("class", " nv-wrap nv-interactiveLineLayer");
                r.append("g").attr("class", "nv-interactiveGuideLine"), i && (i.on("touchmove", m).on("mousemove", m, !0).on("mouseout", m, !0).on("mousedown", m, !0).on("mouseup", m, !0).on("dblclick", m).on("click", m), 
                b.guideLine = null, b.renderGuideLine = function(c) {
                    h && (b.guideLine && b.guideLine.attr("x1") === c || a.dom.write(function() {
                        var b = q.select(".nv-interactiveGuideLine").selectAll("line").data(null != c ? [ a.utils.NaNtoZero(c) ] : [], String);
                        b.enter().append("line").attr("class", "nv-guideline").attr("x1", function(a) {
                            return a;
                        }).attr("x2", function(a) {
                            return a;
                        }).attr("y1", p).attr("y2", 0), b.exit().remove();
                    }));
                });
            });
        }
        var c = {
            left: 0,
            top: 0
        }, d = null, e = null, f = d3.scale.linear(), g = d3.dispatch("elementMousemove", "elementMouseout", "elementClick", "elementDblclick", "elementMouseDown", "elementMouseUp"), h = !0, i = null, j = a.models.tooltip(), k = window.ActiveXObject;
        return j.duration(0).hideDelay(0).hidden(!1), b.dispatch = g, b.tooltip = j, b.margin = function(a) {
            return arguments.length ? (c.top = "undefined" != typeof a.top ? a.top : c.top, 
            c.left = "undefined" != typeof a.left ? a.left : c.left, b) : c;
        }, b.width = function(a) {
            return arguments.length ? (d = a, b) : d;
        }, b.height = function(a) {
            return arguments.length ? (e = a, b) : e;
        }, b.xScale = function(a) {
            return arguments.length ? (f = a, b) : f;
        }, b.showGuideLine = function(a) {
            return arguments.length ? (h = a, b) : h;
        }, b.svgContainer = function(a) {
            return arguments.length ? (i = a, b) : i;
        }, b;
    }, a.interactiveBisect = function(a, b, c) {
        "use strict";
        if (!(a instanceof Array)) return null;
        var d;
        d = "function" != typeof c ? function(a) {
            return a.x;
        } : c;
        var e = function(a, b) {
            return d(a) - b;
        }, f = d3.bisector(e).left, g = d3.max([ 0, f(a, b) - 1 ]), h = d(a[g]);
        if ("undefined" == typeof h && (h = g), h === b) return g;
        var i = d3.min([ g + 1, a.length - 1 ]), j = d(a[i]);
        return "undefined" == typeof j && (j = i), Math.abs(j - b) >= Math.abs(h - b) ? g : i;
    }, a.nearestValueIndex = function(a, b, c) {
        "use strict";
        var d = 1 / 0, e = null;
        return a.forEach(function(a, f) {
            var g = Math.abs(b - a);
            null != a && d >= g && c > g && (d = g, e = f);
        }), e;
    }, a.models.tooltip = function() {
        "use strict";
        function b() {
            if (!l || !l.node()) {
                var a = [ 1 ];
                l = d3.select(document.body).select("#" + d).data(a), l.enter().append("div").attr("class", "nvtooltip " + (i ? i : "xy-tooltip")).attr("id", d).style("top", 0).style("left", 0).style("opacity", 0).style("position", "fixed").selectAll("div, table, td, tr").classed(q, !0).classed(q, !0), 
                l.exit().remove();
            }
        }
        function c() {
            return n && w(e) ? (a.dom.write(function() {
                b();
                var a = u(e);
                a && (l.node().innerHTML = a), y();
            }), c) : void 0;
        }
        var d = "nvtooltip-" + Math.floor(1e5 * Math.random()), e = null, f = "w", g = 25, h = 0, i = null, j = !0, k = 200, l = null, m = {
            left: null,
            top: null
        }, n = !0, o = 100, p = !0, q = "nv-pointer-events-none", r = function(a, b) {
            return a;
        }, s = function(a) {
            return a;
        }, t = function(a, b) {
            return a;
        }, u = function(a) {
            if (null === a) return "";
            var b = d3.select(document.createElement("table"));
            if (p) {
                var c = b.selectAll("thead").data([ a ]).enter().append("thead");
                c.append("tr").append("td").attr("colspan", 3).append("strong").classed("x-value", !0).html(s(a.value));
            }
            var d = b.selectAll("tbody").data([ a ]).enter().append("tbody"), e = d.selectAll("tr").data(function(a) {
                return a.series;
            }).enter().append("tr").classed("highlight", function(a) {
                return a.highlight;
            });
            e.append("td").classed("legend-color-guide", !0).append("div").style("background-color", function(a) {
                return a.color;
            }), e.append("td").classed("key", !0).classed("total", function(a) {
                return !!a.total;
            }).html(function(a, b) {
                return t(a.key, b);
            }), e.append("td").classed("value", !0).html(function(a, b) {
                return r(a.value, b);
            }), e.filter(function(a, b) {
                return void 0 !== a.percent;
            }).append("td").classed("percent", !0).html(function(a, b) {
                return "(" + d3.format("%")(a.percent) + ")";
            }), e.selectAll("td").each(function(a) {
                if (a.highlight) {
                    var b = d3.scale.linear().domain([ 0, 1 ]).range([ "#fff", a.color ]), c = .6;
                    d3.select(this).style("border-bottom-color", b(c)).style("border-top-color", b(c));
                }
            });
            var f = b.node().outerHTML;
            return void 0 !== a.footer && (f += "<div class='footer'>" + a.footer + "</div>"), 
            f;
        }, v = function() {
            var a = {
                left: null !== d3.event ? d3.event.clientX : 0,
                top: null !== d3.event ? d3.event.clientY : 0
            };
            if ("none" != getComputedStyle(document.body).transform) {
                var b = document.body.getBoundingClientRect();
                a.left -= b.left, a.top -= b.top;
            }
            return a;
        }, w = function(b) {
            if (b && b.series) {
                if (a.utils.isArray(b.series)) return !0;
                if (a.utils.isObject(b.series)) return b.series = [ b.series ], !0;
            }
            return !1;
        }, x = function(a) {
            var b, c, d, e = l.node().offsetHeight, h = l.node().offsetWidth, i = document.documentElement.clientWidth, j = document.documentElement.clientHeight;
            switch (f) {
              case "e":
                b = -h - g, c = -(e / 2), a.left + b < 0 && (b = g), (d = a.top + c) < 0 && (c -= d), 
                (d = a.top + c + e) > j && (c -= d - j);
                break;

              case "w":
                b = g, c = -(e / 2), a.left + b + h > i && (b = -h - g), (d = a.top + c) < 0 && (c -= d), 
                (d = a.top + c + e) > j && (c -= d - j);
                break;

              case "n":
                b = -(h / 2) - 5, c = g, a.top + c + e > j && (c = -e - g), (d = a.left + b) < 0 && (b -= d), 
                (d = a.left + b + h) > i && (b -= d - i);
                break;

              case "s":
                b = -(h / 2), c = -e - g, a.top + c < 0 && (c = g), (d = a.left + b) < 0 && (b -= d), 
                (d = a.left + b + h) > i && (b -= d - i);
                break;

              case "center":
                b = -(h / 2), c = -(e / 2);
                break;

              default:
                b = 0, c = 0;
            }
            return {
                left: b,
                top: c
            };
        }, y = function() {
            a.dom.read(function() {
                var a = v(), b = x(a), c = a.left + b.left, d = a.top + b.top;
                if (j) l.interrupt().transition().delay(k).duration(0).style("opacity", 0); else {
                    var e = "translate(" + m.left + "px, " + m.top + "px)", f = "translate(" + Math.round(c) + "px, " + Math.round(d) + "px)", g = d3.interpolateString(e, f), h = l.style("opacity") < .1;
                    l.interrupt().transition().duration(h ? 0 : o).styleTween("transform", function(a) {
                        return g;
                    }, "important").styleTween("-webkit-transform", function(a) {
                        return g;
                    }).style("-ms-transform", f).style("opacity", 1);
                }
                m.left = c, m.top = d;
            });
        };
        return c.nvPointerEventsClass = q, c.options = a.utils.optionsFunc.bind(c), c._options = Object.create({}, {
            duration: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            gravity: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            distance: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            snapDistance: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            classes: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            enabled: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            hideDelay: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            contentGenerator: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            valueFormatter: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            headerFormatter: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            keyFormatter: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            headerEnabled: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            position: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            chartContainer: {
                get: function() {
                    return document.body;
                },
                set: function(b) {
                    a.deprecated("chartContainer", "feature removed after 1.8.3");
                }
            },
            fixedTop: {
                get: function() {
                    return null;
                },
                set: function(b) {
                    a.deprecated("fixedTop", "feature removed after 1.8.1");
                }
            },
            offset: {
                get: function() {
                    return {
                        left: 0,
                        top: 0
                    };
                },
                set: function(b) {
                    a.deprecated("offset", "use chart.tooltip.distance() instead");
                }
            },
            hidden: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j != a && (j = !!a, c());
                }
            },
            data: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    a.point && (a.value = a.point.x, a.series = a.series || {}, a.series.value = a.point.y, 
                    a.series.color = a.point.color || a.series.color), e = a;
                }
            },
            node: {
                get: function() {
                    return l.node();
                },
                set: function(a) {}
            },
            id: {
                get: function() {
                    return d;
                },
                set: function(a) {}
            }
        }), a.utils.initOptions(c), c;
    }, a.utils.windowSize = function() {
        var a = {
            width: 640,
            height: 480
        };
        return window.innerWidth && window.innerHeight ? (a.width = window.innerWidth, a.height = window.innerHeight, 
        a) : "CSS1Compat" == document.compatMode && document.documentElement && document.documentElement.offsetWidth ? (a.width = document.documentElement.offsetWidth, 
        a.height = document.documentElement.offsetHeight, a) : document.body && document.body.offsetWidth ? (a.width = document.body.offsetWidth, 
        a.height = document.body.offsetHeight, a) : a;
    }, a.utils.isArray = Array.isArray, a.utils.isObject = function(a) {
        return null !== a && "object" == typeof a;
    }, a.utils.isFunction = function(a) {
        return "function" == typeof a;
    }, a.utils.isDate = function(a) {
        return "[object Date]" === toString.call(a);
    }, a.utils.isNumber = function(a) {
        return !isNaN(a) && "number" == typeof a;
    }, a.utils.windowResize = function(b) {
        return window.addEventListener ? window.addEventListener("resize", b) : a.log("ERROR: Failed to bind to window.resize with: ", b), 
        {
            callback: b,
            clear: function() {
                window.removeEventListener("resize", b);
            }
        };
    }, a.utils.getColor = function(b) {
        if (void 0 === b) return a.utils.defaultColor();
        if (a.utils.isArray(b)) {
            var c = d3.scale.ordinal().range(b);
            return function(a, b) {
                var d = void 0 === b ? a : b;
                return a.color || c(d);
            };
        }
        return b;
    }, a.utils.defaultColor = function() {
        return a.utils.getColor(d3.scale.category20().range());
    }, a.utils.customTheme = function(b, c, d) {
        c = c || function(a) {
            return a.key;
        }, d = d || d3.scale.category20().range();
        var e = d.length;
        return function(f, g) {
            var h = c(f);
            return a.utils.isFunction(b[h]) ? b[h]() : void 0 !== b[h] ? b[h] : (e || (e = d.length), 
            e -= 1, d[e]);
        };
    }, a.utils.pjax = function(b, c) {
        var d = function(d) {
            d3.html(d, function(d) {
                var e = d3.select(c).node();
                e.parentNode.replaceChild(d3.select(d).select(c).node(), e), a.utils.pjax(b, c);
            });
        };
        d3.selectAll(b).on("click", function() {
            history.pushState(this.href, this.textContent, this.href), d(this.href), d3.event.preventDefault();
        }), d3.select(window).on("popstate", function() {
            d3.event.state && d(d3.event.state);
        });
    }, a.utils.calcApproxTextWidth = function(b) {
        if (a.utils.isFunction(b.style) && a.utils.isFunction(b.text)) {
            var c = parseInt(b.style("font-size").replace("px", ""), 10), d = b.text().length;
            return a.utils.NaNtoZero(d * c * .5);
        }
        return 0;
    }, a.utils.NaNtoZero = function(b) {
        return !a.utils.isNumber(b) || isNaN(b) || null === b || b === 1 / 0 || b === -(1 / 0) ? 0 : b;
    }, d3.selection.prototype.watchTransition = function(a) {
        var b = [ this ].concat([].slice.call(arguments, 1));
        return a.transition.apply(a, b);
    }, a.utils.renderWatch = function(b, c) {
        if (!(this instanceof a.utils.renderWatch)) return new a.utils.renderWatch(b, c);
        var d = void 0 !== c ? c : 250, e = [], f = this;
        this.models = function(a) {
            return a = [].slice.call(arguments, 0), a.forEach(function(a) {
                a.__rendered = !1, function(a) {
                    a.dispatch.on("renderEnd", function(b) {
                        a.__rendered = !0, f.renderEnd("model");
                    });
                }(a), e.indexOf(a) < 0 && e.push(a);
            }), this;
        }, this.reset = function(a) {
            void 0 !== a && (d = a), e = [];
        }, this.transition = function(a, b, c) {
            if (b = arguments.length > 1 ? [].slice.call(arguments, 1) : [], c = b.length > 1 ? b.pop() : void 0 !== d ? d : 250, 
            a.__rendered = !1, e.indexOf(a) < 0 && e.push(a), 0 === c) return a.__rendered = !0, 
            a.delay = function() {
                return this;
            }, a.duration = function() {
                return this;
            }, a;
            0 === a.length ? a.__rendered = !0 : a.every(function(a) {
                return !a.length;
            }) ? a.__rendered = !0 : a.__rendered = !1;
            var g = 0;
            return a.transition().duration(c).each(function() {
                ++g;
            }).each("end", function(c, d) {
                0 === --g && (a.__rendered = !0, f.renderEnd.apply(this, b));
            });
        }, this.renderEnd = function() {
            e.every(function(a) {
                return a.__rendered;
            }) && (e.forEach(function(a) {
                a.__rendered = !1;
            }), b.renderEnd.apply(this, arguments));
        };
    }, a.utils.deepExtend = function(b) {
        var c = arguments.length > 1 ? [].slice.call(arguments, 1) : [];
        c.forEach(function(c) {
            for (var d in c) {
                var e = a.utils.isArray(b[d]), f = a.utils.isObject(b[d]), g = a.utils.isObject(c[d]);
                f && !e && g ? a.utils.deepExtend(b[d], c[d]) : b[d] = c[d];
            }
        });
    }, a.utils.state = function() {
        if (!(this instanceof a.utils.state)) return new a.utils.state();
        var b = {}, c = function() {}, d = function() {
            return {};
        }, e = null, f = null;
        this.dispatch = d3.dispatch("change", "set"), this.dispatch.on("set", function(a) {
            c(a, !0);
        }), this.getter = function(a) {
            return d = a, this;
        }, this.setter = function(a, b) {
            return b || (b = function() {}), c = function(c, d) {
                a(c), d && b();
            }, this;
        }, this.init = function(b) {
            e = e || {}, a.utils.deepExtend(e, b);
        };
        var g = function() {
            var a = d();
            if (JSON.stringify(a) === JSON.stringify(b)) return !1;
            for (var c in a) void 0 === b[c] && (b[c] = {}), b[c] = a[c], f = !0;
            return !0;
        };
        this.update = function() {
            e && (c(e, !1), e = null), g.call(this) && this.dispatch.change(b);
        };
    }, a.utils.optionsFunc = function(b) {
        return b && d3.map(b).forEach(function(b, c) {
            a.utils.isFunction(this[b]) && this[b](c);
        }.bind(this)), this;
    }, a.utils.calcTicksX = function(b, c) {
        var d = 1, e = 0;
        for (e; e < c.length; e += 1) {
            var f = c[e] && c[e].values ? c[e].values.length : 0;
            d = f > d ? f : d;
        }
        return a.log("Requested number of ticks: ", b), a.log("Calculated max values to be: ", d), 
        b = b > d ? b = d - 1 : b, b = 1 > b ? 1 : b, b = Math.floor(b), a.log("Calculating tick count as: ", b), 
        b;
    }, a.utils.calcTicksY = function(b, c) {
        return a.utils.calcTicksX(b, c);
    }, a.utils.initOption = function(a, b) {
        a._calls && a._calls[b] ? a[b] = a._calls[b] : (a[b] = function(c) {
            return arguments.length ? (a._overrides[b] = !0, a._options[b] = c, a) : a._options[b];
        }, a["_" + b] = function(c) {
            return arguments.length ? (a._overrides[b] || (a._options[b] = c), a) : a._options[b];
        });
    }, a.utils.initOptions = function(b) {
        b._overrides = b._overrides || {};
        var c = Object.getOwnPropertyNames(b._options || {}), d = Object.getOwnPropertyNames(b._calls || {});
        c = c.concat(d);
        for (var e in c) a.utils.initOption(b, c[e]);
    }, a.utils.inheritOptionsD3 = function(a, b, c) {
        a._d3options = c.concat(a._d3options || []), c.unshift(b), c.unshift(a), d3.rebind.apply(this, c);
    }, a.utils.arrayUnique = function(a) {
        return a.sort().filter(function(b, c) {
            return !c || b != a[c - 1];
        });
    }, a.utils.symbolMap = d3.map(), a.utils.symbol = function() {
        function b(b, e) {
            var f = c.call(this, b, e), g = d.call(this, b, e);
            return -1 !== d3.svg.symbolTypes.indexOf(f) ? d3.svg.symbol().type(f).size(g)() : a.utils.symbolMap.get(f)(g);
        }
        var c, d = 64;
        return b.type = function(a) {
            return arguments.length ? (c = d3.functor(a), b) : c;
        }, b.size = function(a) {
            return arguments.length ? (d = d3.functor(a), b) : d;
        }, b;
    }, a.utils.inheritOptions = function(b, c) {
        var d = Object.getOwnPropertyNames(c._options || {}), e = Object.getOwnPropertyNames(c._calls || {}), f = c._inherited || [], g = c._d3options || [], h = d.concat(e).concat(f).concat(g);
        h.unshift(c), h.unshift(b), d3.rebind.apply(this, h), b._inherited = a.utils.arrayUnique(d.concat(e).concat(f).concat(d).concat(b._inherited || [])), 
        b._d3options = a.utils.arrayUnique(g.concat(b._d3options || []));
    }, a.utils.initSVG = function(a) {
        a.classed({
            "nvd3-svg": !0
        });
    }, a.utils.sanitizeHeight = function(a, b) {
        return a || parseInt(b.style("height"), 10) || 400;
    }, a.utils.sanitizeWidth = function(a, b) {
        return a || parseInt(b.style("width"), 10) || 960;
    }, a.utils.availableHeight = function(b, c, d) {
        return Math.max(0, a.utils.sanitizeHeight(b, c) - d.top - d.bottom);
    }, a.utils.availableWidth = function(b, c, d) {
        return Math.max(0, a.utils.sanitizeWidth(b, c) - d.left - d.right);
    }, a.utils.noData = function(b, c) {
        var d = b.options(), e = d.margin(), f = d.noData(), g = null == f ? [ "No Data Available." ] : [ f ], h = a.utils.availableHeight(null, c, e), i = a.utils.availableWidth(null, c, e), j = e.left + i / 2, k = e.top + h / 2;
        c.selectAll("g").remove();
        var l = c.selectAll(".nv-noData").data(g);
        l.enter().append("text").attr("class", "nvd3 nv-noData").attr("dy", "-.7em").style("text-anchor", "middle"), 
        l.attr("x", j).attr("y", k).text(function(a) {
            return a;
        });
    }, a.utils.wrapTicks = function(a, b) {
        a.each(function() {
            for (var a, c = d3.select(this), d = c.text().split(/\s+/).reverse(), e = [], f = 0, g = 1.1, h = c.attr("y"), i = parseFloat(c.attr("dy")), j = c.text(null).append("tspan").attr("x", 0).attr("y", h).attr("dy", i + "em"); a = d.pop(); ) e.push(a), 
            j.text(e.join(" ")), j.node().getComputedTextLength() > b && (e.pop(), j.text(e.join(" ")), 
            e = [ a ], j = c.append("tspan").attr("x", 0).attr("y", h).attr("dy", ++f * g + i + "em").text(a));
        });
    }, a.utils.arrayEquals = function(b, c) {
        if (b === c) return !0;
        if (!b || !c) return !1;
        if (b.length != c.length) return !1;
        for (var d = 0, e = b.length; e > d; d++) if (b[d] instanceof Array && c[d] instanceof Array) {
            if (!a.arrayEquals(b[d], c[d])) return !1;
        } else if (b[d] != c[d]) return !1;
        return !0;
    }, a.models.axis = function() {
        "use strict";
        function b(g) {
            return t.reset(), g.each(function(b) {
                var g = d3.select(this);
                a.utils.initSVG(g);
                var q = g.selectAll("g.nv-wrap.nv-axis").data([ b ]), r = q.enter().append("g").attr("class", "nvd3 nv-wrap nv-axis"), u = (r.append("g"), 
                q.select("g"));
                null !== n ? c.ticks(n) : ("top" == c.orient() || "bottom" == c.orient()) && c.ticks(Math.abs(d.range()[1] - d.range()[0]) / 100), 
                u.watchTransition(t, "axis").call(c), s = s || c.scale();
                var v = c.tickFormat();
                null == v && (v = s.tickFormat());
                var w = u.selectAll("text.nv-axislabel").data([ h || null ]);
                w.exit().remove(), void 0 !== p && u.selectAll("g").select("text").style("font-size", p);
                var x, y, z;
                switch (c.orient()) {
                  case "top":
                    w.enter().append("text").attr("class", "nv-axislabel"), z = 0, 1 === d.range().length ? z = m ? 2 * d.range()[0] + d.rangeBand() : 0 : 2 === d.range().length ? z = m ? d.range()[0] + d.range()[1] + d.rangeBand() : d.range()[1] : d.range().length > 2 && (z = d.range()[d.range().length - 1] + (d.range()[1] - d.range()[0])), 
                    w.attr("text-anchor", "middle").attr("y", 0).attr("x", z / 2), i && (y = q.selectAll("g.nv-axisMaxMin").data(d.domain()), 
                    y.enter().append("g").attr("class", function(a, b) {
                        return [ "nv-axisMaxMin", "nv-axisMaxMin-x", 0 == b ? "nv-axisMin-x" : "nv-axisMax-x" ].join(" ");
                    }).append("text"), y.exit().remove(), y.attr("transform", function(b, c) {
                        return "translate(" + a.utils.NaNtoZero(d(b)) + ",0)";
                    }).select("text").attr("dy", "-0.5em").attr("y", -c.tickPadding()).attr("text-anchor", "middle").text(function(a, b) {
                        var c = v(a);
                        return ("" + c).match("NaN") ? "" : c;
                    }), y.watchTransition(t, "min-max top").attr("transform", function(b, c) {
                        return "translate(" + a.utils.NaNtoZero(d.range()[c]) + ",0)";
                    }));
                    break;

                  case "bottom":
                    x = o + 36;
                    var A = 30, B = 0, C = u.selectAll("g").select("text"), D = "";
                    if (j % 360) {
                        C.attr("transform", ""), C.each(function(a, b) {
                            var c = this.getBoundingClientRect(), d = c.width;
                            B = c.height, d > A && (A = d);
                        }), D = "rotate(" + j + " 0," + (B / 2 + c.tickPadding()) + ")";
                        var E = Math.abs(Math.sin(j * Math.PI / 180));
                        x = (E ? E * A : A) + 30, C.attr("transform", D).style("text-anchor", j % 360 > 0 ? "start" : "end");
                    } else l ? C.attr("transform", function(a, b) {
                        return "translate(0," + (b % 2 == 0 ? "0" : "12") + ")";
                    }) : C.attr("transform", "translate(0,0)");
                    w.enter().append("text").attr("class", "nv-axislabel"), z = 0, 1 === d.range().length ? z = m ? 2 * d.range()[0] + d.rangeBand() : 0 : 2 === d.range().length ? z = m ? d.range()[0] + d.range()[1] + d.rangeBand() : d.range()[1] : d.range().length > 2 && (z = d.range()[d.range().length - 1] + (d.range()[1] - d.range()[0])), 
                    w.attr("text-anchor", "middle").attr("y", x).attr("x", z / 2), i && (y = q.selectAll("g.nv-axisMaxMin").data([ d.domain()[0], d.domain()[d.domain().length - 1] ]), 
                    y.enter().append("g").attr("class", function(a, b) {
                        return [ "nv-axisMaxMin", "nv-axisMaxMin-x", 0 == b ? "nv-axisMin-x" : "nv-axisMax-x" ].join(" ");
                    }).append("text"), y.exit().remove(), y.attr("transform", function(b, c) {
                        return "translate(" + a.utils.NaNtoZero(d(b) + (m ? d.rangeBand() / 2 : 0)) + ",0)";
                    }).select("text").attr("dy", ".71em").attr("y", c.tickPadding()).attr("transform", D).style("text-anchor", j ? j % 360 > 0 ? "start" : "end" : "middle").text(function(a, b) {
                        var c = v(a);
                        return ("" + c).match("NaN") ? "" : c;
                    }), y.watchTransition(t, "min-max bottom").attr("transform", function(b, c) {
                        return "translate(" + a.utils.NaNtoZero(d(b) + (m ? d.rangeBand() / 2 : 0)) + ",0)";
                    }));
                    break;

                  case "right":
                    w.enter().append("text").attr("class", "nv-axislabel"), w.style("text-anchor", k ? "middle" : "begin").attr("transform", k ? "rotate(90)" : "").attr("y", k ? -Math.max(e.right, f) + 12 - (o || 0) : -10).attr("x", k ? d3.max(d.range()) / 2 : c.tickPadding()), 
                    i && (y = q.selectAll("g.nv-axisMaxMin").data(d.domain()), y.enter().append("g").attr("class", function(a, b) {
                        return [ "nv-axisMaxMin", "nv-axisMaxMin-y", 0 == b ? "nv-axisMin-y" : "nv-axisMax-y" ].join(" ");
                    }).append("text").style("opacity", 0), y.exit().remove(), y.attr("transform", function(b, c) {
                        return "translate(0," + a.utils.NaNtoZero(d(b)) + ")";
                    }).select("text").attr("dy", ".32em").attr("y", 0).attr("x", c.tickPadding()).style("text-anchor", "start").text(function(a, b) {
                        var c = v(a);
                        return ("" + c).match("NaN") ? "" : c;
                    }), y.watchTransition(t, "min-max right").attr("transform", function(b, c) {
                        return "translate(0," + a.utils.NaNtoZero(d.range()[c]) + ")";
                    }).select("text").style("opacity", 1));
                    break;

                  case "left":
                    w.enter().append("text").attr("class", "nv-axislabel"), w.style("text-anchor", k ? "middle" : "end").attr("transform", k ? "rotate(-90)" : "").attr("y", k ? -Math.max(e.left, f) + 25 - (o || 0) : -10).attr("x", k ? -d3.max(d.range()) / 2 : -c.tickPadding()), 
                    i && (y = q.selectAll("g.nv-axisMaxMin").data(d.domain()), y.enter().append("g").attr("class", function(a, b) {
                        return [ "nv-axisMaxMin", "nv-axisMaxMin-y", 0 == b ? "nv-axisMin-y" : "nv-axisMax-y" ].join(" ");
                    }).append("text").style("opacity", 0), y.exit().remove(), y.attr("transform", function(b, c) {
                        return "translate(0," + a.utils.NaNtoZero(s(b)) + ")";
                    }).select("text").attr("dy", ".32em").attr("y", 0).attr("x", -c.tickPadding()).attr("text-anchor", "end").text(function(a, b) {
                        var c = v(a);
                        return ("" + c).match("NaN") ? "" : c;
                    }), y.watchTransition(t, "min-max right").attr("transform", function(b, c) {
                        return "translate(0," + a.utils.NaNtoZero(d.range()[c]) + ")";
                    }).select("text").style("opacity", 1));
                }
                if (w.text(function(a) {
                    return a;
                }), !i || "left" !== c.orient() && "right" !== c.orient() || (u.selectAll("g").each(function(a, b) {
                    d3.select(this).select("text").attr("opacity", 1), (d(a) < d.range()[1] + 10 || d(a) > d.range()[0] - 10) && ((a > 1e-10 || -1e-10 > a) && d3.select(this).attr("opacity", 0), 
                    d3.select(this).select("text").attr("opacity", 0));
                }), d.domain()[0] == d.domain()[1] && 0 == d.domain()[0] && q.selectAll("g.nv-axisMaxMin").style("opacity", function(a, b) {
                    return b ? 0 : 1;
                })), i && ("top" === c.orient() || "bottom" === c.orient())) {
                    var F = [];
                    q.selectAll("g.nv-axisMaxMin").each(function(a, b) {
                        try {
                            b ? F.push(d(a) - this.getBoundingClientRect().width - 4) : F.push(d(a) + this.getBoundingClientRect().width + 4);
                        } catch (c) {
                            b ? F.push(d(a) - 4) : F.push(d(a) + 4);
                        }
                    }), u.selectAll("g").each(function(a, b) {
                        (d(a) < F[0] || d(a) > F[1]) && (a > 1e-10 || -1e-10 > a ? d3.select(this).remove() : d3.select(this).select("text").remove());
                    });
                }
                u.selectAll(".tick").filter(function(a) {
                    return !parseFloat(Math.round(1e5 * a) / 1e6) && void 0 !== a;
                }).classed("zero", !0), s = d.copy();
            }), t.renderEnd("axis immediate"), b;
        }
        var c = d3.svg.axis(), d = d3.scale.linear(), e = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, f = 75, g = 60, h = null, i = !0, j = 0, k = !0, l = !1, m = !1, n = null, o = 0, p = void 0, q = 250, r = d3.dispatch("renderEnd");
        c.scale(d).orient("bottom").tickFormat(function(a) {
            return a;
        });
        var s, t = a.utils.renderWatch(r, q);
        return b.axis = c, b.dispatch = r, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            axisLabelDistance: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            staggerLabels: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            rotateLabels: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            rotateYLabel: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            showMaxMin: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            axisLabel: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            height: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            ticks: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            width: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            fontSize: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            margin: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e.top = void 0 !== a.top ? a.top : e.top, e.right = void 0 !== a.right ? a.right : e.right, 
                    e.bottom = void 0 !== a.bottom ? a.bottom : e.bottom, e.left = void 0 !== a.left ? a.left : e.left;
                }
            },
            duration: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a, t.reset(q);
                }
            },
            scale: {
                get: function() {
                    return d;
                },
                set: function(e) {
                    d = e, c.scale(d), m = "function" == typeof d.rangeBands, a.utils.inheritOptionsD3(b, d, [ "domain", "range", "rangeBand", "rangeBands" ]);
                }
            }
        }), a.utils.initOptions(b), a.utils.inheritOptionsD3(b, c, [ "orient", "tickValues", "tickSubdivide", "tickSize", "tickPadding", "tickFormat" ]), 
        a.utils.inheritOptionsD3(b, d, [ "domain", "range", "rangeBand", "rangeBands" ]), 
        b;
    }, a.models.boxPlot = function() {
        "use strict";
        function b(l) {
            return E.reset(), l.each(function(b) {
                var l = j - i.left - i.right, F = k - i.top - i.bottom;
                A = d3.select(this), a.utils.initSVG(A), m.domain(c || b.map(function(a, b) {
                    return o(a, b);
                })).rangeBands(d || [ 0, l ], .1);
                var G = [];
                if (!e) {
                    var H, I, J = [];
                    b.forEach(function(a, b) {
                        var c = p(a), d = r(a), e = s(a), f = t(a), g = v(a);
                        g && g.forEach(function(a, b) {
                            J.push(w(a, b, void 0));
                        }), e && J.push(e), c && J.push(c), d && J.push(d), f && J.push(f);
                    }), H = d3.min(J), I = d3.max(J), G = [ H, I ];
                }
                n.domain(e || G), n.range(f || [ F, 0 ]), g = g || m, h = h || n.copy().range([ n(0), n(0) ]);
                var K = A.selectAll("g.nv-wrap").data([ b ]);
                K.enter().append("g").attr("class", "nvd3 nv-wrap"), K.attr("transform", "translate(" + i.left + "," + i.top + ")");
                var L = K.selectAll(".nv-boxplot").data(function(a) {
                    return a;
                }), M = L.enter().append("g").style("stroke-opacity", 1e-6).style("fill-opacity", 1e-6);
                L.attr("class", "nv-boxplot").attr("transform", function(a, b, c) {
                    return "translate(" + (m(o(a, b)) + .05 * m.rangeBand()) + ", 0)";
                }).classed("hover", function(a) {
                    return a.hover;
                }), L.watchTransition(E, "nv-boxplot: boxplots").style("stroke-opacity", 1).style("fill-opacity", .75).delay(function(a, c) {
                    return c * C / b.length;
                }).attr("transform", function(a, b) {
                    return "translate(" + (m(o(a, b)) + .05 * m.rangeBand()) + ", 0)";
                }), L.exit().remove(), M.each(function(a, b) {
                    var c = d3.select(this);
                    [ s, t ].forEach(function(d) {
                        if (void 0 !== d(a) && null !== d(a)) {
                            var e = d === s ? "low" : "high";
                            c.append("line").style("stroke", u(a) || z(a, b)).attr("class", "nv-boxplot-whisker nv-boxplot-" + e), 
                            c.append("line").style("stroke", u(a) || z(a, b)).attr("class", "nv-boxplot-tick nv-boxplot-" + e);
                        }
                    });
                });
                var N = function() {
                    return null === D ? .9 * m.rangeBand() : Math.min(75, .9 * m.rangeBand());
                }, O = function() {
                    return .45 * m.rangeBand() - N() / 2;
                }, P = function() {
                    return .45 * m.rangeBand() + N() / 2;
                };
                [ s, t ].forEach(function(a) {
                    var b = a === s ? "low" : "high", c = a === s ? p : r;
                    L.select("line.nv-boxplot-whisker.nv-boxplot-" + b).watchTransition(E, "nv-boxplot: boxplots").attr("x1", .45 * m.rangeBand()).attr("y1", function(b, c) {
                        return n(a(b));
                    }).attr("x2", .45 * m.rangeBand()).attr("y2", function(a, b) {
                        return n(c(a));
                    }), L.select("line.nv-boxplot-tick.nv-boxplot-" + b).watchTransition(E, "nv-boxplot: boxplots").attr("x1", O).attr("y1", function(b, c) {
                        return n(a(b));
                    }).attr("x2", P).attr("y2", function(b, c) {
                        return n(a(b));
                    });
                }), [ s, t ].forEach(function(a) {
                    var b = a === s ? "low" : "high";
                    M.selectAll(".nv-boxplot-" + b).on("mouseover", function(b, c, d) {
                        d3.select(this).classed("hover", !0), B.elementMouseover({
                            series: {
                                key: a(b),
                                color: u(b) || z(b, d)
                            },
                            e: d3.event
                        });
                    }).on("mouseout", function(b, c, d) {
                        d3.select(this).classed("hover", !1), B.elementMouseout({
                            series: {
                                key: a(b),
                                color: u(b) || z(b, d)
                            },
                            e: d3.event
                        });
                    }).on("mousemove", function(a, b) {
                        B.elementMousemove({
                            e: d3.event
                        });
                    });
                }), M.append("rect").attr("class", "nv-boxplot-box").on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0), B.elementMouseover({
                        key: o(a),
                        value: o(a),
                        series: [ {
                            key: "Q3",
                            value: r(a),
                            color: u(a) || z(a, b)
                        }, {
                            key: "Q2",
                            value: q(a),
                            color: u(a) || z(a, b)
                        }, {
                            key: "Q1",
                            value: p(a),
                            color: u(a) || z(a, b)
                        } ],
                        data: a,
                        index: b,
                        e: d3.event
                    });
                }).on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1), B.elementMouseout({
                        key: o(a),
                        value: o(a),
                        series: [ {
                            key: "Q3",
                            value: r(a),
                            color: u(a) || z(a, b)
                        }, {
                            key: "Q2",
                            value: q(a),
                            color: u(a) || z(a, b)
                        }, {
                            key: "Q1",
                            value: p(a),
                            color: u(a) || z(a, b)
                        } ],
                        data: a,
                        index: b,
                        e: d3.event
                    });
                }).on("mousemove", function(a, b) {
                    B.elementMousemove({
                        e: d3.event
                    });
                }), L.select("rect.nv-boxplot-box").watchTransition(E, "nv-boxplot: boxes").attr("y", function(a, b) {
                    return n(r(a));
                }).attr("width", N).attr("x", O).attr("height", function(a, b) {
                    return Math.abs(n(r(a)) - n(p(a))) || 1;
                }).style("fill", function(a, b) {
                    return u(a) || z(a, b);
                }).style("stroke", function(a, b) {
                    return u(a) || z(a, b);
                }), M.append("line").attr("class", "nv-boxplot-median"), L.select("line.nv-boxplot-median").watchTransition(E, "nv-boxplot: boxplots line").attr("x1", O).attr("y1", function(a, b) {
                    return n(q(a));
                }).attr("x2", P).attr("y2", function(a, b) {
                    return n(q(a));
                });
                var Q = L.selectAll(".nv-boxplot-outlier").data(function(a) {
                    return v(a) || [];
                });
                Q.enter().append("circle").style("fill", function(a, b, c) {
                    return y(a, b, c) || z(a, c);
                }).style("stroke", function(a, b, c) {
                    return y(a, b, c) || z(a, c);
                }).style("z-index", 9e3).on("mouseover", function(a, b, c) {
                    d3.select(this).classed("hover", !0), B.elementMouseover({
                        series: {
                            key: x(a, b, c),
                            color: y(a, b, c) || z(a, c)
                        },
                        e: d3.event
                    });
                }).on("mouseout", function(a, b, c) {
                    d3.select(this).classed("hover", !1), B.elementMouseout({
                        series: {
                            key: x(a, b, c),
                            color: y(a, b, c) || z(a, c)
                        },
                        e: d3.event
                    });
                }).on("mousemove", function(a, b) {
                    B.elementMousemove({
                        e: d3.event
                    });
                }), Q.attr("class", "nv-boxplot-outlier"), Q.watchTransition(E, "nv-boxplot: nv-boxplot-outlier").attr("cx", .45 * m.rangeBand()).attr("cy", function(a, b, c) {
                    return n(w(a, b, c));
                }).attr("r", "3"), Q.exit().remove(), g = m.copy(), h = n.copy();
            }), E.renderEnd("nv-boxplot immediate"), b;
        }
        var c, d, e, f, g, h, i = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, j = 960, k = 500, l = Math.floor(1e4 * Math.random()), m = d3.scale.ordinal(), n = d3.scale.linear(), o = function(a) {
            return a.label;
        }, p = function(a) {
            return a.values.Q1;
        }, q = function(a) {
            return a.values.Q2;
        }, r = function(a) {
            return a.values.Q3;
        }, s = function(a) {
            return a.values.whisker_low;
        }, t = function(a) {
            return a.values.whisker_high;
        }, u = function(a) {
            return a.color;
        }, v = function(a) {
            return a.values.outliers;
        }, w = function(a, b, c) {
            return a;
        }, x = function(a, b, c) {
            return a;
        }, y = function(a, b, c) {}, z = a.utils.defaultColor(), A = null, B = d3.dispatch("elementMouseover", "elementMouseout", "elementMousemove", "renderEnd"), C = 250, D = null, E = a.utils.renderWatch(B, C);
        return b.dispatch = B, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            height: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            maxBoxWidth: {
                get: function() {
                    return D;
                },
                set: function(a) {
                    D = a;
                }
            },
            x: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            q1: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            q2: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            q3: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            wl: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            wh: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            itemColor: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            outliers: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            outlierValue: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            outlierLabel: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            outlierColor: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = a;
                }
            },
            xScale: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            yScale: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            xDomain: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c = a;
                }
            },
            yDomain: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            xRange: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            yRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            id: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            y: {
                get: function() {
                    return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."), 
                    {};
                },
                set: function(a) {
                    console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.");
                }
            },
            margin: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i.top = void 0 !== a.top ? a.top : i.top, i.right = void 0 !== a.right ? a.right : i.right, 
                    i.bottom = void 0 !== a.bottom ? a.bottom : i.bottom, i.left = void 0 !== a.left ? a.left : i.left;
                }
            },
            color: {
                get: function() {
                    return z;
                },
                set: function(b) {
                    z = a.utils.getColor(b);
                }
            },
            duration: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a, E.reset(C);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.boxPlotChart = function() {
        "use strict";
        function b(k) {
            return t.reset(), t.models(e), l && t.models(f), m && t.models(g), k.each(function(k) {
                var p = d3.select(this);
                a.utils.initSVG(p);
                var t = (i || parseInt(p.style("width")) || 960) - h.left - h.right, u = (j || parseInt(p.style("height")) || 400) - h.top - h.bottom;
                if (b.update = function() {
                    r.beforeUpdate(), p.transition().duration(s).call(b);
                }, b.container = this, !k || !k.length) {
                    var v = p.selectAll(".nv-noData").data([ q ]);
                    return v.enter().append("text").attr("class", "nvd3 nv-noData").attr("dy", "-.7em").style("text-anchor", "middle"), 
                    v.attr("x", h.left + t / 2).attr("y", h.top + u / 2).text(function(a) {
                        return a;
                    }), b;
                }
                p.selectAll(".nv-noData").remove(), c = e.xScale(), d = e.yScale().clamp(!0);
                var w = p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([ k ]), x = w.enter().append("g").attr("class", "nvd3 nv-wrap nv-boxPlotWithAxes").append("g"), y = x.append("defs"), z = w.select("g");
                x.append("g").attr("class", "nv-x nv-axis"), x.append("g").attr("class", "nv-y nv-axis").append("g").attr("class", "nv-zeroLine").append("line"), 
                x.append("g").attr("class", "nv-barsWrap"), z.attr("transform", "translate(" + h.left + "," + h.top + ")"), 
                n && z.select(".nv-y.nv-axis").attr("transform", "translate(" + t + ",0)"), e.width(t).height(u);
                var A = z.select(".nv-barsWrap").datum(k.filter(function(a) {
                    return !a.disabled;
                }));
                if (A.transition().call(e), y.append("clipPath").attr("id", "nv-x-label-clip-" + e.id()).append("rect"), 
                z.select("#nv-x-label-clip-" + e.id() + " rect").attr("width", c.rangeBand() * (o ? 2 : 1)).attr("height", 16).attr("x", -c.rangeBand() / (o ? 1 : 2)), 
                l) {
                    f.scale(c).ticks(a.utils.calcTicksX(t / 100, k)).tickSize(-u, 0), z.select(".nv-x.nv-axis").attr("transform", "translate(0," + d.range()[0] + ")"), 
                    z.select(".nv-x.nv-axis").call(f);
                    var B = z.select(".nv-x.nv-axis").selectAll("g");
                    o && B.selectAll("text").attr("transform", function(a, b, c) {
                        return "translate(0," + (c % 2 === 0 ? "5" : "17") + ")";
                    });
                }
                m && (g.scale(d).ticks(Math.floor(u / 36)).tickSize(-t, 0), z.select(".nv-y.nv-axis").call(g)), 
                z.select(".nv-zeroLine line").attr("x1", 0).attr("x2", t).attr("y1", d(0)).attr("y2", d(0));
            }), t.renderEnd("nv-boxplot chart immediate"), b;
        }
        var c, d, e = a.models.boxPlot(), f = a.models.axis(), g = a.models.axis(), h = {
            top: 15,
            right: 10,
            bottom: 50,
            left: 60
        }, i = null, j = null, k = a.utils.getColor(), l = !0, m = !0, n = !1, o = !1, p = a.models.tooltip(), q = "No Data Available.", r = d3.dispatch("beforeUpdate", "renderEnd"), s = 250;
        f.orient("bottom").showMaxMin(!1).tickFormat(function(a) {
            return a;
        }), g.orient(n ? "right" : "left").tickFormat(d3.format(",.1f")), p.duration(0);
        var t = a.utils.renderWatch(r, s);
        return e.dispatch.on("elementMouseover.tooltip", function(a) {
            p.data(a).hidden(!1);
        }), e.dispatch.on("elementMouseout.tooltip", function(a) {
            p.data(a).hidden(!0);
        }), e.dispatch.on("elementMousemove.tooltip", function(a) {
            p();
        }), b.dispatch = r, b.boxplot = e, b.xAxis = f, b.yAxis = g, b.tooltip = p, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            width: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            height: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            staggerLabels: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            showXAxis: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            showYAxis: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            tooltipContent: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            noData: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            margin: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h.top = void 0 !== a.top ? a.top : h.top, h.right = void 0 !== a.right ? a.right : h.right, 
                    h.bottom = void 0 !== a.bottom ? a.bottom : h.bottom, h.left = void 0 !== a.left ? a.left : h.left;
                }
            },
            duration: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a, t.reset(s), e.duration(s), f.duration(s), g.duration(s);
                }
            },
            color: {
                get: function() {
                    return k;
                },
                set: function(b) {
                    k = a.utils.getColor(b), e.color(k);
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a, g.orient(a ? "right" : "left");
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.bullet = function() {
        "use strict";
        function b(a, b) {
            var c = a.slice();
            a.sort(function(a, d) {
                var e = c.indexOf(a), f = c.indexOf(d);
                return d3.descending(b[e], b[f]);
            });
        }
        function c(e) {
            return e.each(function(c, e) {
                var s = p - d.left - d.right, y = q - d.top - d.bottom;
                r = d3.select(this), a.utils.initSVG(r);
                var z = g.call(this, c, e).slice(), A = h.call(this, c, e).slice(), B = i.call(this, c, e).slice(), C = j.call(this, c, e).slice(), D = k.call(this, c, e).slice(), E = l.call(this, c, e).slice(), F = m.call(this, c, e).slice(), G = n.call(this, c, e).slice();
                b(D, z), b(E, A), b(F, B), b(G, C), z.sort(d3.descending), A.sort(d3.descending), 
                B.sort(d3.descending), C.sort(d3.descending);
                var H = d3.scale.linear().domain(d3.extent(d3.merge([ o, z ]))).range(f ? [ s, 0 ] : [ 0, s ]);
                this.__chart__ || d3.scale.linear().domain([ 0, 1 / 0 ]).range(H.range()), this.__chart__ = H;
                for (var I = (d3.min(z), d3.max(z), z[1], r.selectAll("g.nv-wrap.nv-bullet").data([ c ])), J = I.enter().append("g").attr("class", "nvd3 nv-wrap nv-bullet"), K = J.append("g"), L = I.select("g"), e = 0, M = z.length; M > e; e++) {
                    var N = "nv-range nv-range" + e;
                    2 >= e && (N = N + " nv-range" + w[e]), K.append("rect").attr("class", N);
                }
                K.append("rect").attr("class", "nv-measure"), I.attr("transform", "translate(" + d.left + "," + d.top + ")");
                for (var O = function(a) {
                    return Math.abs(H(a) - H(0));
                }, P = function(a) {
                    return H(0 > a ? a : 0);
                }, e = 0, M = z.length; M > e; e++) {
                    var Q = z[e];
                    L.select("rect.nv-range" + e).datum(Q).attr("height", y).transition().duration(x).attr("width", O(Q)).attr("x", P(Q));
                }
                L.select("rect.nv-measure").style("fill", t).attr("height", y / 3).attr("y", y / 3).on("mouseover", function() {
                    u.elementMouseover({
                        value: C[0],
                        label: G[0] || "Current",
                        color: d3.select(this).style("fill")
                    });
                }).on("mousemove", function() {
                    u.elementMousemove({
                        value: C[0],
                        label: G[0] || "Current",
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function() {
                    u.elementMouseout({
                        value: C[0],
                        label: G[0] || "Current",
                        color: d3.select(this).style("fill")
                    });
                }).transition().duration(x).attr("width", 0 > C ? H(0) - H(C[0]) : H(C[0]) - H(0)).attr("x", P(C));
                var R = y / 6, S = A.map(function(a, b) {
                    return {
                        value: a,
                        label: E[b]
                    };
                });
                K.selectAll("path.nv-markerTriangle").data(S).enter().append("path").attr("class", "nv-markerTriangle").attr("d", "M0," + R + "L" + R + "," + -R + " " + -R + "," + -R + "Z").on("mouseover", function(a) {
                    u.elementMouseover({
                        value: a.value,
                        label: a.label || "Previous",
                        color: d3.select(this).style("fill"),
                        pos: [ H(a.value), y / 2 ]
                    });
                }).on("mousemove", function(a) {
                    u.elementMousemove({
                        value: a.value,
                        label: a.label || "Previous",
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function(a, b) {
                    u.elementMouseout({
                        value: a.value,
                        label: a.label || "Previous",
                        color: d3.select(this).style("fill")
                    });
                }), L.selectAll("path.nv-markerTriangle").data(S).transition().duration(x).attr("transform", function(a) {
                    return "translate(" + H(a.value) + "," + y / 2 + ")";
                });
                var T = B.map(function(a, b) {
                    return {
                        value: a,
                        label: F[b]
                    };
                });
                K.selectAll("line.nv-markerLine").data(T).enter().append("line").attr("cursor", "").attr("class", "nv-markerLine").attr("x1", function(a) {
                    return H(a.value);
                }).attr("y1", "2").attr("x2", function(a) {
                    return H(a.value);
                }).attr("y2", y - 2).on("mouseover", function(a) {
                    u.elementMouseover({
                        value: a.value,
                        label: a.label || "Previous",
                        color: d3.select(this).style("fill"),
                        pos: [ H(a.value), y / 2 ]
                    });
                }).on("mousemove", function(a) {
                    u.elementMousemove({
                        value: a.value,
                        label: a.label || "Previous",
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function(a, b) {
                    u.elementMouseout({
                        value: a.value,
                        label: a.label || "Previous",
                        color: d3.select(this).style("fill")
                    });
                }), L.selectAll("line.nv-markerLine").data(T).transition().duration(x).attr("x1", function(a) {
                    return H(a.value);
                }).attr("x2", function(a) {
                    return H(a.value);
                }), I.selectAll(".nv-range").on("mouseover", function(a, b) {
                    var c = D[b] || v[b];
                    u.elementMouseover({
                        value: a,
                        label: c,
                        color: d3.select(this).style("fill")
                    });
                }).on("mousemove", function() {
                    u.elementMousemove({
                        value: C[0],
                        label: G[0] || "Previous",
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function(a, b) {
                    var c = D[b] || v[b];
                    u.elementMouseout({
                        value: a,
                        label: c,
                        color: d3.select(this).style("fill")
                    });
                });
            }), c;
        }
        var d = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, e = "left", f = !1, g = function(a) {
            return a.ranges;
        }, h = function(a) {
            return a.markers ? a.markers : [];
        }, i = function(a) {
            return a.markerLines ? a.markerLines : [ 0 ];
        }, j = function(a) {
            return a.measures;
        }, k = function(a) {
            return a.rangeLabels ? a.rangeLabels : [];
        }, l = function(a) {
            return a.markerLabels ? a.markerLabels : [];
        }, m = function(a) {
            return a.markerLineLabels ? a.markerLineLabels : [];
        }, n = function(a) {
            return a.measureLabels ? a.measureLabels : [];
        }, o = [ 0 ], p = 380, q = 30, r = null, s = null, t = a.utils.getColor([ "#1f77b4" ]), u = d3.dispatch("elementMouseover", "elementMouseout", "elementMousemove"), v = [ "Maximum", "Mean", "Minimum" ], w = [ "Max", "Avg", "Min" ], x = 1e3;
        return c.dispatch = u, c.options = a.utils.optionsFunc.bind(c), c._options = Object.create({}, {
            ranges: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            markers: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            measures: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            forceX: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            width: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            height: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            tickFormat: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            duration: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            margin: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d.top = void 0 !== a.top ? a.top : d.top, d.right = void 0 !== a.right ? a.right : d.right, 
                    d.bottom = void 0 !== a.bottom ? a.bottom : d.bottom, d.left = void 0 !== a.left ? a.left : d.left;
                }
            },
            orient: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a, f = "right" == e || "bottom" == e;
                }
            },
            color: {
                get: function() {
                    return t;
                },
                set: function(b) {
                    t = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(c), c;
    }, a.models.bulletChart = function() {
        "use strict";
        function b(d) {
            return d.each(function(e, o) {
                var p = d3.select(this);
                a.utils.initSVG(p);
                var q = a.utils.availableWidth(k, p, g), r = l - g.top - g.bottom;
                if (b.update = function() {
                    b(d);
                }, b.container = this, !e || !h.call(this, e, o)) return a.utils.noData(b, p), b;
                p.selectAll(".nv-noData").remove();
                var s = h.call(this, e, o).slice().sort(d3.descending), t = i.call(this, e, o).slice().sort(d3.descending), u = j.call(this, e, o).slice().sort(d3.descending), v = p.selectAll("g.nv-wrap.nv-bulletChart").data([ e ]), w = v.enter().append("g").attr("class", "nvd3 nv-wrap nv-bulletChart"), x = w.append("g"), y = v.select("g");
                x.append("g").attr("class", "nv-bulletWrap"), x.append("g").attr("class", "nv-titles"), 
                v.attr("transform", "translate(" + g.left + "," + g.top + ")");
                var z = d3.scale.linear().domain([ 0, Math.max(s[0], t[0] || 0, u[0]) ]).range(f ? [ q, 0 ] : [ 0, q ]), A = this.__chart__ || d3.scale.linear().domain([ 0, 1 / 0 ]).range(z.range());
                this.__chart__ = z;
                var B = x.select(".nv-titles").append("g").attr("text-anchor", "end").attr("transform", "translate(-6," + (l - g.top - g.bottom) / 2 + ")");
                B.append("text").attr("class", "nv-title").text(function(a) {
                    return a.title;
                }), B.append("text").attr("class", "nv-subtitle").attr("dy", "1em").text(function(a) {
                    return a.subtitle;
                }), c.width(q).height(r);
                var C = y.select(".nv-bulletWrap");
                d3.transition(C).call(c);
                var D = m || z.tickFormat(q / 100), E = y.selectAll("g.nv-tick").data(z.ticks(n ? n : q / 50), function(a) {
                    return this.textContent || D(a);
                }), F = E.enter().append("g").attr("class", "nv-tick").attr("transform", function(a) {
                    return "translate(" + A(a) + ",0)";
                }).style("opacity", 1e-6);
                F.append("line").attr("y1", r).attr("y2", 7 * r / 6), F.append("text").attr("text-anchor", "middle").attr("dy", "1em").attr("y", 7 * r / 6).text(D);
                var G = d3.transition(E).transition().duration(c.duration()).attr("transform", function(a) {
                    return "translate(" + z(a) + ",0)";
                }).style("opacity", 1);
                G.select("line").attr("y1", r).attr("y2", 7 * r / 6), G.select("text").attr("y", 7 * r / 6), 
                d3.transition(E.exit()).transition().duration(c.duration()).attr("transform", function(a) {
                    return "translate(" + z(a) + ",0)";
                }).style("opacity", 1e-6).remove();
            }), d3.timer.flush(), b;
        }
        var c = a.models.bullet(), d = a.models.tooltip(), e = "left", f = !1, g = {
            top: 5,
            right: 40,
            bottom: 20,
            left: 120
        }, h = function(a) {
            return a.ranges;
        }, i = function(a) {
            return a.markers ? a.markers : [];
        }, j = function(a) {
            return a.measures;
        }, k = null, l = 55, m = null, n = null, o = null, p = d3.dispatch();
        return d.duration(0).headerEnabled(!1), c.dispatch.on("elementMouseover.tooltip", function(a) {
            a.series = {
                key: a.label,
                value: a.value,
                color: a.color
            }, d.data(a).hidden(!1);
        }), c.dispatch.on("elementMouseout.tooltip", function(a) {
            d.hidden(!0);
        }), c.dispatch.on("elementMousemove.tooltip", function(a) {
            d();
        }), b.bullet = c, b.dispatch = p, b.tooltip = d, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            ranges: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            markers: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            measures: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            width: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            height: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            tickFormat: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            ticks: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            noData: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            margin: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g.top = void 0 !== a.top ? a.top : g.top, g.right = void 0 !== a.right ? a.right : g.right, 
                    g.bottom = void 0 !== a.bottom ? a.bottom : g.bottom, g.left = void 0 !== a.left ? a.left : g.left;
                }
            },
            orient: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a, f = "right" == e || "bottom" == e;
                }
            }
        }), a.utils.inheritOptions(b, c), a.utils.initOptions(b), b;
    }, a.models.candlestickBar = function() {
        "use strict";
        function b(x) {
            return x.each(function(b) {
                c = d3.select(this);
                var x = a.utils.availableWidth(i, c, h), y = a.utils.availableHeight(j, c, h);
                a.utils.initSVG(c);
                var A = x / b[0].values.length * .45;
                l.domain(d || d3.extent(b[0].values.map(n).concat(t))), v ? l.range(f || [ .5 * x / b[0].values.length, x * (b[0].values.length - .5) / b[0].values.length ]) : l.range(f || [ 5 + A / 2, x - A / 2 - 5 ]), 
                m.domain(e || [ d3.min(b[0].values.map(s).concat(u)), d3.max(b[0].values.map(r).concat(u)) ]).range(g || [ y, 0 ]), 
                l.domain()[0] === l.domain()[1] && (l.domain()[0] ? l.domain([ l.domain()[0] - .01 * l.domain()[0], l.domain()[1] + .01 * l.domain()[1] ]) : l.domain([ -1, 1 ])), 
                m.domain()[0] === m.domain()[1] && (m.domain()[0] ? m.domain([ m.domain()[0] + .01 * m.domain()[0], m.domain()[1] - .01 * m.domain()[1] ]) : m.domain([ -1, 1 ]));
                var B = d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([ b[0].values ]), C = B.enter().append("g").attr("class", "nvd3 nv-wrap nv-candlestickBar"), D = C.append("defs"), E = C.append("g"), F = B.select("g");
                E.append("g").attr("class", "nv-ticks"), B.attr("transform", "translate(" + h.left + "," + h.top + ")"), 
                c.on("click", function(a, b) {
                    z.chartClick({
                        data: a,
                        index: b,
                        pos: d3.event,
                        id: k
                    });
                }), D.append("clipPath").attr("id", "nv-chart-clip-path-" + k).append("rect"), B.select("#nv-chart-clip-path-" + k + " rect").attr("width", x).attr("height", y), 
                F.attr("clip-path", w ? "url(#nv-chart-clip-path-" + k + ")" : "");
                var G = B.select(".nv-ticks").selectAll(".nv-tick").data(function(a) {
                    return a;
                });
                G.exit().remove();
                var H = G.enter().append("g");
                G.attr("class", function(a, b, c) {
                    return (p(a, b) > q(a, b) ? "nv-tick negative" : "nv-tick positive") + " nv-tick-" + c + "-" + b;
                }), H.append("line").attr("class", "nv-candlestick-lines").attr("transform", function(a, b) {
                    return "translate(" + l(n(a, b)) + ",0)";
                }).attr("x1", 0).attr("y1", function(a, b) {
                    return m(r(a, b));
                }).attr("x2", 0).attr("y2", function(a, b) {
                    return m(s(a, b));
                }), H.append("rect").attr("class", "nv-candlestick-rects nv-bars").attr("transform", function(a, b) {
                    return "translate(" + (l(n(a, b)) - A / 2) + "," + (m(o(a, b)) - (p(a, b) > q(a, b) ? m(q(a, b)) - m(p(a, b)) : 0)) + ")";
                }).attr("x", 0).attr("y", 0).attr("width", A).attr("height", function(a, b) {
                    var c = p(a, b), d = q(a, b);
                    return c > d ? m(d) - m(c) : m(c) - m(d);
                }), G.select(".nv-candlestick-lines").transition().attr("transform", function(a, b) {
                    return "translate(" + l(n(a, b)) + ",0)";
                }).attr("x1", 0).attr("y1", function(a, b) {
                    return m(r(a, b));
                }).attr("x2", 0).attr("y2", function(a, b) {
                    return m(s(a, b));
                }), G.select(".nv-candlestick-rects").transition().attr("transform", function(a, b) {
                    return "translate(" + (l(n(a, b)) - A / 2) + "," + (m(o(a, b)) - (p(a, b) > q(a, b) ? m(q(a, b)) - m(p(a, b)) : 0)) + ")";
                }).attr("x", 0).attr("y", 0).attr("width", A).attr("height", function(a, b) {
                    var c = p(a, b), d = q(a, b);
                    return c > d ? m(d) - m(c) : m(c) - m(d);
                });
            }), b;
        }
        var c, d, e, f, g, h = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, i = null, j = null, k = Math.floor(1e4 * Math.random()), l = d3.scale.linear(), m = d3.scale.linear(), n = function(a) {
            return a.x;
        }, o = function(a) {
            return a.y;
        }, p = function(a) {
            return a.open;
        }, q = function(a) {
            return a.close;
        }, r = function(a) {
            return a.high;
        }, s = function(a) {
            return a.low;
        }, t = [], u = [], v = !1, w = !0, x = a.utils.defaultColor(), y = !1, z = d3.dispatch("stateChange", "changeState", "renderEnd", "chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "elementMousemove");
        return b.highlightPoint = function(a, d) {
            b.clearHighlights(), c.select(".nv-candlestickBar .nv-tick-0-" + a).classed("hover", d);
        }, b.clearHighlights = function() {
            c.select(".nv-candlestickBar .nv-tick.hover").classed("hover", !1);
        }, b.dispatch = z, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            height: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            xScale: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            yScale: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            xDomain: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            yDomain: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            xRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            yRange: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            forceX: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            forceY: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            padData: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            clipEdge: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            id: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            interactive: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = a;
                }
            },
            x: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            y: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            open: {
                get: function() {
                    return p();
                },
                set: function(a) {
                    p = a;
                }
            },
            close: {
                get: function() {
                    return q();
                },
                set: function(a) {
                    q = a;
                }
            },
            high: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            low: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            margin: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h.top = void 0 != a.top ? a.top : h.top, h.right = void 0 != a.right ? a.right : h.right, 
                    h.bottom = void 0 != a.bottom ? a.bottom : h.bottom, h.left = void 0 != a.left ? a.left : h.left;
                }
            },
            color: {
                get: function() {
                    return x;
                },
                set: function(b) {
                    x = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.cumulativeLineChart = function() {
        "use strict";
        function b(l) {
            return I.reset(), I.models(f), s && I.models(g), t && I.models(h), l.each(function(l) {
                function B(a, c) {
                    d3.select(b.container).style("cursor", "ew-resize");
                }
                function F(a, b) {
                    H.x = d3.event.x, H.i = Math.round(G.invert(H.x)), L();
                }
                function I(a, c) {
                    d3.select(b.container).style("cursor", "auto"), z.index = H.i, D.stateChange(z);
                }
                function L() {
                    ba.data([ H ]);
                    var a = b.duration();
                    b.duration(0), b.update(), b.duration(a);
                }
                var M = d3.select(this);
                a.utils.initSVG(M), M.classed("nv-chart-" + y, !0);
                var N = a.utils.availableWidth(p, M, m), O = a.utils.availableHeight(q, M, m);
                if (b.update = function() {
                    0 === E ? M.call(b) : M.transition().duration(E).call(b);
                }, b.container = this, z.setter(K(l), b.update).getter(J(l)).update(), z.disabled = l.map(function(a) {
                    return !!a.disabled;
                }), !A) {
                    var P;
                    A = {};
                    for (P in z) z[P] instanceof Array ? A[P] = z[P].slice(0) : A[P] = z[P];
                }
                var Q = d3.behavior.drag().on("dragstart", B).on("drag", F).on("dragend", I);
                if (!(l && l.length && l.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, M), b;
                if (M.selectAll(".nv-noData").remove(), d = f.xScale(), e = f.yScale(), x) f.yDomain(null); else {
                    var R = l.filter(function(a) {
                        return !a.disabled;
                    }).map(function(a, b) {
                        var c = d3.extent(a.values, f.y());
                        return c[0] < -.95 && (c[0] = -.95), [ (c[0] - c[1]) / (1 + c[1]), (c[1] - c[0]) / (1 + c[0]) ];
                    }), S = [ d3.min(R, function(a) {
                        return a[0];
                    }), d3.max(R, function(a) {
                        return a[1];
                    }) ];
                    f.yDomain(S);
                }
                G.domain([ 0, l[0].values.length - 1 ]).range([ 0, N ]).clamp(!0);
                var l = c(H.i, l), T = w ? "none" : "all", U = M.selectAll("g.nv-wrap.nv-cumulativeLine").data([ l ]), V = U.enter().append("g").attr("class", "nvd3 nv-wrap nv-cumulativeLine").append("g"), W = U.select("g");
                if (V.append("g").attr("class", "nv-interactive"), V.append("g").attr("class", "nv-x nv-axis").style("pointer-events", "none"), 
                V.append("g").attr("class", "nv-y nv-axis"), V.append("g").attr("class", "nv-background"), 
                V.append("g").attr("class", "nv-linesWrap").style("pointer-events", T), V.append("g").attr("class", "nv-avgLinesWrap").style("pointer-events", "none"), 
                V.append("g").attr("class", "nv-legendWrap"), V.append("g").attr("class", "nv-controlsWrap"), 
                r ? (i.width(N), W.select(".nv-legendWrap").datum(l).call(i), n || i.height() === m.top || (m.top = i.height(), 
                O = a.utils.availableHeight(q, M, m)), W.select(".nv-legendWrap").attr("transform", "translate(0," + -m.top + ")")) : W.select(".nv-legendWrap").selectAll("*").remove(), 
                v) {
                    var X = [ {
                        key: "Re-scale y-axis",
                        disabled: !x
                    } ];
                    j.width(140).color([ "#444", "#444", "#444" ]).rightAlign(!1).margin({
                        top: 5,
                        right: 0,
                        bottom: 5,
                        left: 20
                    }), W.select(".nv-controlsWrap").datum(X).attr("transform", "translate(0," + -m.top + ")").call(j);
                } else W.select(".nv-controlsWrap").selectAll("*").remove();
                U.attr("transform", "translate(" + m.left + "," + m.top + ")"), u && W.select(".nv-y.nv-axis").attr("transform", "translate(" + N + ",0)");
                var Y = l.filter(function(a) {
                    return a.tempDisabled;
                });
                U.select(".tempDisabled").remove(), Y.length && U.append("text").attr("class", "tempDisabled").attr("x", N / 2).attr("y", "-.71em").style("text-anchor", "end").text(Y.map(function(a) {
                    return a.key;
                }).join(", ") + " values cannot be calculated for this time period."), w && (k.width(N).height(O).margin({
                    left: m.left,
                    top: m.top
                }).svgContainer(M).xScale(d), U.select(".nv-interactive").call(k)), V.select(".nv-background").append("rect"), 
                W.select(".nv-background rect").attr("width", N).attr("height", O), f.y(function(a) {
                    return a.display.y;
                }).width(N).height(O).color(l.map(function(a, b) {
                    return a.color || o(a, b);
                }).filter(function(a, b) {
                    return !l[b].disabled && !l[b].tempDisabled;
                }));
                var Z = W.select(".nv-linesWrap").datum(l.filter(function(a) {
                    return !a.disabled && !a.tempDisabled;
                }));
                Z.call(f), l.forEach(function(a, b) {
                    a.seriesIndex = b;
                });
                var $ = l.filter(function(a) {
                    return !a.disabled && !!C(a);
                }), _ = W.select(".nv-avgLinesWrap").selectAll("line").data($, function(a) {
                    return a.key;
                }), aa = function(a) {
                    var b = e(C(a));
                    return 0 > b ? 0 : b > O ? O : b;
                };
                _.enter().append("line").style("stroke-width", 2).style("stroke-dasharray", "10,10").style("stroke", function(a, b) {
                    return f.color()(a, a.seriesIndex);
                }).attr("x1", 0).attr("x2", N).attr("y1", aa).attr("y2", aa), _.style("stroke-opacity", function(a) {
                    var b = e(C(a));
                    return 0 > b || b > O ? 0 : 1;
                }).attr("x1", 0).attr("x2", N).attr("y1", aa).attr("y2", aa), _.exit().remove();
                var ba = Z.selectAll(".nv-indexLine").data([ H ]);
                ba.enter().append("rect").attr("class", "nv-indexLine").attr("width", 3).attr("x", -2).attr("fill", "red").attr("fill-opacity", .5).style("pointer-events", "all").call(Q), 
                ba.attr("transform", function(a) {
                    return "translate(" + G(a.i) + ",0)";
                }).attr("height", O), s && (g.scale(d)._ticks(a.utils.calcTicksX(N / 70, l)).tickSize(-O, 0), 
                W.select(".nv-x.nv-axis").attr("transform", "translate(0," + e.range()[0] + ")"), 
                W.select(".nv-x.nv-axis").call(g)), t && (h.scale(e)._ticks(a.utils.calcTicksY(O / 36, l)).tickSize(-N, 0), 
                W.select(".nv-y.nv-axis").call(h)), W.select(".nv-background rect").on("click", function() {
                    H.x = d3.mouse(this)[0], H.i = Math.round(G.invert(H.x)), z.index = H.i, D.stateChange(z), 
                    L();
                }), f.dispatch.on("elementClick", function(a) {
                    H.i = a.pointIndex, H.x = G(H.i), z.index = H.i, D.stateChange(z), L();
                }), j.dispatch.on("legendClick", function(a, c) {
                    a.disabled = !a.disabled, x = !a.disabled, z.rescaleY = x, D.stateChange(z), b.update();
                }), i.dispatch.on("stateChange", function(a) {
                    for (var c in a) z[c] = a[c];
                    D.stateChange(z), b.update();
                }), k.dispatch.on("elementMousemove", function(c) {
                    f.clearHighlights();
                    var d, e, i, j = [];
                    if (l.filter(function(a, b) {
                        return a.seriesIndex = b, !a.disabled;
                    }).forEach(function(g, h) {
                        e = a.interactiveBisect(g.values, c.pointXValue, b.x()), f.highlightPoint(h, e, !0);
                        var k = g.values[e];
                        "undefined" != typeof k && ("undefined" == typeof d && (d = k), "undefined" == typeof i && (i = b.xScale()(b.x()(k, e))), 
                        j.push({
                            key: g.key,
                            value: b.y()(k, e),
                            color: o(g, g.seriesIndex)
                        }));
                    }), j.length > 2) {
                        var m = b.yScale().invert(c.mouseY), n = Math.abs(b.yScale().domain()[0] - b.yScale().domain()[1]), p = .03 * n, q = a.nearestValueIndex(j.map(function(a) {
                            return a.value;
                        }), m, p);
                        null !== q && (j[q].highlight = !0);
                    }
                    var r = g.tickFormat()(b.x()(d, e), e);
                    k.tooltip.valueFormatter(function(a, b) {
                        return h.tickFormat()(a);
                    }).data({
                        value: r,
                        series: j
                    })(), k.renderGuideLine(i);
                }), k.dispatch.on("elementMouseout", function(a) {
                    f.clearHighlights();
                }), D.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (l.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), z.disabled = a.disabled), "undefined" != typeof a.index && (H.i = a.index, H.x = G(H.i), 
                    z.index = a.index, ba.data([ H ])), "undefined" != typeof a.rescaleY && (x = a.rescaleY), 
                    b.update();
                });
            }), I.renderEnd("cumulativeLineChart immediate"), b;
        }
        function c(a, b) {
            return L || (L = f.y()), b.map(function(b, c) {
                if (!b.values) return b;
                var d = b.values[a];
                if (null == d) return b;
                var e = L(d, a);
                return -.95 > e && !F ? (b.tempDisabled = !0, b) : (b.tempDisabled = !1, b.values = b.values.map(function(a, b) {
                    return a.display = {
                        y: (L(a, b) - e) / (1 + e)
                    }, a;
                }), b);
            });
        }
        var d, e, f = a.models.line(), g = a.models.axis(), h = a.models.axis(), i = a.models.legend(), j = a.models.legend(), k = a.interactiveGuideline(), l = a.models.tooltip(), m = {
            top: 30,
            right: 30,
            bottom: 50,
            left: 60
        }, n = null, o = a.utils.defaultColor(), p = null, q = null, r = !0, s = !0, t = !0, u = !1, v = !0, w = !1, x = !0, y = f.id(), z = a.utils.state(), A = null, B = null, C = function(a) {
            return a.average;
        }, D = d3.dispatch("stateChange", "changeState", "renderEnd"), E = 250, F = !1;
        z.index = 0, z.rescaleY = x, g.orient("bottom").tickPadding(7), h.orient(u ? "right" : "left"), 
        l.valueFormatter(function(a, b) {
            return h.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }), j.updateState(!1);
        var G = d3.scale.linear(), H = {
            i: 0,
            x: 0
        }, I = a.utils.renderWatch(D, E), J = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    }),
                    index: H.i,
                    rescaleY: x
                };
            };
        }, K = function(a) {
            return function(b) {
                void 0 !== b.index && (H.i = b.index), void 0 !== b.rescaleY && (x = b.rescaleY), 
                void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        };
        f.dispatch.on("elementMouseover.tooltip", function(a) {
            var c = {
                x: b.x()(a.point),
                y: b.y()(a.point),
                color: a.point.color
            };
            a.point = c, l.data(a).hidden(!1);
        }), f.dispatch.on("elementMouseout.tooltip", function(a) {
            l.hidden(!0);
        });
        var L = null;
        return b.dispatch = D, b.lines = f, b.legend = i, b.controls = j, b.xAxis = g, b.yAxis = h, 
        b.interactiveLayer = k, b.state = z, b.tooltip = l, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            width: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            height: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            rescaleY: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            showControls: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            showLegend: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            average: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a;
                }
            },
            defaultState: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            noData: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a;
                }
            },
            showXAxis: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            showYAxis: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            noErrorCheck: {
                get: function() {
                    return F;
                },
                set: function(a) {
                    F = a;
                }
            },
            margin: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    void 0 !== a.top && (m.top = a.top, n = a.top), m.right = void 0 !== a.right ? a.right : m.right, 
                    m.bottom = void 0 !== a.bottom ? a.bottom : m.bottom, m.left = void 0 !== a.left ? a.left : m.left;
                }
            },
            color: {
                get: function() {
                    return o;
                },
                set: function(b) {
                    o = a.utils.getColor(b), i.color(o);
                }
            },
            useInteractiveGuideline: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a, a === !0 && (b.interactive(!1), b.useVoronoi(!1));
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a, h.orient(a ? "right" : "left");
                }
            },
            duration: {
                get: function() {
                    return E;
                },
                set: function(a) {
                    E = a, f.duration(E), g.duration(E), h.duration(E), I.reset(E);
                }
            }
        }), a.utils.inheritOptions(b, f), a.utils.initOptions(b), b;
    }, a.models.discreteBar = function() {
        "use strict";
        function b(m) {
            return y.reset(), m.each(function(b) {
                var m = k - j.left - j.right, x = l - j.top - j.bottom;
                c = d3.select(this), a.utils.initSVG(c), b.forEach(function(a, b) {
                    a.values.forEach(function(a) {
                        a.series = b;
                    });
                });
                var z = d && e ? [] : b.map(function(a) {
                    return a.values.map(function(a, b) {
                        return {
                            x: p(a, b),
                            y: q(a, b),
                            y0: a.y0
                        };
                    });
                });
                n.domain(d || d3.merge(z).map(function(a) {
                    return a.x;
                })).rangeBands(f || [ 0, m ], .1), o.domain(e || d3.extent(d3.merge(z).map(function(a) {
                    return a.y;
                }).concat(r))), t ? o.range(g || [ x - (o.domain()[0] < 0 ? 12 : 0), o.domain()[1] > 0 ? 12 : 0 ]) : o.range(g || [ x, 0 ]), 
                h = h || n, i = i || o.copy().range([ o(0), o(0) ]);
                var A = c.selectAll("g.nv-wrap.nv-discretebar").data([ b ]), B = A.enter().append("g").attr("class", "nvd3 nv-wrap nv-discretebar"), C = B.append("g");
                A.select("g"), C.append("g").attr("class", "nv-groups"), A.attr("transform", "translate(" + j.left + "," + j.top + ")");
                var D = A.select(".nv-groups").selectAll(".nv-group").data(function(a) {
                    return a;
                }, function(a) {
                    return a.key;
                });
                D.enter().append("g").style("stroke-opacity", 1e-6).style("fill-opacity", 1e-6), 
                D.exit().watchTransition(y, "discreteBar: exit groups").style("stroke-opacity", 1e-6).style("fill-opacity", 1e-6).remove(), 
                D.attr("class", function(a, b) {
                    return "nv-group nv-series-" + b;
                }).classed("hover", function(a) {
                    return a.hover;
                }), D.watchTransition(y, "discreteBar: groups").style("stroke-opacity", 1).style("fill-opacity", .75);
                var E = D.selectAll("g.nv-bar").data(function(a) {
                    return a.values;
                });
                E.exit().remove();
                var F = E.enter().append("g").attr("transform", function(a, b, c) {
                    return "translate(" + (n(p(a, b)) + .05 * n.rangeBand()) + ", " + o(0) + ")";
                }).on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0), v.elementMouseover({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1), v.elementMouseout({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("mousemove", function(a, b) {
                    v.elementMousemove({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("click", function(a, b) {
                    var c = this;
                    v.elementClick({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill"),
                        event: d3.event,
                        element: c
                    }), d3.event.stopPropagation();
                }).on("dblclick", function(a, b) {
                    v.elementDblClick({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    }), d3.event.stopPropagation();
                });
                F.append("rect").attr("height", 0).attr("width", .9 * n.rangeBand() / b.length), 
                t ? (F.append("text").attr("text-anchor", "middle"), E.select("text").text(function(a, b) {
                    return u(q(a, b));
                }).watchTransition(y, "discreteBar: bars text").attr("x", .9 * n.rangeBand() / 2).attr("y", function(a, b) {
                    return q(a, b) < 0 ? o(q(a, b)) - o(0) + 12 : -4;
                })) : E.selectAll("text").remove(), E.attr("class", function(a, b) {
                    return q(a, b) < 0 ? "nv-bar negative" : "nv-bar positive";
                }).style("fill", function(a, b) {
                    return a.color || s(a, b);
                }).style("stroke", function(a, b) {
                    return a.color || s(a, b);
                }).select("rect").attr("class", w).watchTransition(y, "discreteBar: bars rect").attr("width", .9 * n.rangeBand() / b.length), 
                E.watchTransition(y, "discreteBar: bars").attr("transform", function(a, b) {
                    var c = n(p(a, b)) + .05 * n.rangeBand(), d = q(a, b) < 0 ? o(0) : o(0) - o(q(a, b)) < 1 ? o(0) - 1 : o(q(a, b));
                    return "translate(" + c + ", " + d + ")";
                }).select("rect").attr("height", function(a, b) {
                    return Math.max(Math.abs(o(q(a, b)) - o(0)), 1);
                }), h = n.copy(), i = o.copy();
            }), y.renderEnd("discreteBar immediate"), b;
        }
        var c, d, e, f, g, h, i, j = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, k = 960, l = 500, m = Math.floor(1e4 * Math.random()), n = d3.scale.ordinal(), o = d3.scale.linear(), p = function(a) {
            return a.x;
        }, q = function(a) {
            return a.y;
        }, r = [ 0 ], s = a.utils.defaultColor(), t = !1, u = d3.format(",.2f"), v = d3.dispatch("chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "elementMousemove", "renderEnd"), w = "discreteBar", x = 250, y = a.utils.renderWatch(v, x);
        return b.dispatch = v, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            height: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            forceY: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            showValues: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            x: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            y: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            xScale: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            yScale: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            xDomain: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            yDomain: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            xRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            yRange: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            valueFormat: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            id: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            rectClass: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            margin: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j.top = void 0 !== a.top ? a.top : j.top, j.right = void 0 !== a.right ? a.right : j.right, 
                    j.bottom = void 0 !== a.bottom ? a.bottom : j.bottom, j.left = void 0 !== a.left ? a.left : j.left;
                }
            },
            color: {
                get: function() {
                    return s;
                },
                set: function(b) {
                    s = a.utils.getColor(b);
                }
            },
            duration: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a, y.reset(x);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.discreteBarChart = function() {
        "use strict";
        function b(i) {
            return y.reset(), y.models(e), p && y.models(f), q && y.models(g), i.each(function(i) {
                var n = d3.select(this);
                a.utils.initSVG(n);
                var v = a.utils.availableWidth(l, n, j), y = a.utils.availableHeight(m, n, j);
                if (b.update = function() {
                    w.beforeUpdate(), n.transition().duration(x).call(b);
                }, b.container = this, !(i && i.length && i.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, n), b;
                n.selectAll(".nv-noData").remove(), c = e.xScale(), d = e.yScale().clamp(!0);
                var z = n.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([ i ]), A = z.enter().append("g").attr("class", "nvd3 nv-wrap nv-discreteBarWithAxes").append("g"), B = A.append("defs"), C = z.select("g");
                A.append("g").attr("class", "nv-x nv-axis"), A.append("g").attr("class", "nv-y nv-axis").append("g").attr("class", "nv-zeroLine").append("line"), 
                A.append("g").attr("class", "nv-barsWrap"), A.append("g").attr("class", "nv-legendWrap"), 
                C.attr("transform", "translate(" + j.left + "," + j.top + ")"), o ? (h.width(v), 
                C.select(".nv-legendWrap").datum(i).call(h), k || h.height() === j.top || (j.top = h.height(), 
                y = a.utils.availableHeight(m, n, j)), z.select(".nv-legendWrap").attr("transform", "translate(0," + -j.top + ")")) : C.select(".nv-legendWrap").selectAll("*").remove(), 
                r && C.select(".nv-y.nv-axis").attr("transform", "translate(" + v + ",0)"), e.width(v).height(y);
                var D = C.select(".nv-barsWrap").datum(i.filter(function(a) {
                    return !a.disabled;
                }));
                if (D.transition().call(e), B.append("clipPath").attr("id", "nv-x-label-clip-" + e.id()).append("rect"), 
                C.select("#nv-x-label-clip-" + e.id() + " rect").attr("width", c.rangeBand() * (s ? 2 : 1)).attr("height", 16).attr("x", -c.rangeBand() / (s ? 1 : 2)), 
                p) {
                    f.scale(c)._ticks(a.utils.calcTicksX(v / 100, i)).tickSize(-y, 0), C.select(".nv-x.nv-axis").attr("transform", "translate(0," + (d.range()[0] + (e.showValues() && d.domain()[0] < 0 ? 16 : 0)) + ")"), 
                    C.select(".nv-x.nv-axis").call(f);
                    var E = C.select(".nv-x.nv-axis").selectAll("g");
                    s && E.selectAll("text").attr("transform", function(a, b, c) {
                        return "translate(0," + (c % 2 == 0 ? "5" : "17") + ")";
                    }), u && E.selectAll(".tick text").attr("transform", "rotate(" + u + " 0,0)").style("text-anchor", u > 0 ? "start" : "end"), 
                    t && C.selectAll(".tick text").call(a.utils.wrapTicks, b.xAxis.rangeBand());
                }
                q && (g.scale(d)._ticks(a.utils.calcTicksY(y / 36, i)).tickSize(-v, 0), C.select(".nv-y.nv-axis").call(g)), 
                C.select(".nv-zeroLine line").attr("x1", 0).attr("x2", r ? -v : v).attr("y1", d(0)).attr("y2", d(0));
            }), y.renderEnd("discreteBar chart immediate"), b;
        }
        var c, d, e = a.models.discreteBar(), f = a.models.axis(), g = a.models.axis(), h = a.models.legend(), i = a.models.tooltip(), j = {
            top: 15,
            right: 10,
            bottom: 50,
            left: 60
        }, k = null, l = null, m = null, n = a.utils.getColor(), o = !1, p = !0, q = !0, r = !1, s = !1, t = !1, u = 0, v = null, w = d3.dispatch("beforeUpdate", "renderEnd"), x = 250;
        f.orient("bottom").showMaxMin(!1).tickFormat(function(a) {
            return a;
        }), g.orient(r ? "right" : "left").tickFormat(d3.format(",.1f")), i.duration(0).headerEnabled(!1).valueFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }).keyFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        });
        var y = a.utils.renderWatch(w, x);
        return e.dispatch.on("elementMouseover.tooltip", function(a) {
            a.series = {
                key: b.x()(a.data),
                value: b.y()(a.data),
                color: a.color
            }, i.data(a).hidden(!1);
        }), e.dispatch.on("elementMouseout.tooltip", function(a) {
            i.hidden(!0);
        }), e.dispatch.on("elementMousemove.tooltip", function(a) {
            i();
        }), b.dispatch = w, b.discretebar = e, b.legend = h, b.xAxis = f, b.yAxis = g, b.tooltip = i, 
        b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            height: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            showLegend: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            staggerLabels: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            rotateLabels: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            wrapLabels: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = !!a;
                }
            },
            showXAxis: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            showYAxis: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            noData: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            margin: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    void 0 !== a.top && (j.top = a.top, k = a.top), j.right = void 0 !== a.right ? a.right : j.right, 
                    j.bottom = void 0 !== a.bottom ? a.bottom : j.bottom, j.left = void 0 !== a.left ? a.left : j.left;
                }
            },
            duration: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a, y.reset(x), e.duration(x), f.duration(x), g.duration(x);
                }
            },
            color: {
                get: function() {
                    return n;
                },
                set: function(b) {
                    n = a.utils.getColor(b), e.color(n), h.color(n);
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a, g.orient(a ? "right" : "left");
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.distribution = function() {
        "use strict";
        function b(k) {
            return m.reset(), k.each(function(b) {
                var k = (e - ("x" === g ? d.left + d.right : d.top + d.bottom), "x" == g ? "y" : "x"), l = d3.select(this);
                a.utils.initSVG(l), c = c || j;
                var n = l.selectAll("g.nv-distribution").data([ b ]), o = n.enter().append("g").attr("class", "nvd3 nv-distribution"), p = (o.append("g"), 
                n.select("g"));
                n.attr("transform", "translate(" + d.left + "," + d.top + ")");
                var q = p.selectAll("g.nv-dist").data(function(a) {
                    return a;
                }, function(a) {
                    return a.key;
                });
                q.enter().append("g"), q.attr("class", function(a, b) {
                    return "nv-dist nv-series-" + b;
                }).style("stroke", function(a, b) {
                    return i(a, b);
                });
                var r = q.selectAll("line.nv-dist" + g).data(function(a) {
                    return a.values;
                });
                r.enter().append("line").attr(g + "1", function(a, b) {
                    return c(h(a, b));
                }).attr(g + "2", function(a, b) {
                    return c(h(a, b));
                }), m.transition(q.exit().selectAll("line.nv-dist" + g), "dist exit").attr(g + "1", function(a, b) {
                    return j(h(a, b));
                }).attr(g + "2", function(a, b) {
                    return j(h(a, b));
                }).style("stroke-opacity", 0).remove(), r.attr("class", function(a, b) {
                    return "nv-dist" + g + " nv-dist" + g + "-" + b;
                }).attr(k + "1", 0).attr(k + "2", f), m.transition(r, "dist").attr(g + "1", function(a, b) {
                    return j(h(a, b));
                }).attr(g + "2", function(a, b) {
                    return j(h(a, b));
                }), c = j.copy();
            }), m.renderEnd("distribution immediate"), b;
        }
        var c, d = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, e = 400, f = 8, g = "x", h = function(a) {
            return a[g];
        }, i = a.utils.defaultColor(), j = d3.scale.linear(), k = 250, l = d3.dispatch("renderEnd"), m = a.utils.renderWatch(l, k);
        return b.options = a.utils.optionsFunc.bind(b), b.dispatch = l, b.margin = function(a) {
            return arguments.length ? (d.top = "undefined" != typeof a.top ? a.top : d.top, 
            d.right = "undefined" != typeof a.right ? a.right : d.right, d.bottom = "undefined" != typeof a.bottom ? a.bottom : d.bottom, 
            d.left = "undefined" != typeof a.left ? a.left : d.left, b) : d;
        }, b.width = function(a) {
            return arguments.length ? (e = a, b) : e;
        }, b.axis = function(a) {
            return arguments.length ? (g = a, b) : g;
        }, b.size = function(a) {
            return arguments.length ? (f = a, b) : f;
        }, b.getData = function(a) {
            return arguments.length ? (h = d3.functor(a), b) : h;
        }, b.scale = function(a) {
            return arguments.length ? (j = a, b) : j;
        }, b.color = function(c) {
            return arguments.length ? (i = a.utils.getColor(c), b) : i;
        }, b.duration = function(a) {
            return arguments.length ? (k = a, m.reset(k), b) : k;
        }, b;
    }, a.models.focus = function(b) {
        "use strict";
        function c(u) {
            return t.reset(), t.models(b), m && t.models(f), n && t.models(g), u.each(function(t) {
                function u(a) {
                    var b = +("e" == a), c = b ? 1 : -1, d = z / 3;
                    return "M" + .5 * c + "," + d + "A6,6 0 0 " + b + " " + 6.5 * c + "," + (d + 6) + "V" + (2 * d - 6) + "A6,6 0 0 " + b + " " + .5 * c + "," + 2 * d + "ZM" + 2.5 * c + "," + (d + 8) + "V" + (2 * d - 8) + "M" + 4.5 * c + "," + (d + 8) + "V" + (2 * d - 8);
                }
                function v() {
                    h.empty() || h.extent(p), E.data([ h.empty() ? d.domain() : p ]).each(function(a, b) {
                        var c = d(a[0]) - d.range()[0], e = y - d(a[1]);
                        d3.select(this).select(".left").attr("width", 0 > c ? 0 : c), d3.select(this).select(".right").attr("x", d(a[1])).attr("width", 0 > e ? 0 : e);
                    });
                }
                function w(a) {
                    p = h.empty() ? null : h.extent();
                    var b = h.empty() ? d.domain() : h.extent();
                    r.brush({
                        extent: b,
                        brush: h
                    }), v(), a && r.onBrush(b);
                }
                var x = d3.select(this);
                a.utils.initSVG(x);
                var y = a.utils.availableWidth(k, x, i), z = l - i.top - i.bottom;
                c.update = function() {
                    0 === q ? x.call(c) : x.transition().duration(q).call(c);
                }, c.container = this, d = b.xScale(), e = b.yScale();
                var A = x.selectAll("g.nv-focus").data([ t ]), B = A.enter().append("g").attr("class", "nvd3 nv-focus").append("g"), C = A.select("g");
                A.attr("transform", "translate(" + i.left + "," + i.top + ")"), B.append("g").attr("class", "nv-background").append("rect"), 
                B.append("g").attr("class", "nv-x nv-axis"), B.append("g").attr("class", "nv-y nv-axis"), 
                B.append("g").attr("class", "nv-contentWrap"), B.append("g").attr("class", "nv-brushBackground"), 
                B.append("g").attr("class", "nv-x nv-brush"), o && C.select(".nv-y.nv-axis").attr("transform", "translate(" + y + ",0)"), 
                C.select(".nv-background rect").attr("width", y).attr("height", z), b.width(y).height(z).color(t.map(function(a, b) {
                    return a.color || j(a, b);
                }).filter(function(a, b) {
                    return !t[b].disabled;
                }));
                var D = C.select(".nv-contentWrap").datum(t.filter(function(a) {
                    return !a.disabled;
                }));
                d3.transition(D).call(b), h.x(d).on("brush", function() {
                    w(s);
                }), h.on("brushend", function() {
                    s || r.onBrush(h.empty() ? d.domain() : h.extent());
                }), p && h.extent(p);
                var E = C.select(".nv-brushBackground").selectAll("g").data([ p || h.extent() ]), F = E.enter().append("g");
                F.append("rect").attr("class", "left").attr("x", 0).attr("y", 0).attr("height", z), 
                F.append("rect").attr("class", "right").attr("x", 0).attr("y", 0).attr("height", z);
                var G = C.select(".nv-x.nv-brush").call(h);
                G.selectAll("rect").attr("height", z), G.selectAll(".resize").append("path").attr("d", u), 
                w(!0), C.select(".nv-background rect").attr("width", y).attr("height", z), m && (f.scale(d)._ticks(a.utils.calcTicksX(y / 100, t)).tickSize(-z, 0), 
                C.select(".nv-x.nv-axis").attr("transform", "translate(0," + e.range()[0] + ")"), 
                d3.transition(C.select(".nv-x.nv-axis")).call(f)), n && (g.scale(e)._ticks(a.utils.calcTicksY(z / 36, t)).tickSize(-y, 0), 
                d3.transition(C.select(".nv-y.nv-axis")).call(g)), C.select(".nv-x.nv-axis").attr("transform", "translate(0," + e.range()[0] + ")");
            }), t.renderEnd("focus immediate"), c;
        }
        var d, e, b = b || a.models.line(), f = a.models.axis(), g = a.models.axis(), h = d3.svg.brush(), i = {
            top: 10,
            right: 0,
            bottom: 30,
            left: 0
        }, j = a.utils.defaultColor(), k = null, l = 70, m = !0, n = !1, o = !1, p = null, q = 250, r = d3.dispatch("brush", "onBrush", "renderEnd"), s = !0;
        b.interactive(!1), b.pointActive(function(a) {
            return !1;
        });
        var t = a.utils.renderWatch(r, q);
        return c.dispatch = r, c.content = b, c.brush = h, c.xAxis = f, c.yAxis = g, c.options = a.utils.optionsFunc.bind(c), 
        c._options = Object.create({}, {
            width: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            height: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            showXAxis: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            showYAxis: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            brushExtent: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            syncBrushing: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            margin: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i.top = void 0 !== a.top ? a.top : i.top, i.right = void 0 !== a.right ? a.right : i.right, 
                    i.bottom = void 0 !== a.bottom ? a.bottom : i.bottom, i.left = void 0 !== a.left ? a.left : i.left;
                }
            },
            duration: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a, t.reset(q), b.duration(q), f.duration(q), g.duration(q);
                }
            },
            color: {
                get: function() {
                    return j;
                },
                set: function(c) {
                    j = a.utils.getColor(c), b.color(j);
                }
            },
            interpolate: {
                get: function() {
                    return b.interpolate();
                },
                set: function(a) {
                    b.interpolate(a);
                }
            },
            xTickFormat: {
                get: function() {
                    return f.tickFormat();
                },
                set: function(a) {
                    f.tickFormat(a);
                }
            },
            yTickFormat: {
                get: function() {
                    return g.tickFormat();
                },
                set: function(a) {
                    g.tickFormat(a);
                }
            },
            x: {
                get: function() {
                    return b.x();
                },
                set: function(a) {
                    b.x(a);
                }
            },
            y: {
                get: function() {
                    return b.y();
                },
                set: function(a) {
                    b.y(a);
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a, g.orient(o ? "right" : "left");
                }
            }
        }), a.utils.inheritOptions(c, b), a.utils.initOptions(c), c;
    }, a.models.forceDirectedGraph = function() {
        "use strict";
        function b(g) {
            return u.reset(), g.each(function(g) {
                f = d3.select(this), a.utils.initSVG(f);
                var j = a.utils.availableWidth(d, f, c), u = a.utils.availableHeight(e, f, c);
                if (f.attr("width", j).attr("height", u), !(g && g.links && g.nodes)) return a.utils.noData(b, f), 
                b;
                f.selectAll(".nv-noData").remove(), f.selectAll("*").remove();
                var v = new Set();
                g.nodes.forEach(function(a) {
                    var b = Object.keys(a);
                    b.forEach(function(a) {
                        v.add(a);
                    });
                });
                var w = d3.layout.force().nodes(g.nodes).links(g.links).size([ j, u ]).linkStrength(k).friction(l).linkDistance(m).charge(n).gravity(o).theta(p).alpha(q).start(), x = f.selectAll(".link").data(g.links).enter().append("line").attr("class", "nv-force-link").style("stroke-width", function(a) {
                    return Math.sqrt(a.value);
                }), y = f.selectAll(".node").data(g.nodes).enter().append("g").attr("class", "nv-force-node").call(w.drag);
                y.append("circle").attr("r", r).style("fill", function(a) {
                    return h(a);
                }).on("mouseover", function(a) {
                    f.select(".nv-series-" + a.seriesIndex + " .nv-distx-" + a.pointIndex).attr("y1", a.py), 
                    f.select(".nv-series-" + a.seriesIndex + " .nv-disty-" + a.pointIndex).attr("x2", a.px);
                    var b = h(a);
                    a.series = [], v.forEach(function(c) {
                        a.series.push({
                            color: b,
                            key: c,
                            value: a[c]
                        });
                    }), i.data(a).hidden(!1);
                }).on("mouseout", function(a) {
                    i.hidden(!0);
                }), i.headerFormatter(function(a) {
                    return "Node";
                }), t(x), s(y), w.on("tick", function() {
                    x.attr("x1", function(a) {
                        return a.source.x;
                    }).attr("y1", function(a) {
                        return a.source.y;
                    }).attr("x2", function(a) {
                        return a.target.x;
                    }).attr("y2", function(a) {
                        return a.target.y;
                    }), y.attr("transform", function(a) {
                        return "translate(" + a.x + ", " + a.y + ")";
                    });
                });
            }), b;
        }
        var c = {
            top: 2,
            right: 0,
            bottom: 2,
            left: 0
        }, d = 400, e = 32, f = null, g = d3.dispatch("renderEnd"), h = a.utils.getColor([ "#000" ]), i = a.models.tooltip(), j = null, k = .1, l = .9, m = 30, n = -120, o = .1, p = .8, q = .1, r = 5, s = function(a) {}, t = function(a) {}, u = a.utils.renderWatch(g);
        return b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            height: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            linkStrength: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            friction: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            linkDist: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            charge: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            gravity: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            theta: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            alpha: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            radius: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            x: {
                get: function() {
                    return getX;
                },
                set: function(a) {
                    getX = d3.functor(a);
                }
            },
            y: {
                get: function() {
                    return getY;
                },
                set: function(a) {
                    getY = d3.functor(a);
                }
            },
            margin: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c.top = void 0 !== a.top ? a.top : c.top, c.right = void 0 !== a.right ? a.right : c.right, 
                    c.bottom = void 0 !== a.bottom ? a.bottom : c.bottom, c.left = void 0 !== a.left ? a.left : c.left;
                }
            },
            color: {
                get: function() {
                    return h;
                },
                set: function(b) {
                    h = a.utils.getColor(b);
                }
            },
            noData: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            nodeExtras: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            linkExtras: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            }
        }), b.dispatch = g, b.tooltip = i, a.utils.initOptions(b), b;
    }, a.models.furiousLegend = function() {
        "use strict";
        function b(r) {
            function s(a, b) {
                return "furious" != q ? "#000" : o ? a.disengaged ? h(a, b) : "#fff" : o ? void 0 : a.disabled ? h(a, b) : "#fff";
            }
            function t(a, b) {
                return o && "furious" == q ? a.disengaged ? "#fff" : h(a, b) : a.disabled ? "#fff" : h(a, b);
            }
            return r.each(function(b) {
                var r = d - c.left - c.right, u = d3.select(this);
                a.utils.initSVG(u);
                var v = u.selectAll("g.nv-legend").data([ b ]), w = (v.enter().append("g").attr("class", "nvd3 nv-legend").append("g"), 
                v.select("g"));
                v.attr("transform", "translate(" + c.left + "," + c.top + ")");
                var x, y = w.selectAll(".nv-series").data(function(a) {
                    return "furious" != q ? a : a.filter(function(a) {
                        return !!o || !a.disengaged;
                    });
                }), z = y.enter().append("g").attr("class", "nv-series");
                if ("classic" == q) z.append("circle").style("stroke-width", 2).attr("class", "nv-legend-symbol").attr("r", 5), 
                x = y.select("circle"); else if ("furious" == q) {
                    z.append("rect").style("stroke-width", 2).attr("class", "nv-legend-symbol").attr("rx", 3).attr("ry", 3), 
                    x = y.select("rect"), z.append("g").attr("class", "nv-check-box").property("innerHTML", '<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform", "translate(-10,-8)scale(0.5)");
                    var A = y.select(".nv-check-box");
                    A.each(function(a, b) {
                        d3.select(this).selectAll("path").attr("stroke", s(a, b));
                    });
                }
                z.append("text").attr("text-anchor", "start").attr("class", "nv-legend-text").attr("dy", ".32em").attr("dx", "8");
                var B = y.select("text.nv-legend-text");
                y.on("mouseover", function(a, b) {
                    p.legendMouseover(a, b);
                }).on("mouseout", function(a, b) {
                    p.legendMouseout(a, b);
                }).on("click", function(a, b) {
                    p.legendClick(a, b);
                    var c = y.data();
                    if (m) {
                        if ("classic" == q) n ? (c.forEach(function(a) {
                            a.disabled = !0;
                        }), a.disabled = !1) : (a.disabled = !a.disabled, c.every(function(a) {
                            return a.disabled;
                        }) && c.forEach(function(a) {
                            a.disabled = !1;
                        })); else if ("furious" == q) if (o) a.disengaged = !a.disengaged, a.userDisabled = void 0 == a.userDisabled ? !!a.disabled : a.userDisabled, 
                        a.disabled = a.disengaged || a.userDisabled; else if (!o) {
                            a.disabled = !a.disabled, a.userDisabled = a.disabled;
                            var d = c.filter(function(a) {
                                return !a.disengaged;
                            });
                            d.every(function(a) {
                                return a.userDisabled;
                            }) && c.forEach(function(a) {
                                a.disabled = a.userDisabled = !1;
                            });
                        }
                        p.stateChange({
                            disabled: c.map(function(a) {
                                return !!a.disabled;
                            }),
                            disengaged: c.map(function(a) {
                                return !!a.disengaged;
                            })
                        });
                    }
                }).on("dblclick", function(a, b) {
                    if (("furious" != q || !o) && (p.legendDblclick(a, b), m)) {
                        var c = y.data();
                        c.forEach(function(a) {
                            a.disabled = !0, "furious" == q && (a.userDisabled = a.disabled);
                        }), a.disabled = !1, "furious" == q && (a.userDisabled = a.disabled), p.stateChange({
                            disabled: c.map(function(a) {
                                return !!a.disabled;
                            })
                        });
                    }
                }), y.classed("nv-disabled", function(a) {
                    return a.userDisabled;
                }), y.exit().remove(), B.attr("fill", s).text(function(a) {
                    return g(f(a));
                });
                var C;
                switch (q) {
                  case "furious":
                    C = 23;
                    break;

                  case "classic":
                    C = 20;
                }
                if (j) {
                    var D = [];
                    y.each(function(b, c) {
                        var d;
                        if (g(f(b)) && g(f(b)).length > i) {
                            var e = g(f(b)).substring(0, i);
                            d = d3.select(this).select("text").text(e + "..."), d3.select(this).append("svg:title").text(g(f(b)));
                        } else d = d3.select(this).select("text");
                        var h;
                        try {
                            if (h = d.node().getComputedTextLength(), 0 >= h) throw Error();
                        } catch (j) {
                            h = a.utils.calcApproxTextWidth(d);
                        }
                        D.push(h + k);
                    });
                    for (var E = 0, F = 0, G = []; r > F && E < D.length; ) G[E] = D[E], F += D[E++];
                    for (0 === E && (E = 1); F > r && E > 1; ) {
                        G = [], E--;
                        for (var H = 0; H < D.length; H++) D[H] > (G[H % E] || 0) && (G[H % E] = D[H]);
                        F = G.reduce(function(a, b, c, d) {
                            return a + b;
                        });
                    }
                    for (var I = [], J = 0, K = 0; E > J; J++) I[J] = K, K += G[J];
                    y.attr("transform", function(a, b) {
                        return "translate(" + I[b % E] + "," + (5 + Math.floor(b / E) * C) + ")";
                    }), l ? w.attr("transform", "translate(" + (d - c.right - F) + "," + c.top + ")") : w.attr("transform", "translate(0," + c.top + ")"), 
                    e = c.top + c.bottom + Math.ceil(D.length / E) * C;
                } else {
                    var L, M = 5, N = 5, O = 0;
                    y.attr("transform", function(a, b) {
                        var e = d3.select(this).select("text").node().getComputedTextLength() + k;
                        return L = N, d < c.left + c.right + L + e && (N = L = 5, M += C), N += e, N > O && (O = N), 
                        "translate(" + L + "," + M + ")";
                    }), w.attr("transform", "translate(" + (d - c.right - O) + "," + c.top + ")"), e = c.top + c.bottom + M + 15;
                }
                "furious" == q && x.attr("width", function(a, b) {
                    return B[0][b].getComputedTextLength() + 27;
                }).attr("height", 18).attr("y", -9).attr("x", -15), x.style("fill", t).style("stroke", function(a, b) {
                    return a.color || h(a, b);
                });
            }), b;
        }
        var c = {
            top: 5,
            right: 0,
            bottom: 5,
            left: 0
        }, d = 400, e = 20, f = function(a) {
            return a.key;
        }, g = function(a) {
            return a;
        }, h = a.utils.getColor(), i = 20, j = !0, k = 28, l = !0, m = !0, n = !1, o = !1, p = d3.dispatch("legendClick", "legendDblclick", "legendMouseover", "legendMouseout", "stateChange"), q = "classic";
        return b.dispatch = p, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            height: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            key: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            keyFormatter: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            align: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            rightAlign: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            maxKeyLength: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            padding: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            updateState: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            radioButtonMode: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            expanded: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            vers: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            margin: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c.top = void 0 !== a.top ? a.top : c.top, c.right = void 0 !== a.right ? a.right : c.right, 
                    c.bottom = void 0 !== a.bottom ? a.bottom : c.bottom, c.left = void 0 !== a.left ? a.left : c.left;
                }
            },
            color: {
                get: function() {
                    return h;
                },
                set: function(b) {
                    h = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.historicalBar = function() {
        "use strict";
        function b(x) {
            return x.each(function(b) {
                w.reset(), k = d3.select(this);
                var x = a.utils.availableWidth(h, k, g), y = a.utils.availableHeight(i, k, g);
                a.utils.initSVG(k), l.domain(c || d3.extent(b[0].values.map(n).concat(p))), r ? l.range(e || [ .5 * x / b[0].values.length, x * (b[0].values.length - .5) / b[0].values.length ]) : l.range(e || [ 0, x ]), 
                m.domain(d || d3.extent(b[0].values.map(o).concat(q))).range(f || [ y, 0 ]), l.domain()[0] === l.domain()[1] && (l.domain()[0] ? l.domain([ l.domain()[0] - .01 * l.domain()[0], l.domain()[1] + .01 * l.domain()[1] ]) : l.domain([ -1, 1 ])), 
                m.domain()[0] === m.domain()[1] && (m.domain()[0] ? m.domain([ m.domain()[0] + .01 * m.domain()[0], m.domain()[1] - .01 * m.domain()[1] ]) : m.domain([ -1, 1 ]));
                var z = k.selectAll("g.nv-wrap.nv-historicalBar-" + j).data([ b[0].values ]), A = z.enter().append("g").attr("class", "nvd3 nv-wrap nv-historicalBar-" + j), B = A.append("defs"), C = A.append("g"), D = z.select("g");
                C.append("g").attr("class", "nv-bars"), z.attr("transform", "translate(" + g.left + "," + g.top + ")"), 
                k.on("click", function(a, b) {
                    u.chartClick({
                        data: a,
                        index: b,
                        pos: d3.event,
                        id: j
                    });
                }), B.append("clipPath").attr("id", "nv-chart-clip-path-" + j).append("rect"), z.select("#nv-chart-clip-path-" + j + " rect").attr("width", x).attr("height", y), 
                D.attr("clip-path", s ? "url(#nv-chart-clip-path-" + j + ")" : "");
                var E = z.select(".nv-bars").selectAll(".nv-bar").data(function(a) {
                    return a;
                }, function(a, b) {
                    return n(a, b);
                });
                E.exit().remove(), E.enter().append("rect").attr("x", 0).attr("y", function(b, c) {
                    return a.utils.NaNtoZero(m(Math.max(0, o(b, c))));
                }).attr("height", function(b, c) {
                    return a.utils.NaNtoZero(Math.abs(m(o(b, c)) - m(0)));
                }).attr("transform", function(a, c) {
                    return "translate(" + (l(n(a, c)) - x / b[0].values.length * .45) + ",0)";
                }).on("mouseover", function(a, b) {
                    v && (d3.select(this).classed("hover", !0), u.elementMouseover({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    }));
                }).on("mouseout", function(a, b) {
                    v && (d3.select(this).classed("hover", !1), u.elementMouseout({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    }));
                }).on("mousemove", function(a, b) {
                    v && u.elementMousemove({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("click", function(a, b) {
                    if (v) {
                        var c = this;
                        u.elementClick({
                            data: a,
                            index: b,
                            color: d3.select(this).style("fill"),
                            event: d3.event,
                            element: c
                        }), d3.event.stopPropagation();
                    }
                }).on("dblclick", function(a, b) {
                    v && (u.elementDblClick({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    }), d3.event.stopPropagation());
                }), E.attr("fill", function(a, b) {
                    return t(a, b);
                }).attr("class", function(a, b, c) {
                    return (o(a, b) < 0 ? "nv-bar negative" : "nv-bar positive") + " nv-bar-" + c + "-" + b;
                }).watchTransition(w, "bars").attr("transform", function(a, c) {
                    return "translate(" + (l(n(a, c)) - x / b[0].values.length * .45) + ",0)";
                }).attr("width", x / b[0].values.length * .9), E.watchTransition(w, "bars").attr("y", function(b, c) {
                    var d = o(b, c) < 0 ? m(0) : m(0) - m(o(b, c)) < 1 ? m(0) - 1 : m(o(b, c));
                    return a.utils.NaNtoZero(d);
                }).attr("height", function(b, c) {
                    return a.utils.NaNtoZero(Math.max(Math.abs(m(o(b, c)) - m(0)), 1));
                });
            }), w.renderEnd("historicalBar immediate"), b;
        }
        var c, d, e, f, g = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, h = null, i = null, j = Math.floor(1e4 * Math.random()), k = null, l = d3.scale.linear(), m = d3.scale.linear(), n = function(a) {
            return a.x;
        }, o = function(a) {
            return a.y;
        }, p = [], q = [ 0 ], r = !1, s = !0, t = a.utils.defaultColor(), u = d3.dispatch("chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "elementMousemove", "renderEnd"), v = !0, w = a.utils.renderWatch(u, 0);
        return b.highlightPoint = function(a, b) {
            k.select(".nv-bars .nv-bar-0-" + a).classed("hover", b);
        }, b.clearHighlights = function() {
            k.select(".nv-bars .nv-bar.hover").classed("hover", !1);
        }, b.dispatch = u, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            height: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            forceX: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            forceY: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            padData: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            x: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            y: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            xScale: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            yScale: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            xDomain: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c = a;
                }
            },
            yDomain: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            xRange: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            yRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            clipEdge: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            id: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            interactive: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            margin: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g.top = void 0 !== a.top ? a.top : g.top, g.right = void 0 !== a.right ? a.right : g.right, 
                    g.bottom = void 0 !== a.bottom ? a.bottom : g.bottom, g.left = void 0 !== a.left ? a.left : g.left;
                }
            },
            color: {
                get: function() {
                    return t;
                },
                set: function(b) {
                    t = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.historicalBarChart = function(b) {
        "use strict";
        function c(b) {
            return b.each(function(k) {
                A.reset(), A.models(f), r && A.models(g), s && A.models(h);
                var x = d3.select(this);
                a.utils.initSVG(x);
                var B = a.utils.availableWidth(o, x, l), C = a.utils.availableHeight(p, x, l);
                if (c.update = function() {
                    x.transition().duration(z).call(c);
                }, c.container = this, v.disabled = k.map(function(a) {
                    return !!a.disabled;
                }), !w) {
                    var D;
                    w = {};
                    for (D in v) v[D] instanceof Array ? w[D] = v[D].slice(0) : w[D] = v[D];
                }
                if (!(k && k.length && k.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(c, x), c;
                x.selectAll(".nv-noData").remove(), d = f.xScale(), e = f.yScale();
                var E = x.selectAll("g.nv-wrap.nv-historicalBarChart").data([ k ]), F = E.enter().append("g").attr("class", "nvd3 nv-wrap nv-historicalBarChart").append("g"), G = E.select("g");
                F.append("g").attr("class", "nv-x nv-axis"), F.append("g").attr("class", "nv-y nv-axis"), 
                F.append("g").attr("class", "nv-barsWrap"), F.append("g").attr("class", "nv-legendWrap"), 
                F.append("g").attr("class", "nv-interactive"), q ? (i.width(B), G.select(".nv-legendWrap").datum(k).call(i), 
                m || i.height() === l.top || (l.top = i.height(), C = a.utils.availableHeight(p, x, l)), 
                E.select(".nv-legendWrap").attr("transform", "translate(0," + -l.top + ")")) : G.select(".nv-legendWrap").selectAll("*").remove(), 
                E.attr("transform", "translate(" + l.left + "," + l.top + ")"), t && G.select(".nv-y.nv-axis").attr("transform", "translate(" + B + ",0)"), 
                u && (j.width(B).height(C).margin({
                    left: l.left,
                    top: l.top
                }).svgContainer(x).xScale(d), E.select(".nv-interactive").call(j)), f.width(B).height(C).color(k.map(function(a, b) {
                    return a.color || n(a, b);
                }).filter(function(a, b) {
                    return !k[b].disabled;
                }));
                var H = G.select(".nv-barsWrap").datum(k.filter(function(a) {
                    return !a.disabled;
                }));
                H.transition().call(f), r && (g.scale(d)._ticks(a.utils.calcTicksX(B / 100, k)).tickSize(-C, 0), 
                G.select(".nv-x.nv-axis").attr("transform", "translate(0," + e.range()[0] + ")"), 
                G.select(".nv-x.nv-axis").transition().call(g)), s && (h.scale(e)._ticks(a.utils.calcTicksY(C / 36, k)).tickSize(-B, 0), 
                G.select(".nv-y.nv-axis").transition().call(h)), j.dispatch.on("elementMousemove", function(b) {
                    f.clearHighlights();
                    var d, e, i, l = [];
                    k.filter(function(a, b) {
                        return a.seriesIndex = b, !a.disabled;
                    }).forEach(function(g, h) {
                        e = a.interactiveBisect(g.values, b.pointXValue, c.x()), f.highlightPoint(e, !0);
                        var j = g.values[e];
                        void 0 !== j && (void 0 === d && (d = j), void 0 === i && (i = c.xScale()(c.x()(j, e))), 
                        l.push({
                            key: g.key,
                            value: c.y()(j, e),
                            color: n(g, g.seriesIndex),
                            data: g.values[e]
                        }));
                    });
                    var m = g.tickFormat()(c.x()(d, e));
                    j.tooltip.valueFormatter(function(a, b) {
                        return h.tickFormat()(a);
                    }).data({
                        value: m,
                        index: e,
                        series: l
                    })(), j.renderGuideLine(i);
                }), j.dispatch.on("elementMouseout", function(a) {
                    y.tooltipHide(), f.clearHighlights();
                }), i.dispatch.on("legendClick", function(a, d) {
                    a.disabled = !a.disabled, k.filter(function(a) {
                        return !a.disabled;
                    }).length || k.map(function(a) {
                        return a.disabled = !1, E.selectAll(".nv-series").classed("disabled", !1), a;
                    }), v.disabled = k.map(function(a) {
                        return !!a.disabled;
                    }), y.stateChange(v), b.transition().call(c);
                }), i.dispatch.on("legendDblclick", function(a) {
                    k.forEach(function(a) {
                        a.disabled = !0;
                    }), a.disabled = !1, v.disabled = k.map(function(a) {
                        return !!a.disabled;
                    }), y.stateChange(v), c.update();
                }), y.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (k.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), v.disabled = a.disabled), c.update();
                });
            }), A.renderEnd("historicalBarChart immediate"), c;
        }
        var d, e, f = b || a.models.historicalBar(), g = a.models.axis(), h = a.models.axis(), i = a.models.legend(), j = a.interactiveGuideline(), k = a.models.tooltip(), l = {
            top: 30,
            right: 90,
            bottom: 50,
            left: 90
        }, m = null, n = a.utils.defaultColor(), o = null, p = null, q = !1, r = !0, s = !0, t = !1, u = !1, v = {}, w = null, x = null, y = d3.dispatch("tooltipHide", "stateChange", "changeState", "renderEnd"), z = 250;
        g.orient("bottom").tickPadding(7), h.orient(t ? "right" : "left"), k.duration(0).headerEnabled(!1).valueFormatter(function(a, b) {
            return h.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        });
        var A = a.utils.renderWatch(y, 0);
        return f.dispatch.on("elementMouseover.tooltip", function(a) {
            a.series = {
                key: c.x()(a.data),
                value: c.y()(a.data),
                color: a.color
            }, k.data(a).hidden(!1);
        }), f.dispatch.on("elementMouseout.tooltip", function(a) {
            k.hidden(!0);
        }), f.dispatch.on("elementMousemove.tooltip", function(a) {
            k();
        }), c.dispatch = y, c.bars = f, c.legend = i, c.xAxis = g, c.yAxis = h, c.interactiveLayer = j, 
        c.tooltip = k, c.options = a.utils.optionsFunc.bind(c), c._options = Object.create({}, {
            width: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            height: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            showLegend: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            showXAxis: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            showYAxis: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            defaultState: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            noData: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            margin: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    void 0 !== a.top && (l.top = a.top, m = a.top), l.right = void 0 !== a.right ? a.right : l.right, 
                    l.bottom = void 0 !== a.bottom ? a.bottom : l.bottom, l.left = void 0 !== a.left ? a.left : l.left;
                }
            },
            color: {
                get: function() {
                    return n;
                },
                set: function(b) {
                    n = a.utils.getColor(b), i.color(n), f.color(n);
                }
            },
            duration: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a, A.reset(z), h.duration(z), g.duration(z);
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a, h.orient(a ? "right" : "left");
                }
            },
            useInteractiveGuideline: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a, a === !0 && c.interactive(!1);
                }
            }
        }), a.utils.inheritOptions(c, f), a.utils.initOptions(c), c;
    }, a.models.ohlcBarChart = function() {
        var b = a.models.historicalBarChart(a.models.ohlcBar());
        return b.useInteractiveGuideline(!0), b.interactiveLayer.tooltip.contentGenerator(function(a) {
            var c = a.series[0].data, d = c.open < c.close ? "2ca02c" : "d62728";
            return '<h3 style="color: #' + d + '">' + a.value + "</h3><table><tr><td>open:</td><td>" + b.yAxis.tickFormat()(c.open) + "</td></tr><tr><td>close:</td><td>" + b.yAxis.tickFormat()(c.close) + "</td></tr><tr><td>high</td><td>" + b.yAxis.tickFormat()(c.high) + "</td></tr><tr><td>low:</td><td>" + b.yAxis.tickFormat()(c.low) + "</td></tr></table>";
        }), b;
    }, a.models.candlestickBarChart = function() {
        var b = a.models.historicalBarChart(a.models.candlestickBar());
        return b.useInteractiveGuideline(!0), b.interactiveLayer.tooltip.contentGenerator(function(a) {
            var c = a.series[0].data, d = c.open < c.close ? "2ca02c" : "d62728";
            return '<h3 style="color: #' + d + '">' + a.value + "</h3><table><tr><td>open:</td><td>" + b.yAxis.tickFormat()(c.open) + "</td></tr><tr><td>close:</td><td>" + b.yAxis.tickFormat()(c.close) + "</td></tr><tr><td>high</td><td>" + b.yAxis.tickFormat()(c.high) + "</td></tr><tr><td>low:</td><td>" + b.yAxis.tickFormat()(c.low) + "</td></tr></table>";
        }), b;
    }, a.models.legend = function() {
        "use strict";
        function b(r) {
            function s(a, b) {
                return "furious" != q ? "#000" : o ? a.disengaged ? "#000" : "#fff" : o ? void 0 : (a.color || (a.color = h(a, b)), 
                a.disabled ? a.color : "#fff");
            }
            function t(a, b) {
                return o && "furious" == q && a.disengaged ? "#eee" : a.color || h(a, b);
            }
            function u(a, b) {
                return o && "furious" == q ? 1 : a.disabled ? 0 : 1;
            }
            return r.each(function(b) {
                var h = d - c.left - c.right, r = d3.select(this);
                a.utils.initSVG(r);
                var v = r.selectAll("g.nv-legend").data([ b ]), w = v.enter().append("g").attr("class", "nvd3 nv-legend").append("g"), x = v.select("g");
                l ? v.attr("transform", "translate(" + -c.right + "," + c.top + ")") : v.attr("transform", "translate(" + c.left + "," + c.top + ")");
                var y, z, A = x.selectAll(".nv-series").data(function(a) {
                    return "furious" != q ? a : a.filter(function(a) {
                        return !!o || !a.disengaged;
                    });
                }), B = A.enter().append("g").attr("class", "nv-series");
                switch (q) {
                  case "furious":
                    z = 23;
                    break;

                  case "classic":
                    z = 20;
                }
                if ("classic" == q) B.append("circle").style("stroke-width", 2).attr("class", "nv-legend-symbol").attr("r", 5), 
                y = A.select(".nv-legend-symbol"); else if ("furious" == q) {
                    B.append("rect").style("stroke-width", 2).attr("class", "nv-legend-symbol").attr("rx", 3).attr("ry", 3), 
                    y = A.select(".nv-legend-symbol"), B.append("g").attr("class", "nv-check-box").property("innerHTML", '<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform", "translate(-10,-8)scale(0.5)");
                    var C = A.select(".nv-check-box");
                    C.each(function(a, b) {
                        d3.select(this).selectAll("path").attr("stroke", s(a, b));
                    });
                }
                B.append("text").attr("text-anchor", "start").attr("class", "nv-legend-text").attr("dy", ".32em").attr("dx", "8");
                var D = A.select("text.nv-legend-text");
                A.on("mouseover", function(a, b) {
                    p.legendMouseover(a, b);
                }).on("mouseout", function(a, b) {
                    p.legendMouseout(a, b);
                }).on("click", function(a, b) {
                    p.legendClick(a, b);
                    var c = A.data();
                    if (m) {
                        if ("classic" == q) n ? (c.forEach(function(a) {
                            a.disabled = !0;
                        }), a.disabled = !1) : (a.disabled = !a.disabled, c.every(function(a) {
                            return a.disabled;
                        }) && c.forEach(function(a) {
                            a.disabled = !1;
                        })); else if ("furious" == q) if (o) a.disengaged = !a.disengaged, a.userDisabled = void 0 == a.userDisabled ? !!a.disabled : a.userDisabled, 
                        a.disabled = a.disengaged || a.userDisabled; else if (!o) {
                            a.disabled = !a.disabled, a.userDisabled = a.disabled;
                            var d = c.filter(function(a) {
                                return !a.disengaged;
                            });
                            d.every(function(a) {
                                return a.userDisabled;
                            }) && c.forEach(function(a) {
                                a.disabled = a.userDisabled = !1;
                            });
                        }
                        p.stateChange({
                            disabled: c.map(function(a) {
                                return !!a.disabled;
                            }),
                            disengaged: c.map(function(a) {
                                return !!a.disengaged;
                            })
                        });
                    }
                }).on("dblclick", function(a, b) {
                    if (("furious" != q || !o) && (p.legendDblclick(a, b), m)) {
                        var c = A.data();
                        c.forEach(function(a) {
                            a.disabled = !0, "furious" == q && (a.userDisabled = a.disabled);
                        }), a.disabled = !1, "furious" == q && (a.userDisabled = a.disabled), p.stateChange({
                            disabled: c.map(function(a) {
                                return !!a.disabled;
                            })
                        });
                    }
                }), A.classed("nv-disabled", function(a) {
                    return a.userDisabled;
                }), A.exit().remove(), D.attr("fill", s).text(function(a) {
                    return g(f(a));
                });
                var E = 0;
                if (j) {
                    var F = [];
                    A.each(function(b, c) {
                        var d;
                        if (g(f(b)) && g(f(b)).length > i) {
                            var e = g(f(b)).substring(0, i);
                            d = d3.select(this).select("text").text(e + "..."), d3.select(this).append("svg:title").text(g(f(b)));
                        } else d = d3.select(this).select("text");
                        var h;
                        try {
                            if (h = d.node().getComputedTextLength(), 0 >= h) throw Error();
                        } catch (j) {
                            h = a.utils.calcApproxTextWidth(d);
                        }
                        F.push(h + k);
                    });
                    var G = 0, H = [];
                    for (E = 0; h > E && G < F.length; ) H[G] = F[G], E += F[G++];
                    for (0 === G && (G = 1); E > h && G > 1; ) {
                        H = [], G--;
                        for (var I = 0; I < F.length; I++) F[I] > (H[I % G] || 0) && (H[I % G] = F[I]);
                        E = H.reduce(function(a, b, c, d) {
                            return a + b;
                        });
                    }
                    for (var J = [], K = 0, L = 0; G > K; K++) J[K] = L, L += H[K];
                    A.attr("transform", function(a, b) {
                        return "translate(" + J[b % G] + "," + (5 + Math.floor(b / G) * z) + ")";
                    }), l ? x.attr("transform", "translate(" + (d - c.right - E) + "," + c.top + ")") : x.attr("transform", "translate(0," + c.top + ")"), 
                    e = c.top + c.bottom + Math.ceil(F.length / G) * z;
                } else {
                    var M, N = 5, O = 5, P = 0;
                    A.attr("transform", function(a, b) {
                        var e = d3.select(this).select("text").node().getComputedTextLength() + k;
                        return M = O, d < c.left + c.right + M + e && (O = M = 5, N += z), O += e, O > P && (P = O), 
                        M + P > E && (E = M + P), "translate(" + M + "," + N + ")";
                    }), x.attr("transform", "translate(" + (d - c.right - P) + "," + c.top + ")"), e = c.top + c.bottom + N + 15;
                }
                if ("furious" == q) {
                    y.attr("width", function(a, b) {
                        return D[0][b].getComputedTextLength() + 27;
                    }).attr("height", 18).attr("y", -9).attr("x", -15), w.insert("rect", ":first-child").attr("class", "nv-legend-bg").attr("fill", "#eee").attr("opacity", 0);
                    var Q = x.select(".nv-legend-bg");
                    Q.transition().duration(300).attr("x", -z).attr("width", E + z - 12).attr("height", e + 10).attr("y", -c.top - 10).attr("opacity", o ? 1 : 0);
                }
                y.style("fill", t).style("fill-opacity", u).style("stroke", t);
            }), b;
        }
        var c = {
            top: 5,
            right: 0,
            bottom: 5,
            left: 0
        }, d = 400, e = 20, f = function(a) {
            return a.key;
        }, g = function(a) {
            return a;
        }, h = a.utils.getColor(), i = 20, j = !0, k = 32, l = !0, m = !0, n = !1, o = !1, p = d3.dispatch("legendClick", "legendDblclick", "legendMouseover", "legendMouseout", "stateChange"), q = "classic";
        return b.dispatch = p, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            height: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            key: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            keyFormatter: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            align: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            maxKeyLength: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            rightAlign: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            padding: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            updateState: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            radioButtonMode: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            expanded: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            vers: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            margin: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c.top = void 0 !== a.top ? a.top : c.top, c.right = void 0 !== a.right ? a.right : c.right, 
                    c.bottom = void 0 !== a.bottom ? a.bottom : c.bottom, c.left = void 0 !== a.left ? a.left : c.left;
                }
            },
            color: {
                get: function() {
                    return h;
                },
                set: function(b) {
                    h = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.line = function() {
        "use strict";
        function b(r) {
            return v.reset(), v.models(e), r.each(function(b) {
                i = d3.select(this);
                var r = a.utils.availableWidth(g, i, f), s = a.utils.availableHeight(h, i, f);
                a.utils.initSVG(i), c = e.xScale(), d = e.yScale(), t = t || c, u = u || d;
                var w = i.selectAll("g.nv-wrap.nv-line").data([ b ]), x = w.enter().append("g").attr("class", "nvd3 nv-wrap nv-line"), y = x.append("defs"), z = x.append("g"), A = w.select("g");
                z.append("g").attr("class", "nv-groups"), z.append("g").attr("class", "nv-scatterWrap"), 
                w.attr("transform", "translate(" + f.left + "," + f.top + ")"), e.width(r).height(s);
                var B = w.select(".nv-scatterWrap");
                B.call(e), y.append("clipPath").attr("id", "nv-edge-clip-" + e.id()).append("rect"), 
                w.select("#nv-edge-clip-" + e.id() + " rect").attr("width", r).attr("height", s > 0 ? s : 0), 
                A.attr("clip-path", p ? "url(#nv-edge-clip-" + e.id() + ")" : ""), B.attr("clip-path", p ? "url(#nv-edge-clip-" + e.id() + ")" : "");
                var C = w.select(".nv-groups").selectAll(".nv-group").data(function(a) {
                    return a;
                }, function(a) {
                    return a.key;
                });
                C.enter().append("g").style("stroke-opacity", 1e-6).style("stroke-width", function(a) {
                    return a.strokeWidth || j;
                }).style("fill-opacity", 1e-6), C.exit().remove(), C.attr("class", function(a, b) {
                    return (a.classed || "") + " nv-group nv-series-" + b;
                }).classed("hover", function(a) {
                    return a.hover;
                }).style("fill", function(a, b) {
                    return k(a, b);
                }).style("stroke", function(a, b) {
                    return k(a, b);
                }), C.watchTransition(v, "line: groups").style("stroke-opacity", 1).style("fill-opacity", function(a) {
                    return a.fillOpacity || .5;
                });
                var D = C.selectAll("path.nv-area").data(function(a) {
                    return o(a) ? [ a ] : [];
                });
                D.enter().append("path").attr("class", "nv-area").attr("d", function(b) {
                    return d3.svg.area().interpolate(q).defined(n).x(function(b, c) {
                        return a.utils.NaNtoZero(t(l(b, c)));
                    }).y0(function(b, c) {
                        return a.utils.NaNtoZero(u(m(b, c)));
                    }).y1(function(a, b) {
                        return u(d.domain()[0] <= 0 ? d.domain()[1] >= 0 ? 0 : d.domain()[1] : d.domain()[0]);
                    }).apply(this, [ b.values ]);
                }), C.exit().selectAll("path.nv-area").remove(), D.watchTransition(v, "line: areaPaths").attr("d", function(b) {
                    return d3.svg.area().interpolate(q).defined(n).x(function(b, d) {
                        return a.utils.NaNtoZero(c(l(b, d)));
                    }).y0(function(b, c) {
                        return a.utils.NaNtoZero(d(m(b, c)));
                    }).y1(function(a, b) {
                        return d(d.domain()[0] <= 0 ? d.domain()[1] >= 0 ? 0 : d.domain()[1] : d.domain()[0]);
                    }).apply(this, [ b.values ]);
                });
                var E = C.selectAll("path.nv-line").data(function(a) {
                    return [ a.values ];
                });
                E.enter().append("path").attr("class", "nv-line").attr("d", d3.svg.line().interpolate(q).defined(n).x(function(b, c) {
                    return a.utils.NaNtoZero(t(l(b, c)));
                }).y(function(b, c) {
                    return a.utils.NaNtoZero(u(m(b, c)));
                })), E.watchTransition(v, "line: linePaths").attr("d", d3.svg.line().interpolate(q).defined(n).x(function(b, d) {
                    return a.utils.NaNtoZero(c(l(b, d)));
                }).y(function(b, c) {
                    return a.utils.NaNtoZero(d(m(b, c)));
                })), t = c.copy(), u = d.copy();
            }), v.renderEnd("line immediate"), b;
        }
        var c, d, e = a.models.scatter(), f = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, g = 960, h = 500, i = null, j = 1.5, k = a.utils.defaultColor(), l = function(a) {
            return a.x;
        }, m = function(a) {
            return a.y;
        }, n = function(a, b) {
            return !isNaN(m(a, b)) && null !== m(a, b);
        }, o = function(a) {
            return a.area;
        }, p = !1, q = "linear", r = 250, s = d3.dispatch("elementClick", "elementMouseover", "elementMouseout", "renderEnd");
        e.pointSize(16).pointDomain([ 16, 256 ]);
        var t, u, v = a.utils.renderWatch(s, r);
        return b.dispatch = s, b.scatter = e, e.dispatch.on("elementClick", function() {
            s.elementClick.apply(this, arguments);
        }), e.dispatch.on("elementMouseover", function() {
            s.elementMouseover.apply(this, arguments);
        }), e.dispatch.on("elementMouseout", function() {
            s.elementMouseout.apply(this, arguments);
        }), b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            height: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            defined: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            interpolate: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            clipEdge: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            margin: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f.top = void 0 !== a.top ? a.top : f.top, f.right = void 0 !== a.right ? a.right : f.right, 
                    f.bottom = void 0 !== a.bottom ? a.bottom : f.bottom, f.left = void 0 !== a.left ? a.left : f.left;
                }
            },
            duration: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a, v.reset(r), e.duration(r);
                }
            },
            isArea: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = d3.functor(a);
                }
            },
            x: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a, e.x(a);
                }
            },
            y: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a, e.y(a);
                }
            },
            color: {
                get: function() {
                    return k;
                },
                set: function(b) {
                    k = a.utils.getColor(b), e.color(k);
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.lineChart = function() {
        "use strict";
        function b(j) {
            return C.reset(), C.models(e), s && C.models(f), t && C.models(g), j.each(function(j) {
                function z() {
                    s && M.select(".nv-focus .nv-x.nv-axis").transition().duration(B).call(f);
                }
                function C() {
                    t && M.select(".nv-focus .nv-y.nv-axis").transition().duration(B).call(g);
                }
                function F(a) {
                    var b = M.select(".nv-focus .nv-linesWrap").datum(j.filter(function(a) {
                        return !a.disabled;
                    }).map(function(b, c) {
                        return {
                            key: b.key,
                            area: b.area,
                            classed: b.classed,
                            values: b.values.filter(function(b, c) {
                                return e.x()(b, c) >= a[0] && e.x()(b, c) <= a[1];
                            }),
                            disableTooltip: b.disableTooltip
                        };
                    }));
                    b.transition().duration(B).call(e), z(), C();
                }
                var G = d3.select(this);
                a.utils.initSVG(G);
                var H = a.utils.availableWidth(o, G, l), I = a.utils.availableHeight(p, G, l) - (w ? k.height() : 0);
                if (b.update = function() {
                    0 === B ? G.call(b) : G.transition().duration(B).call(b);
                }, b.container = this, x.setter(E(j), b.update).getter(D(j)).update(), x.disabled = j.map(function(a) {
                    return !!a.disabled;
                }), !y) {
                    var J;
                    y = {};
                    for (J in x) x[J] instanceof Array ? y[J] = x[J].slice(0) : y[J] = x[J];
                }
                if (!(j && j.length && j.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, G), b;
                G.selectAll(".nv-noData").remove(), k.dispatch.on("onBrush", function(a) {
                    F(a);
                }), c = e.xScale(), d = e.yScale();
                var K = G.selectAll("g.nv-wrap.nv-lineChart").data([ j ]), L = K.enter().append("g").attr("class", "nvd3 nv-wrap nv-lineChart").append("g"), M = K.select("g");
                L.append("g").attr("class", "nv-legendWrap");
                var N = L.append("g").attr("class", "nv-focus");
                N.append("g").attr("class", "nv-background").append("rect"), N.append("g").attr("class", "nv-x nv-axis"), 
                N.append("g").attr("class", "nv-y nv-axis"), N.append("g").attr("class", "nv-linesWrap"), 
                N.append("g").attr("class", "nv-interactive"), L.append("g").attr("class", "nv-focusWrap"), 
                q ? (h.width(H), M.select(".nv-legendWrap").datum(j).call(h), "bottom" === r ? K.select(".nv-legendWrap").attr("transform", "translate(0," + I + ")") : "top" === r && (m || h.height() === l.top || (l.top = h.height(), 
                I = a.utils.availableHeight(p, G, l) - (w ? k.height() : 0)), K.select(".nv-legendWrap").attr("transform", "translate(0," + -l.top + ")"))) : M.select(".nv-legendWrap").selectAll("*").remove(), 
                K.attr("transform", "translate(" + l.left + "," + l.top + ")"), u && M.select(".nv-y.nv-axis").attr("transform", "translate(" + H + ",0)"), 
                v && (i.width(H).height(I).margin({
                    left: l.left,
                    top: l.top
                }).svgContainer(G).xScale(c), K.select(".nv-interactive").call(i)), M.select(".nv-focus .nv-background rect").attr("width", H).attr("height", I), 
                e.width(H).height(I).color(j.map(function(a, b) {
                    return a.color || n(a, b);
                }).filter(function(a, b) {
                    return !j[b].disabled;
                }));
                var O = M.select(".nv-linesWrap").datum(j.filter(function(a) {
                    return !a.disabled;
                }));
                if (s && f.scale(c)._ticks(a.utils.calcTicksX(H / 100, j)).tickSize(-I, 0), t && g.scale(d)._ticks(a.utils.calcTicksY(I / 36, j)).tickSize(-H, 0), 
                M.select(".nv-focus .nv-x.nv-axis").attr("transform", "translate(0," + I + ")"), 
                w) {
                    k.width(H), M.select(".nv-focusWrap").attr("transform", "translate(0," + (I + l.bottom + k.margin().top) + ")").datum(j.filter(function(a) {
                        return !a.disabled;
                    })).call(k);
                    var P = k.brush.empty() ? k.xDomain() : k.brush.extent();
                    null !== P && F(P);
                } else O.call(e), z(), C();
                h.dispatch.on("stateChange", function(a) {
                    for (var c in a) x[c] = a[c];
                    A.stateChange(x), b.update();
                }), i.dispatch.on("elementMousemove", function(d) {
                    e.clearHighlights();
                    var f, h, l, m = [];
                    if (j.filter(function(a, b) {
                        return a.seriesIndex = b, !a.disabled && !a.disableTooltip;
                    }).forEach(function(g, i) {
                        var j = w ? k.brush.empty() ? k.xScale().domain() : k.brush.extent() : c.domain(), o = g.values.filter(function(a, b) {
                            return j[0] <= j[1] ? e.x()(a, b) >= j[0] && e.x()(a, b) <= j[1] : e.x()(a, b) >= j[1] && e.x()(a, b) <= j[0];
                        });
                        h = a.interactiveBisect(o, d.pointXValue, e.x());
                        var p = o[h], q = b.y()(p, h);
                        null !== q && e.highlightPoint(i, h, !0), void 0 !== p && (void 0 === f && (f = p), 
                        void 0 === l && (l = b.xScale()(b.x()(p, h))), m.push({
                            key: g.key,
                            value: q,
                            color: n(g, g.seriesIndex),
                            data: p
                        }));
                    }), m.length > 2) {
                        var o = b.yScale().invert(d.mouseY), p = Math.abs(b.yScale().domain()[0] - b.yScale().domain()[1]), q = .03 * p, r = a.nearestValueIndex(m.map(function(a) {
                            return a.value;
                        }), o, q);
                        null !== r && (m[r].highlight = !0);
                    }
                    var s = function(a, b) {
                        return null == a ? "N/A" : g.tickFormat()(a);
                    };
                    i.tooltip.valueFormatter(i.tooltip.valueFormatter() || s).data({
                        value: b.x()(f, h),
                        index: h,
                        series: m
                    })(), i.renderGuideLine(l);
                }), i.dispatch.on("elementClick", function(c) {
                    var d, f = [];
                    j.filter(function(a, b) {
                        return a.seriesIndex = b, !a.disabled;
                    }).forEach(function(e) {
                        var g = a.interactiveBisect(e.values, c.pointXValue, b.x()), h = e.values[g];
                        if ("undefined" != typeof h) {
                            "undefined" == typeof d && (d = b.xScale()(b.x()(h, g)));
                            var i = b.yScale()(b.y()(h, g));
                            f.push({
                                point: h,
                                pointIndex: g,
                                pos: [ d, i ],
                                seriesIndex: e.seriesIndex,
                                series: e
                            });
                        }
                    }), e.dispatch.elementClick(f);
                }), i.dispatch.on("elementMouseout", function(a) {
                    e.clearHighlights();
                }), A.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && j.length === a.disabled.length && (j.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), x.disabled = a.disabled), b.update();
                });
            }), C.renderEnd("lineChart immediate"), b;
        }
        var c, d, e = a.models.line(), f = a.models.axis(), g = a.models.axis(), h = a.models.legend(), i = a.interactiveGuideline(), j = a.models.tooltip(), k = a.models.focus(a.models.line()), l = {
            top: 30,
            right: 20,
            bottom: 50,
            left: 60
        }, m = null, n = a.utils.defaultColor(), o = null, p = null, q = !0, r = "top", s = !0, t = !0, u = !1, v = !1, w = !1, x = a.utils.state(), y = null, z = null, A = d3.dispatch("tooltipShow", "tooltipHide", "stateChange", "changeState", "renderEnd"), B = 250;
        f.orient("bottom").tickPadding(7), g.orient(u ? "right" : "left"), e.clipEdge(!0).duration(0), 
        j.valueFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }), i.tooltip.valueFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        });
        var C = a.utils.renderWatch(A, B), D = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    })
                };
            };
        }, E = function(a) {
            return function(b) {
                void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        };
        return e.dispatch.on("elementMouseover.tooltip", function(a) {
            a.series.disableTooltip || j.data(a).hidden(!1);
        }), e.dispatch.on("elementMouseout.tooltip", function(a) {
            j.hidden(!0);
        }), b.dispatch = A, b.lines = e, b.legend = h, b.focus = k, b.xAxis = f, b.x2Axis = k.xAxis, 
        b.yAxis = g, b.y2Axis = k.yAxis, b.interactiveLayer = i, b.tooltip = j, b.state = x, 
        b.dispatch = A, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            height: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            showLegend: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            legendPosition: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            showXAxis: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            showYAxis: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            defaultState: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = a;
                }
            },
            noData: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a;
                }
            },
            focusEnable: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            focusHeight: {
                get: function() {
                    return k.height();
                },
                set: function(a) {
                    k.height(a);
                }
            },
            focusShowAxisX: {
                get: function() {
                    return k.showXAxis();
                },
                set: function(a) {
                    k.showXAxis(a);
                }
            },
            focusShowAxisY: {
                get: function() {
                    return k.showYAxis();
                },
                set: function(a) {
                    k.showYAxis(a);
                }
            },
            brushExtent: {
                get: function() {
                    return k.brushExtent();
                },
                set: function(a) {
                    k.brushExtent(a);
                }
            },
            focusMargin: {
                get: function() {
                    return k.margin;
                },
                set: function(a) {
                    void 0 !== a.top && (l.top = a.top, m = a.top), k.margin.right = void 0 !== a.right ? a.right : k.margin.right, 
                    k.margin.bottom = void 0 !== a.bottom ? a.bottom : k.margin.bottom, k.margin.left = void 0 !== a.left ? a.left : k.margin.left;
                }
            },
            margin: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l.top = void 0 !== a.top ? a.top : l.top, l.right = void 0 !== a.right ? a.right : l.right, 
                    l.bottom = void 0 !== a.bottom ? a.bottom : l.bottom, l.left = void 0 !== a.left ? a.left : l.left;
                }
            },
            duration: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a, C.reset(B), e.duration(B), k.duration(B), f.duration(B), g.duration(B);
                }
            },
            color: {
                get: function() {
                    return n;
                },
                set: function(b) {
                    n = a.utils.getColor(b), h.color(n), e.color(n), k.color(n);
                }
            },
            interpolate: {
                get: function() {
                    return e.interpolate();
                },
                set: function(a) {
                    e.interpolate(a), k.interpolate(a);
                }
            },
            xTickFormat: {
                get: function() {
                    return f.tickFormat();
                },
                set: function(a) {
                    f.tickFormat(a), k.xTickFormat(a);
                }
            },
            yTickFormat: {
                get: function() {
                    return g.tickFormat();
                },
                set: function(a) {
                    g.tickFormat(a), k.yTickFormat(a);
                }
            },
            x: {
                get: function() {
                    return e.x();
                },
                set: function(a) {
                    e.x(a), k.x(a);
                }
            },
            y: {
                get: function() {
                    return e.y();
                },
                set: function(a) {
                    e.y(a), k.y(a);
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a, g.orient(u ? "right" : "left");
                }
            },
            useInteractiveGuideline: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a, v && (e.interactive(!1), e.useVoronoi(!1));
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.lineWithFocusChart = function() {
        return a.models.lineChart().margin({
            bottom: 30
        }).focusEnable(!0);
    }, a.models.linePlusBarChart = function() {
        "use strict";
        function b(v) {
            return v.each(function(v) {
                function K(a) {
                    var b = +("e" == a), c = b ? 1 : -1, d = $ / 3;
                    return "M" + .5 * c + "," + d + "A6,6 0 0 " + b + " " + 6.5 * c + "," + (d + 6) + "V" + (2 * d - 6) + "A6,6 0 0 " + b + " " + .5 * c + "," + 2 * d + "ZM" + 2.5 * c + "," + (d + 8) + "V" + (2 * d - 8) + "M" + 4.5 * c + "," + (d + 8) + "V" + (2 * d - 8);
                }
                function S() {
                    u.empty() || u.extent(J), na.data([ u.empty() ? e.domain() : J ]).each(function(a, b) {
                        var c = e(a[0]) - e.range()[0], d = e.range()[1] - e(a[1]);
                        d3.select(this).select(".left").attr("width", 0 > c ? 0 : c), d3.select(this).select(".right").attr("x", e(a[1])).attr("width", 0 > d ? 0 : d);
                    });
                }
                function T() {
                    J = u.empty() ? null : u.extent(), c = u.empty() ? e.domain() : u.extent(), L.brush({
                        extent: c,
                        brush: u
                    }), S(), l.width(Y).height(Z).color(v.map(function(a, b) {
                        return a.color || D(a, b);
                    }).filter(function(a, b) {
                        return !v[b].disabled && v[b].bar;
                    })), j.width(Y).height(Z).color(v.map(function(a, b) {
                        return a.color || D(a, b);
                    }).filter(function(a, b) {
                        return !v[b].disabled && !v[b].bar;
                    }));
                    var b = ga.select(".nv-focus .nv-barsWrap").datum(aa.length ? aa.map(function(a, b) {
                        return {
                            key: a.key,
                            values: a.values.filter(function(a, b) {
                                return l.x()(a, b) >= c[0] && l.x()(a, b) <= c[1];
                            })
                        };
                    }) : [ {
                        values: []
                    } ]), h = ga.select(".nv-focus .nv-linesWrap").datum(W(ba) ? [ {
                        values: []
                    } ] : ba.filter(function(a) {
                        return !a.disabled;
                    }).map(function(a, b) {
                        return {
                            area: a.area,
                            fillOpacity: a.fillOpacity,
                            strokeWidth: a.strokeWidth,
                            key: a.key,
                            values: a.values.filter(function(a, b) {
                                return j.x()(a, b) >= c[0] && j.x()(a, b) <= c[1];
                            })
                        };
                    }));
                    d = aa.length && !R ? l.xScale() : j.xScale(), n.scale(d)._ticks(a.utils.calcTicksX(Y / 100, v)).tickSize(-Z, 0), 
                    n.domain([ Math.ceil(c[0]), Math.floor(c[1]) ]), ga.select(".nv-x.nv-axis").transition().duration(M).call(n), 
                    b.transition().duration(M).call(l), h.transition().duration(M).call(j), ga.select(".nv-focus .nv-x.nv-axis").attr("transform", "translate(0," + f.range()[0] + ")"), 
                    p.scale(f)._ticks(a.utils.calcTicksY(Z / 36, v)).tickSize(-Y, 0), q.scale(g)._ticks(a.utils.calcTicksY(Z / 36, v)), 
                    R ? q.tickSize(ba.length ? 0 : -Y, 0) : q.tickSize(aa.length ? 0 : -Y, 0);
                    var i = aa.length ? 1 : 0, k = ba.length && !W(ba) ? 1 : 0, m = R ? k : i, o = R ? i : k;
                    ga.select(".nv-focus .nv-y1.nv-axis").style("opacity", m), ga.select(".nv-focus .nv-y2.nv-axis").style("opacity", o).attr("transform", "translate(" + d.range()[1] + ",0)"), 
                    ga.select(".nv-focus .nv-y1.nv-axis").transition().duration(M).call(p), ga.select(".nv-focus .nv-y2.nv-axis").transition().duration(M).call(q);
                }
                var X = d3.select(this);
                a.utils.initSVG(X);
                var Y = a.utils.availableWidth(z, X, w), Z = a.utils.availableHeight(A, X, w) - (F ? I : 0), $ = I - y.top - y.bottom;
                if (b.update = function() {
                    X.transition().duration(M).call(b);
                }, b.container = this, N.setter(V(v), b.update).getter(U(v)).update(), N.disabled = v.map(function(a) {
                    return !!a.disabled;
                }), !O) {
                    var _;
                    O = {};
                    for (_ in N) N[_] instanceof Array ? O[_] = N[_].slice(0) : O[_] = N[_];
                }
                if (!(v && v.length && v.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, X), b;
                X.selectAll(".nv-noData").remove();
                var aa = v.filter(function(a) {
                    return !a.disabled && a.bar;
                }), ba = v.filter(function(a) {
                    return !a.bar;
                });
                d = aa.length && !R ? l.xScale() : j.xScale(), e = o.scale(), f = R ? j.yScale() : l.yScale(), 
                g = R ? l.yScale() : j.yScale(), h = R ? k.yScale() : m.yScale(), i = R ? m.yScale() : k.yScale();
                var ca = v.filter(function(a) {
                    return !a.disabled && (R ? !a.bar : a.bar);
                }).map(function(a) {
                    return a.values.map(function(a, b) {
                        return {
                            x: B(a, b),
                            y: C(a, b)
                        };
                    });
                }), da = v.filter(function(a) {
                    return !a.disabled && (R ? a.bar : !a.bar);
                }).map(function(a) {
                    return a.values.map(function(a, b) {
                        return {
                            x: B(a, b),
                            y: C(a, b)
                        };
                    });
                });
                d.range([ 0, Y ]), e.domain(d3.extent(d3.merge(ca.concat(da)), function(a) {
                    return a.x;
                })).range([ 0, Y ]);
                var ea = X.selectAll("g.nv-wrap.nv-linePlusBar").data([ v ]), fa = ea.enter().append("g").attr("class", "nvd3 nv-wrap nv-linePlusBar").append("g"), ga = ea.select("g");
                fa.append("g").attr("class", "nv-legendWrap");
                var ha = fa.append("g").attr("class", "nv-focus");
                ha.append("g").attr("class", "nv-x nv-axis"), ha.append("g").attr("class", "nv-y1 nv-axis"), 
                ha.append("g").attr("class", "nv-y2 nv-axis"), ha.append("g").attr("class", "nv-barsWrap"), 
                ha.append("g").attr("class", "nv-linesWrap");
                var ia = fa.append("g").attr("class", "nv-context");
                if (ia.append("g").attr("class", "nv-x nv-axis"), ia.append("g").attr("class", "nv-y1 nv-axis"), 
                ia.append("g").attr("class", "nv-y2 nv-axis"), ia.append("g").attr("class", "nv-barsWrap"), 
                ia.append("g").attr("class", "nv-linesWrap"), ia.append("g").attr("class", "nv-brushBackground"), 
                ia.append("g").attr("class", "nv-x nv-brush"), E) {
                    var ja = t.align() ? Y / 2 : Y, ka = t.align() ? ja : 0;
                    t.width(ja), ga.select(".nv-legendWrap").datum(v.map(function(a) {
                        return a.originalKey = void 0 === a.originalKey ? a.key : a.originalKey, R ? a.key = a.originalKey + (a.bar ? Q : P) : a.key = a.originalKey + (a.bar ? P : Q), 
                        a;
                    })).call(t), x || t.height() === w.top || (w.top = t.height(), Z = a.utils.availableHeight(A, X, w) - I), 
                    ga.select(".nv-legendWrap").attr("transform", "translate(" + ka + "," + -w.top + ")");
                } else ga.select(".nv-legendWrap").selectAll("*").remove();
                ea.attr("transform", "translate(" + w.left + "," + w.top + ")"), ga.select(".nv-context").style("display", F ? "initial" : "none"), 
                m.width(Y).height($).color(v.map(function(a, b) {
                    return a.color || D(a, b);
                }).filter(function(a, b) {
                    return !v[b].disabled && v[b].bar;
                })), k.width(Y).height($).color(v.map(function(a, b) {
                    return a.color || D(a, b);
                }).filter(function(a, b) {
                    return !v[b].disabled && !v[b].bar;
                }));
                var la = ga.select(".nv-context .nv-barsWrap").datum(aa.length ? aa : [ {
                    values: []
                } ]), ma = ga.select(".nv-context .nv-linesWrap").datum(W(ba) ? [ {
                    values: []
                } ] : ba.filter(function(a) {
                    return !a.disabled;
                }));
                ga.select(".nv-context").attr("transform", "translate(0," + (Z + w.bottom + y.top) + ")"), 
                la.transition().call(m), ma.transition().call(k), H && (o._ticks(a.utils.calcTicksX(Y / 100, v)).tickSize(-$, 0), 
                ga.select(".nv-context .nv-x.nv-axis").attr("transform", "translate(0," + h.range()[0] + ")"), 
                ga.select(".nv-context .nv-x.nv-axis").transition().call(o)), G && (r.scale(h)._ticks($ / 36).tickSize(-Y, 0), 
                s.scale(i)._ticks($ / 36).tickSize(aa.length ? 0 : -Y, 0), ga.select(".nv-context .nv-y3.nv-axis").style("opacity", aa.length ? 1 : 0).attr("transform", "translate(0," + e.range()[0] + ")"), 
                ga.select(".nv-context .nv-y2.nv-axis").style("opacity", ba.length ? 1 : 0).attr("transform", "translate(" + e.range()[1] + ",0)"), 
                ga.select(".nv-context .nv-y1.nv-axis").transition().call(r), ga.select(".nv-context .nv-y2.nv-axis").transition().call(s)), 
                u.x(e).on("brush", T), J && u.extent(J);
                var na = ga.select(".nv-brushBackground").selectAll("g").data([ J || u.extent() ]), oa = na.enter().append("g");
                oa.append("rect").attr("class", "left").attr("x", 0).attr("y", 0).attr("height", $), 
                oa.append("rect").attr("class", "right").attr("x", 0).attr("y", 0).attr("height", $);
                var pa = ga.select(".nv-x.nv-brush").call(u);
                pa.selectAll("rect").attr("height", $), pa.selectAll(".resize").append("path").attr("d", K), 
                t.dispatch.on("stateChange", function(a) {
                    for (var c in a) N[c] = a[c];
                    L.stateChange(N), b.update();
                }), L.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (v.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), N.disabled = a.disabled), b.update();
                }), T();
            }), b;
        }
        var c, d, e, f, g, h, i, j = a.models.line(), k = a.models.line(), l = a.models.historicalBar(), m = a.models.historicalBar(), n = a.models.axis(), o = a.models.axis(), p = a.models.axis(), q = a.models.axis(), r = a.models.axis(), s = a.models.axis(), t = a.models.legend(), u = d3.svg.brush(), v = a.models.tooltip(), w = {
            top: 30,
            right: 30,
            bottom: 30,
            left: 60
        }, x = null, y = {
            top: 0,
            right: 30,
            bottom: 20,
            left: 60
        }, z = null, A = null, B = function(a) {
            return a.x;
        }, C = function(a) {
            return a.y;
        }, D = a.utils.defaultColor(), E = !0, F = !0, G = !1, H = !0, I = 50, J = null, K = null, L = d3.dispatch("brush", "stateChange", "changeState"), M = 0, N = a.utils.state(), O = null, P = " (left axis)", Q = " (right axis)", R = !1;
        j.clipEdge(!0), k.interactive(!1), k.pointActive(function(a) {
            return !1;
        }), n.orient("bottom").tickPadding(5), p.orient("left"), q.orient("right"), o.orient("bottom").tickPadding(5), 
        r.orient("left"), s.orient("right"), v.headerEnabled(!0).headerFormatter(function(a, b) {
            return n.tickFormat()(a, b);
        });
        var S = function() {
            return R ? {
                main: q,
                focus: s
            } : {
                main: p,
                focus: r
            };
        }, T = function() {
            return R ? {
                main: p,
                focus: r
            } : {
                main: q,
                focus: s
            };
        }, U = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    })
                };
            };
        }, V = function(a) {
            return function(b) {
                void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        }, W = function(a) {
            return a.every(function(a) {
                return a.disabled;
            });
        };
        return j.dispatch.on("elementMouseover.tooltip", function(a) {
            v.duration(100).valueFormatter(function(a, b) {
                return T().main.tickFormat()(a, b);
            }).data(a).hidden(!1);
        }), j.dispatch.on("elementMouseout.tooltip", function(a) {
            v.hidden(!0);
        }), l.dispatch.on("elementMouseover.tooltip", function(a) {
            a.value = b.x()(a.data), a.series = {
                value: b.y()(a.data),
                color: a.color
            }, v.duration(0).valueFormatter(function(a, b) {
                return S().main.tickFormat()(a, b);
            }).data(a).hidden(!1);
        }), l.dispatch.on("elementMouseout.tooltip", function(a) {
            v.hidden(!0);
        }), l.dispatch.on("elementMousemove.tooltip", function(a) {
            v();
        }), b.dispatch = L, b.legend = t, b.lines = j, b.lines2 = k, b.bars = l, b.bars2 = m, 
        b.xAxis = n, b.x2Axis = o, b.y1Axis = p, b.y2Axis = q, b.y3Axis = r, b.y4Axis = s, 
        b.tooltip = v, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a;
                }
            },
            height: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            showLegend: {
                get: function() {
                    return E;
                },
                set: function(a) {
                    E = a;
                }
            },
            brushExtent: {
                get: function() {
                    return J;
                },
                set: function(a) {
                    J = a;
                }
            },
            noData: {
                get: function() {
                    return K;
                },
                set: function(a) {
                    K = a;
                }
            },
            focusEnable: {
                get: function() {
                    return F;
                },
                set: function(a) {
                    F = a;
                }
            },
            focusHeight: {
                get: function() {
                    return I;
                },
                set: function(a) {
                    I = a;
                }
            },
            focusShowAxisX: {
                get: function() {
                    return H;
                },
                set: function(a) {
                    H = a;
                }
            },
            focusShowAxisY: {
                get: function() {
                    return G;
                },
                set: function(a) {
                    G = a;
                }
            },
            legendLeftAxisHint: {
                get: function() {
                    return P;
                },
                set: function(a) {
                    P = a;
                }
            },
            legendRightAxisHint: {
                get: function() {
                    return Q;
                },
                set: function(a) {
                    Q = a;
                }
            },
            margin: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    void 0 !== a.top && (w.top = a.top, x = a.top), w.right = void 0 !== a.right ? a.right : w.right, 
                    w.bottom = void 0 !== a.bottom ? a.bottom : w.bottom, w.left = void 0 !== a.left ? a.left : w.left;
                }
            },
            focusMargin: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y.top = void 0 !== a.top ? a.top : y.top, y.right = void 0 !== a.right ? a.right : y.right, 
                    y.bottom = void 0 !== a.bottom ? a.bottom : y.bottom, y.left = void 0 !== a.left ? a.left : y.left;
                }
            },
            duration: {
                get: function() {
                    return M;
                },
                set: function(a) {
                    M = a;
                }
            },
            color: {
                get: function() {
                    return D;
                },
                set: function(b) {
                    D = a.utils.getColor(b), t.color(D);
                }
            },
            x: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a, j.x(a), k.x(a), l.x(a), m.x(a);
                }
            },
            y: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a, j.y(a), k.y(a), l.y(a), m.y(a);
                }
            },
            switchYAxisOrder: {
                get: function() {
                    return R;
                },
                set: function(a) {
                    if (R !== a) {
                        var b = p;
                        p = q, q = b;
                        var c = r;
                        r = s, s = c;
                    }
                    R = a, p.orient("left"), q.orient("right"), r.orient("left"), s.orient("right");
                }
            }
        }), a.utils.inheritOptions(b, j), a.utils.initOptions(b), b;
    }, a.models.multiBar = function() {
        "use strict";
        function b(F) {
            return D.reset(), F.each(function(b) {
                var F = k - j.left - j.right, G = l - j.top - j.bottom;
                p = d3.select(this), a.utils.initSVG(p);
                var H = 0;
                if (x && b.length && (x = [ {
                    values: b[0].values.map(function(a) {
                        return {
                            x: a.x,
                            y: 0,
                            series: a.series,
                            size: .01
                        };
                    })
                } ]), u) {
                    var I = d3.layout.stack().offset(v).values(function(a) {
                        return a.values;
                    }).y(r)(!b.length && x ? x : b);
                    I.forEach(function(a, c) {
                        a.nonStackable ? (b[c].nonStackableSeries = H++, I[c] = b[c]) : c > 0 && I[c - 1].nonStackable && I[c].values.map(function(a, b) {
                            a.y0 -= I[c - 1].values[b].y, a.y1 = a.y0 + a.y;
                        });
                    }), b = I;
                }
                b.forEach(function(a, b) {
                    a.values.forEach(function(c) {
                        c.series = b, c.key = a.key;
                    });
                }), u && b.length > 0 && b[0].values.map(function(a, c) {
                    var d = 0, e = 0;
                    b.map(function(a, f) {
                        if (!b[f].nonStackable) {
                            var g = a.values[c];
                            g.size = Math.abs(g.y), g.y < 0 ? (g.y1 = e, e -= g.size) : (g.y1 = g.size + d, 
                            d += g.size);
                        }
                    });
                });
                var J = d && e ? [] : b.map(function(a, b) {
                    return a.values.map(function(a, c) {
                        return {
                            x: q(a, c),
                            y: r(a, c),
                            y0: a.y0,
                            y1: a.y1,
                            idx: b
                        };
                    });
                });
                m.domain(d || d3.merge(J).map(function(a) {
                    return a.x;
                })).rangeBands(f || [ 0, F ], A), n.domain(e || d3.extent(d3.merge(J).map(function(a) {
                    var c = a.y;
                    return u && !b[a.idx].nonStackable && (c = a.y > 0 ? a.y1 : a.y1 + a.y), c;
                }).concat(s))).range(g || [ G, 0 ]), m.domain()[0] === m.domain()[1] && (m.domain()[0] ? m.domain([ m.domain()[0] - .01 * m.domain()[0], m.domain()[1] + .01 * m.domain()[1] ]) : m.domain([ -1, 1 ])), 
                n.domain()[0] === n.domain()[1] && (n.domain()[0] ? n.domain([ n.domain()[0] + .01 * n.domain()[0], n.domain()[1] - .01 * n.domain()[1] ]) : n.domain([ -1, 1 ])), 
                h = h || m, i = i || n;
                var K = p.selectAll("g.nv-wrap.nv-multibar").data([ b ]), L = K.enter().append("g").attr("class", "nvd3 nv-wrap nv-multibar"), M = L.append("defs"), N = L.append("g"), O = K.select("g");
                N.append("g").attr("class", "nv-groups"), K.attr("transform", "translate(" + j.left + "," + j.top + ")"), 
                M.append("clipPath").attr("id", "nv-edge-clip-" + o).append("rect"), K.select("#nv-edge-clip-" + o + " rect").attr("width", F).attr("height", G), 
                O.attr("clip-path", t ? "url(#nv-edge-clip-" + o + ")" : "");
                var P = K.select(".nv-groups").selectAll(".nv-group").data(function(a) {
                    return a;
                }, function(a, b) {
                    return b;
                });
                P.enter().append("g").style("stroke-opacity", 1e-6).style("fill-opacity", 1e-6);
                var Q = D.transition(P.exit().selectAll("rect.nv-bar"), "multibarExit", Math.min(100, z)).attr("y", function(a, c, d) {
                    var e = i(0) || 0;
                    return u && b[a.series] && !b[a.series].nonStackable && (e = i(a.y0)), e;
                }).attr("height", 0).remove();
                Q.delay && Q.delay(function(a, b) {
                    var c = b * (z / (E + 1)) - b;
                    return c;
                }), P.attr("class", function(a, b) {
                    return "nv-group nv-series-" + b;
                }).classed("hover", function(a) {
                    return a.hover;
                }).style("fill", function(a, b) {
                    return w(a, b);
                }).style("stroke", function(a, b) {
                    return w(a, b);
                }), P.style("stroke-opacity", 1).style("fill-opacity", B);
                var R = P.selectAll("rect.nv-bar").data(function(a) {
                    return x && !b.length ? x.values : a.values;
                });
                R.exit().remove(), R.enter().append("rect").attr("class", function(a, b) {
                    return r(a, b) < 0 ? "nv-bar negative" : "nv-bar positive";
                }).attr("x", function(a, c, d) {
                    return u && !b[d].nonStackable ? 0 : d * m.rangeBand() / b.length;
                }).attr("y", function(a, c, d) {
                    return i(u && !b[d].nonStackable ? a.y0 : 0) || 0;
                }).attr("height", 0).attr("width", function(a, c, d) {
                    return m.rangeBand() / (u && !b[d].nonStackable ? 1 : b.length);
                }).attr("transform", function(a, b) {
                    return "translate(" + m(q(a, b)) + ",0)";
                }), R.style("fill", function(a, b, c) {
                    return w(a, c, b);
                }).style("stroke", function(a, b, c) {
                    return w(a, c, b);
                }).on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0), C.elementMouseover({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1), C.elementMouseout({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("mousemove", function(a, b) {
                    C.elementMousemove({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("click", function(a, b) {
                    var c = this;
                    C.elementClick({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill"),
                        event: d3.event,
                        element: c
                    }), d3.event.stopPropagation();
                }).on("dblclick", function(a, b) {
                    C.elementDblClick({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    }), d3.event.stopPropagation();
                }), R.attr("class", function(a, b) {
                    return r(a, b) < 0 ? "nv-bar negative" : "nv-bar positive";
                }).attr("transform", function(a, b) {
                    return "translate(" + m(q(a, b)) + ",0)";
                }), y && (c || (c = b.map(function() {
                    return !0;
                })), R.style("fill", function(a, b, d) {
                    return d3.rgb(y(a, b)).darker(c.map(function(a, b) {
                        return b;
                    }).filter(function(a, b) {
                        return !c[b];
                    })[d]).toString();
                }).style("stroke", function(a, b, d) {
                    return d3.rgb(y(a, b)).darker(c.map(function(a, b) {
                        return b;
                    }).filter(function(a, b) {
                        return !c[b];
                    })[d]).toString();
                }));
                var S = R.watchTransition(D, "multibar", Math.min(250, z)).delay(function(a, c) {
                    return c * z / b[0].values.length;
                });
                u ? S.attr("y", function(a, c, d) {
                    var e = 0;
                    return e = b[d].nonStackable ? r(a, c) < 0 ? n(0) : n(0) - n(r(a, c)) < -1 ? n(0) - 1 : n(r(a, c)) || 0 : n(a.y1);
                }).attr("height", function(a, c, d) {
                    return b[d].nonStackable ? Math.max(Math.abs(n(r(a, c)) - n(0)), 0) || 0 : Math.max(Math.abs(n(a.y + a.y0) - n(a.y0)), 0);
                }).attr("x", function(a, c, d) {
                    var e = 0;
                    return b[d].nonStackable && (e = a.series * m.rangeBand() / b.length, b.length !== H && (e = b[d].nonStackableSeries * m.rangeBand() / (2 * H))), 
                    e;
                }).attr("width", function(a, c, d) {
                    if (b[d].nonStackable) {
                        var e = m.rangeBand() / H;
                        return b.length !== H && (e = m.rangeBand() / (2 * H)), e;
                    }
                    return m.rangeBand();
                }) : S.attr("x", function(a, c) {
                    return a.series * m.rangeBand() / b.length;
                }).attr("width", m.rangeBand() / b.length).attr("y", function(a, b) {
                    return r(a, b) < 0 ? n(0) : n(0) - n(r(a, b)) < 1 ? n(0) - 1 : n(r(a, b)) || 0;
                }).attr("height", function(a, b) {
                    return Math.max(Math.abs(n(r(a, b)) - n(0)), 1) || 0;
                }), h = m.copy(), i = n.copy(), b[0] && b[0].values && (E = b[0].values.length);
            }), D.renderEnd("multibar immediate"), b;
        }
        var c, d, e, f, g, h, i, j = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, k = 960, l = 500, m = d3.scale.ordinal(), n = d3.scale.linear(), o = Math.floor(1e4 * Math.random()), p = null, q = function(a) {
            return a.x;
        }, r = function(a) {
            return a.y;
        }, s = [ 0 ], t = !0, u = !1, v = "zero", w = a.utils.defaultColor(), x = !1, y = null, z = 500, A = .1, B = .75, C = d3.dispatch("chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "elementMousemove", "renderEnd"), D = a.utils.renderWatch(C, z), E = 0;
        return b.dispatch = C, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            height: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            x: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            y: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            xScale: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            yScale: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            xDomain: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            yDomain: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            xRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            yRange: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            forceY: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            stacked: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            stackOffset: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            clipEdge: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            disabled: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c = a;
                }
            },
            id: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            hideable: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            groupSpacing: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            fillOpacity: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a;
                }
            },
            margin: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j.top = void 0 !== a.top ? a.top : j.top, j.right = void 0 !== a.right ? a.right : j.right, 
                    j.bottom = void 0 !== a.bottom ? a.bottom : j.bottom, j.left = void 0 !== a.left ? a.left : j.left;
                }
            },
            duration: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a, D.reset(z);
                }
            },
            color: {
                get: function() {
                    return w;
                },
                set: function(b) {
                    w = a.utils.getColor(b);
                }
            },
            barColor: {
                get: function() {
                    return y;
                },
                set: function(b) {
                    y = b ? a.utils.getColor(b) : null;
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.multiBarChart = function() {
        "use strict";
        function b(C) {
            return H.reset(), H.models(e), t && H.models(f), u && H.models(g), C.each(function(C) {
                var H = d3.select(this);
                a.utils.initSVG(H);
                var L = a.utils.availableWidth(n, H, l), M = a.utils.availableHeight(o, H, l);
                if (b.update = function() {
                    0 === F ? H.call(b) : H.transition().duration(F).call(b);
                }, b.container = this, A.setter(K(C), b.update).getter(J(C)).update(), A.disabled = C.map(function(a) {
                    return !!a.disabled;
                }), !B) {
                    var N;
                    B = {};
                    for (N in A) A[N] instanceof Array ? B[N] = A[N].slice(0) : B[N] = A[N];
                }
                if (!(C && C.length && C.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, H), b;
                H.selectAll(".nv-noData").remove(), c = e.xScale(), d = e.yScale();
                var O = H.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([ C ]), P = O.enter().append("g").attr("class", "nvd3 nv-wrap nv-multiBarWithLegend").append("g"), Q = O.select("g");
                if (P.append("g").attr("class", "nv-x nv-axis"), P.append("g").attr("class", "nv-y nv-axis"), 
                P.append("g").attr("class", "nv-barsWrap"), P.append("g").attr("class", "nv-legendWrap"), 
                P.append("g").attr("class", "nv-controlsWrap"), P.append("g").attr("class", "nv-interactive"), 
                s ? (i.width(L - E()), Q.select(".nv-legendWrap").datum(C).call(i), m || i.height() === l.top || (l.top = i.height(), 
                M = a.utils.availableHeight(o, H, l)), Q.select(".nv-legendWrap").attr("transform", "translate(" + E() + "," + -l.top + ")")) : Q.select(".nv-legendWrap").selectAll("*").remove(), 
                q) {
                    var R = [ {
                        key: r.grouped || "Grouped",
                        disabled: e.stacked()
                    }, {
                        key: r.stacked || "Stacked",
                        disabled: !e.stacked()
                    } ];
                    j.width(E()).color([ "#444", "#444", "#444" ]), Q.select(".nv-controlsWrap").datum(R).attr("transform", "translate(0," + -l.top + ")").call(j);
                } else Q.select(".nv-controlsWrap").selectAll("*").remove();
                O.attr("transform", "translate(" + l.left + "," + l.top + ")"), v && Q.select(".nv-y.nv-axis").attr("transform", "translate(" + L + ",0)"), 
                e.disabled(C.map(function(a) {
                    return a.disabled;
                })).width(L).height(M).color(C.map(function(a, b) {
                    return a.color || p(a, b);
                }).filter(function(a, b) {
                    return !C[b].disabled;
                }));
                var S = Q.select(".nv-barsWrap").datum(C.filter(function(a) {
                    return !a.disabled;
                }));
                if (S.call(e), t) {
                    f.scale(c)._ticks(a.utils.calcTicksX(L / 100, C)).tickSize(-M, 0), Q.select(".nv-x.nv-axis").attr("transform", "translate(0," + d.range()[0] + ")"), 
                    Q.select(".nv-x.nv-axis").call(f);
                    var T = Q.select(".nv-x.nv-axis > g").selectAll("g");
                    if (T.selectAll("line, text").style("opacity", 1), x) {
                        var U = function(a, b) {
                            return "translate(" + a + "," + b + ")";
                        }, V = 5, W = 17;
                        T.selectAll("text").attr("transform", function(a, b, c) {
                            return U(0, c % 2 == 0 ? V : W);
                        });
                        var X = d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;
                        Q.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform", function(a, b) {
                            return U(0, 0 === b || X % 2 !== 0 ? W : V);
                        });
                    }
                    y && Q.selectAll(".tick text").call(a.utils.wrapTicks, b.xAxis.rangeBand()), w && T.filter(function(a, b) {
                        return b % Math.ceil(C[0].values.length / (L / 100)) !== 0;
                    }).selectAll("text, line").style("opacity", 0), z && T.selectAll(".tick text").attr("transform", "rotate(" + z + " 0,0)").style("text-anchor", z > 0 ? "start" : "end"), 
                    Q.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity", 1);
                }
                u && (g.scale(d)._ticks(a.utils.calcTicksY(M / 36, C)).tickSize(-L, 0), Q.select(".nv-y.nv-axis").call(g)), 
                G && (h.width(L).height(M).margin({
                    left: l.left,
                    top: l.top
                }).svgContainer(H).xScale(c), O.select(".nv-interactive").call(h)), i.dispatch.on("stateChange", function(a) {
                    for (var c in a) A[c] = a[c];
                    D.stateChange(A), b.update();
                }), j.dispatch.on("legendClick", function(a, c) {
                    if (a.disabled) {
                        switch (R = R.map(function(a) {
                            return a.disabled = !0, a;
                        }), a.disabled = !1, a.key) {
                          case "Grouped":
                          case r.grouped:
                            e.stacked(!1);
                            break;

                          case "Stacked":
                          case r.stacked:
                            e.stacked(!0);
                        }
                        A.stacked = e.stacked(), D.stateChange(A), b.update();
                    }
                }), D.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (C.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), A.disabled = a.disabled), "undefined" != typeof a.stacked && (e.stacked(a.stacked), 
                    A.stacked = a.stacked, I = a.stacked), b.update();
                }), G ? (h.dispatch.on("elementMousemove", function(a) {
                    if (void 0 != a.pointXValue) {
                        var d, e, f, g, i = [];
                        C.filter(function(a, b) {
                            return a.seriesIndex = b, !a.disabled;
                        }).forEach(function(h, j) {
                            e = c.domain().indexOf(a.pointXValue);
                            var k = h.values[e];
                            void 0 !== k && (g = k.x, void 0 === d && (d = k), void 0 === f && (f = a.mouseX), 
                            i.push({
                                key: h.key,
                                value: b.y()(k, e),
                                color: p(h, h.seriesIndex),
                                data: h.values[e]
                            }));
                        }), h.tooltip.data({
                            value: g,
                            index: e,
                            series: i
                        })(), h.renderGuideLine(f);
                    }
                }), h.dispatch.on("elementMouseout", function(a) {
                    h.tooltip.hidden(!0);
                })) : (e.dispatch.on("elementMouseover.tooltip", function(a) {
                    a.value = b.x()(a.data), a.series = {
                        key: a.data.key,
                        value: b.y()(a.data),
                        color: a.color
                    }, k.data(a).hidden(!1);
                }), e.dispatch.on("elementMouseout.tooltip", function(a) {
                    k.hidden(!0);
                }), e.dispatch.on("elementMousemove.tooltip", function(a) {
                    k();
                }));
            }), H.renderEnd("multibarchart immediate"), b;
        }
        var c, d, e = a.models.multiBar(), f = a.models.axis(), g = a.models.axis(), h = a.interactiveGuideline(), i = a.models.legend(), j = a.models.legend(), k = a.models.tooltip(), l = {
            top: 30,
            right: 20,
            bottom: 50,
            left: 60
        }, m = null, n = null, o = null, p = a.utils.defaultColor(), q = !0, r = {}, s = !0, t = !0, u = !0, v = !1, w = !0, x = !1, y = !1, z = 0, A = a.utils.state(), B = null, C = null, D = d3.dispatch("stateChange", "changeState", "renderEnd"), E = function() {
            return q ? 180 : 0;
        }, F = 250, G = !1;
        A.stacked = !1, e.stacked(!1), f.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a) {
            return a;
        }), g.orient(v ? "right" : "left").tickFormat(d3.format(",.1f")), k.duration(0).valueFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }), h.tooltip.valueFormatter(function(a, b) {
            return null == a ? "N/A" : g.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }), h.tooltip.valueFormatter(function(a, b) {
            return null == a ? "N/A" : g.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }), h.tooltip.duration(0).valueFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }), j.updateState(!1);
        var H = a.utils.renderWatch(D), I = !1, J = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    }),
                    stacked: I
                };
            };
        }, K = function(a) {
            return function(b) {
                void 0 !== b.stacked && (I = b.stacked), void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        };
        return b.dispatch = D, b.multibar = e, b.legend = i, b.controls = j, b.xAxis = f, 
        b.yAxis = g, b.state = A, b.tooltip = k, b.interactiveLayer = h, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            width: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            height: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            showLegend: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            showControls: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            controlLabels: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            showXAxis: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            showYAxis: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            defaultState: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a;
                }
            },
            noData: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a;
                }
            },
            reduceXTicks: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            rotateLabels: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a;
                }
            },
            staggerLabels: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            wrapLabels: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = !!a;
                }
            },
            margin: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    void 0 !== a.top && (l.top = a.top, m = a.top), l.right = void 0 !== a.right ? a.right : l.right, 
                    l.bottom = void 0 !== a.bottom ? a.bottom : l.bottom, l.left = void 0 !== a.left ? a.left : l.left;
                }
            },
            duration: {
                get: function() {
                    return F;
                },
                set: function(a) {
                    F = a, e.duration(F), f.duration(F), g.duration(F), H.reset(F);
                }
            },
            color: {
                get: function() {
                    return p;
                },
                set: function(b) {
                    p = a.utils.getColor(b), i.color(p);
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a, g.orient(v ? "right" : "left");
                }
            },
            useInteractiveGuideline: {
                get: function() {
                    return G;
                },
                set: function(a) {
                    G = a;
                }
            },
            barColor: {
                get: function() {
                    return e.barColor;
                },
                set: function(a) {
                    e.barColor(a), i.color(function(a, b) {
                        return d3.rgb("#ccc").darker(1.5 * b).toString();
                    });
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.multiBarHorizontal = function() {
        "use strict";
        function b(m) {
            return F.reset(), m.each(function(b) {
                var m = k - j.left - j.right, D = l - j.top - j.bottom;
                n = d3.select(this), a.utils.initSVG(n), w && (b = d3.layout.stack().offset("zero").values(function(a) {
                    return a.values;
                }).y(r)(b)), b.forEach(function(a, b) {
                    a.values.forEach(function(c) {
                        c.series = b, c.key = a.key;
                    });
                }), w && b[0].values.map(function(a, c) {
                    var d = 0, e = 0;
                    b.map(function(a) {
                        var b = a.values[c];
                        b.size = Math.abs(b.y), b.y < 0 ? (b.y1 = e - b.size, e -= b.size) : (b.y1 = d, 
                        d += b.size);
                    });
                });
                var G = d && e ? [] : b.map(function(a) {
                    return a.values.map(function(a, b) {
                        return {
                            x: q(a, b),
                            y: r(a, b),
                            y0: a.y0,
                            y1: a.y1
                        };
                    });
                });
                o.domain(d || d3.merge(G).map(function(a) {
                    return a.x;
                })).rangeBands(f || [ 0, D ], A), p.domain(e || d3.extent(d3.merge(G).map(function(a) {
                    return w ? a.y > 0 ? a.y1 + a.y : a.y1 : a.y;
                }).concat(t))), x && !w ? p.range(g || [ p.domain()[0] < 0 ? z : 0, m - (p.domain()[1] > 0 ? z : 0) ]) : p.range(g || [ 0, m ]), 
                h = h || o, i = i || d3.scale.linear().domain(p.domain()).range([ p(0), p(0) ]);
                var H = d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([ b ]), I = H.enter().append("g").attr("class", "nvd3 nv-wrap nv-multibarHorizontal"), J = (I.append("defs"), 
                I.append("g"));
                H.select("g"), J.append("g").attr("class", "nv-groups"), H.attr("transform", "translate(" + j.left + "," + j.top + ")");
                var K = H.select(".nv-groups").selectAll(".nv-group").data(function(a) {
                    return a;
                }, function(a, b) {
                    return b;
                });
                K.enter().append("g").style("stroke-opacity", 1e-6).style("fill-opacity", 1e-6), 
                K.exit().watchTransition(F, "multibarhorizontal: exit groups").style("stroke-opacity", 1e-6).style("fill-opacity", 1e-6).remove(), 
                K.attr("class", function(a, b) {
                    return "nv-group nv-series-" + b;
                }).classed("hover", function(a) {
                    return a.hover;
                }).style("fill", function(a, b) {
                    return u(a, b);
                }).style("stroke", function(a, b) {
                    return u(a, b);
                }), K.watchTransition(F, "multibarhorizontal: groups").style("stroke-opacity", 1).style("fill-opacity", B);
                var L = K.selectAll("g.nv-bar").data(function(a) {
                    return a.values;
                });
                L.exit().remove();
                var M = L.enter().append("g").attr("transform", function(a, c, d) {
                    return "translate(" + i(w ? a.y0 : 0) + "," + (w ? 0 : d * o.rangeBand() / b.length + o(q(a, c))) + ")";
                });
                M.append("rect").attr("width", 0).attr("height", o.rangeBand() / (w ? 1 : b.length)), 
                L.on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0), E.elementMouseover({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1), E.elementMouseout({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("mouseout", function(a, b) {
                    E.elementMouseout({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("mousemove", function(a, b) {
                    E.elementMousemove({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }).on("click", function(a, b) {
                    var c = this;
                    E.elementClick({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill"),
                        event: d3.event,
                        element: c
                    }), d3.event.stopPropagation();
                }).on("dblclick", function(a, b) {
                    E.elementDblClick({
                        data: a,
                        index: b,
                        color: d3.select(this).style("fill")
                    }), d3.event.stopPropagation();
                }), s(b[0], 0) && (M.append("polyline"), L.select("polyline").attr("fill", "none").attr("points", function(a, c) {
                    var d = s(a, c), e = .8 * o.rangeBand() / (2 * (w ? 1 : b.length));
                    d = d.length ? d : [ -Math.abs(d), Math.abs(d) ], d = d.map(function(a) {
                        return p(a) - p(0);
                    });
                    var f = [ [ d[0], -e ], [ d[0], e ], [ d[0], 0 ], [ d[1], 0 ], [ d[1], -e ], [ d[1], e ] ];
                    return f.map(function(a) {
                        return a.join(",");
                    }).join(" ");
                }).attr("transform", function(a, c) {
                    var d = o.rangeBand() / (2 * (w ? 1 : b.length));
                    return "translate(" + (r(a, c) < 0 ? 0 : p(r(a, c)) - p(0)) + ", " + d + ")";
                })), M.append("text"), x && !w ? (L.select("text").attr("text-anchor", function(a, b) {
                    return r(a, b) < 0 ? "end" : "start";
                }).attr("y", o.rangeBand() / (2 * b.length)).attr("dy", ".32em").text(function(a, b) {
                    var c = C(r(a, b)), d = s(a, b);
                    return void 0 === d ? c : d.length ? c + "+" + C(Math.abs(d[1])) + "-" + C(Math.abs(d[0])) : c + "" + C(Math.abs(d));
                }), L.watchTransition(F, "multibarhorizontal: bars").select("text").attr("x", function(a, b) {
                    return r(a, b) < 0 ? -4 : p(r(a, b)) - p(0) + 4;
                })) : L.selectAll("text").text(""), y && !w ? (M.append("text").classed("nv-bar-label", !0), 
                L.select("text.nv-bar-label").attr("text-anchor", function(a, b) {
                    return r(a, b) < 0 ? "start" : "end";
                }).attr("y", o.rangeBand() / (2 * b.length)).attr("dy", ".32em").text(function(a, b) {
                    return q(a, b);
                }), L.watchTransition(F, "multibarhorizontal: bars").select("text.nv-bar-label").attr("x", function(a, b) {
                    return r(a, b) < 0 ? p(0) - p(r(a, b)) + 4 : -4;
                })) : L.selectAll("text.nv-bar-label").text(""), L.attr("class", function(a, b) {
                    return r(a, b) < 0 ? "nv-bar negative" : "nv-bar positive";
                }), v && (c || (c = b.map(function() {
                    return !0;
                })), L.style("fill", function(a, b, d) {
                    return d3.rgb(v(a, b)).darker(c.map(function(a, b) {
                        return b;
                    }).filter(function(a, b) {
                        return !c[b];
                    })[d]).toString();
                }).style("stroke", function(a, b, d) {
                    return d3.rgb(v(a, b)).darker(c.map(function(a, b) {
                        return b;
                    }).filter(function(a, b) {
                        return !c[b];
                    })[d]).toString();
                })), w ? L.watchTransition(F, "multibarhorizontal: bars").attr("transform", function(a, b) {
                    return "translate(" + p(a.y1) + "," + o(q(a, b)) + ")";
                }).select("rect").attr("width", function(a, b) {
                    return Math.abs(p(r(a, b) + a.y0) - p(a.y0)) || 0;
                }).attr("height", o.rangeBand()) : L.watchTransition(F, "multibarhorizontal: bars").attr("transform", function(a, c) {
                    return "translate(" + p(r(a, c) < 0 ? r(a, c) : 0) + "," + (a.series * o.rangeBand() / b.length + o(q(a, c))) + ")";
                }).select("rect").attr("height", o.rangeBand() / b.length).attr("width", function(a, b) {
                    return Math.max(Math.abs(p(r(a, b)) - p(0)), 1) || 0;
                }), h = o.copy(), i = p.copy();
            }), F.renderEnd("multibarHorizontal immediate"), b;
        }
        var c, d, e, f, g, h, i, j = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, k = 960, l = 500, m = Math.floor(1e4 * Math.random()), n = null, o = d3.scale.ordinal(), p = d3.scale.linear(), q = function(a) {
            return a.x;
        }, r = function(a) {
            return a.y;
        }, s = function(a) {
            return a.yErr;
        }, t = [ 0 ], u = a.utils.defaultColor(), v = null, w = !1, x = !1, y = !1, z = 60, A = .1, B = .75, C = d3.format(",.2f"), D = 250, E = d3.dispatch("chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "elementMousemove", "renderEnd"), F = a.utils.renderWatch(E, D);
        return b.dispatch = E, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            height: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            x: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            y: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            yErr: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            xScale: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            yScale: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            xDomain: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            yDomain: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            xRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            yRange: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            forceY: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            stacked: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            showValues: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            disabled: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c = a;
                }
            },
            id: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            valueFormat: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a;
                }
            },
            valuePadding: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a;
                }
            },
            groupSpacing: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            fillOpacity: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a;
                }
            },
            margin: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j.top = void 0 !== a.top ? a.top : j.top, j.right = void 0 !== a.right ? a.right : j.right, 
                    j.bottom = void 0 !== a.bottom ? a.bottom : j.bottom, j.left = void 0 !== a.left ? a.left : j.left;
                }
            },
            duration: {
                get: function() {
                    return D;
                },
                set: function(a) {
                    D = a, F.reset(D);
                }
            },
            color: {
                get: function() {
                    return u;
                },
                set: function(b) {
                    u = a.utils.getColor(b);
                }
            },
            barColor: {
                get: function() {
                    return v;
                },
                set: function(b) {
                    v = b ? a.utils.getColor(b) : null;
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.multiBarHorizontalChart = function() {
        "use strict";
        function b(j) {
            return D.reset(), D.models(e), s && D.models(f), t && D.models(g), j.each(function(j) {
                var x = d3.select(this);
                a.utils.initSVG(x);
                var D = a.utils.availableWidth(m, x, k), E = a.utils.availableHeight(n, x, k);
                if (b.update = function() {
                    x.transition().duration(A).call(b);
                }, b.container = this, u = e.stacked(), v.setter(C(j), b.update).getter(B(j)).update(), 
                v.disabled = j.map(function(a) {
                    return !!a.disabled;
                }), !w) {
                    var F;
                    w = {};
                    for (F in v) v[F] instanceof Array ? w[F] = v[F].slice(0) : w[F] = v[F];
                }
                if (!(j && j.length && j.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, x), b;
                x.selectAll(".nv-noData").remove(), c = e.xScale(), d = e.yScale().clamp(!0);
                var G = x.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([ j ]), H = G.enter().append("g").attr("class", "nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"), I = G.select("g");
                if (H.append("g").attr("class", "nv-x nv-axis"), H.append("g").attr("class", "nv-y nv-axis").append("g").attr("class", "nv-zeroLine").append("line"), 
                H.append("g").attr("class", "nv-barsWrap"), H.append("g").attr("class", "nv-legendWrap"), 
                H.append("g").attr("class", "nv-controlsWrap"), r ? (h.width(D - z()), I.select(".nv-legendWrap").datum(j).call(h), 
                l || h.height() === k.top || (k.top = h.height(), E = a.utils.availableHeight(n, x, k)), 
                I.select(".nv-legendWrap").attr("transform", "translate(" + z() + "," + -k.top + ")")) : I.select(".nv-legendWrap").selectAll("*").remove(), 
                p) {
                    var J = [ {
                        key: q.grouped || "Grouped",
                        disabled: e.stacked()
                    }, {
                        key: q.stacked || "Stacked",
                        disabled: !e.stacked()
                    } ];
                    i.width(z()).color([ "#444", "#444", "#444" ]), I.select(".nv-controlsWrap").datum(J).attr("transform", "translate(0," + -k.top + ")").call(i);
                } else I.select(".nv-controlsWrap").selectAll("*").remove();
                G.attr("transform", "translate(" + k.left + "," + k.top + ")"), e.disabled(j.map(function(a) {
                    return a.disabled;
                })).width(D).height(E).color(j.map(function(a, b) {
                    return a.color || o(a, b);
                }).filter(function(a, b) {
                    return !j[b].disabled;
                }));
                var K = I.select(".nv-barsWrap").datum(j.filter(function(a) {
                    return !a.disabled;
                }));
                if (K.transition().call(e), s) {
                    f.scale(c)._ticks(a.utils.calcTicksY(E / 24, j)).tickSize(-D, 0), I.select(".nv-x.nv-axis").call(f);
                    var L = I.select(".nv-x.nv-axis").selectAll("g");
                    L.selectAll("line, text");
                }
                t && (g.scale(d)._ticks(a.utils.calcTicksX(D / 100, j)).tickSize(-E, 0), I.select(".nv-y.nv-axis").attr("transform", "translate(0," + E + ")"), 
                I.select(".nv-y.nv-axis").call(g)), I.select(".nv-zeroLine line").attr("x1", d(0)).attr("x2", d(0)).attr("y1", 0).attr("y2", -E), 
                h.dispatch.on("stateChange", function(a) {
                    for (var c in a) v[c] = a[c];
                    y.stateChange(v), b.update();
                }), i.dispatch.on("legendClick", function(a, c) {
                    if (a.disabled) {
                        switch (J = J.map(function(a) {
                            return a.disabled = !0, a;
                        }), a.disabled = !1, a.key) {
                          case "Grouped":
                          case q.grouped:
                            e.stacked(!1);
                            break;

                          case "Stacked":
                          case q.stacked:
                            e.stacked(!0);
                        }
                        v.stacked = e.stacked(), y.stateChange(v), u = e.stacked(), b.update();
                    }
                }), y.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (j.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), v.disabled = a.disabled), "undefined" != typeof a.stacked && (e.stacked(a.stacked), 
                    v.stacked = a.stacked, u = a.stacked), b.update();
                });
            }), D.renderEnd("multibar horizontal chart immediate"), b;
        }
        var c, d, e = a.models.multiBarHorizontal(), f = a.models.axis(), g = a.models.axis(), h = a.models.legend().height(30), i = a.models.legend().height(30), j = a.models.tooltip(), k = {
            top: 30,
            right: 20,
            bottom: 50,
            left: 60
        }, l = null, m = null, n = null, o = a.utils.defaultColor(), p = !0, q = {}, r = !0, s = !0, t = !0, u = !1, v = a.utils.state(), w = null, x = null, y = d3.dispatch("stateChange", "changeState", "renderEnd"), z = function() {
            return p ? 180 : 0;
        }, A = 250;
        v.stacked = !1, e.stacked(u), f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a) {
            return a;
        }), g.orient("bottom").tickFormat(d3.format(",.1f")), j.duration(0).valueFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }).headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }), i.updateState(!1);
        var B = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    }),
                    stacked: u
                };
            };
        }, C = function(a) {
            return function(b) {
                void 0 !== b.stacked && (u = b.stacked), void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        }, D = a.utils.renderWatch(y, A);
        return e.dispatch.on("elementMouseover.tooltip", function(a) {
            a.value = b.x()(a.data), a.series = {
                key: a.data.key,
                value: b.y()(a.data),
                color: a.color
            }, j.data(a).hidden(!1);
        }), e.dispatch.on("elementMouseout.tooltip", function(a) {
            j.hidden(!0);
        }), e.dispatch.on("elementMousemove.tooltip", function(a) {
            j();
        }), b.dispatch = y, b.multibar = e, b.legend = h, b.controls = i, b.xAxis = f, b.yAxis = g, 
        b.state = v, b.tooltip = j, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            height: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            showLegend: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            showControls: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            controlLabels: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            showXAxis: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            showYAxis: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            defaultState: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            noData: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            margin: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    void 0 !== a.top && (k.top = a.top, l = a.top), k.right = void 0 !== a.right ? a.right : k.right, 
                    k.bottom = void 0 !== a.bottom ? a.bottom : k.bottom, k.left = void 0 !== a.left ? a.left : k.left;
                }
            },
            duration: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a, D.reset(A), e.duration(A), f.duration(A), g.duration(A);
                }
            },
            color: {
                get: function() {
                    return o;
                },
                set: function(b) {
                    o = a.utils.getColor(b), h.color(o);
                }
            },
            barColor: {
                get: function() {
                    return e.barColor;
                },
                set: function(a) {
                    e.barColor(a), h.color(function(a, b) {
                        return d3.rgb("#ccc").darker(1.5 * b).toString();
                    });
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.multiChart = function() {
        "use strict";
        function b(k) {
            return k.each(function(k) {
                function o(a) {
                    var b = 2 === k[a.seriesIndex].yAxis ? G : F;
                    a.value = a.point.x, a.series = {
                        value: a.point.y,
                        color: a.point.color,
                        key: a.series.key
                    }, I.duration(0).headerFormatter(function(a, b) {
                        return E.tickFormat()(a, b);
                    }).valueFormatter(function(a, c) {
                        return b.tickFormat()(a, c);
                    }).data(a).hidden(!1);
                }
                function s(a) {
                    var b = 2 === k[a.seriesIndex].yAxis ? G : F;
                    a.value = a.point.x, a.series = {
                        value: a.point.y,
                        color: a.point.color,
                        key: a.series.key
                    }, I.duration(100).headerFormatter(function(a, b) {
                        return E.tickFormat()(a, b);
                    }).valueFormatter(function(a, c) {
                        return b.tickFormat()(a, c);
                    }).data(a).hidden(!1);
                }
                function J(a) {
                    var b = 2 === k[a.seriesIndex].yAxis ? G : F;
                    a.point.x = C.x()(a.point), a.point.y = C.y()(a.point), I.duration(0).headerFormatter(function(a, b) {
                        return E.tickFormat()(a, b);
                    }).valueFormatter(function(a, c) {
                        return b.tickFormat()(a, c);
                    }).data(a).hidden(!1);
                }
                function L(a) {
                    var b = 2 === k[a.data.series].yAxis ? G : F;
                    a.value = A.x()(a.data), a.series = {
                        value: A.y()(a.data),
                        color: a.color,
                        key: a.data.key
                    }, I.duration(0).headerFormatter(function(a, b) {
                        return E.tickFormat()(a, b);
                    }).valueFormatter(function(a, c) {
                        return b.tickFormat()(a, c);
                    }).data(a).hidden(!1);
                }
                function M() {
                    for (var a = 0, b = K.length; b > a; a++) {
                        var c = K[a];
                        try {
                            c.clearHighlights();
                        } catch (d) {}
                    }
                }
                function N(a, b, c) {
                    for (var d = 0, e = K.length; e > d; d++) {
                        var f = K[d];
                        try {
                            f.highlightPoint(a, b, c);
                        } catch (g) {}
                    }
                }
                var O = d3.select(this);
                a.utils.initSVG(O), b.update = function() {
                    O.transition().call(b);
                }, b.container = this;
                var P = a.utils.availableWidth(h, O, e), Q = a.utils.availableHeight(i, O, e), R = k.filter(function(a) {
                    return "line" == a.type && 1 == a.yAxis;
                }), S = k.filter(function(a) {
                    return "line" == a.type && 2 == a.yAxis;
                }), T = k.filter(function(a) {
                    return "scatter" == a.type && 1 == a.yAxis;
                }), U = k.filter(function(a) {
                    return "scatter" == a.type && 2 == a.yAxis;
                }), V = k.filter(function(a) {
                    return "bar" == a.type && 1 == a.yAxis;
                }), W = k.filter(function(a) {
                    return "bar" == a.type && 2 == a.yAxis;
                }), X = k.filter(function(a) {
                    return "area" == a.type && 1 == a.yAxis;
                }), Y = k.filter(function(a) {
                    return "area" == a.type && 2 == a.yAxis;
                });
                if (!(k && k.length && k.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, O), b;
                O.selectAll(".nv-noData").remove();
                var Z = k.filter(function(a) {
                    return !a.disabled && 1 == a.yAxis;
                }).map(function(a) {
                    return a.values.map(function(a, b) {
                        return {
                            x: l(a),
                            y: m(a)
                        };
                    });
                }), $ = k.filter(function(a) {
                    return !a.disabled && 2 == a.yAxis;
                }).map(function(a) {
                    return a.values.map(function(a, b) {
                        return {
                            x: l(a),
                            y: m(a)
                        };
                    });
                });
                t.domain(d3.extent(d3.merge(Z.concat($)), function(a) {
                    return a.x;
                })).range([ 0, P ]);
                var _ = O.selectAll("g.wrap.multiChart").data([ k ]), aa = _.enter().append("g").attr("class", "wrap nvd3 multiChart").append("g");
                aa.append("g").attr("class", "nv-x nv-axis"), aa.append("g").attr("class", "nv-y1 nv-axis"), 
                aa.append("g").attr("class", "nv-y2 nv-axis"), aa.append("g").attr("class", "stack1Wrap"), 
                aa.append("g").attr("class", "stack2Wrap"), aa.append("g").attr("class", "bars1Wrap"), 
                aa.append("g").attr("class", "bars2Wrap"), aa.append("g").attr("class", "scatters1Wrap"), 
                aa.append("g").attr("class", "scatters2Wrap"), aa.append("g").attr("class", "lines1Wrap"), 
                aa.append("g").attr("class", "lines2Wrap"), aa.append("g").attr("class", "legendWrap"), 
                aa.append("g").attr("class", "nv-interactive");
                var ba = _.select("g"), ca = k.map(function(a, b) {
                    return k[b].color || g(a, b);
                });
                if (j) {
                    var da = H.align() ? P / 2 : P, ea = H.align() ? da : 0;
                    H.width(da), H.color(ca), ba.select(".legendWrap").datum(k.map(function(a) {
                        return a.originalKey = void 0 === a.originalKey ? a.key : a.originalKey, a.key = a.originalKey + (1 == a.yAxis ? "" : r), 
                        a;
                    })).call(H), f || H.height() === e.top || (e.top = H.height(), Q = a.utils.availableHeight(i, O, e)), 
                    ba.select(".legendWrap").attr("transform", "translate(" + ea + "," + -e.top + ")");
                } else ba.select(".legendWrap").selectAll("*").remove();
                w.width(P).height(Q).interpolate(n).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 1 == k[b].yAxis && "line" == k[b].type;
                })), x.width(P).height(Q).interpolate(n).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 2 == k[b].yAxis && "line" == k[b].type;
                })), y.width(P).height(Q).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 1 == k[b].yAxis && "scatter" == k[b].type;
                })), z.width(P).height(Q).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 2 == k[b].yAxis && "scatter" == k[b].type;
                })), A.width(P).height(Q).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 1 == k[b].yAxis && "bar" == k[b].type;
                })), B.width(P).height(Q).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 2 == k[b].yAxis && "bar" == k[b].type;
                })), C.width(P).height(Q).interpolate(n).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 1 == k[b].yAxis && "area" == k[b].type;
                })), D.width(P).height(Q).interpolate(n).color(ca.filter(function(a, b) {
                    return !k[b].disabled && 2 == k[b].yAxis && "area" == k[b].type;
                })), ba.attr("transform", "translate(" + e.left + "," + e.top + ")");
                var fa = ba.select(".lines1Wrap").datum(R.filter(function(a) {
                    return !a.disabled;
                })), ga = ba.select(".scatters1Wrap").datum(T.filter(function(a) {
                    return !a.disabled;
                })), ha = ba.select(".bars1Wrap").datum(V.filter(function(a) {
                    return !a.disabled;
                })), ia = ba.select(".stack1Wrap").datum(X.filter(function(a) {
                    return !a.disabled;
                })), ja = ba.select(".lines2Wrap").datum(S.filter(function(a) {
                    return !a.disabled;
                })), ka = ba.select(".scatters2Wrap").datum(U.filter(function(a) {
                    return !a.disabled;
                })), la = ba.select(".bars2Wrap").datum(W.filter(function(a) {
                    return !a.disabled;
                })), ma = ba.select(".stack2Wrap").datum(Y.filter(function(a) {
                    return !a.disabled;
                })), na = X.length ? X.map(function(a) {
                    return a.values;
                }).reduce(function(a, b) {
                    return a.map(function(a, c) {
                        return {
                            x: a.x,
                            y: a.y + b[c].y
                        };
                    });
                }).concat([ {
                    x: 0,
                    y: 0
                } ]) : [], oa = Y.length ? Y.map(function(a) {
                    return a.values;
                }).reduce(function(a, b) {
                    return a.map(function(a, c) {
                        return {
                            x: a.x,
                            y: a.y + b[c].y
                        };
                    });
                }).concat([ {
                    x: 0,
                    y: 0
                } ]) : [];
                u.domain(c || d3.extent(d3.merge(Z).concat(na), function(a) {
                    return a.y;
                })).range([ 0, Q ]), v.domain(d || d3.extent(d3.merge($).concat(oa), function(a) {
                    return a.y;
                })).range([ 0, Q ]), w.yDomain(u.domain()), y.yDomain(u.domain()), A.yDomain(u.domain()), 
                C.yDomain(u.domain()), x.yDomain(v.domain()), z.yDomain(v.domain()), B.yDomain(v.domain()), 
                D.yDomain(v.domain()), X.length && d3.transition(ia).call(C), Y.length && d3.transition(ma).call(D), 
                V.length && d3.transition(ha).call(A), W.length && d3.transition(la).call(B), R.length && d3.transition(fa).call(w), 
                S.length && d3.transition(ja).call(x), T.length && d3.transition(ga).call(y), U.length && d3.transition(ka).call(z), 
                E._ticks(a.utils.calcTicksX(P / 100, k)).tickSize(-Q, 0), ba.select(".nv-x.nv-axis").attr("transform", "translate(0," + Q + ")"), 
                d3.transition(ba.select(".nv-x.nv-axis")).call(E), F._ticks(a.utils.calcTicksY(Q / 36, k)).tickSize(-P, 0), 
                d3.transition(ba.select(".nv-y1.nv-axis")).call(F), G._ticks(a.utils.calcTicksY(Q / 36, k)).tickSize(-P, 0), 
                d3.transition(ba.select(".nv-y2.nv-axis")).call(G), ba.select(".nv-y1.nv-axis").classed("nv-disabled", !Z.length).attr("transform", "translate(" + t.range()[0] + ",0)"), 
                ba.select(".nv-y2.nv-axis").classed("nv-disabled", !$.length).attr("transform", "translate(" + t.range()[1] + ",0)"), 
                H.dispatch.on("stateChange", function(a) {
                    b.update();
                }), q && (p.width(P).height(Q).margin({
                    left: e.left,
                    top: e.top
                }).svgContainer(O).xScale(t), _.select(".nv-interactive").call(p)), q ? (p.dispatch.on("elementMousemove", function(c) {
                    M();
                    var d, e, f, h = [];
                    k.filter(function(a, b) {
                        return a.seriesIndex = b, !a.disabled;
                    }).forEach(function(i, j) {
                        var k = t.domain(), l = i.values.filter(function(a, c) {
                            return b.x()(a, c) >= k[0] && b.x()(a, c) <= k[1];
                        });
                        e = a.interactiveBisect(l, c.pointXValue, b.x());
                        var m = l[e], n = b.y()(m, e);
                        null !== n && N(j, e, !0), void 0 !== m && (void 0 === d && (d = m), void 0 === f && (f = t(b.x()(m, e))), 
                        h.push({
                            key: i.key,
                            value: n,
                            color: g(i, i.seriesIndex),
                            data: m,
                            yAxis: 2 == i.yAxis ? G : F
                        }));
                    });
                    var i = function(a, b) {
                        var c = h[b].yAxis;
                        return null == a ? "N/A" : c.tickFormat()(a);
                    };
                    p.tooltip.headerFormatter(function(a, b) {
                        return E.tickFormat()(a, b);
                    }).valueFormatter(p.tooltip.valueFormatter() || i).data({
                        value: b.x()(d, e),
                        index: e,
                        series: h
                    })(), p.renderGuideLine(f);
                }), p.dispatch.on("elementMouseout", function(a) {
                    M();
                })) : (w.dispatch.on("elementMouseover.tooltip", o), x.dispatch.on("elementMouseover.tooltip", o), 
                w.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), x.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), y.dispatch.on("elementMouseover.tooltip", s), z.dispatch.on("elementMouseover.tooltip", s), 
                y.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), z.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), C.dispatch.on("elementMouseover.tooltip", J), D.dispatch.on("elementMouseover.tooltip", J), 
                C.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), D.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), A.dispatch.on("elementMouseover.tooltip", L), B.dispatch.on("elementMouseover.tooltip", L), 
                A.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), B.dispatch.on("elementMouseout.tooltip", function(a) {
                    I.hidden(!0);
                }), A.dispatch.on("elementMousemove.tooltip", function(a) {
                    I();
                }), B.dispatch.on("elementMousemove.tooltip", function(a) {
                    I();
                }));
            }), b;
        }
        var c, d, e = {
            top: 30,
            right: 20,
            bottom: 50,
            left: 60
        }, f = null, g = a.utils.defaultColor(), h = null, i = null, j = !0, k = null, l = function(a) {
            return a.x;
        }, m = function(a) {
            return a.y;
        }, n = "linear", o = !0, p = a.interactiveGuideline(), q = !1, r = " (right axis)", s = 250, t = d3.scale.linear(), u = d3.scale.linear(), v = d3.scale.linear(), w = a.models.line().yScale(u).duration(s), x = a.models.line().yScale(v).duration(s), y = a.models.scatter().yScale(u).duration(s), z = a.models.scatter().yScale(v).duration(s), A = a.models.multiBar().stacked(!1).yScale(u).duration(s), B = a.models.multiBar().stacked(!1).yScale(v).duration(s), C = a.models.stackedArea().yScale(u).duration(s), D = a.models.stackedArea().yScale(v).duration(s), E = a.models.axis().scale(t).orient("bottom").tickPadding(5).duration(s), F = a.models.axis().scale(u).orient("left").duration(s), G = a.models.axis().scale(v).orient("right").duration(s), H = a.models.legend().height(30), I = a.models.tooltip(), J = d3.dispatch(), K = [ w, x, y, z, A, B, C, D ];
        return b.dispatch = J, b.legend = H, b.lines1 = w, b.lines2 = x, b.scatters1 = y, 
        b.scatters2 = z, b.bars1 = A, b.bars2 = B, b.stack1 = C, b.stack2 = D, b.xAxis = E, 
        b.yAxis1 = F, b.yAxis2 = G, b.tooltip = I, b.interactiveLayer = p, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            width: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            height: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            showLegend: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            yDomain1: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c = a;
                }
            },
            yDomain2: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            noData: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            interpolate: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            legendRightAxisHint: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            margin: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    void 0 !== a.top && (e.top = a.top, f = a.top), e.right = void 0 !== a.right ? a.right : e.right, 
                    e.bottom = void 0 !== a.bottom ? a.bottom : e.bottom, e.left = void 0 !== a.left ? a.left : e.left;
                }
            },
            color: {
                get: function() {
                    return g;
                },
                set: function(b) {
                    g = a.utils.getColor(b);
                }
            },
            x: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a, w.x(a), x.x(a), y.x(a), z.x(a), A.x(a), B.x(a), C.x(a), D.x(a);
                }
            },
            y: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a, w.y(a), x.y(a), y.y(a), z.y(a), C.y(a), D.y(a), A.y(a), B.y(a);
                }
            },
            useVoronoi: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a, w.useVoronoi(a), x.useVoronoi(a), C.useVoronoi(a), D.useVoronoi(a);
                }
            },
            useInteractiveGuideline: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a, q && (w.interactive(!1), w.useVoronoi(!1), x.interactive(!1), x.useVoronoi(!1), 
                    C.interactive(!1), C.useVoronoi(!1), D.interactive(!1), D.useVoronoi(!1), y.interactive(!1), 
                    z.interactive(!1));
                }
            },
            duration: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a, [ w, x, C, D, y, z, E, F, G ].forEach(function(a) {
                        a.duration(s);
                    });
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.ohlcBar = function() {
        "use strict";
        function b(y) {
            return y.each(function(b) {
                k = d3.select(this);
                var y = a.utils.availableWidth(h, k, g), A = a.utils.availableHeight(i, k, g);
                a.utils.initSVG(k);
                var B = y / b[0].values.length * .9;
                l.domain(c || d3.extent(b[0].values.map(n).concat(t))), v ? l.range(e || [ .5 * y / b[0].values.length, y * (b[0].values.length - .5) / b[0].values.length ]) : l.range(e || [ 5 + B / 2, y - B / 2 - 5 ]), 
                m.domain(d || [ d3.min(b[0].values.map(s).concat(u)), d3.max(b[0].values.map(r).concat(u)) ]).range(f || [ A, 0 ]), 
                l.domain()[0] === l.domain()[1] && (l.domain()[0] ? l.domain([ l.domain()[0] - .01 * l.domain()[0], l.domain()[1] + .01 * l.domain()[1] ]) : l.domain([ -1, 1 ])), 
                m.domain()[0] === m.domain()[1] && (m.domain()[0] ? m.domain([ m.domain()[0] + .01 * m.domain()[0], m.domain()[1] - .01 * m.domain()[1] ]) : m.domain([ -1, 1 ]));
                var C = d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([ b[0].values ]), D = C.enter().append("g").attr("class", "nvd3 nv-wrap nv-ohlcBar"), E = D.append("defs"), F = D.append("g"), G = C.select("g");
                F.append("g").attr("class", "nv-ticks"), C.attr("transform", "translate(" + g.left + "," + g.top + ")"), 
                k.on("click", function(a, b) {
                    z.chartClick({
                        data: a,
                        index: b,
                        pos: d3.event,
                        id: j
                    });
                }), E.append("clipPath").attr("id", "nv-chart-clip-path-" + j).append("rect"), C.select("#nv-chart-clip-path-" + j + " rect").attr("width", y).attr("height", A), 
                G.attr("clip-path", w ? "url(#nv-chart-clip-path-" + j + ")" : "");
                var H = C.select(".nv-ticks").selectAll(".nv-tick").data(function(a) {
                    return a;
                });
                H.exit().remove(), H.enter().append("path").attr("class", function(a, b, c) {
                    return (p(a, b) > q(a, b) ? "nv-tick negative" : "nv-tick positive") + " nv-tick-" + c + "-" + b;
                }).attr("d", function(a, b) {
                    return "m0,0l0," + (m(p(a, b)) - m(r(a, b))) + "l" + -B / 2 + ",0l" + B / 2 + ",0l0," + (m(s(a, b)) - m(p(a, b))) + "l0," + (m(q(a, b)) - m(s(a, b))) + "l" + B / 2 + ",0l" + -B / 2 + ",0z";
                }).attr("transform", function(a, b) {
                    return "translate(" + l(n(a, b)) + "," + m(r(a, b)) + ")";
                }).attr("fill", function(a, b) {
                    return x[0];
                }).attr("stroke", function(a, b) {
                    return x[0];
                }).attr("x", 0).attr("y", function(a, b) {
                    return m(Math.max(0, o(a, b)));
                }).attr("height", function(a, b) {
                    return Math.abs(m(o(a, b)) - m(0));
                }), H.attr("class", function(a, b, c) {
                    return (p(a, b) > q(a, b) ? "nv-tick negative" : "nv-tick positive") + " nv-tick-" + c + "-" + b;
                }), d3.transition(H).attr("transform", function(a, b) {
                    return "translate(" + l(n(a, b)) + "," + m(r(a, b)) + ")";
                }).attr("d", function(a, c) {
                    var d = y / b[0].values.length * .9;
                    return "m0,0l0," + (m(p(a, c)) - m(r(a, c))) + "l" + -d / 2 + ",0l" + d / 2 + ",0l0," + (m(s(a, c)) - m(p(a, c))) + "l0," + (m(q(a, c)) - m(s(a, c))) + "l" + d / 2 + ",0l" + -d / 2 + ",0z";
                });
            }), b;
        }
        var c, d, e, f, g = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, h = null, i = null, j = Math.floor(1e4 * Math.random()), k = null, l = d3.scale.linear(), m = d3.scale.linear(), n = function(a) {
            return a.x;
        }, o = function(a) {
            return a.y;
        }, p = function(a) {
            return a.open;
        }, q = function(a) {
            return a.close;
        }, r = function(a) {
            return a.high;
        }, s = function(a) {
            return a.low;
        }, t = [], u = [], v = !1, w = !0, x = a.utils.defaultColor(), y = !1, z = d3.dispatch("stateChange", "changeState", "renderEnd", "chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "elementMousemove");
        return b.highlightPoint = function(a, c) {
            b.clearHighlights(), k.select(".nv-ohlcBar .nv-tick-0-" + a).classed("hover", c);
        }, b.clearHighlights = function() {
            k.select(".nv-ohlcBar .nv-tick.hover").classed("hover", !1);
        }, b.dispatch = z, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            height: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            xScale: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            yScale: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            xDomain: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c = a;
                }
            },
            yDomain: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            xRange: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            yRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            forceX: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            forceY: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            padData: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            clipEdge: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            id: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            interactive: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = a;
                }
            },
            x: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            y: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            open: {
                get: function() {
                    return p();
                },
                set: function(a) {
                    p = a;
                }
            },
            close: {
                get: function() {
                    return q();
                },
                set: function(a) {
                    q = a;
                }
            },
            high: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            low: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            margin: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g.top = void 0 != a.top ? a.top : g.top, g.right = void 0 != a.right ? a.right : g.right, 
                    g.bottom = void 0 != a.bottom ? a.bottom : g.bottom, g.left = void 0 != a.left ? a.left : g.left;
                }
            },
            color: {
                get: function() {
                    return x;
                },
                set: function(b) {
                    x = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.parallelCoordinates = function() {
        "use strict";
        function b(B) {
            return A.reset(), B.each(function(b) {
                function A(a) {
                    return x(o.map(function(b) {
                        if (isNaN(a.values[b.key]) || isNaN(parseFloat(a.values[b.key])) || O) {
                            var c = l[b.key].domain(), d = l[b.key].range(), e = c[0] - (c[1] - c[0]) / 9;
                            if (v.indexOf(b.key) < 0) {
                                var f = d3.scale.linear().domain([ e, c[1] ]).range([ j - 12, d[1] ]);
                                l[b.key].brush.y(f), v.push(b.key);
                            }
                            if (isNaN(a.values[b.key]) || isNaN(parseFloat(a.values[b.key]))) return [ k(b.key), l[b.key](e) ];
                        }
                        return void 0 !== U && (v.length > 0 || O ? (U.style("display", "inline"), V.style("display", "inline")) : (U.style("display", "none"), 
                        V.style("display", "none"))), [ k(b.key), l[b.key](a.values[b.key]) ];
                    }));
                }
                function B(a) {
                    s.forEach(function(b) {
                        var c = l[b.dimension].brush.y().domain();
                        b.hasOnlyNaN && (b.extent[1] = (l[b.dimension].domain()[1] - c[0]) * (b.extent[1] - b.extent[0]) / (N[b.dimension] - b.extent[0]) + c[0]), 
                        b.hasNaN && (b.extent[0] = c[0]), a && l[b.dimension].brush.extent(b.extent);
                    }), e.select(".nv-brushBackground").each(function(a) {
                        d3.select(this).call(l[a.key].brush);
                    }).selectAll("rect").attr("x", -8).attr("width", 16), F();
                }
                function C() {
                    q === !1 && (q = !0, B(!0));
                }
                function D() {
                    $ = p.filter(function(a) {
                        return !l[a].brush.empty();
                    }), _ = $.map(function(a) {
                        return l[a].brush.extent();
                    }), s = [], $.forEach(function(a, b) {
                        s[b] = {
                            dimension: a,
                            extent: _[b],
                            hasNaN: !1,
                            hasOnlyNaN: !1
                        };
                    }), t = [], c.style("display", function(a) {
                        var b = $.every(function(b, c) {
                            return !(!isNaN(a.values[b]) && !isNaN(parseFloat(a.values[b])) || _[c][0] != l[b].brush.y().domain()[0]) || _[c][0] <= a.values[b] && a.values[b] <= _[c][1] && !isNaN(parseFloat(a.values[b]));
                        });
                        return b && t.push(a), b ? null : "none";
                    }), F(), z.brush({
                        filters: s,
                        active: t
                    });
                }
                function E() {
                    var a = $.length > 0;
                    s.forEach(function(a) {
                        a.extent[0] === l[a.dimension].brush.y().domain()[0] && v.indexOf(a.dimension) >= 0 && (a.hasNaN = !0), 
                        a.extent[1] < l[a.dimension].domain()[0] && (a.hasOnlyNaN = !0);
                    }), z.brushEnd(t, a);
                }
                function F() {
                    e.select(".nv-axis").each(function(a, b) {
                        var c = s.filter(function(b) {
                            return b.dimension == a.key;
                        });
                        P[a.key] = l[a.key].domain(), 0 != c.length && q && (P[a.key] = [], c[0].extent[1] > l[a.key].domain()[0] && (P[a.key] = [ c[0].extent[1] ]), 
                        c[0].extent[0] >= l[a.key].domain()[0] && P[a.key].push(c[0].extent[0])), d3.select(this).call(y.scale(l[a.key]).tickFormat(a.format).tickValues(P[a.key]));
                    });
                }
                function G(a) {
                    u[a.key] = this.parentNode.__origin__ = k(a.key), d.attr("visibility", "hidden");
                }
                function H(a) {
                    u[a.key] = Math.min(i, Math.max(0, this.parentNode.__origin__ += d3.event.x)), c.attr("d", A), 
                    o.sort(function(a, b) {
                        return J(a.key) - J(b.key);
                    }), o.forEach(function(a, b) {
                        return a.currentPosition = b;
                    }), k.domain(o.map(function(a) {
                        return a.key;
                    })), e.attr("transform", function(a) {
                        return "translate(" + J(a.key) + ")";
                    });
                }
                function I(a, b) {
                    delete this.parentNode.__origin__, delete u[a.key], d3.select(this.parentNode).attr("transform", "translate(" + k(a.key) + ")"), 
                    c.attr("d", A), d.attr("d", A).attr("visibility", null), z.dimensionsOrder(o);
                }
                function J(a) {
                    var b = u[a];
                    return null == b ? k(a) : b;
                }
                var K = d3.select(this);
                if (i = a.utils.availableWidth(g, K, f), j = a.utils.availableHeight(h, K, f), a.utils.initSVG(K), 
                void 0 === b[0].values) {
                    var L = [];
                    b.forEach(function(a) {
                        var b = {}, c = Object.keys(a);
                        c.forEach(function(c) {
                            "name" !== c && (b[c] = a[c]);
                        }), L.push({
                            key: a.name,
                            values: b
                        });
                    }), b = L;
                }
                var M = b.map(function(a) {
                    return a.values;
                });
                0 === t.length && (t = b), p = n.sort(function(a, b) {
                    return a.currentPosition - b.currentPosition;
                }).map(function(a) {
                    return a.key;
                }), o = n.filter(function(a) {
                    return !a.disabled;
                }), k.rangePoints([ 0, i ], 1).domain(o.map(function(a) {
                    return a.key;
                }));
                var N = {}, O = !1, P = [];
                p.forEach(function(a) {
                    var b = d3.extent(M, function(b) {
                        return +b[a];
                    }), c = b[0], d = b[1], e = !1;
                    (isNaN(c) || isNaN(d)) && (e = !0, c = 0, d = 0), c === d && (c -= 1, d += 1);
                    var f = s.filter(function(b) {
                        return b.dimension == a;
                    });
                    0 !== f.length && (e ? (c = l[a].domain()[0], d = l[a].domain()[1]) : !f[0].hasOnlyNaN && q ? (c = c > f[0].extent[0] ? f[0].extent[0] : c, 
                    d = d < f[0].extent[1] ? f[0].extent[1] : d) : f[0].hasNaN && (d = d < f[0].extent[1] ? f[0].extent[1] : d, 
                    N[a] = l[a].domain()[1], O = !0)), l[a] = d3.scale.linear().domain([ c, d ]).range([ .9 * (j - 12), 0 ]), 
                    v = [], l[a].brush = d3.svg.brush().y(l[a]).on("brushstart", C).on("brush", D).on("brushend", E);
                });
                var Q = K.selectAll("g.nv-wrap.nv-parallelCoordinates").data([ b ]), R = Q.enter().append("g").attr("class", "nvd3 nv-wrap nv-parallelCoordinates"), S = R.append("g"), T = Q.select("g");
                S.append("g").attr("class", "nv-parallelCoordinates background"), S.append("g").attr("class", "nv-parallelCoordinates foreground"), 
                S.append("g").attr("class", "nv-parallelCoordinates missingValuesline"), Q.attr("transform", "translate(" + f.left + "," + f.top + ")"), 
                x.interpolate("cardinal").tension(w), y.orient("left");
                var U, V, W = d3.behavior.drag().on("dragstart", G).on("drag", H).on("dragend", I), X = k.range()[1] - k.range()[0];
                if (X = isNaN(X) ? k.range()[0] : X, !isNaN(X)) {
                    var Y = [ 0 + X / 2, j - 12, i - X / 2, j - 12 ];
                    U = Q.select(".missingValuesline").selectAll("line").data([ Y ]), U.enter().append("line"), 
                    U.exit().remove(), U.attr("x1", function(a) {
                        return a[0];
                    }).attr("y1", function(a) {
                        return a[1];
                    }).attr("x2", function(a) {
                        return a[2];
                    }).attr("y2", function(a) {
                        return a[3];
                    }), V = Q.select(".missingValuesline").selectAll("text").data([ m ]), V.append("text").data([ m ]), 
                    V.enter().append("text"), V.exit().remove(), V.attr("y", j).attr("x", i - 92 - X / 2).text(function(a) {
                        return a;
                    });
                }
                d = Q.select(".background").selectAll("path").data(b), d.enter().append("path"), 
                d.exit().remove(), d.attr("d", A), c = Q.select(".foreground").selectAll("path").data(b), 
                c.enter().append("path"), c.exit().remove(), c.attr("d", A).style("stroke-width", function(a, b) {
                    return isNaN(a.strokeWidth) && (a.strokeWidth = 1), a.strokeWidth;
                }).attr("stroke", function(a, b) {
                    return a.color || r(a, b);
                }), c.on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0).style("stroke-width", a.strokeWidth + 2 + "px").style("stroke-opacity", 1), 
                    z.elementMouseover({
                        label: a.name,
                        color: a.color || r(a, b),
                        values: a.values,
                        dimensions: o
                    });
                }), c.on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1).style("stroke-width", a.strokeWidth + "px").style("stroke-opacity", .7), 
                    z.elementMouseout({
                        label: a.name,
                        index: b
                    });
                }), c.on("mousemove", function(a, b) {
                    z.elementMousemove();
                }), c.on("click", function(a) {
                    z.elementClick({
                        id: a.id
                    });
                }), e = T.selectAll(".dimension").data(o);
                var Z = e.enter().append("g").attr("class", "nv-parallelCoordinates dimension");
                e.attr("transform", function(a) {
                    return "translate(" + k(a.key) + ",0)";
                }), Z.append("g").attr("class", "nv-axis"), Z.append("text").attr("class", "nv-label").style("cursor", "move").attr("dy", "-1em").attr("text-anchor", "middle").on("mouseover", function(a, b) {
                    z.elementMouseover({
                        label: a.tooltip || a.key,
                        color: a.color
                    });
                }).on("mouseout", function(a, b) {
                    z.elementMouseout({
                        label: a.tooltip
                    });
                }).on("mousemove", function(a, b) {
                    z.elementMousemove();
                }).call(W), Z.append("g").attr("class", "nv-brushBackground"), e.exit().remove(), 
                e.select(".nv-label").text(function(a) {
                    return a.key;
                }), B(q);
                var $ = p.filter(function(a) {
                    return !l[a].brush.empty();
                }), _ = $.map(function(a) {
                    return l[a].brush.extent();
                }), aa = t.slice(0);
                t = [], c.style("display", function(a) {
                    var b = $.every(function(b, c) {
                        return !(!isNaN(a.values[b]) && !isNaN(parseFloat(a.values[b])) || _[c][0] != l[b].brush.y().domain()[0]) || _[c][0] <= a.values[b] && a.values[b] <= _[c][1] && !isNaN(parseFloat(a.values[b]));
                    });
                    return b && t.push(a), b ? null : "none";
                }), (s.length > 0 || !a.utils.arrayEquals(t, aa)) && z.activeChanged(t);
            }), b;
        }
        var c, d, e, f = {
            top: 30,
            right: 0,
            bottom: 10,
            left: 0
        }, g = null, h = null, i = null, j = null, k = d3.scale.ordinal(), l = {}, m = "undefined values", n = [], o = [], p = [], q = !0, r = a.utils.defaultColor(), s = [], t = [], u = [], v = [], w = 1, x = d3.svg.line(), y = d3.svg.axis(), z = d3.dispatch("brushstart", "brush", "brushEnd", "dimensionsOrder", "stateChange", "elementClick", "elementMouseover", "elementMouseout", "elementMousemove", "renderEnd", "activeChanged"), A = a.utils.renderWatch(z);
        return b.dispatch = z, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            height: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            dimensionData: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            displayBrush: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            filters: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            active: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            lineTension: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            undefinedValuesLabel: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            dimensions: {
                get: function() {
                    return n.map(function(a) {
                        return a.key;
                    });
                },
                set: function(b) {
                    a.deprecated("dimensions", "use dimensionData instead"), 0 === n.length ? b.forEach(function(a) {
                        n.push({
                            key: a
                        });
                    }) : b.forEach(function(a, b) {
                        n[b].key = a;
                    });
                }
            },
            dimensionNames: {
                get: function() {
                    return n.map(function(a) {
                        return a.key;
                    });
                },
                set: function(b) {
                    a.deprecated("dimensionNames", "use dimensionData instead"), p = [], 0 === n.length ? b.forEach(function(a) {
                        n.push({
                            key: a
                        });
                    }) : b.forEach(function(a, b) {
                        n[b].key = a;
                    });
                }
            },
            dimensionFormats: {
                get: function() {
                    return n.map(function(a) {
                        return a.format;
                    });
                },
                set: function(b) {
                    a.deprecated("dimensionFormats", "use dimensionData instead"), 0 === n.length ? b.forEach(function(a) {
                        n.push({
                            format: a
                        });
                    }) : b.forEach(function(a, b) {
                        n[b].format = a;
                    });
                }
            },
            margin: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f.top = void 0 !== a.top ? a.top : f.top, f.right = void 0 !== a.right ? a.right : f.right, 
                    f.bottom = void 0 !== a.bottom ? a.bottom : f.bottom, f.left = void 0 !== a.left ? a.left : f.left;
                }
            },
            color: {
                get: function() {
                    return r;
                },
                set: function(b) {
                    r = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.parallelCoordinatesChart = function() {
        "use strict";
        function b(e) {
            return s.reset(), s.models(c), e.each(function(e) {
                var k = d3.select(this);
                a.utils.initSVG(k);
                var p = a.utils.availableWidth(h, k, f), q = a.utils.availableHeight(i, k, f);
                if (b.update = function() {
                    k.call(b);
                }, b.container = this, l.setter(u(m), b.update).getter(t(m)).update(), l.disabled = m.map(function(a) {
                    return !!a.disabled;
                }), m = m.map(function(a) {
                    return a.disabled = !!a.disabled, a;
                }), m.forEach(function(a, b) {
                    a.originalPosition = isNaN(a.originalPosition) ? b : a.originalPosition, a.currentPosition = isNaN(a.currentPosition) ? b : a.currentPosition;
                }), !o) {
                    var s;
                    o = {};
                    for (s in l) l[s] instanceof Array ? o[s] = l[s].slice(0) : o[s] = l[s];
                }
                if (!e || !e.length) return a.utils.noData(b, k), b;
                k.selectAll(".nv-noData").remove();
                var v = k.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([ e ]), w = v.enter().append("g").attr("class", "nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"), x = v.select("g");
                w.append("g").attr("class", "nv-parallelCoordinatesWrap"), w.append("g").attr("class", "nv-legendWrap"), 
                x.select("rect").attr("width", p).attr("height", q > 0 ? q : 0), j ? (d.width(p).color(function(a) {
                    return "rgb(188,190,192)";
                }), x.select(".nv-legendWrap").datum(m.sort(function(a, b) {
                    return a.originalPosition - b.originalPosition;
                })).call(d), g || d.height() === f.top || (f.top = d.height(), q = a.utils.availableHeight(i, k, f)), 
                v.select(".nv-legendWrap").attr("transform", "translate( 0 ," + -f.top + ")")) : x.select(".nv-legendWrap").selectAll("*").remove(), 
                v.attr("transform", "translate(" + f.left + "," + f.top + ")"), c.width(p).height(q).dimensionData(m).displayBrush(n);
                var y = x.select(".nv-parallelCoordinatesWrap ").datum(e);
                y.transition().call(c), c.dispatch.on("brushEnd", function(a, b) {
                    b ? (n = !0, r.brushEnd(a)) : n = !1;
                }), d.dispatch.on("stateChange", function(a) {
                    for (var c in a) l[c] = a[c];
                    r.stateChange(l), b.update();
                }), c.dispatch.on("dimensionsOrder", function(a) {
                    m.sort(function(a, b) {
                        return a.currentPosition - b.currentPosition;
                    });
                    var b = !1;
                    m.forEach(function(a, c) {
                        a.currentPosition = c, a.currentPosition !== a.originalPosition && (b = !0);
                    }), r.dimensionsOrder(m, b);
                }), r.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (m.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), l.disabled = a.disabled), b.update();
                });
            }), s.renderEnd("parraleleCoordinateChart immediate"), b;
        }
        var c = a.models.parallelCoordinates(), d = a.models.legend(), e = a.models.tooltip(), f = (a.models.tooltip(), 
        {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }), g = null, h = null, i = null, j = !0, k = a.utils.defaultColor(), l = a.utils.state(), m = [], n = !0, o = null, p = null, q = "undefined", r = d3.dispatch("dimensionsOrder", "brushEnd", "stateChange", "changeState", "renderEnd"), s = a.utils.renderWatch(r), t = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    })
                };
            };
        }, u = function(a) {
            return function(b) {
                void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        };
        return e.contentGenerator(function(a) {
            var b = '<table><thead><tr><td class="legend-color-guide"><div style="background-color:' + a.color + '"></div></td><td><strong>' + a.key + "</strong></td></tr></thead>";
            return 0 !== a.series.length && (b += '<tbody><tr><td height ="10px"></td></tr>', 
            a.series.forEach(function(a) {
                b = b + '<tr><td class="legend-color-guide"><div style="background-color:' + a.color + '"></div></td><td class="key">' + a.key + '</td><td class="value">' + a.value + "</td></tr>";
            }), b += "</tbody>"), b += "</table>";
        }), c.dispatch.on("elementMouseover.tooltip", function(a) {
            var b = {
                key: a.label,
                color: a.color,
                series: []
            };
            a.values && (Object.keys(a.values).forEach(function(c) {
                var d = a.dimensions.filter(function(a) {
                    return a.key === c;
                })[0];
                if (d) {
                    var e;
                    e = isNaN(a.values[c]) || isNaN(parseFloat(a.values[c])) ? q : d.format(a.values[c]), 
                    b.series.push({
                        idx: d.currentPosition,
                        key: c,
                        value: e,
                        color: d.color
                    });
                }
            }), b.series.sort(function(a, b) {
                return a.idx - b.idx;
            })), e.data(b).hidden(!1);
        }), c.dispatch.on("elementMouseout.tooltip", function(a) {
            e.hidden(!0);
        }), c.dispatch.on("elementMousemove.tooltip", function() {
            e();
        }), b.dispatch = r, b.parallelCoordinates = c, b.legend = d, b.tooltip = e, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            width: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            height: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            showLegend: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            defaultState: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            dimensionData: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            displayBrush: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            noData: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            nanValue: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            margin: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    void 0 !== a.top && (f.top = a.top, g = a.top), f.right = void 0 !== a.right ? a.right : f.right, 
                    f.bottom = void 0 !== a.bottom ? a.bottom : f.bottom, f.left = void 0 !== a.left ? a.left : f.left;
                }
            },
            color: {
                get: function() {
                    return k;
                },
                set: function(b) {
                    k = a.utils.getColor(b), d.color(k), c.color(k);
                }
            }
        }), a.utils.inheritOptions(b, c), a.utils.initOptions(b), b;
    }, a.models.pie = function() {
        "use strict";
        function b(F) {
            return E.reset(), F.each(function(b) {
                function F(a, b) {
                    a.endAngle = isNaN(a.endAngle) ? 0 : a.endAngle, a.startAngle = isNaN(a.startAngle) ? 0 : a.startAngle, 
                    p || (a.innerRadius = 0);
                    var c = d3.interpolate(this._current, a);
                    return this._current = c(0), function(a) {
                        return C[b](c(a));
                    };
                }
                var G = d - c.left - c.right, H = e - c.top - c.bottom, I = Math.min(G, H) / 2, J = [], K = [];
                if (i = d3.select(this), 0 === A.length) for (var L = I - I / 5, M = y * I, N = 0; N < b[0].length; N++) J.push(L), 
                K.push(M); else r ? (J = A.map(function(a) {
                    return (a.outer - a.outer / 5) * I;
                }), K = A.map(function(a) {
                    return (a.inner - a.inner / 5) * I;
                }), y = d3.min(A.map(function(a) {
                    return a.inner - a.inner / 5;
                }))) : (J = A.map(function(a) {
                    return a.outer * I;
                }), K = A.map(function(a) {
                    return a.inner * I;
                }), y = d3.min(A.map(function(a) {
                    return a.inner;
                })));
                a.utils.initSVG(i);
                var O = i.selectAll(".nv-wrap.nv-pie").data(b), P = O.enter().append("g").attr("class", "nvd3 nv-wrap nv-pie nv-chart-" + h), Q = P.append("g"), R = O.select("g"), S = Q.append("g").attr("class", "nv-pie");
                Q.append("g").attr("class", "nv-pieLabels"), O.attr("transform", "translate(" + c.left + "," + c.top + ")"), 
                R.select(".nv-pie").attr("transform", "translate(" + G / 2 + "," + H / 2 + ")"), 
                R.select(".nv-pieLabels").attr("transform", "translate(" + G / 2 + "," + H / 2 + ")"), 
                i.on("click", function(a, b) {
                    B.chartClick({
                        data: a,
                        index: b,
                        pos: d3.event,
                        id: h
                    });
                }), C = [], D = [];
                for (var N = 0; N < b[0].length; N++) {
                    var T = d3.svg.arc().outerRadius(J[N]), U = d3.svg.arc().outerRadius(J[N] + 5);
                    u !== !1 && (T.startAngle(u), U.startAngle(u)), w !== !1 && (T.endAngle(w), U.endAngle(w)), 
                    p && (T.innerRadius(K[N]), U.innerRadius(K[N])), T.cornerRadius && x && (T.cornerRadius(x), 
                    U.cornerRadius(x)), C.push(T), D.push(U);
                }
                var V = d3.layout.pie().sort(null).value(function(a) {
                    return a.disabled ? 0 : g(a);
                });
                V.padAngle && v && V.padAngle(v), p && q && (S.append("text").attr("class", "nv-pie-title"), 
                O.select(".nv-pie-title").style("text-anchor", "middle").text(function(a) {
                    return q;
                }).style("font-size", Math.min(G, H) * y * 2 / (q.length + 2) + "px").attr("dy", "0.35em").attr("transform", function(a, b) {
                    return "translate(0, " + s + ")";
                }));
                var W = O.select(".nv-pie").selectAll(".nv-slice").data(V), X = O.select(".nv-pieLabels").selectAll(".nv-label").data(V);
                W.exit().remove(), X.exit().remove();
                var Y = W.enter().append("g");
                if (Y.attr("class", "nv-slice"), Y.on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0), r && d3.select(this).select("path").transition().duration(70).attr("d", D[b]), 
                    B.elementMouseover({
                        data: a.data,
                        index: b,
                        color: d3.select(this).style("fill"),
                        percent: (a.endAngle - a.startAngle) / (2 * Math.PI)
                    });
                }), Y.on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1), r && d3.select(this).select("path").transition().duration(50).attr("d", C[b]), 
                    B.elementMouseout({
                        data: a.data,
                        index: b
                    });
                }), Y.on("mousemove", function(a, b) {
                    B.elementMousemove({
                        data: a.data,
                        index: b
                    });
                }), Y.on("click", function(a, b) {
                    var c = this;
                    B.elementClick({
                        data: a.data,
                        index: b,
                        color: d3.select(this).style("fill"),
                        event: d3.event,
                        element: c
                    });
                }), Y.on("dblclick", function(a, b) {
                    B.elementDblClick({
                        data: a.data,
                        index: b,
                        color: d3.select(this).style("fill")
                    });
                }), W.attr("fill", function(a, b) {
                    return j(a.data, b);
                }), W.attr("stroke", function(a, b) {
                    return j(a.data, b);
                }), Y.append("path").each(function(a) {
                    this._current = a;
                }), W.select("path").transition().duration(z).attr("d", function(a, b) {
                    return C[b](a);
                }).attrTween("d", F), l) {
                    for (var Z = [], N = 0; N < b[0].length; N++) Z.push(C[N]), m ? p && (Z[N] = d3.svg.arc().outerRadius(C[N].outerRadius()), 
                    u !== !1 && Z[N].startAngle(u), w !== !1 && Z[N].endAngle(w)) : p || Z[N].innerRadius(0);
                    X.enter().append("g").classed("nv-label", !0).each(function(a, b) {
                        var c = d3.select(this);
                        c.attr("transform", function(a, b) {
                            if (t) {
                                a.outerRadius = J[b] + 10, a.innerRadius = J[b] + 15;
                                var c = (a.startAngle + a.endAngle) / 2 * (180 / Math.PI);
                                return (a.startAngle + a.endAngle) / 2 < Math.PI ? c -= 90 : c += 90, "translate(" + Z[b].centroid(a) + ") rotate(" + c + ")";
                            }
                            return a.outerRadius = I + 10, a.innerRadius = I + 15, "translate(" + Z[b].centroid(a) + ")";
                        }), c.append("rect").style("stroke", "#fff").style("fill", "#fff").attr("rx", 3).attr("ry", 3), 
                        c.append("text").style("text-anchor", t ? (a.startAngle + a.endAngle) / 2 < Math.PI ? "start" : "end" : "middle").style("fill", "#000");
                    });
                    var $ = {}, _ = 14, aa = 140, ba = function(a) {
                        return Math.floor(a[0] / aa) * aa + "," + Math.floor(a[1] / _) * _;
                    }, ca = function(a) {
                        return (a.endAngle - a.startAngle) / (2 * Math.PI);
                    };
                    X.watchTransition(E, "pie labels").attr("transform", function(a, b) {
                        if (t) {
                            a.outerRadius = J[b] + 10, a.innerRadius = J[b] + 15;
                            var c = (a.startAngle + a.endAngle) / 2 * (180 / Math.PI);
                            return (a.startAngle + a.endAngle) / 2 < Math.PI ? c -= 90 : c += 90, "translate(" + Z[b].centroid(a) + ") rotate(" + c + ")";
                        }
                        a.outerRadius = I + 10, a.innerRadius = I + 15;
                        var d = Z[b].centroid(a), e = ca(a);
                        if (a.value && e >= o) {
                            var f = ba(d);
                            $[f] && (d[1] -= _), $[ba(d)] = !0;
                        }
                        return "translate(" + d + ")";
                    }), X.select(".nv-label text").style("text-anchor", function(a, b) {
                        return t ? (a.startAngle + a.endAngle) / 2 < Math.PI ? "start" : "end" : "middle";
                    }).text(function(a, b) {
                        var c = ca(a), d = "";
                        if (!a.value || o > c) return "";
                        if ("function" == typeof n) d = n(a, b, {
                            key: f(a.data),
                            value: g(a.data),
                            percent: k(c)
                        }); else switch (n) {
                          case "key":
                            d = f(a.data);
                            break;

                          case "value":
                            d = k(g(a.data));
                            break;

                          case "percent":
                            d = d3.format("%")(c);
                        }
                        return d;
                    });
                }
            }), E.renderEnd("pie immediate"), b;
        }
        var c = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, d = 500, e = 500, f = function(a) {
            return a.x;
        }, g = function(a) {
            return a.y;
        }, h = Math.floor(1e4 * Math.random()), i = null, j = a.utils.defaultColor(), k = d3.format(",.2f"), l = !0, m = !1, n = "key", o = .02, p = !1, q = !1, r = !0, s = 0, t = !1, u = !1, v = !1, w = !1, x = 0, y = .5, z = 250, A = [], B = d3.dispatch("chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "elementMousemove", "renderEnd"), C = [], D = [], E = a.utils.renderWatch(B);
        return b.dispatch = B, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            arcsRadius: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            width: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            height: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            showLabels: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            title: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            titleOffset: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            labelThreshold: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            valueFormat: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            x: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            id: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            endAngle: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a;
                }
            },
            startAngle: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            padAngle: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            cornerRadius: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            donutRatio: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = a;
                }
            },
            labelsOutside: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            labelSunbeamLayout: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            donut: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            growOnHover: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            pieLabelsOutside: {
                get: function() {
                    return m;
                },
                set: function(b) {
                    m = b, a.deprecated("pieLabelsOutside", "use labelsOutside instead");
                }
            },
            donutLabelsOutside: {
                get: function() {
                    return m;
                },
                set: function(b) {
                    m = b, a.deprecated("donutLabelsOutside", "use labelsOutside instead");
                }
            },
            labelFormat: {
                get: function() {
                    return k;
                },
                set: function(b) {
                    k = b, a.deprecated("labelFormat", "use valueFormat instead");
                }
            },
            margin: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c.top = "undefined" != typeof a.top ? a.top : c.top, c.right = "undefined" != typeof a.right ? a.right : c.right, 
                    c.bottom = "undefined" != typeof a.bottom ? a.bottom : c.bottom, c.left = "undefined" != typeof a.left ? a.left : c.left;
                }
            },
            duration: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a, E.reset(z);
                }
            },
            y: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = d3.functor(a);
                }
            },
            color: {
                get: function() {
                    return j;
                },
                set: function(b) {
                    j = a.utils.getColor(b);
                }
            },
            labelType: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a || "key";
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.pieChart = function() {
        "use strict";
        function b(e) {
            return s.reset(), s.models(c), e.each(function(e) {
                var j = d3.select(this);
                a.utils.initSVG(j);
                var m = a.utils.availableWidth(h, j, f), p = a.utils.availableHeight(i, j, f);
                if (b.update = function() {
                    j.transition().call(b);
                }, b.container = this, n.setter(u(e), b.update).getter(t(e)).update(), n.disabled = e.map(function(a) {
                    return !!a.disabled;
                }), !o) {
                    var q;
                    o = {};
                    for (q in n) n[q] instanceof Array ? o[q] = n[q].slice(0) : o[q] = n[q];
                }
                if (!e || !e.length) return a.utils.noData(b, j), b;
                j.selectAll(".nv-noData").remove();
                var s = j.selectAll("g.nv-wrap.nv-pieChart").data([ e ]), v = s.enter().append("g").attr("class", "nvd3 nv-wrap nv-pieChart").append("g"), w = s.select("g");
                if (v.append("g").attr("class", "nv-pieWrap"), v.append("g").attr("class", "nv-legendWrap"), 
                k) {
                    if ("top" === l) d.width(m).key(c.x()), s.select(".nv-legendWrap").datum(e).call(d), 
                    g || d.height() === f.top || (f.top = d.height(), p = a.utils.availableHeight(i, j, f)), 
                    s.select(".nv-legendWrap").attr("transform", "translate(0," + -f.top + ")"); else if ("right" === l) {
                        var x = a.models.legend().width();
                        x > m / 2 && (x = m / 2), d.height(p).key(c.x()), d.width(x), m -= d.width(), s.select(".nv-legendWrap").datum(e).call(d).attr("transform", "translate(" + m + ",0)");
                    }
                } else w.select(".nv-legendWrap").selectAll("*").remove();
                s.attr("transform", "translate(" + f.left + "," + f.top + ")"), c.width(m).height(p);
                var y = w.select(".nv-pieWrap").datum([ e ]);
                d3.transition(y).call(c), d.dispatch.on("stateChange", function(a) {
                    for (var c in a) n[c] = a[c];
                    r.stateChange(n), b.update();
                }), r.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (e.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), n.disabled = a.disabled), b.update();
                });
            }), s.renderEnd("pieChart immediate"), b;
        }
        var c = a.models.pie(), d = a.models.legend(), e = a.models.tooltip(), f = {
            top: 30,
            right: 20,
            bottom: 20,
            left: 20
        }, g = null, h = null, i = null, j = !1, k = !0, l = "top", m = a.utils.defaultColor(), n = a.utils.state(), o = null, p = null, q = 250, r = d3.dispatch("stateChange", "changeState", "renderEnd");
        e.duration(0).headerEnabled(!1).valueFormatter(function(a, b) {
            return c.valueFormat()(a, b);
        });
        var s = a.utils.renderWatch(r), t = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    })
                };
            };
        }, u = function(a) {
            return function(b) {
                void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        };
        return c.dispatch.on("elementMouseover.tooltip", function(a) {
            a.series = {
                key: b.x()(a.data),
                value: b.y()(a.data),
                color: a.color,
                percent: a.percent
            }, j || (delete a.percent, delete a.series.percent), e.data(a).hidden(!1);
        }), c.dispatch.on("elementMouseout.tooltip", function(a) {
            e.hidden(!0);
        }), c.dispatch.on("elementMousemove.tooltip", function(a) {
            e();
        }), b.legend = d, b.dispatch = r, b.pie = c, b.tooltip = e, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            width: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            height: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            noData: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            showTooltipPercent: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            showLegend: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            legendPosition: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            defaultState: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            color: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a, d.color(m), c.color(m);
                }
            },
            duration: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a, s.reset(q), c.duration(q);
                }
            },
            margin: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    void 0 !== a.top && (f.top = a.top, g = a.top), f.right = void 0 !== a.right ? a.right : f.right, 
                    f.bottom = void 0 !== a.bottom ? a.bottom : f.bottom, f.left = void 0 !== a.left ? a.left : f.left;
                }
            }
        }), a.utils.inheritOptions(b, c), a.utils.initOptions(b), b;
    }, a.models.sankey = function() {
        "use strict";
        function b() {
            n.forEach(function(a) {
                a.sourceLinks = [], a.targetLinks = [];
            }), o.forEach(function(a) {
                var b = a.source, c = a.target;
                "number" == typeof b && (b = a.source = n[a.source]), "number" == typeof c && (c = a.target = n[a.target]), 
                b.sourceLinks.push(a), c.targetLinks.push(a);
            });
        }
        function c() {
            n.forEach(function(a) {
                a.value = Math.max(d3.sum(a.sourceLinks, i), d3.sum(a.targetLinks, i));
            });
        }
        function d() {
            for (var a, b = n, c = 0; b.length && c < n.length; ) a = [], b.forEach(function(b) {
                b.x = c, b.dx = k, b.sourceLinks.forEach(function(b) {
                    a.indexOf(b.target) < 0 && a.push(b.target);
                });
            }), b = a, ++c;
            p && e(c), f((m[0] - k) / (c - 1));
        }
        function e(a) {
            n.forEach(function(b) {
                b.sourceLinks.length || (b.x = a - 1);
            });
        }
        function f(a) {
            n.forEach(function(b) {
                b.x *= a;
            });
        }
        function g(a) {
            function b() {
                var a = d3.min(g, function(a) {
                    return (m[1] - (a.length - 1) * l) / d3.sum(a, i);
                });
                g.forEach(function(b) {
                    b.forEach(function(b, c) {
                        b.y = c, b.dy = b.value * a;
                    });
                }), o.forEach(function(b) {
                    b.dy = b.value * a;
                });
            }
            function c(a) {
                function b(a) {
                    return (a.source.y + a.sy + a.dy / 2) * a.value;
                }
                g.forEach(function(c, d) {
                    c.forEach(function(c) {
                        if (c.targetLinks.length) {
                            var d = d3.sum(c.targetLinks, b) / d3.sum(c.targetLinks, i);
                            c.y += (d - t(c)) * a;
                        }
                    });
                });
            }
            function d(a) {
                function b(a) {
                    return (a.target.y + a.ty + a.dy / 2) * a.value;
                }
                g.slice().reverse().forEach(function(c) {
                    c.forEach(function(c) {
                        if (c.sourceLinks.length) {
                            var d = d3.sum(c.sourceLinks, b) / d3.sum(c.sourceLinks, i);
                            c.y += (d - t(c)) * a;
                        }
                    });
                });
            }
            function e() {
                g.forEach(function(a) {
                    var b, c, d, e = 0, g = a.length;
                    for (a.sort(f), d = 0; g > d; ++d) b = a[d], c = e - b.y, c > 0 && (b.y += c), e = b.y + b.dy + l;
                    if (c = e - l - m[1], c > 0) for (e = b.y -= c, d = g - 2; d >= 0; --d) b = a[d], 
                    c = b.y + b.dy + l - e, c > 0 && (b.y -= c), e = b.y;
                });
            }
            function f(a, b) {
                return a.y - b.y;
            }
            var g = d3.nest().key(function(a) {
                return a.x;
            }).sortKeys(d3.ascending).entries(n).map(function(a) {
                return a.values;
            });
            b(), e(), h();
            for (var j = 1; a > 0; --a) d(j *= .99), e(), h(), c(j), e(), h();
        }
        function h() {
            function a(a, b) {
                return a.source.y - b.source.y;
            }
            function b(a, b) {
                return a.target.y - b.target.y;
            }
            n.forEach(function(c) {
                c.sourceLinks.sort(b), c.targetLinks.sort(a);
            }), n.forEach(function(a) {
                var b = 0, c = 0;
                a.sourceLinks.forEach(function(a) {
                    a.sy = b, b += a.dy;
                }), a.targetLinks.forEach(function(a) {
                    a.ty = c, c += a.dy;
                });
            });
        }
        function i(a) {
            return a.value;
        }
        var j = {}, k = 24, l = 8, m = [ 1, 1 ], n = [], o = [], p = !0, q = function(a) {
            b(), c(), d(), g(a);
        }, r = function() {
            h();
        }, s = function() {
            function a(a) {
                var c = a.source.x + a.source.dx, d = a.target.x, e = d3.interpolateNumber(c, d), f = e(b), g = e(1 - b), h = a.source.y + a.sy + a.dy / 2, i = a.target.y + a.ty + a.dy / 2, j = "M" + c + "," + h + "C" + f + "," + h + " " + g + "," + i + " " + d + "," + i;
                return j;
            }
            var b = .5;
            return a.curvature = function(c) {
                return arguments.length ? (b = +c, a) : b;
            }, a;
        }, t = function(a) {
            return a.y + a.dy / 2;
        };
        return j.options = a.utils.optionsFunc.bind(j), j._options = Object.create({}, {
            nodeWidth: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = +a;
                }
            },
            nodePadding: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            nodes: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            links: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            size: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            sinksRight: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            layout: {
                get: function() {
                    q(32);
                },
                set: function(a) {
                    q(a);
                }
            },
            relayout: {
                get: function() {
                    r();
                },
                set: function(a) {}
            },
            center: {
                get: function() {
                    return t();
                },
                set: function(a) {
                    "function" == typeof a && (t = a);
                }
            },
            link: {
                get: function() {
                    return s();
                },
                set: function(a) {
                    return "function" == typeof a && (s = a), s();
                }
            }
        }), a.utils.initOptions(j), j;
    }, a.models.sankeyChart = function() {
        "use strict";
        function b(a) {
            return a.each(function(b) {
                function c(a) {
                    d3.select(this).attr("transform", "translate(" + a.x + "," + (a.y = Math.max(0, Math.min(f - a.dy, d3.event.y))) + ")"), 
                    d.relayout(), t.attr("d", s);
                }
                var i = {
                    nodes: [ {
                        node: 1,
                        name: "Test 1"
                    }, {
                        node: 2,
                        name: "Test 2"
                    }, {
                        node: 3,
                        name: "Test 3"
                    }, {
                        node: 4,
                        name: "Test 4"
                    }, {
                        node: 5,
                        name: "Test 5"
                    }, {
                        node: 6,
                        name: "Test 6"
                    } ],
                    links: [ {
                        source: 0,
                        target: 1,
                        value: 2295
                    }, {
                        source: 0,
                        target: 5,
                        value: 1199
                    }, {
                        source: 1,
                        target: 2,
                        value: 1119
                    }, {
                        source: 1,
                        target: 5,
                        value: 1176
                    }, {
                        source: 2,
                        target: 3,
                        value: 487
                    }, {
                        source: 2,
                        target: 5,
                        value: 632
                    }, {
                        source: 3,
                        target: 4,
                        value: 301
                    }, {
                        source: 3,
                        target: 5,
                        value: 186
                    } ]
                }, k = !1, l = !1;
                if (("object" == typeof b.nodes && b.nodes.length) >= 0 && ("object" == typeof b.links && b.links.length) >= 0 && (k = !0), 
                b.nodes && b.nodes.length > 0 && b.links && b.links.length > 0 && (l = !0), !k) return console.error("NVD3 Sankey chart error:", "invalid data format for", b), 
                console.info("Valid data format is: ", i, JSON.stringify(i)), r(a, "Error loading chart, data is invalid"), 
                !1;
                if (!l) return r(a, "No data available"), !1;
                var m = a.append("svg").attr("width", e).attr("height", f).append("g").attr("class", "nvd3 nv-wrap nv-sankeyChart");
                d.nodeWidth(g).nodePadding(h).size([ e, f ]);
                var s = d.link();
                d.nodes(b.nodes).links(b.links).layout(32).center(j);
                var t = m.append("g").selectAll(".link").data(b.links).enter().append("path").attr("class", "link").attr("d", s).style("stroke-width", function(a) {
                    return Math.max(1, a.dy);
                }).sort(function(a, b) {
                    return b.dy - a.dy;
                });
                t.append("title").text(n);
                var u = m.append("g").selectAll(".node").data(b.nodes).enter().append("g").attr("class", "node").attr("transform", function(a) {
                    return "translate(" + a.x + "," + a.y + ")";
                }).call(d3.behavior.drag().origin(function(a) {
                    return a;
                }).on("dragstart", function() {
                    this.parentNode.appendChild(this);
                }).on("drag", c));
                u.append("rect").attr("height", function(a) {
                    return a.dy;
                }).attr("width", d.nodeWidth()).style("fill", o).style("stroke", p).append("title").text(q), 
                u.append("text").attr("x", -6).attr("y", function(a) {
                    return a.dy / 2;
                }).attr("dy", ".35em").attr("text-anchor", "end").attr("transform", null).text(function(a) {
                    return a.name;
                }).filter(function(a) {
                    return a.x < e / 2;
                }).attr("x", 6 + d.nodeWidth()).attr("text-anchor", "start");
            }), b;
        }
        var c = {
            top: 5,
            right: 0,
            bottom: 5,
            left: 0
        }, d = a.models.sankey(), e = 600, f = 400, g = 36, h = 40, i = "units", j = void 0, k = d3.format(",.0f"), l = function(a) {
            return k(a) + " " + i;
        }, m = d3.scale.category20(), n = function(a) {
            return a.source.name + "  " + a.target.name + "\n" + l(a.value);
        }, o = function(a) {
            return a.color = m(a.name.replace(/ .*/, ""));
        }, p = function(a) {
            return d3.rgb(a.color).darker(2);
        }, q = function(a) {
            return a.name + "\n" + l(a.value);
        }, r = function(a, b) {
            a.append("text").attr("x", 0).attr("y", 0).attr("class", "nvd3-sankey-chart-error").attr("text-anchor", "middle").text(b);
        };
        return b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            units: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            width: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            height: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            format: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            linkTitle: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            nodeWidth: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            nodePadding: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            center: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            margin: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c.top = void 0 !== a.top ? a.top : c.top, c.right = void 0 !== a.right ? a.right : c.right, 
                    c.bottom = void 0 !== a.bottom ? a.bottom : c.bottom, c.left = void 0 !== a.left ? a.left : c.left;
                }
            },
            nodeStyle: {
                get: function() {
                    return {};
                },
                set: function(a) {
                    o = void 0 !== a.fillColor ? a.fillColor : o, p = void 0 !== a.strokeColor ? a.strokeColor : p, 
                    q = void 0 !== a.title ? a.title : q;
                }
            }
        }), a.utils.initOptions(b), b;
    }, a.models.scatter = function() {
        "use strict";
        function b(a) {
            var b, c;
            return b = a[0].series + ":" + a[1], c = Z[b] = Z[b] || {};
        }
        function c(a) {
            var b;
            b = a[0].series + ":" + a[1], delete Z[b];
        }
        function d(a) {
            var c, d, e, f = b(a), g = !1;
            for (c = 1; c < arguments.length; c += 2) d = arguments[c], e = arguments[c + 1](a[0], a[1]), 
            f[d] === e && f.hasOwnProperty(d) || (f[d] = e, g = !0);
            return g;
        }
        function e(b) {
            return X.reset(), b.each(function(b) {
                function T() {
                    if (W = !1, !C) return !1;
                    if (S === !0) {
                        var c = d3.merge(b.map(function(b, c) {
                            return b.values.map(function(b, d) {
                                var e = v(b, d), f = w(b, d);
                                return [ a.utils.NaNtoZero(s(e)) + 1e-4 * Math.random(), a.utils.NaNtoZero(t(f)) + 1e-4 * Math.random(), c, d, b ];
                            }).filter(function(a, b) {
                                return D(a[4], b);
                            });
                        }));
                        if (0 == c.length) return !1;
                        c.length < 3 && (c.push([ s.range()[0] - 20, t.range()[0] - 20, null, null ]), c.push([ s.range()[1] + 20, t.range()[1] + 20, null, null ]), 
                        c.push([ s.range()[0] - 20, t.range()[0] + 20, null, null ]), c.push([ s.range()[1] + 20, t.range()[1] - 20, null, null ]));
                        var d = d3.geom.polygon([ [ -10, -10 ], [ -10, n + 10 ], [ m + 10, n + 10 ], [ m + 10, -10 ] ]), e = d3.geom.voronoi(c).map(function(a, b) {
                            return {
                                data: d.clip(a),
                                series: c[b][2],
                                point: c[b][3]
                            };
                        });
                        ea.select(".nv-point-paths").selectAll("path").remove();
                        var f = ea.select(".nv-point-paths").selectAll("path").data(e), g = f.enter().append("svg:path").attr("d", function(a) {
                            return a && a.data && 0 !== a.data.length ? "M" + a.data.join(",") + "Z" : "M 0 0";
                        }).attr("id", function(a, b) {
                            return "nv-path-" + b;
                        }).attr("clip-path", function(a, b) {
                            return "url(#nv-clip-" + q + "-" + b + ")";
                        });
                        if (I && g.style("fill", d3.rgb(230, 230, 230)).style("fill-opacity", .4).style("stroke-opacity", 1).style("stroke", d3.rgb(200, 200, 200)), 
                        H) {
                            ea.select(".nv-point-clips").selectAll("*").remove();
                            var h = ea.select(".nv-point-clips").selectAll("clipPath").data(c);
                            h.enter().append("svg:clipPath").attr("id", function(a, b) {
                                return "nv-clip-" + q + "-" + b;
                            }).append("svg:circle").attr("cx", function(a) {
                                return a[0];
                            }).attr("cy", function(a) {
                                return a[1];
                            }).attr("r", J);
                        }
                        var i = function(a, c, d) {
                            if (W) return 0;
                            var e = b[c.series];
                            if (void 0 !== e) {
                                var f = e.values[c.point];
                                f.color = o(e, c.series), f.x = v(f), f.y = w(f);
                                var g = r.node().getBoundingClientRect(), h = window.pageYOffset || document.documentElement.scrollTop, i = window.pageXOffset || document.documentElement.scrollLeft, j = {
                                    left: s(v(f, c.point)) + g.left + i + l.left + 10,
                                    top: t(w(f, c.point)) + g.top + h + l.top + 10
                                };
                                d({
                                    point: f,
                                    series: e,
                                    pos: j,
                                    relativePos: [ s(v(f, c.point)) + l.left, t(w(f, c.point)) + l.top ],
                                    seriesIndex: c.series,
                                    pointIndex: c.point,
                                    event: d3.event,
                                    element: a
                                });
                            }
                        };
                        f.on("click", function(a) {
                            i(this, a, R.elementClick);
                        }).on("dblclick", function(a) {
                            i(this, a, R.elementDblClick);
                        }).on("mouseover", function(a) {
                            i(this, a, R.elementMouseover);
                        }).on("mouseout", function(a, b) {
                            i(this, a, R.elementMouseout);
                        });
                    } else ea.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click", function(a, c) {
                        if (W || !b[a.series]) return 0;
                        var d = b[a.series], e = d.values[c], f = this;
                        R.elementClick({
                            point: e,
                            series: d,
                            pos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            relativePos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            seriesIndex: a.series,
                            pointIndex: c,
                            event: d3.event,
                            element: f
                        });
                    }).on("dblclick", function(a, c) {
                        if (W || !b[a.series]) return 0;
                        var d = b[a.series], e = d.values[c];
                        R.elementDblClick({
                            point: e,
                            series: d,
                            pos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            relativePos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            seriesIndex: a.series,
                            pointIndex: c
                        });
                    }).on("mouseover", function(a, c) {
                        if (W || !b[a.series]) return 0;
                        var d = b[a.series], e = d.values[c];
                        R.elementMouseover({
                            point: e,
                            series: d,
                            pos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            relativePos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            seriesIndex: a.series,
                            pointIndex: c,
                            color: o(a, c)
                        });
                    }).on("mouseout", function(a, c) {
                        if (W || !b[a.series]) return 0;
                        var d = b[a.series], e = d.values[c];
                        R.elementMouseout({
                            point: e,
                            series: d,
                            pos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            relativePos: [ s(v(e, c)) + l.left, t(w(e, c)) + l.top ],
                            seriesIndex: a.series,
                            pointIndex: c,
                            color: o(a, c)
                        });
                    });
                }
                r = d3.select(this);
                var Z = a.utils.availableWidth(m, r, l), $ = a.utils.availableHeight(n, r, l);
                a.utils.initSVG(r), b.forEach(function(a, b) {
                    a.values.forEach(function(a) {
                        a.series = b;
                    });
                });
                var _ = e.yScale().name === d3.scale.log().name, aa = K && L && O ? [] : d3.merge(b.map(function(a) {
                    return a.values.map(function(a, b) {
                        return {
                            x: v(a, b),
                            y: w(a, b),
                            size: x(a, b)
                        };
                    });
                }));
                if (s.domain(K || d3.extent(aa.map(function(a) {
                    return a.x;
                }).concat(z))), E && b[0] ? s.range(M || [ (Z * F + Z) / (2 * b[0].values.length), Z - Z * (1 + F) / (2 * b[0].values.length) ]) : s.range(M || [ 0, Z ]), 
                _) {
                    var ba = d3.min(aa.map(function(a) {
                        return 0 !== a.y ? a.y : void 0;
                    }));
                    t.clamp(!0).domain(L || d3.extent(aa.map(function(a) {
                        return 0 !== a.y ? a.y : .1 * ba;
                    }).concat(A))).range(N || [ $, 0 ]);
                } else t.domain(L || d3.extent(aa.map(function(a) {
                    return a.y;
                }).concat(A))).range(N || [ $, 0 ]);
                u.domain(O || d3.extent(aa.map(function(a) {
                    return a.size;
                }).concat(B))).range(P || Y), Q = s.domain()[0] === s.domain()[1] || t.domain()[0] === t.domain()[1], 
                s.domain()[0] === s.domain()[1] && (s.domain()[0] ? s.domain([ s.domain()[0] - .01 * s.domain()[0], s.domain()[1] + .01 * s.domain()[1] ]) : s.domain([ -1, 1 ])), 
                t.domain()[0] === t.domain()[1] && (t.domain()[0] ? t.domain([ t.domain()[0] - .01 * t.domain()[0], t.domain()[1] + .01 * t.domain()[1] ]) : t.domain([ -1, 1 ])), 
                isNaN(s.domain()[0]) && s.domain([ -1, 1 ]), isNaN(t.domain()[0]) && t.domain([ -1, 1 ]), 
                f = f || s, g = g || t, h = h || u;
                var ca = s(1) !== f(1) || t(1) !== g(1) || u(1) !== h(1);
                i = i || m, j = j || n;
                var da = i !== m || j !== n, ea = r.selectAll("g.nv-wrap.nv-scatter").data([ b ]), fa = ea.enter().append("g").attr("class", "nvd3 nv-wrap nv-scatter nv-chart-" + q), ga = fa.append("defs"), ha = fa.append("g"), ia = ea.select("g");
                ea.classed("nv-single-point", Q), ha.append("g").attr("class", "nv-groups"), ha.append("g").attr("class", "nv-point-paths"), 
                fa.append("g").attr("class", "nv-point-clips"), ea.attr("transform", "translate(" + l.left + "," + l.top + ")"), 
                ga.append("clipPath").attr("id", "nv-edge-clip-" + q).append("rect").attr("transform", "translate( -10, -10)"), 
                ea.select("#nv-edge-clip-" + q + " rect").attr("width", Z + 20).attr("height", $ > 0 ? $ + 20 : 0), 
                ia.attr("clip-path", G ? "url(#nv-edge-clip-" + q + ")" : ""), W = !0;
                var ja = ea.select(".nv-groups").selectAll(".nv-group").data(function(a) {
                    return a;
                }, function(a) {
                    return a.key;
                });
                ja.enter().append("g").style("stroke-opacity", 1e-6).style("fill-opacity", 1e-6), 
                ja.exit().remove(), ja.attr("class", function(a, b) {
                    return (a.classed || "") + " nv-group nv-series-" + b;
                }).classed("nv-noninteractive", !C).classed("hover", function(a) {
                    return a.hover;
                }), ja.watchTransition(X, "scatter: groups").style("fill", function(a, b) {
                    return o(a, b);
                }).style("stroke", function(a, b) {
                    return a.pointBorderColor || p || o(a, b);
                }).style("stroke-opacity", 1).style("fill-opacity", .5);
                var ka = ja.selectAll("path.nv-point").data(function(a) {
                    return a.values.map(function(a, b) {
                        return [ a, b ];
                    }).filter(function(a, b) {
                        return D(a[0], b);
                    });
                });
                if (ka.enter().append("path").attr("class", function(a) {
                    return "nv-point nv-point-" + a[1];
                }).style("fill", function(a) {
                    return a.color;
                }).style("stroke", function(a) {
                    return a.color;
                }).attr("transform", function(b) {
                    return "translate(" + a.utils.NaNtoZero(f(v(b[0], b[1]))) + "," + a.utils.NaNtoZero(g(w(b[0], b[1]))) + ")";
                }).attr("d", a.utils.symbol().type(function(a) {
                    return y(a[0]);
                }).size(function(a) {
                    return u(x(a[0], a[1]));
                })), ka.exit().each(c).remove(), ja.exit().selectAll("path.nv-point").watchTransition(X, "scatter exit").attr("transform", function(b) {
                    return "translate(" + a.utils.NaNtoZero(s(v(b[0], b[1]))) + "," + a.utils.NaNtoZero(t(w(b[0], b[1]))) + ")";
                }).remove(), ka.filter(function(a) {
                    return ca || da || d(a, "x", v, "y", w);
                }).watchTransition(X, "scatter points").attr("transform", function(b) {
                    return "translate(" + a.utils.NaNtoZero(s(v(b[0], b[1]))) + "," + a.utils.NaNtoZero(t(w(b[0], b[1]))) + ")";
                }), ka.filter(function(a) {
                    return ca || da || d(a, "shape", y, "size", x);
                }).watchTransition(X, "scatter points").attr("d", a.utils.symbol().type(function(a) {
                    return y(a[0]);
                }).size(function(a) {
                    return u(x(a[0], a[1]));
                })), V) {
                    var la = ja.selectAll(".nv-label").data(function(a) {
                        return a.values.map(function(a, b) {
                            return [ a, b ];
                        }).filter(function(a, b) {
                            return D(a[0], b);
                        });
                    });
                    la.enter().append("text").style("fill", function(a, b) {
                        return a.color;
                    }).style("stroke-opacity", 0).style("fill-opacity", 1).attr("transform", function(b) {
                        var c = a.utils.NaNtoZero(f(v(b[0], b[1]))) + Math.sqrt(u(x(b[0], b[1])) / Math.PI) + 2;
                        return "translate(" + c + "," + a.utils.NaNtoZero(g(w(b[0], b[1]))) + ")";
                    }).text(function(a, b) {
                        return a[0].label;
                    }), la.exit().remove(), ja.exit().selectAll("path.nv-label").watchTransition(X, "scatter exit").attr("transform", function(b) {
                        var c = a.utils.NaNtoZero(s(v(b[0], b[1]))) + Math.sqrt(u(x(b[0], b[1])) / Math.PI) + 2;
                        return "translate(" + c + "," + a.utils.NaNtoZero(t(w(b[0], b[1]))) + ")";
                    }).remove(), la.each(function(a) {
                        d3.select(this).classed("nv-label", !0).classed("nv-label-" + a[1], !1).classed("hover", !1);
                    }), la.watchTransition(X, "scatter labels").attr("transform", function(b) {
                        var c = a.utils.NaNtoZero(s(v(b[0], b[1]))) + Math.sqrt(u(x(b[0], b[1])) / Math.PI) + 2;
                        return "translate(" + c + "," + a.utils.NaNtoZero(t(w(b[0], b[1]))) + ")";
                    });
                }
                U ? (clearTimeout(k), k = setTimeout(T, U)) : T(), f = s.copy(), g = t.copy(), h = u.copy(), 
                i = m, j = n;
            }), X.renderEnd("scatter immediate"), e;
        }
        var f, g, h, i, j, k, l = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, m = null, n = null, o = a.utils.defaultColor(), p = null, q = Math.floor(1e5 * Math.random()), r = null, s = d3.scale.linear(), t = d3.scale.linear(), u = d3.scale.linear(), v = function(a) {
            return a.x;
        }, w = function(a) {
            return a.y;
        }, x = function(a) {
            return a.size || 1;
        }, y = function(a) {
            return a.shape || "circle";
        }, z = [], A = [], B = [], C = !0, D = function(a) {
            return !a.notActive;
        }, E = !1, F = .1, G = !1, H = !0, I = !1, J = function() {
            return 25;
        }, K = null, L = null, M = null, N = null, O = null, P = null, Q = !1, R = d3.dispatch("elementClick", "elementDblClick", "elementMouseover", "elementMouseout", "renderEnd"), S = !0, T = 250, U = 300, V = !1, W = !1, X = a.utils.renderWatch(R, T), Y = [ 16, 256 ], Z = {};
        return e.dispatch = R, e.options = a.utils.optionsFunc.bind(e), e._calls = new function() {
            this.clearHighlights = function() {
                return a.dom.write(function() {
                    r.selectAll(".nv-point.hover").classed("hover", !1);
                }), null;
            }, this.highlightPoint = function(b, c, d) {
                a.dom.write(function() {
                    r.select(".nv-groups").selectAll(".nv-series-" + b).selectAll(".nv-point-" + c).classed("hover", d);
                });
            };
        }(), R.on("elementMouseover.point", function(a) {
            C && e._calls.highlightPoint(a.seriesIndex, a.pointIndex, !0);
        }), R.on("elementMouseout.point", function(a) {
            C && e._calls.highlightPoint(a.seriesIndex, a.pointIndex, !1);
        }), e._options = Object.create({}, {
            width: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            height: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            xScale: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            yScale: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            pointScale: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            xDomain: {
                get: function() {
                    return K;
                },
                set: function(a) {
                    K = a;
                }
            },
            yDomain: {
                get: function() {
                    return L;
                },
                set: function(a) {
                    L = a;
                }
            },
            pointDomain: {
                get: function() {
                    return O;
                },
                set: function(a) {
                    O = a;
                }
            },
            xRange: {
                get: function() {
                    return M;
                },
                set: function(a) {
                    M = a;
                }
            },
            yRange: {
                get: function() {
                    return N;
                },
                set: function(a) {
                    N = a;
                }
            },
            pointRange: {
                get: function() {
                    return P;
                },
                set: function(a) {
                    P = a;
                }
            },
            forceX: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a;
                }
            },
            forceY: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            forcePoint: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a;
                }
            },
            interactive: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a;
                }
            },
            pointActive: {
                get: function() {
                    return D;
                },
                set: function(a) {
                    D = a;
                }
            },
            padDataOuter: {
                get: function() {
                    return F;
                },
                set: function(a) {
                    F = a;
                }
            },
            padData: {
                get: function() {
                    return E;
                },
                set: function(a) {
                    E = a;
                }
            },
            clipEdge: {
                get: function() {
                    return G;
                },
                set: function(a) {
                    G = a;
                }
            },
            clipVoronoi: {
                get: function() {
                    return H;
                },
                set: function(a) {
                    H = a;
                }
            },
            clipRadius: {
                get: function() {
                    return J;
                },
                set: function(a) {
                    J = a;
                }
            },
            showVoronoi: {
                get: function() {
                    return I;
                },
                set: function(a) {
                    I = a;
                }
            },
            id: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            interactiveUpdateDelay: {
                get: function() {
                    return U;
                },
                set: function(a) {
                    U = a;
                }
            },
            showLabels: {
                get: function() {
                    return V;
                },
                set: function(a) {
                    V = a;
                }
            },
            pointBorderColor: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            x: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = d3.functor(a);
                }
            },
            y: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = d3.functor(a);
                }
            },
            pointSize: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = d3.functor(a);
                }
            },
            pointShape: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = d3.functor(a);
                }
            },
            margin: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l.top = void 0 !== a.top ? a.top : l.top, l.right = void 0 !== a.right ? a.right : l.right, 
                    l.bottom = void 0 !== a.bottom ? a.bottom : l.bottom, l.left = void 0 !== a.left ? a.left : l.left;
                }
            },
            duration: {
                get: function() {
                    return T;
                },
                set: function(a) {
                    T = a, X.reset(T);
                }
            },
            color: {
                get: function() {
                    return o;
                },
                set: function(b) {
                    o = a.utils.getColor(b);
                }
            },
            useVoronoi: {
                get: function() {
                    return S;
                },
                set: function(a) {
                    S = a, S === !1 && (H = !1);
                }
            }
        }), a.utils.initOptions(e), e;
    }, a.models.scatterChart = function() {
        "use strict";
        function b(A) {
            return F.reset(), F.models(c), u && F.models(d), v && F.models(e), r && F.models(g), 
            s && F.models(h), A.each(function(A) {
                n = d3.select(this), a.utils.initSVG(n);
                var I = a.utils.availableWidth(l, n, j), J = a.utils.availableHeight(m, n, j);
                if (b.update = function() {
                    0 === B ? n.call(b) : n.transition().duration(B).call(b);
                }, b.container = this, x.setter(H(A), b.update).getter(G(A)).update(), x.disabled = A.map(function(a) {
                    return !!a.disabled;
                }), !y) {
                    var K;
                    y = {};
                    for (K in x) x[K] instanceof Array ? y[K] = x[K].slice(0) : y[K] = x[K];
                }
                if (!(A && A.length && A.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, n), F.renderEnd("scatter immediate"), b;
                n.selectAll(".nv-noData").remove(), p = c.xScale(), q = c.yScale();
                var L = n.selectAll("g.nv-wrap.nv-scatterChart").data([ A ]), M = L.enter().append("g").attr("class", "nvd3 nv-wrap nv-scatterChart nv-chart-" + c.id()), N = M.append("g"), O = L.select("g");
                if (N.append("rect").attr("class", "nvd3 nv-background").style("pointer-events", "none"), 
                N.append("g").attr("class", "nv-x nv-axis"), N.append("g").attr("class", "nv-y nv-axis"), 
                N.append("g").attr("class", "nv-scatterWrap"), N.append("g").attr("class", "nv-regressionLinesWrap"), 
                N.append("g").attr("class", "nv-distWrap"), N.append("g").attr("class", "nv-legendWrap"), 
                w && O.select(".nv-y.nv-axis").attr("transform", "translate(" + I + ",0)"), t) {
                    var P = I;
                    f.width(P), L.select(".nv-legendWrap").datum(A).call(f), k || f.height() === j.top || (j.top = f.height(), 
                    J = a.utils.availableHeight(m, n, j)), L.select(".nv-legendWrap").attr("transform", "translate(0," + -j.top + ")");
                } else O.select(".nv-legendWrap").selectAll("*").remove();
                L.attr("transform", "translate(" + j.left + "," + j.top + ")"), c.width(I).height(J).color(A.map(function(a, b) {
                    return a.color = a.color || o(a, b), a.color;
                }).filter(function(a, b) {
                    return !A[b].disabled;
                })).showLabels(C), L.select(".nv-scatterWrap").datum(A.filter(function(a) {
                    return !a.disabled;
                })).call(c), L.select(".nv-regressionLinesWrap").attr("clip-path", "url(#nv-edge-clip-" + c.id() + ")");
                var Q = L.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a) {
                    return a;
                });
                Q.enter().append("g").attr("class", "nv-regLines");
                var R = Q.selectAll(".nv-regLine").data(function(a) {
                    return [ a ];
                });
                R.enter().append("line").attr("class", "nv-regLine").style("stroke-opacity", 0), 
                R.filter(function(a) {
                    return a.intercept && a.slope;
                }).watchTransition(F, "scatterPlusLineChart: regline").attr("x1", p.range()[0]).attr("x2", p.range()[1]).attr("y1", function(a, b) {
                    return q(p.domain()[0] * a.slope + a.intercept);
                }).attr("y2", function(a, b) {
                    return q(p.domain()[1] * a.slope + a.intercept);
                }).style("stroke", function(a, b, c) {
                    return o(a, c);
                }).style("stroke-opacity", function(a, b) {
                    return a.disabled || "undefined" == typeof a.slope || "undefined" == typeof a.intercept ? 0 : 1;
                }), u && (d.scale(p)._ticks(a.utils.calcTicksX(I / 100, A)).tickSize(-J, 0), O.select(".nv-x.nv-axis").attr("transform", "translate(0," + q.range()[0] + ")").call(d)), 
                v && (e.scale(q)._ticks(a.utils.calcTicksY(J / 36, A)).tickSize(-I, 0), O.select(".nv-y.nv-axis").call(e)), 
                r && (g.getData(c.x()).scale(p).width(I).color(A.map(function(a, b) {
                    return a.color || o(a, b);
                }).filter(function(a, b) {
                    return !A[b].disabled;
                })), N.select(".nv-distWrap").append("g").attr("class", "nv-distributionX"), O.select(".nv-distributionX").attr("transform", "translate(0," + q.range()[0] + ")").datum(A.filter(function(a) {
                    return !a.disabled;
                })).call(g)), s && (h.getData(c.y()).scale(q).width(J).color(A.map(function(a, b) {
                    return a.color || o(a, b);
                }).filter(function(a, b) {
                    return !A[b].disabled;
                })), N.select(".nv-distWrap").append("g").attr("class", "nv-distributionY"), O.select(".nv-distributionY").attr("transform", "translate(" + (w ? I : -h.size()) + ",0)").datum(A.filter(function(a) {
                    return !a.disabled;
                })).call(h)), f.dispatch.on("stateChange", function(a) {
                    for (var c in a) x[c] = a[c];
                    z.stateChange(x), b.update();
                }), z.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && (A.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), x.disabled = a.disabled), b.update();
                }), c.dispatch.on("elementMouseout.tooltip", function(a) {
                    i.hidden(!0), n.select(".nv-chart-" + c.id() + " .nv-series-" + a.seriesIndex + " .nv-distx-" + a.pointIndex).attr("y1", 0), 
                    n.select(".nv-chart-" + c.id() + " .nv-series-" + a.seriesIndex + " .nv-disty-" + a.pointIndex).attr("x2", h.size());
                }), c.dispatch.on("elementMouseover.tooltip", function(a) {
                    n.select(".nv-series-" + a.seriesIndex + " .nv-distx-" + a.pointIndex).attr("y1", a.relativePos[1] - J), 
                    n.select(".nv-series-" + a.seriesIndex + " .nv-disty-" + a.pointIndex).attr("x2", a.relativePos[0] + g.size()), 
                    i.data(a).hidden(!1);
                }), D = p.copy(), E = q.copy();
            }), F.renderEnd("scatter with line immediate"), b;
        }
        var c = a.models.scatter(), d = a.models.axis(), e = a.models.axis(), f = a.models.legend(), g = a.models.distribution(), h = a.models.distribution(), i = a.models.tooltip(), j = {
            top: 30,
            right: 20,
            bottom: 50,
            left: 75
        }, k = null, l = null, m = null, n = null, o = a.utils.defaultColor(), p = c.xScale(), q = c.yScale(), r = !1, s = !1, t = !0, u = !0, v = !0, w = !1, x = a.utils.state(), y = null, z = d3.dispatch("stateChange", "changeState", "renderEnd"), A = null, B = 250, C = !1;
        c.xScale(p).yScale(q), d.orient("bottom").tickPadding(10), e.orient(w ? "right" : "left").tickPadding(10), 
        g.axis("x"), h.axis("y"), i.headerFormatter(function(a, b) {
            return d.tickFormat()(a, b);
        }).valueFormatter(function(a, b) {
            return e.tickFormat()(a, b);
        });
        var D, E, F = a.utils.renderWatch(z, B), G = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    })
                };
            };
        }, H = function(a) {
            return function(b) {
                void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        };
        return b.dispatch = z, b.scatter = c, b.legend = f, b.xAxis = d, b.yAxis = e, b.distX = g, 
        b.distY = h, b.tooltip = i, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            height: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            container: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            showDistX: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            showDistY: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            showLegend: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            showXAxis: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            showYAxis: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            defaultState: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = a;
                }
            },
            noData: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            duration: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a;
                }
            },
            showLabels: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a;
                }
            },
            margin: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    void 0 !== a.top && (j.top = a.top, k = a.top), j.right = void 0 !== a.right ? a.right : j.right, 
                    j.bottom = void 0 !== a.bottom ? a.bottom : j.bottom, j.left = void 0 !== a.left ? a.left : j.left;
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a, e.orient(a ? "right" : "left");
                }
            },
            color: {
                get: function() {
                    return o;
                },
                set: function(b) {
                    o = a.utils.getColor(b), f.color(o), g.color(o), h.color(o);
                }
            }
        }), a.utils.inheritOptions(b, c), a.utils.initOptions(b), b;
    }, a.models.sparkline = function() {
        "use strict";
        function b(k) {
            return t.reset(), k.each(function(b) {
                var k = h - g.left - g.right, s = i - g.top - g.bottom;
                j = d3.select(this), a.utils.initSVG(j), l.domain(c || d3.extent(b, n)).range(e || [ 0, k ]), 
                m.domain(d || d3.extent(b, o)).range(f || [ s, 0 ]);
                var t = j.selectAll("g.nv-wrap.nv-sparkline").data([ b ]), u = t.enter().append("g").attr("class", "nvd3 nv-wrap nv-sparkline");
                u.append("g"), t.select("g"), t.attr("transform", "translate(" + g.left + "," + g.top + ")");
                var v = t.selectAll("path").data(function(a) {
                    return [ a ];
                });
                v.enter().append("path"), v.exit().remove(), v.style("stroke", function(a, b) {
                    return a.color || p(a, b);
                }).attr("d", d3.svg.line().x(function(a, b) {
                    return l(n(a, b));
                }).y(function(a, b) {
                    return m(o(a, b));
                }));
                var w = t.selectAll("circle.nv-point").data(function(a) {
                    function b(b) {
                        if (-1 != b) {
                            var c = a[b];
                            return c.pointIndex = b, c;
                        }
                        return null;
                    }
                    var c = a.map(function(a, b) {
                        return o(a, b);
                    }), d = b(c.lastIndexOf(m.domain()[1])), e = b(c.indexOf(m.domain()[0])), f = b(c.length - 1);
                    return [ q ? e : null, q ? d : null, r ? f : null ].filter(function(a) {
                        return null != a;
                    });
                });
                w.enter().append("circle"), w.exit().remove(), w.attr("cx", function(a, b) {
                    return l(n(a, a.pointIndex));
                }).attr("cy", function(a, b) {
                    return m(o(a, a.pointIndex));
                }).attr("r", 2).attr("class", function(a, b) {
                    return n(a, a.pointIndex) == l.domain()[1] ? "nv-point nv-currentValue" : o(a, a.pointIndex) == m.domain()[0] ? "nv-point nv-minValue" : "nv-point nv-maxValue";
                });
            }), t.renderEnd("sparkline immediate"), b;
        }
        var c, d, e, f, g = {
            top: 2,
            right: 0,
            bottom: 2,
            left: 0
        }, h = 400, i = 32, j = null, k = !0, l = d3.scale.linear(), m = d3.scale.linear(), n = function(a) {
            return a.x;
        }, o = function(a) {
            return a.y;
        }, p = a.utils.getColor([ "#000" ]), q = !0, r = !0, s = d3.dispatch("renderEnd"), t = a.utils.renderWatch(s);
        return b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            height: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            xDomain: {
                get: function() {
                    return c;
                },
                set: function(a) {
                    c = a;
                }
            },
            yDomain: {
                get: function() {
                    return d;
                },
                set: function(a) {
                    d = a;
                }
            },
            xRange: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e = a;
                }
            },
            yRange: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            xScale: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            yScale: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            animate: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            showMinMaxPoints: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            showCurrentPoint: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            x: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = d3.functor(a);
                }
            },
            y: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = d3.functor(a);
                }
            },
            margin: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g.top = void 0 !== a.top ? a.top : g.top, g.right = void 0 !== a.right ? a.right : g.right, 
                    g.bottom = void 0 !== a.bottom ? a.bottom : g.bottom, g.left = void 0 !== a.left ? a.left : g.left;
                }
            },
            color: {
                get: function() {
                    return p;
                },
                set: function(b) {
                    p = a.utils.getColor(b);
                }
            }
        }), b.dispatch = s, a.utils.initOptions(b), b;
    }, a.models.sparklinePlus = function() {
        "use strict";
        function b(p) {
            return r.reset(), r.models(e), p.each(function(p) {
                function q() {
                    if (!j) {
                        var a = z.selectAll(".nv-hoverValue").data(i), b = a.enter().append("g").attr("class", "nv-hoverValue").style("stroke-opacity", 0).style("fill-opacity", 0);
                        a.exit().transition().duration(250).style("stroke-opacity", 0).style("fill-opacity", 0).remove(), 
                        a.attr("transform", function(a) {
                            return "translate(" + c(e.x()(p[a], a)) + ",0)";
                        }).transition().duration(250).style("stroke-opacity", 1).style("fill-opacity", 1), 
                        i.length && (b.append("line").attr("x1", 0).attr("y1", -f.top).attr("x2", 0).attr("y2", u), 
                        b.append("text").attr("class", "nv-xValue").attr("x", -6).attr("y", -f.top).attr("text-anchor", "end").attr("dy", ".9em"), 
                        z.select(".nv-hoverValue .nv-xValue").text(k(e.x()(p[i[0]], i[0]))), b.append("text").attr("class", "nv-yValue").attr("x", 6).attr("y", -f.top).attr("text-anchor", "start").attr("dy", ".9em"), 
                        z.select(".nv-hoverValue .nv-yValue").text(l(e.y()(p[i[0]], i[0]))));
                    }
                }
                function r() {
                    function a(a, b) {
                        for (var c = Math.abs(e.x()(a[0], 0) - b), d = 0, f = 0; f < a.length; f++) Math.abs(e.x()(a[f], f) - b) < c && (c = Math.abs(e.x()(a[f], f) - b), 
                        d = f);
                        return d;
                    }
                    if (!j) {
                        var b = d3.mouse(this)[0] - f.left;
                        i = [ a(p, Math.round(c.invert(b))) ], q();
                    }
                }
                var s = d3.select(this);
                a.utils.initSVG(s);
                var t = a.utils.availableWidth(g, s, f), u = a.utils.availableHeight(h, s, f);
                if (b.update = function() {
                    s.call(b);
                }, b.container = this, !p || !p.length) return a.utils.noData(b, s), b;
                s.selectAll(".nv-noData").remove();
                var v = e.y()(p[p.length - 1], p.length - 1);
                c = e.xScale(), d = e.yScale();
                var w = s.selectAll("g.nv-wrap.nv-sparklineplus").data([ p ]), x = w.enter().append("g").attr("class", "nvd3 nv-wrap nv-sparklineplus"), y = x.append("g"), z = w.select("g");
                y.append("g").attr("class", "nv-sparklineWrap"), y.append("g").attr("class", "nv-valueWrap"), 
                y.append("g").attr("class", "nv-hoverArea"), w.attr("transform", "translate(" + f.left + "," + f.top + ")");
                var A = z.select(".nv-sparklineWrap");
                if (e.width(t).height(u), A.call(e), m) {
                    var B = z.select(".nv-valueWrap"), C = B.selectAll(".nv-currentValue").data([ v ]);
                    C.enter().append("text").attr("class", "nv-currentValue").attr("dx", o ? -8 : 8).attr("dy", ".9em").style("text-anchor", o ? "end" : "start"), 
                    C.attr("x", t + (o ? f.right : 0)).attr("y", n ? function(a) {
                        return d(a);
                    } : 0).style("fill", e.color()(p[p.length - 1], p.length - 1)).text(l(v));
                }
                y.select(".nv-hoverArea").append("rect").on("mousemove", r).on("click", function() {
                    j = !j;
                }).on("mouseout", function() {
                    i = [], q();
                }), z.select(".nv-hoverArea rect").attr("transform", function(a) {
                    return "translate(" + -f.left + "," + -f.top + ")";
                }).attr("width", t + f.left + f.right).attr("height", u + f.top);
            }), r.renderEnd("sparklinePlus immediate"), b;
        }
        var c, d, e = a.models.sparkline(), f = {
            top: 15,
            right: 100,
            bottom: 10,
            left: 50
        }, g = null, h = null, i = [], j = !1, k = d3.format(",r"), l = d3.format(",.2f"), m = !0, n = !0, o = !1, p = null, q = d3.dispatch("renderEnd"), r = a.utils.renderWatch(q);
        return b.dispatch = q, b.sparkline = e, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            width: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            height: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a;
                }
            },
            xTickFormat: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            yTickFormat: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a;
                }
            },
            showLastValue: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            alignValue: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    n = a;
                }
            },
            rightAlignValue: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            noData: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            margin: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f.top = void 0 !== a.top ? a.top : f.top, f.right = void 0 !== a.right ? a.right : f.right, 
                    f.bottom = void 0 !== a.bottom ? a.bottom : f.bottom, f.left = void 0 !== a.left ? a.left : f.left;
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.stackedArea = function() {
        "use strict";
        function b(n) {
            return v.reset(), v.models(s), n.each(function(n) {
                var t = f - e.left - e.right, w = g - e.top - e.bottom;
                j = d3.select(this), a.utils.initSVG(j), c = s.xScale(), d = s.yScale();
                var x = n;
                n.forEach(function(a, b) {
                    a.seriesIndex = b, a.values = a.values.map(function(a, c) {
                        return a.index = c, a.seriesIndex = b, a;
                    });
                });
                var y = n.filter(function(a) {
                    return !a.disabled;
                });
                n = d3.layout.stack().order(p).offset(o).values(function(a) {
                    return a.values;
                }).x(k).y(l).out(function(a, b, c) {
                    a.display = {
                        y: c,
                        y0: b
                    };
                })(y);
                var z = j.selectAll("g.nv-wrap.nv-stackedarea").data([ n ]), A = z.enter().append("g").attr("class", "nvd3 nv-wrap nv-stackedarea"), B = A.append("defs"), C = A.append("g"), D = z.select("g");
                C.append("g").attr("class", "nv-areaWrap"), C.append("g").attr("class", "nv-scatterWrap"), 
                z.attr("transform", "translate(" + e.left + "," + e.top + ")"), 0 == s.forceY().length && s.forceY().push(0), 
                s.width(t).height(w).x(k).y(function(a) {
                    return void 0 !== a.display ? a.display.y + a.display.y0 : void 0;
                }).color(n.map(function(a, b) {
                    return a.color = a.color || h(a, a.seriesIndex), a.color;
                }));
                var E = D.select(".nv-scatterWrap").datum(n);
                E.call(s), B.append("clipPath").attr("id", "nv-edge-clip-" + i).append("rect"), 
                z.select("#nv-edge-clip-" + i + " rect").attr("width", t).attr("height", w), D.attr("clip-path", r ? "url(#nv-edge-clip-" + i + ")" : "");
                var F = d3.svg.area().defined(m).x(function(a, b) {
                    return c(k(a, b));
                }).y0(function(a) {
                    return d(a.display.y0);
                }).y1(function(a) {
                    return d(a.display.y + a.display.y0);
                }).interpolate(q), G = d3.svg.area().defined(m).x(function(a, b) {
                    return c(k(a, b));
                }).y0(function(a) {
                    return d(a.display.y0);
                }).y1(function(a) {
                    return d(a.display.y0);
                }), H = D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a) {
                    return a;
                });
                H.enter().append("path").attr("class", function(a, b) {
                    return "nv-area nv-area-" + b;
                }).attr("d", function(a, b) {
                    return G(a.values, a.seriesIndex);
                }).on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0), u.areaMouseover({
                        point: a,
                        series: a.key,
                        pos: [ d3.event.pageX, d3.event.pageY ],
                        seriesIndex: a.seriesIndex
                    });
                }).on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1), u.areaMouseout({
                        point: a,
                        series: a.key,
                        pos: [ d3.event.pageX, d3.event.pageY ],
                        seriesIndex: a.seriesIndex
                    });
                }).on("click", function(a, b) {
                    d3.select(this).classed("hover", !1), u.areaClick({
                        point: a,
                        series: a.key,
                        pos: [ d3.event.pageX, d3.event.pageY ],
                        seriesIndex: a.seriesIndex
                    });
                }), H.exit().remove(), H.style("fill", function(a, b) {
                    return a.color || h(a, a.seriesIndex);
                }).style("stroke", function(a, b) {
                    return a.color || h(a, a.seriesIndex);
                }), H.watchTransition(v, "stackedArea path").attr("d", function(a, b) {
                    return F(a.values, b);
                }), s.dispatch.on("elementMouseover.area", function(a) {
                    D.select(".nv-chart-" + i + " .nv-area-" + a.seriesIndex).classed("hover", !0);
                }), s.dispatch.on("elementMouseout.area", function(a) {
                    D.select(".nv-chart-" + i + " .nv-area-" + a.seriesIndex).classed("hover", !1);
                }), b.d3_stackedOffset_stackPercent = function(a) {
                    var b, c, d, e = a.length, f = a[0].length, g = [];
                    for (c = 0; f > c; ++c) {
                        for (b = 0, d = 0; b < x.length; b++) d += l(x[b].values[c]);
                        if (d) for (b = 0; e > b; b++) a[b][c][1] /= d; else for (b = 0; e > b; b++) a[b][c][1] = 0;
                    }
                    for (c = 0; f > c; ++c) g[c] = 0;
                    return g;
                };
            }), v.renderEnd("stackedArea immediate"), b;
        }
        var c, d, e = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, f = 960, g = 500, h = a.utils.defaultColor(), i = Math.floor(1e5 * Math.random()), j = null, k = function(a) {
            return a.x;
        }, l = function(a) {
            return a.y;
        }, m = function(a, b) {
            return !isNaN(l(a, b)) && null !== l(a, b);
        }, n = "stack", o = "zero", p = "default", q = "linear", r = !1, s = a.models.scatter(), t = 250, u = d3.dispatch("areaClick", "areaMouseover", "areaMouseout", "renderEnd", "elementClick", "elementMouseover", "elementMouseout");
        s.pointSize(2.2).pointDomain([ 2.2, 2.2 ]);
        var v = a.utils.renderWatch(u, t);
        return b.dispatch = u, b.scatter = s, s.dispatch.on("elementClick", function() {
            u.elementClick.apply(this, arguments);
        }), s.dispatch.on("elementMouseover", function() {
            u.elementMouseover.apply(this, arguments);
        }), s.dispatch.on("elementMouseout", function() {
            u.elementMouseout.apply(this, arguments);
        }), b.interpolate = function(a) {
            return arguments.length ? (q = a, b) : q;
        }, b.duration = function(a) {
            return arguments.length ? (t = a, v.reset(t), s.duration(t), b) : t;
        }, b.dispatch = u, b.scatter = s, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return f;
                },
                set: function(a) {
                    f = a;
                }
            },
            height: {
                get: function() {
                    return g;
                },
                set: function(a) {
                    g = a;
                }
            },
            defined: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    m = a;
                }
            },
            clipEdge: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            offset: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            order: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            interpolate: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            x: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = d3.functor(a);
                }
            },
            y: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = d3.functor(a);
                }
            },
            margin: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e.top = void 0 !== a.top ? a.top : e.top, e.right = void 0 !== a.right ? a.right : e.right, 
                    e.bottom = void 0 !== a.bottom ? a.bottom : e.bottom, e.left = void 0 !== a.left ? a.left : e.left;
                }
            },
            color: {
                get: function() {
                    return h;
                },
                set: function(b) {
                    h = a.utils.getColor(b);
                }
            },
            style: {
                get: function() {
                    return n;
                },
                set: function(a) {
                    switch (n = a) {
                      case "stack":
                        b.offset("zero"), b.order("default");
                        break;

                      case "stream":
                        b.offset("wiggle"), b.order("inside-out");
                        break;

                      case "stream-center":
                        b.offset("silhouette"), b.order("inside-out");
                        break;

                      case "expand":
                        b.offset("expand"), b.order("default");
                        break;

                      case "stack_percent":
                        b.offset(b.d3_stackedOffset_stackPercent), b.order("default");
                    }
                }
            },
            duration: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a, v.reset(t), s.duration(t);
                }
            }
        }), a.utils.inheritOptions(b, s), a.utils.initOptions(b), b;
    }, a.models.stackedAreaChart = function() {
        "use strict";
        function b(k) {
            return L.reset(), L.models(e), u && L.models(f), v && L.models(g), k.each(function(k) {
                function D() {
                    u && X.select(".nv-focus .nv-x.nv-axis").attr("transform", "translate(0," + T + ")").transition().duration(I).call(f);
                }
                function L() {
                    if (v) {
                        if ("expand" === e.style() || "stack_percent" === e.style()) {
                            var a = g.tickFormat();
                            J && a === P || (J = a), g.tickFormat(P);
                        } else J && (g.tickFormat(J), J = null);
                        X.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(g);
                    }
                }
                function Q(a) {
                    var b = X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a) {
                        return !a.disabled;
                    }).map(function(b, c) {
                        return {
                            key: b.key,
                            area: b.area,
                            classed: b.classed,
                            values: b.values.filter(function(b, c) {
                                return e.x()(b, c) >= a[0] && e.x()(b, c) <= a[1];
                            }),
                            disableTooltip: b.disableTooltip
                        };
                    }));
                    b.transition().duration(I).call(e), D(), L();
                }
                var R = d3.select(this);
                a.utils.initSVG(R);
                var S = a.utils.availableWidth(o, R, m), T = a.utils.availableHeight(p, R, m) - (x ? l.height() : 0);
                if (b.update = function() {
                    R.transition().duration(I).call(b);
                }, b.container = this, B.setter(O(k), b.update).getter(N(k)).update(), B.disabled = k.map(function(a) {
                    return !!a.disabled;
                }), !C) {
                    var U;
                    C = {};
                    for (U in B) B[U] instanceof Array ? C[U] = B[U].slice(0) : C[U] = B[U];
                }
                if (!(k && k.length && k.filter(function(a) {
                    return a.values.length;
                }).length)) return a.utils.noData(b, R), b;
                R.selectAll(".nv-noData").remove(), c = e.xScale(), d = e.yScale();
                var V = R.selectAll("g.nv-wrap.nv-stackedAreaChart").data([ k ]), W = V.enter().append("g").attr("class", "nvd3 nv-wrap nv-stackedAreaChart").append("g"), X = V.select("g");
                W.append("g").attr("class", "nv-legendWrap"), W.append("g").attr("class", "nv-controlsWrap");
                var Y = W.append("g").attr("class", "nv-focus");
                if (Y.append("g").attr("class", "nv-background").append("rect"), Y.append("g").attr("class", "nv-x nv-axis"), 
                Y.append("g").attr("class", "nv-y nv-axis"), Y.append("g").attr("class", "nv-stackedWrap"), 
                Y.append("g").attr("class", "nv-interactive"), W.append("g").attr("class", "nv-focusWrap"), 
                s) {
                    var Z = r && "top" === t ? S - F : S;
                    if (h.width(Z), X.select(".nv-legendWrap").datum(k).call(h), "bottom" === t) {
                        var $ = (u ? 12 : 0) + 10;
                        m.bottom = Math.max(h.height() + $, m.bottom), T = a.utils.availableHeight(p, R, m) - (x ? l.height() : 0);
                        var _ = T + $;
                        X.select(".nv-legendWrap").attr("transform", "translate(0," + _ + ")");
                    } else "top" === t && (n || m.top == h.height() || (m.top = h.height(), T = a.utils.availableHeight(p, R, m) - (x ? l.height() : 0)), 
                    X.select(".nv-legendWrap").attr("transform", "translate(" + (S - Z) + "," + -m.top + ")"));
                } else X.select(".nv-legendWrap").selectAll("*").remove();
                if (r) {
                    var aa = [ {
                        key: H.stacked || "Stacked",
                        metaKey: "Stacked",
                        disabled: "stack" != e.style(),
                        style: "stack"
                    }, {
                        key: H.stream || "Stream",
                        metaKey: "Stream",
                        disabled: "stream" != e.style(),
                        style: "stream"
                    }, {
                        key: H.expanded || "Expanded",
                        metaKey: "Expanded",
                        disabled: "expand" != e.style(),
                        style: "expand"
                    }, {
                        key: H.stack_percent || "Stack %",
                        metaKey: "Stack_Percent",
                        disabled: "stack_percent" != e.style(),
                        style: "stack_percent"
                    } ];
                    F = G.length / 3 * 260, aa = aa.filter(function(a) {
                        return -1 !== G.indexOf(a.metaKey);
                    }), i.width(F).color([ "#444", "#444", "#444" ]), X.select(".nv-controlsWrap").datum(aa).call(i);
                    var ba = Math.max(i.height(), s && "top" === t ? h.height() : 0);
                    m.top != ba && (m.top = ba, T = a.utils.availableHeight(p, R, m) - (x ? l.height() : 0)), 
                    X.select(".nv-controlsWrap").attr("transform", "translate(0," + -m.top + ")");
                } else X.select(".nv-controlsWrap").selectAll("*").remove();
                V.attr("transform", "translate(" + m.left + "," + m.top + ")"), w && X.select(".nv-y.nv-axis").attr("transform", "translate(" + S + ",0)"), 
                y && (j.width(S).height(T).margin({
                    left: m.left,
                    top: m.top
                }).svgContainer(R).xScale(c), V.select(".nv-interactive").call(j)), X.select(".nv-focus .nv-background rect").attr("width", S).attr("height", T), 
                e.width(S).height(T).color(k.map(function(a, b) {
                    return a.color || q(a, b);
                }).filter(function(a, b) {
                    return !k[b].disabled;
                }));
                var ca = X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a) {
                    return !a.disabled;
                }));
                if (u && f.scale(c)._ticks(a.utils.calcTicksX(S / 100, k)).tickSize(-T, 0), v) {
                    var da;
                    da = "wiggle" === e.offset() ? 0 : a.utils.calcTicksY(T / 36, k), g.scale(d)._ticks(da).tickSize(-S, 0);
                }
                if (x) {
                    l.width(S), X.select(".nv-focusWrap").attr("transform", "translate(0," + (T + m.bottom + l.margin().top) + ")").datum(k.filter(function(a) {
                        return !a.disabled;
                    })).call(l);
                    var ea = l.brush.empty() ? l.xDomain() : l.brush.extent();
                    null !== ea && Q(ea);
                } else ca.transition().call(e), D(), L();
                e.dispatch.on("areaClick.toggle", function(a) {
                    1 === k.filter(function(a) {
                        return !a.disabled;
                    }).length ? k.forEach(function(a) {
                        a.disabled = !1;
                    }) : k.forEach(function(b, c) {
                        b.disabled = c != a.seriesIndex;
                    }), B.disabled = k.map(function(a) {
                        return !!a.disabled;
                    }), E.stateChange(B), b.update();
                }), h.dispatch.on("stateChange", function(a) {
                    for (var c in a) B[c] = a[c];
                    E.stateChange(B), b.update();
                }), i.dispatch.on("legendClick", function(a, c) {
                    a.disabled && (aa = aa.map(function(a) {
                        return a.disabled = !0, a;
                    }), a.disabled = !1, e.style(a.style), B.style = e.style(), E.stateChange(B), b.update());
                }), j.dispatch.on("elementMousemove", function(c) {
                    e.clearHighlights();
                    var d, f, g, h = [], i = 0, l = !0;
                    if (k.filter(function(a, b) {
                        return a.seriesIndex = b, !a.disabled;
                    }).forEach(function(j, k) {
                        f = a.interactiveBisect(j.values, c.pointXValue, b.x());
                        var m = j.values[f], n = b.y()(m, f);
                        if (null != n && e.highlightPoint(k, f, !0), "undefined" != typeof m) {
                            "undefined" == typeof d && (d = m), "undefined" == typeof g && (g = b.xScale()(b.x()(m, f)));
                            var o = "expand" == e.style() ? m.display.y : b.y()(m, f);
                            h.push({
                                key: j.key,
                                value: o,
                                color: q(j, j.seriesIndex),
                                point: m
                            }), z && "expand" != e.style() && null != o && (i += o, l = !1);
                        }
                    }), h.reverse(), h.length > 2) {
                        var m = b.yScale().invert(c.mouseY), n = null;
                        h.forEach(function(a, b) {
                            m = Math.abs(m);
                            var c = Math.abs(a.point.display.y0), d = Math.abs(a.point.display.y);
                            return m >= c && d + c >= m ? void (n = b) : void 0;
                        }), null != n && (h[n].highlight = !0);
                    }
                    z && "expand" != e.style() && h.length >= 2 && !l && h.push({
                        key: A,
                        value: i,
                        total: !0
                    });
                    var o = b.x()(d, f), p = j.tooltip.valueFormatter();
                    "expand" === e.style() || "stack_percent" === e.style() ? (K || (K = p), p = d3.format(".1%")) : K && (p = K, 
                    K = null), j.tooltip.valueFormatter(p).data({
                        value: o,
                        series: h
                    })(), j.renderGuideLine(g);
                }), j.dispatch.on("elementMouseout", function(a) {
                    e.clearHighlights();
                }), l.dispatch.on("onBrush", function(a) {
                    Q(a);
                }), E.on("changeState", function(a) {
                    "undefined" != typeof a.disabled && k.length === a.disabled.length && (k.forEach(function(b, c) {
                        b.disabled = a.disabled[c];
                    }), B.disabled = a.disabled), "undefined" != typeof a.style && (e.style(a.style), 
                    M = a.style), b.update();
                });
            }), L.renderEnd("stacked Area chart immediate"), b;
        }
        var c, d, e = a.models.stackedArea(), f = a.models.axis(), g = a.models.axis(), h = a.models.legend(), i = a.models.legend(), j = a.interactiveGuideline(), k = a.models.tooltip(), l = a.models.focus(a.models.stackedArea()), m = {
            top: 10,
            right: 25,
            bottom: 50,
            left: 60
        }, n = null, o = null, p = null, q = a.utils.defaultColor(), r = !0, s = !0, t = "top", u = !0, v = !0, w = !1, x = !1, y = !1, z = !0, A = "TOTAL", B = a.utils.state(), C = null, D = null, E = d3.dispatch("stateChange", "changeState", "renderEnd"), F = 250, G = [ "Stacked", "Stream", "Expanded" ], H = {}, I = 250;
        B.style = e.style(), f.orient("bottom").tickPadding(7), g.orient(w ? "right" : "left"), 
        k.headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }).valueFormatter(function(a, b) {
            return g.tickFormat()(a, b);
        }), j.tooltip.headerFormatter(function(a, b) {
            return f.tickFormat()(a, b);
        }).valueFormatter(function(a, b) {
            return null == a ? "N/A" : g.tickFormat()(a, b);
        });
        var J = null, K = null;
        i.updateState(!1);
        var L = a.utils.renderWatch(E), M = e.style(), N = function(a) {
            return function() {
                return {
                    active: a.map(function(a) {
                        return !a.disabled;
                    }),
                    style: e.style()
                };
            };
        }, O = function(a) {
            return function(b) {
                void 0 !== b.style && (M = b.style), void 0 !== b.active && a.forEach(function(a, c) {
                    a.disabled = !b.active[c];
                });
            };
        }, P = d3.format("%");
        return e.dispatch.on("elementMouseover.tooltip", function(a) {
            a.point.x = e.x()(a.point), a.point.y = e.y()(a.point), k.data(a).hidden(!1);
        }), e.dispatch.on("elementMouseout.tooltip", function(a) {
            k.hidden(!0);
        }), b.dispatch = E, b.stacked = e, b.legend = h, b.controls = i, b.xAxis = f, b.x2Axis = l.xAxis, 
        b.yAxis = g, b.y2Axis = l.yAxis, b.interactiveLayer = j, b.tooltip = k, b.focus = l, 
        b.dispatch = E, b.options = a.utils.optionsFunc.bind(b), b._options = Object.create({}, {
            width: {
                get: function() {
                    return o;
                },
                set: function(a) {
                    o = a;
                }
            },
            height: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p = a;
                }
            },
            showLegend: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            legendPosition: {
                get: function() {
                    return t;
                },
                set: function(a) {
                    t = a;
                }
            },
            showXAxis: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            showYAxis: {
                get: function() {
                    return v;
                },
                set: function(a) {
                    v = a;
                }
            },
            defaultState: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = a;
                }
            },
            noData: {
                get: function() {
                    return D;
                },
                set: function(a) {
                    D = a;
                }
            },
            showControls: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            controlLabels: {
                get: function() {
                    return H;
                },
                set: function(a) {
                    H = a;
                }
            },
            controlOptions: {
                get: function() {
                    return G;
                },
                set: function(a) {
                    G = a;
                }
            },
            showTotalInTooltip: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a;
                }
            },
            totalLabel: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            focusEnable: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = a;
                }
            },
            focusHeight: {
                get: function() {
                    return l.height();
                },
                set: function(a) {
                    l.height(a);
                }
            },
            brushExtent: {
                get: function() {
                    return l.brushExtent();
                },
                set: function(a) {
                    l.brushExtent(a);
                }
            },
            margin: {
                get: function() {
                    return m;
                },
                set: function(a) {
                    void 0 !== a.top && (m.top = a.top, n = a.top), m.right = void 0 !== a.right ? a.right : m.right, 
                    m.bottom = void 0 !== a.bottom ? a.bottom : m.bottom, m.left = void 0 !== a.left ? a.left : m.left;
                }
            },
            focusMargin: {
                get: function() {
                    return l.margin;
                },
                set: function(a) {
                    l.margin.top = void 0 !== a.top ? a.top : l.margin.top, l.margin.right = void 0 !== a.right ? a.right : l.margin.right, 
                    l.margin.bottom = void 0 !== a.bottom ? a.bottom : l.margin.bottom, l.margin.left = void 0 !== a.left ? a.left : l.margin.left;
                }
            },
            duration: {
                get: function() {
                    return I;
                },
                set: function(a) {
                    I = a, L.reset(I), e.duration(I), f.duration(I), g.duration(I);
                }
            },
            color: {
                get: function() {
                    return q;
                },
                set: function(b) {
                    q = a.utils.getColor(b), h.color(q), e.color(q), l.color(q);
                }
            },
            x: {
                get: function() {
                    return e.x();
                },
                set: function(a) {
                    e.x(a), l.x(a);
                }
            },
            y: {
                get: function() {
                    return e.y();
                },
                set: function(a) {
                    e.y(a), l.y(a);
                }
            },
            rightAlignYAxis: {
                get: function() {
                    return w;
                },
                set: function(a) {
                    w = a, g.orient(w ? "right" : "left");
                }
            },
            useInteractiveGuideline: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = !!a, b.interactive(!a), b.useVoronoi(!a), e.scatter.interactive(!a);
                }
            }
        }), a.utils.inheritOptions(b, e), a.utils.initOptions(b), b;
    }, a.models.stackedAreaWithFocusChart = function() {
        return a.models.stackedAreaChart().margin({
            bottom: 30
        }).focusEnable(!0);
    }, a.models.sunburst = function() {
        "use strict";
        function b(a) {
            var b = c(a);
            return b > 90 ? 180 : 0;
        }
        function c(a) {
            var b = Math.max(0, Math.min(2 * Math.PI, F(a.x))), c = Math.max(0, Math.min(2 * Math.PI, F(a.x + a.dx))), d = (b + c) / 2 * (180 / Math.PI) - 90;
            return d;
        }
        function d(a) {
            var b = Math.max(0, Math.min(2 * Math.PI, F(a.x))), c = Math.max(0, Math.min(2 * Math.PI, F(a.x + a.dx)));
            return (c - b) / (2 * Math.PI);
        }
        function e(a) {
            var b = Math.max(0, Math.min(2 * Math.PI, F(a.x))), c = Math.max(0, Math.min(2 * Math.PI, F(a.x + a.dx))), d = c - b;
            return d > z;
        }
        function f(a, b) {
            var c = d3.interpolate(F.domain(), [ l.x, l.x + l.dx ]), d = d3.interpolate(G.domain(), [ l.y, 1 ]), e = d3.interpolate(G.range(), [ l.y ? 20 : 0, o ]);
            return 0 === b ? function() {
                return J(a);
            } : function(b) {
                return F.domain(c(b)), G.domain(d(b)).range(e(b)), J(a);
            };
        }
        function g(a) {
            var b = d3.interpolate({
                x: a.x0,
                dx: a.dx0,
                y: a.y0,
                dy: a.dy0
            }, a);
            return function(c) {
                var d = b(c);
                return a.x0 = d.x, a.dx0 = d.dx, a.y0 = d.y, a.dy0 = d.dy, J(d);
            };
        }
        function h(a) {
            var b = B(a);
            I[b] || (I[b] = {});
            var c = I[b];
            c.dx = a.dx, c.x = a.x, c.dy = a.dy, c.y = a.y;
        }
        function i(a) {
            a.forEach(function(a) {
                var b = B(a), c = I[b];
                c ? (a.dx0 = c.dx, a.x0 = c.x, a.dy0 = c.dy, a.y0 = c.y) : (a.dx0 = a.dx, a.x0 = a.x, 
                a.dy0 = a.dy, a.y0 = a.y), h(a);
            });
        }
        function j(a) {
            var d = v.selectAll("text"), g = v.selectAll("path");
            d.transition().attr("opacity", 0), l = a, g.transition().duration(D).attrTween("d", f).each("end", function(d) {
                if (d.x >= a.x && d.x < a.x + a.dx && d.depth >= a.depth) {
                    var f = d3.select(this.parentNode), g = f.select("text");
                    g.transition().duration(D).text(function(a) {
                        return y(a);
                    }).attr("opacity", function(a) {
                        return e(a) ? 1 : 0;
                    }).attr("transform", function() {
                        var e = this.getBBox().width;
                        if (0 === d.depth) return "translate(" + e / 2 * -1 + ",0)";
                        if (d.depth === a.depth) return "translate(" + (G(d.y) + 5) + ",0)";
                        var f = c(d), g = b(d);
                        return 0 === g ? "rotate(" + f + ")translate(" + (G(d.y) + 5) + ",0)" : "rotate(" + f + ")translate(" + (G(d.y) + e + 5) + ",0)rotate(" + g + ")";
                    });
                }
            });
        }
        function k(f) {
            return K.reset(), f.each(function(f) {
                v = d3.select(this), m = a.utils.availableWidth(q, v, p), n = a.utils.availableHeight(r, v, p), 
                o = Math.min(m, n) / 2, G.range([ 0, o ]);
                var h = v.select("g.nvd3.nv-wrap.nv-sunburst");
                h[0][0] ? h.attr("transform", "translate(" + (m / 2 + p.left + p.right) + "," + (n / 2 + p.top + p.bottom) + ")") : h = v.append("g").attr("class", "nvd3 nv-wrap nv-sunburst nv-chart-" + u).attr("transform", "translate(" + (m / 2 + p.left + p.right) + "," + (n / 2 + p.top + p.bottom) + ")"), 
                v.on("click", function(a, b) {
                    E.chartClick({
                        data: a,
                        index: b,
                        pos: d3.event,
                        id: u
                    });
                }), H.value(t[s] || t.count);
                var k = H.nodes(f[0]).reverse();
                i(k);
                var l = h.selectAll(".arc-container").data(k, B), z = l.enter().append("g").attr("class", "arc-container");
                z.append("path").attr("d", J).style("fill", function(a) {
                    return a.color ? a.color : w(C ? (a.children ? a : a.parent).name : a.name);
                }).style("stroke", "#FFF").on("click", function(a, b) {
                    j(a), E.elementClick({
                        data: a,
                        index: b
                    });
                }).on("mouseover", function(a, b) {
                    d3.select(this).classed("hover", !0).style("opacity", .8), E.elementMouseover({
                        data: a,
                        color: d3.select(this).style("fill"),
                        percent: d(a)
                    });
                }).on("mouseout", function(a, b) {
                    d3.select(this).classed("hover", !1).style("opacity", 1), E.elementMouseout({
                        data: a
                    });
                }).on("mousemove", function(a, b) {
                    E.elementMousemove({
                        data: a
                    });
                }), l.each(function(a) {
                    d3.select(this).select("path").transition().duration(D).attrTween("d", g);
                }), x && (l.selectAll("text").remove(), l.append("text").text(function(a) {
                    return y(a);
                }).transition().duration(D).attr("opacity", function(a) {
                    return e(a) ? 1 : 0;
                }).attr("transform", function(a) {
                    var d = this.getBBox().width;
                    if (0 === a.depth) return "rotate(0)translate(" + d / 2 * -1 + ",0)";
                    var e = c(a), f = b(a);
                    return 0 === f ? "rotate(" + e + ")translate(" + (G(a.y) + 5) + ",0)" : "rotate(" + e + ")translate(" + (G(a.y) + d + 5) + ",0)rotate(" + f + ")";
                })), j(k[k.length - 1]), l.exit().transition().duration(D).attr("opacity", 0).each("end", function(a) {
                    var b = B(a);
                    I[b] = void 0;
                }).remove();
            }), K.renderEnd("sunburst immediate"), k;
        }
        var l, m, n, o, p = {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        }, q = 600, r = 600, s = "count", t = {
            count: function(a) {
                return 1;
            },
            value: function(a) {
                return a.value || a.size;
            },
            size: function(a) {
                return a.value || a.size;
            }
        }, u = Math.floor(1e4 * Math.random()), v = null, w = a.utils.defaultColor(), x = !1, y = function(a) {
            return "count" === s ? a.name + " #" + a.value : a.name + " " + (a.value || a.size);
        }, z = .02, A = function(a, b) {
            return a.name > b.name;
        }, B = function(a, b) {
            return a.name;
        }, C = !0, D = 500, E = d3.dispatch("chartClick", "elementClick", "elementDblClick", "elementMousemove", "elementMouseover", "elementMouseout", "renderEnd"), F = d3.scale.linear().range([ 0, 2 * Math.PI ]), G = d3.scale.sqrt(), H = d3.layout.partition().sort(A), I = {}, J = d3.svg.arc().startAngle(function(a) {
            return Math.max(0, Math.min(2 * Math.PI, F(a.x)));
        }).endAngle(function(a) {
            return Math.max(0, Math.min(2 * Math.PI, F(a.x + a.dx)));
        }).innerRadius(function(a) {
            return Math.max(0, G(a.y));
        }).outerRadius(function(a) {
            return Math.max(0, G(a.y + a.dy));
        }), K = a.utils.renderWatch(E);
        return k.dispatch = E, k.options = a.utils.optionsFunc.bind(k), k._options = Object.create({}, {
            width: {
                get: function() {
                    return q;
                },
                set: function(a) {
                    q = a;
                }
            },
            height: {
                get: function() {
                    return r;
                },
                set: function(a) {
                    r = a;
                }
            },
            mode: {
                get: function() {
                    return s;
                },
                set: function(a) {
                    s = a;
                }
            },
            id: {
                get: function() {
                    return u;
                },
                set: function(a) {
                    u = a;
                }
            },
            duration: {
                get: function() {
                    return D;
                },
                set: function(a) {
                    D = a;
                }
            },
            groupColorByParent: {
                get: function() {
                    return C;
                },
                set: function(a) {
                    C = !!a;
                }
            },
            showLabels: {
                get: function() {
                    return x;
                },
                set: function(a) {
                    x = !!a;
                }
            },
            labelFormat: {
                get: function() {
                    return y;
                },
                set: function(a) {
                    y = a;
                }
            },
            labelThreshold: {
                get: function() {
                    return z;
                },
                set: function(a) {
                    z = a;
                }
            },
            sort: {
                get: function() {
                    return A;
                },
                set: function(a) {
                    A = a;
                }
            },
            key: {
                get: function() {
                    return B;
                },
                set: function(a) {
                    B = a;
                }
            },
            margin: {
                get: function() {
                    return p;
                },
                set: function(a) {
                    p.top = void 0 != a.top ? a.top : p.top, p.right = void 0 != a.right ? a.right : p.right, 
                    p.bottom = void 0 != a.bottom ? a.bottom : p.bottom, p.left = void 0 != a.left ? a.left : p.left;
                }
            },
            color: {
                get: function() {
                    return w;
                },
                set: function(b) {
                    w = a.utils.getColor(b);
                }
            }
        }), a.utils.initOptions(k), k;
    }, a.models.sunburstChart = function() {
        "use strict";
        function b(d) {
            return n.reset(), n.models(c), d.each(function(d) {
                var h = d3.select(this);
                a.utils.initSVG(h);
                var i = a.utils.availableWidth(f, h, e), j = a.utils.availableHeight(g, h, e);
                return b.update = function() {
                    0 === l ? h.call(b) : h.transition().duration(l).call(b);
                }, b.container = h, d && d.length ? (h.selectAll(".nv-noData").remove(), c.width(i).height(j).margin(e), 
                void h.call(c)) : (a.utils.noData(b, h), b);
            }), n.renderEnd("sunburstChart immediate"), b;
        }
        var c = a.models.sunburst(), d = a.models.tooltip(), e = {
            top: 30,
            right: 20,
            bottom: 20,
            left: 20
        }, f = null, g = null, h = a.utils.defaultColor(), i = !1, j = (Math.round(1e5 * Math.random()), 
        null), k = null, l = 250, m = d3.dispatch("stateChange", "changeState", "renderEnd"), n = a.utils.renderWatch(m);
        return d.duration(0).headerEnabled(!1).valueFormatter(function(a) {
            return a;
        }), c.dispatch.on("elementMouseover.tooltip", function(a) {
            a.series = {
                key: a.data.name,
                value: a.data.value || a.data.size,
                color: a.color,
                percent: a.percent
            }, i || (delete a.percent, delete a.series.percent), d.data(a).hidden(!1);
        }), c.dispatch.on("elementMouseout.tooltip", function(a) {
            d.hidden(!0);
        }), c.dispatch.on("elementMousemove.tooltip", function(a) {
            d();
        }), b.dispatch = m, b.sunburst = c, b.tooltip = d, b.options = a.utils.optionsFunc.bind(b), 
        b._options = Object.create({}, {
            noData: {
                get: function() {
                    return k;
                },
                set: function(a) {
                    k = a;
                }
            },
            defaultState: {
                get: function() {
                    return j;
                },
                set: function(a) {
                    j = a;
                }
            },
            showTooltipPercent: {
                get: function() {
                    return i;
                },
                set: function(a) {
                    i = a;
                }
            },
            color: {
                get: function() {
                    return h;
                },
                set: function(a) {
                    h = a, c.color(h);
                }
            },
            duration: {
                get: function() {
                    return l;
                },
                set: function(a) {
                    l = a, n.reset(l), c.duration(l);
                }
            },
            margin: {
                get: function() {
                    return e;
                },
                set: function(a) {
                    e.top = void 0 !== a.top ? a.top : e.top, e.right = void 0 !== a.right ? a.right : e.right, 
                    e.bottom = void 0 !== a.bottom ? a.bottom : e.bottom, e.left = void 0 !== a.left ? a.left : e.left, 
                    c.margin(e);
                }
            }
        }), a.utils.inheritOptions(b, c), a.utils.initOptions(b), b;
    }, a.version = "1.8.5";
}(), !function(window) {
    "use strict";
    var nv = window.nv;
    "undefined" != typeof exports && (nv = require("nvd3")), angular.module("nvd3", []).directive("nvd3", [ "nvd3Utils", function(nvd3Utils) {
        return {
            restrict: "AE",
            scope: {
                data: "=",
                options: "=",
                api: "=?",
                events: "=?",
                config: "=?",
                onReady: "&?"
            },
            link: function(scope, element, attrs) {
                function configure(chart, options, chartType) {
                    chart && options && angular.forEach(chart, function(value, key) {
                        "_" === key[0] || ("dispatch" === key ? (void 0 !== options[key] && null !== options[key] || scope._config.extended && (options[key] = {}), 
                        configureEvents(value, options[key])) : "tooltip" === key ? (void 0 !== options[key] && null !== options[key] || scope._config.extended && (options[key] = {}), 
                        configure(chart[key], options[key], chartType)) : "contentGenerator" === key ? options[key] && chart[key](options[key]) : -1 === [ "axis", "clearHighlights", "defined", "highlightPoint", "nvPointerEventsClass", "options", "rangeBand", "rangeBands", "scatter", "open", "close", "node" ].indexOf(key) && (void 0 === options[key] || null === options[key] ? scope._config.extended && (options[key] = value()) : chart[key](options[key])));
                    });
                }
                function configureEvents(dispatch, options) {
                    dispatch && options && angular.forEach(dispatch, function(value, key) {
                        void 0 === options[key] || null === options[key] ? scope._config.extended && (options[key] = value.on) : dispatch.on(key + "._", options[key]);
                    });
                }
                function configureWrapper(name) {
                    var _ = nvd3Utils.deepExtend(defaultWrapper(name), scope.options[name] || {});
                    scope._config.extended && (scope.options[name] = _);
                    var wrapElement = angular.element("<div></div>").html(_.html || "").addClass(name).addClass(_.className).removeAttr("style").css(_.css);
                    _.html || wrapElement.text(_.text), _.enable && ("title" === name ? element.prepend(wrapElement) : "subtitle" === name ? angular.element(element[0].querySelector(".title")).after(wrapElement) : "caption" === name && element.append(wrapElement));
                }
                function configureStyles() {
                    var _ = nvd3Utils.deepExtend(defaultStyles(), scope.options.styles || {});
                    scope._config.extended && (scope.options.styles = _), angular.forEach(_.classes, function(value, key) {
                        value ? element.addClass(key) : element.removeClass(key);
                    }), element.removeAttr("style").css(_.css);
                }
                function defaultWrapper(_) {
                    switch (_) {
                      case "title":
                        return {
                            enable: !1,
                            text: "Write Your Title",
                            className: "h4",
                            css: {
                                width: scope.options.chart.width + "px",
                                textAlign: "center"
                            }
                        };

                      case "subtitle":
                        return {
                            enable: !1,
                            text: "Write Your Subtitle",
                            css: {
                                width: scope.options.chart.width + "px",
                                textAlign: "center"
                            }
                        };

                      case "caption":
                        return {
                            enable: !1,
                            text: "Figure 1. Write Your Caption text.",
                            css: {
                                width: scope.options.chart.width + "px",
                                textAlign: "center"
                            }
                        };
                    }
                }
                function defaultStyles() {
                    return {
                        classes: {
                            "with-3d-shadow": !0,
                            "with-transitions": !0,
                            gallery: !1
                        },
                        css: {}
                    };
                }
                function dataWatchFn(newData, oldData) {
                    newData !== oldData && (scope._config.disabled || (scope._config.refreshDataOnly ? scope.api.update() : scope.api.refresh()));
                }
                var defaultConfig = {
                    extended: !1,
                    visible: !0,
                    disabled: !1,
                    refreshDataOnly: !0,
                    deepWatchOptions: !0,
                    deepWatchData: !0,
                    deepWatchDataDepth: 2,
                    debounce: 10,
                    debounceImmediate: !0
                };
                scope.isReady = !1, scope._config = angular.extend(defaultConfig, scope.config), 
                scope.api = {
                    refresh: function() {
                        scope.api.updateWithOptions(), scope.isReady = !0;
                    },
                    refreshWithTimeout: function(t) {
                        setTimeout(function() {
                            scope.api.refresh();
                        }, t);
                    },
                    update: function() {
                        scope.chart && scope.svg ? "sunburstChart" === scope.options.chart.type ? scope.svg.datum(angular.copy(scope.data)).call(scope.chart) : scope.svg.datum(scope.data).call(scope.chart) : scope.api.refresh();
                    },
                    updateWithTimeout: function(t) {
                        setTimeout(function() {
                            scope.api.update();
                        }, t);
                    },
                    updateWithOptions: function(options) {
                        if (arguments.length) {
                            if (scope.options = options, scope._config.deepWatchOptions && !scope._config.disabled) return;
                        } else options = scope.options;
                        scope.api.clearElement(), angular.isDefined(options) !== !1 && scope._config.visible && (scope.chart = nv.models[options.chart.type](), 
                        scope.chart.id = Math.random().toString(36).substr(2, 15), angular.forEach(scope.chart, function(value, key) {
                            "_" === key[0] || [ "clearHighlights", "highlightPoint", "id", "options", "resizeHandler", "state", "open", "close", "tooltipContent" ].indexOf(key) >= 0 || ("dispatch" === key ? (void 0 !== options.chart[key] && null !== options.chart[key] || scope._config.extended && (options.chart[key] = {}), 
                            configureEvents(scope.chart[key], options.chart[key])) : [ "bars", "bars1", "bars2", "boxplot", "bullet", "controls", "discretebar", "distX", "distY", "focus", "interactiveLayer", "legend", "lines", "lines1", "lines2", "multibar", "pie", "scatter", "scatters1", "scatters2", "sparkline", "stack1", "stack2", "sunburst", "tooltip", "x2Axis", "xAxis", "y1Axis", "y2Axis", "y3Axis", "y4Axis", "yAxis", "yAxis1", "yAxis2" ].indexOf(key) >= 0 || "stacked" === key && "stackedAreaChart" === options.chart.type ? (void 0 !== options.chart[key] && null !== options.chart[key] || scope._config.extended && (options.chart[key] = {}), 
                            configure(scope.chart[key], options.chart[key], options.chart.type)) : "focusHeight" === key && "lineChart" === options.chart.type || "focusHeight" === key && "lineWithFocusChart" === options.chart.type || ("xTickFormat" !== key && "yTickFormat" !== key || "lineWithFocusChart" !== options.chart.type) && ("tooltips" === key && "boxPlotChart" === options.chart.type || ("tooltipXContent" !== key && "tooltipYContent" !== key || "scatterChart" !== options.chart.type) && ("x" !== key && "y" !== key || "forceDirectedGraph" !== options.chart.type) && (void 0 === options.chart[key] || null === options.chart[key] ? scope._config.extended && ("barColor" === key ? options.chart[key] = value()() : options.chart[key] = value()) : scope.chart[key](options.chart[key]))));
                        }), scope.api.updateWithData(), (options.title || scope._config.extended) && configureWrapper("title"), 
                        (options.subtitle || scope._config.extended) && configureWrapper("subtitle"), (options.caption || scope._config.extended) && configureWrapper("caption"), 
                        (options.styles || scope._config.extended) && configureStyles(), nv.addGraph(function() {
                            return scope.chart ? (scope.chart.resizeHandler && scope.chart.resizeHandler.clear(), 
                            scope.chart.resizeHandler = nv.utils.windowResize(function() {
                                scope.chart && scope.chart.update && scope.chart.update();
                            }), void 0 !== options.chart.zoom && [ "scatterChart", "lineChart", "candlestickBarChart", "cumulativeLineChart", "historicalBarChart", "ohlcBarChart", "stackedAreaChart" ].indexOf(options.chart.type) > -1 && nvd3Utils.zoom(scope, options), 
                            scope.chart) : void 0;
                        }, options.chart.callback));
                    },
                    updateWithData: function(data) {
                        if (arguments.length) {
                            if (scope.data = data, scope._config.deepWatchData && !scope._config.disabled) return;
                        } else data = "sunburstChart" === scope.options.chart.type ? angular.copy(scope.data) : scope.data;
                        if (data) {
                            d3.select(element[0]).select("svg").remove();
                            var h, w;
                            scope.svg = d3.select(element[0]).insert("svg", ".caption"), (h = scope.options.chart.height) && (isNaN(+h) || (h += "px"), 
                            scope.svg.attr("height", h).style({
                                height: h
                            })), (w = scope.options.chart.width) ? (isNaN(+w) || (w += "px"), scope.svg.attr("width", w).style({
                                width: w
                            })) : scope.svg.attr("width", "100%").style({
                                width: "100%"
                            }), scope.svg.datum(data).call(scope.chart), scope.chart && scope.chart.zoomRender && scope.chart.zoomRender();
                        }
                    },
                    clearElement: function() {
                        if (element.find(".title").remove(), element.find(".subtitle").remove(), element.find(".caption").remove(), 
                        element.empty(), scope.chart && scope.chart.tooltip && scope.chart.tooltip.id && d3.select("#" + scope.chart.tooltip.id()).remove(), 
                        nv.graphs && scope.chart) for (var i = nv.graphs.length - 1; i >= 0; i--) nv.graphs[i] && nv.graphs[i].id === scope.chart.id && nv.graphs.splice(i, 1);
                        nv.tooltip && nv.tooltip.cleanup && nv.tooltip.cleanup(), scope.chart && scope.chart.resizeHandler && scope.chart.resizeHandler.clear(), 
                        scope.chart = null;
                    },
                    getScope: function() {
                        return scope;
                    },
                    getElement: function() {
                        return element;
                    }
                }, scope._config.deepWatchOptions && scope.$watch("options", nvd3Utils.debounce(function(newOptions) {
                    scope._config.disabled || scope.api.refresh();
                }, scope._config.debounce, scope._config.debounceImmediate), !0), scope._config.deepWatchData && (1 === scope._config.deepWatchDataDepth ? scope.$watchCollection("data", dataWatchFn) : scope.$watch("data", dataWatchFn, 2 === scope._config.deepWatchDataDepth)), 
                scope.$watch("config", function(newConfig, oldConfig) {
                    newConfig !== oldConfig && (scope._config = angular.extend(defaultConfig, newConfig), 
                    scope.api.refresh());
                }, !0), scope._config.deepWatchOptions || scope._config.deepWatchData || scope.api.refresh(), 
                angular.forEach(scope.events, function(eventHandler, event) {
                    scope.$on(event, function(e, args) {
                        return eventHandler(e, scope, args);
                    });
                }), element.on("$destroy", function() {
                    scope.api.clearElement();
                }), scope.$watch("isReady", function(isReady) {
                    isReady && scope.onReady && "function" == typeof scope.onReady() && scope.onReady()(scope, element);
                });
            }
        };
    } ]).factory("nvd3Utils", function() {
        return {
            debounce: function(func, wait, immediate) {
                var timeout;
                return function() {
                    var context = this, args = arguments, later = function() {
                        timeout = null, immediate || func.apply(context, args);
                    }, callNow = immediate && !timeout;
                    clearTimeout(timeout), timeout = setTimeout(later, wait), callNow && func.apply(context, args);
                };
            },
            deepExtend: function(dst) {
                var me = this;
                return angular.forEach(arguments, function(obj) {
                    obj !== dst && angular.forEach(obj, function(value, key) {
                        dst[key] && dst[key].constructor && dst[key].constructor === Object ? me.deepExtend(dst[key], value) : dst[key] = value;
                    });
                }), dst;
            },
            zoom: function(scope, options) {
                var zoom = options.chart.zoom, enabled = "undefined" == typeof zoom.enabled || null === zoom.enabled || zoom.enabled;
                if (enabled) {
                    var fixDomain, d3zoom, zoomed, unzoomed, zoomend, xScale = scope.chart.xAxis.scale(), yScale = scope.chart.yAxis.scale(), xDomain = scope.chart.xDomain || xScale.domain, yDomain = scope.chart.yDomain || yScale.domain, x_boundary = xScale.domain().slice(), y_boundary = yScale.domain().slice(), scale = zoom.scale || 1, translate = zoom.translate || [ 0, 0 ], scaleExtent = zoom.scaleExtent || [ 1, 10 ], useFixedDomain = zoom.useFixedDomain || !1, useNiceScale = zoom.useNiceScale || !1, horizontalOff = zoom.horizontalOff || !1, verticalOff = zoom.verticalOff || !1, unzoomEventType = zoom.unzoomEventType || "dblclick.zoom";
                    useNiceScale && (xScale.nice(), yScale.nice()), fixDomain = function(domain, boundary) {
                        return domain[0] = Math.min(Math.max(domain[0], boundary[0]), boundary[1] - boundary[1] / scaleExtent[1]), 
                        domain[1] = Math.max(boundary[0] + boundary[1] / scaleExtent[1], Math.min(domain[1], boundary[1])), 
                        domain;
                    }, zoomed = function() {
                        if (void 0 !== zoom.zoomed) {
                            var domains = zoom.zoomed(xScale.domain(), yScale.domain());
                            horizontalOff || xDomain([ domains.x1, domains.x2 ]), verticalOff || yDomain([ domains.y1, domains.y2 ]);
                        } else horizontalOff || xDomain(useFixedDomain ? fixDomain(xScale.domain(), x_boundary) : xScale.domain()), 
                        verticalOff || yDomain(useFixedDomain ? fixDomain(yScale.domain(), y_boundary) : yScale.domain());
                        scope.chart && scope.chart.update();
                    }, unzoomed = function() {
                        if (void 0 !== zoom.unzoomed) {
                            var domains = zoom.unzoomed(xScale.domain(), yScale.domain());
                            horizontalOff || xDomain([ domains.x1, domains.x2 ]), verticalOff || yDomain([ domains.y1, domains.y2 ]);
                        } else horizontalOff || xDomain(x_boundary), verticalOff || yDomain(y_boundary);
                        d3zoom.scale(scale).translate(translate), scope.chart && scope.chart.update();
                    }, zoomend = function() {
                        void 0 !== zoom.zoomend && zoom.zoomend();
                    }, d3zoom = d3.behavior.zoom().x(xScale).y(yScale).scaleExtent(scaleExtent).on("zoom", zoomed).on("zoomend", zoomend), 
                    scope.svg && (scope.svg.call(d3zoom), d3zoom.scale(scale).translate(translate).event(scope.svg), 
                    "none" !== unzoomEventType && scope.svg.on(unzoomEventType, unzoomed)), scope.chart && (scope.chart.zoomRender = function() {
                        d3zoom.scale(scale).translate(translate), xScale = scope.chart.xAxis.scale(), yScale = scope.chart.yAxis.scale(), 
                        xDomain = scope.chart.xDomain || xScale.domain, yDomain = scope.chart.yDomain || yScale.domain, 
                        x_boundary = xScale.domain().slice(), y_boundary = yScale.domain().slice(), d3zoom.x(xScale).y(yScale), 
                        scope.svg.call(d3zoom), "none" !== unzoomEventType && scope.svg.on(unzoomEventType, unzoomed);
                    });
                }
            }
        };
    });
}(window), function() {
    angular.module("angular-date-picker-polyfill", []);
}.call(this), function() {
    angular.module("angular-date-picker-polyfill").directive("aaCalendar", [ "aaMonthUtil", "aaDateUtil", "$filter", function(aaMonthUtil, aaDateUtil, $filter) {
        return {
            restrict: "A",
            replace: !0,
            require: "ngModel",
            scope: {},
            link: function(scope, elem, attrs, ngModelCtrl) {
                var pullMonthDateFromModel, refreshView;
                return scope.dayAbbreviations = [ "Su", "M", "T", "W", "R", "F", "S" ], scope.monthArray = [ [] ], 
                scope.monthDate = null, scope.selected = null, ngModelCtrl.$render = function() {
                    return scope.selected = ngModelCtrl.$viewValue, pullMonthDateFromModel(), refreshView();
                }, pullMonthDateFromModel = function() {
                    var d;
                    return d = angular.isDate(ngModelCtrl.$viewValue) ? angular.copy(ngModelCtrl.$viewValue) : new Date(), 
                    d.setDate(1), scope.monthDate = d;
                }, refreshView = function() {
                    return scope.monthArray = aaMonthUtil.generateMonthArray(scope.monthDate.getFullYear(), scope.monthDate.getMonth(), ngModelCtrl.$viewValue);
                }, scope.setDate = function(d) {
                    var c;
                    return c = angular.isDate(ngModelCtrl.$viewValue) ? angular.copy(ngModelCtrl.$viewValue) : aaDateUtil.todayStart(), 
                    c.setYear(d.getFullYear()), c.setMonth(d.getMonth()), c.setDate(d.getDate()), ngModelCtrl.$setViewValue(c), 
                    aaDateUtil.dateObjectsAreEqualToMonth(d, scope.monthDate) || pullMonthDateFromModel(), 
                    refreshView(), scope.$emit("aa:calendar:set-date");
                }, scope.setToToday = function() {
                    return scope.setDate(aaDateUtil.todayStart());
                }, scope.incrementMonths = function(num) {
                    return scope.monthDate.setMonth(scope.monthDate.getMonth() + num), refreshView();
                };
            },
            template: "<div class='aa-cal'>\n  <div class='aa-cal-controls'>\n    <span ng-click='incrementMonths(-12)' class='aa-cal-btn aa-cal-prev-year'></span>\n    <span ng-click='incrementMonths(-1)' class='aa-cal-btn aa-cal-prev-month'></span>\n    <span ng-click='setToToday()' class='aa-cal-btn aa-cal-set-to-today'></span>\n    <strong class='aa-cal-month-name' ng-bind=\"monthDate | date:'MMMM yyyy'\"></strong>\n    <span ng-click='incrementMonths(12)' class='aa-cal-btn aa-cal-next-year'></span>\n    <span ng-click='incrementMonths(1)' class='aa-cal-btn aa-cal-next-month'></span>\n  </div>\n  <table class='aa-cal-month'>\n    <thead>\n      <tr><th ng-repeat='abbr in dayAbbreviations track by $index' ng-bind='abbr'></th></tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat='week in monthArray'>\n        <td\n          ng-repeat='day in week'\n          ng-class=\"{'aa-cal-today': day.isToday, 'aa-cal-other-month': day.isOtherMonth, 'aa-cal-selected': day.isSelected, 'aa-cal-disabled': day.isDisabled}\"\n          ng-click='setDate(day.date)'>\n            <span ng-bind=\"day.date | date:'d'\"></span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>"
        };
    } ]);
}.call(this), function() {
    angular.module("angular-date-picker-polyfill").factory("aaDateUtil", function() {
        return {
            dateObjectsAreEqualToDay: function(d1, d2) {
                return !(!angular.isDate(d1) || !angular.isDate(d2)) && (d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate());
            },
            dateObjectsAreEqualToMonth: function(d1, d2) {
                return !(!angular.isDate(d1) || !angular.isDate(d2)) && (d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth());
            },
            convertToDate: function(val) {
                var d;
                return angular.isDate(val) ? val : (d = Date.parse(val), angular.isDate(d) ? d : null);
            },
            todayStart: function() {
                var d;
                return d = new Date(), d.setHours(0), d.setMinutes(0), d.setSeconds(0), d.setMilliseconds(0), 
                d;
            }
        };
    });
}.call(this), function() {
    var linker;
    linker = function(scope, elem, attrs, ngModelCtrl, $compile, aaDateUtil, includeTimepicker) {
        var compileTemplate, init, setupNonInputEvents, setupNonInputValidatorAndFormatter, setupPopupTogglingEvents, setupViewActionMethods;
        return null == includeTimepicker && (includeTimepicker = !1), init = function() {
            if (compileTemplate(), setupViewActionMethods(), setupPopupTogglingEvents(), "INPUT" !== elem.prop("tagName") || "date" !== attrs.type && "datetime-local" !== attrs.type) return setupNonInputEvents(), 
            setupNonInputValidatorAndFormatter();
        }, setupNonInputValidatorAndFormatter = function() {
            ngModelCtrl.$formatters.unshift(aaDateUtil.convertToDate);
        }, compileTemplate = function() {
            var $popup, popupDiv, tmpl, useAmPm;
            return elem.wrap("<div class='aa-date-input'></div>"), tmpl = "<div class='aa-datepicker-popup' data-ng-show='isOpen'>\n  <div class='aa-datepicker-popup-close' data-ng-click='closePopup()'></div>\n  <div data-aa-calendar ng-model='ngModel'></div>", 
            includeTimepicker && (useAmPm = null == attrs.useAmPm || (attrs.useAmPm === !0 || "true" === attrs.useAmPm), 
            tmpl += "<div data-aa-timepicker use-am-pm='" + useAmPm + "' ng-model='ngModel'></div>"), 
            tmpl += "</div>", popupDiv = angular.element(tmpl), $popup = $compile(popupDiv)(scope), 
            elem.after($popup);
        }, setupPopupTogglingEvents = function() {
            var $wrapper, onDocumentClick, wrapperClicked;
            return scope.$on("aa:calendar:set-date", function() {
                if (!includeTimepicker) return scope.closePopup();
            }), wrapperClicked = !1, elem.on("focus", function(e) {
                if (!scope.isOpen) return scope.$apply(function() {
                    return scope.openPopup();
                });
            }), $wrapper = elem.parent(), $wrapper.on("mousedown", function(e) {
                return wrapperClicked = !0, setTimeout(function() {
                    return wrapperClicked = !1;
                }, 100);
            }), elem.on("blur", function(e) {
                if (scope.isOpen && !wrapperClicked) return scope.$apply(function() {
                    return scope.closePopup();
                });
            }), onDocumentClick = function(e) {
                if (scope.isOpen && !wrapperClicked) return scope.$apply(function() {
                    return scope.closePopup();
                });
            }, angular.element(window.document).on("mousedown", onDocumentClick), scope.$on("$destroy", function() {
                return elem.off("focus"), elem.off("blur"), $wrapper.off("mousedown"), angular.element(window.document).off("mousedown", onDocumentClick);
            });
        }, setupNonInputEvents = function() {
            return elem.on("click", function(e) {
                if (!scope.isOpen) return scope.$apply(function() {
                    return scope.openPopup();
                });
            }), scope.$on("$destroy", function() {
                return elem.off("click");
            });
        }, setupViewActionMethods = function() {
            return scope.openPopup = function() {
                return scope.isOpen = !0;
            }, scope.closePopup = function() {
                return scope.isOpen = !1;
            };
        }, init();
    }, angular.module("angular-date-picker-polyfill").directive("aaDateInput", [ "$compile", "aaDateUtil", function($compile, ngModel, aaDateUtil) {
        return {
            restrict: "A",
            require: "ngModel",
            scope: {
                ngModel: "="
            },
            link: function(scope, elem, attrs, ngModelCtrl) {
                return linker(scope, elem, attrs, ngModelCtrl, $compile, aaDateUtil, !1);
            }
        };
    } ]), angular.module("angular-date-picker-polyfill").directive("aaDateTimeInput", [ "$compile", "aaDateUtil", function($compile, aaDateUtil) {
        return {
            restrict: "A",
            require: "ngModel",
            scope: {
                ngModel: "="
            },
            link: function(scope, elem, attrs, ngModelCtrl) {
                return linker(scope, elem, attrs, ngModelCtrl, $compile, aaDateUtil, !0);
            }
        };
    } ]), angular.module("angular-date-picker-polyfill").directive("input", [ "$compile", "aaDateUtil", function($compile, aaDateUtil) {
        return {
            restrict: "E",
            require: "?ngModel",
            scope: {
                ngModel: "="
            },
            compile: function(elem, attrs) {
                if (null != attrs.ngModel && ("date" === attrs.type || "datetime-local" === attrs.type)) return function(scope, elem, attrs, ngModelCtrl) {
                    return linker(scope, elem, attrs, ngModelCtrl, $compile, aaDateUtil, "datetime-local" === attrs.type);
                };
            }
        };
    } ]);
}.call(this), function() {
    angular.module("angular-date-picker-polyfill").factory("aaMonthUtil", [ "aaDateUtil", function(aaDateUtil) {
        return {
            numberOfDaysInMonth: function(year, month) {
                return [ 31, year % 4 === 0 && year % 100 !== 0 || year % 400 === 0 ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ][month];
            },
            generateMonthArray: function(year, month, selected) {
                var arr, d, dayIndex, endDate, obj, offset, today, weekNum, _i;
                for (null == selected && (selected = null), d = new Date(year, month, 1), today = new Date(), 
                endDate = new Date(year, month, this.numberOfDaysInMonth(year, month)), offset = d.getDay(), 
                d.setDate(d.getDate() + offset * -1), arr = [], weekNum = 0; d <= endDate; ) {
                    for (arr.push([]), dayIndex = _i = 0; _i <= 6; dayIndex = ++_i) obj = {
                        date: angular.copy(d),
                        isToday: aaDateUtil.dateObjectsAreEqualToDay(d, today),
                        isSelected: !(!selected || !aaDateUtil.dateObjectsAreEqualToDay(d, selected)),
                        isOtherMonth: d.getMonth() !== month
                    }, arr[weekNum].push(obj), d.setDate(d.getDate() + 1);
                    weekNum += 1;
                }
                return arr;
            }
        };
    } ]);
}.call(this), function() {
    angular.module("angular-date-picker-polyfill").factory("aaTimeUtil", function() {
        return {
            getMinuteAndHourFromDate: function(d, useAmPmHours) {
                var amPm, h, m;
                if (null == useAmPmHours && (useAmPmHours = !0), !angular.isDate(d)) return null;
                if (h = d.getHours(), amPm = null, useAmPmHours) switch (!1) {
                  case 0 !== h:
                    h = 12, amPm = "AM";
                    break;

                  case 12 !== h:
                    amPm = "PM";
                    break;

                  case h <= 12:
                    h -= 12, amPm = "PM";
                }
                return m = d.getMinutes(), [ h, m, amPm ];
            },
            applyTimeValuesToDateObject: function(timeValues, d) {
                var hour = timeValues[0], minute = timeValues[1], amPm = timeValues[2];
                return d.setMinutes(minute), "AM" === amPm ? d.setHours(12 === hour ? 0 : hour) : "PM" === amPm && 12 === hour ? d.setHours(12) : "PM" === amPm && 12 !== hour ? d.setHours(hour + 12) : d.setHours(hour), 
                d;
            }
        };
    });
}.call(this), function() {
    angular.module("angular-date-picker-polyfill").directive("aaTimepicker", [ "aaTimeUtil", "aaDateUtil", function(aaTimeUtil, aaDateUtil) {
        return {
            restrict: "A",
            replace: !0,
            require: "ngModel",
            scope: {},
            link: function(scope, elem, attrs, ngModelCtrl) {
                var init, pullTimeFromModel, resetToNull, setupSelectOptions;
                return init = function() {
                    return setupSelectOptions(), resetToNull();
                }, setupSelectOptions = function() {
                    var _i, _j, _results, _results1;
                    return scope.useAmPm = null == attrs.useAmPm || (attrs.useAmPm === !0 || "true" === attrs.useAmPm), 
                    scope.hourOptions = scope.useAmPm ? [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 ] : function() {
                        for (_results = [], _i = 0; _i <= 23; _i++) _results.push(_i);
                        return _results;
                    }.apply(this), scope.minuteOptions = function() {
                        for (_results1 = [], _j = 0; _j <= 59; _j++) _results1.push(_j);
                        return _results1;
                    }.apply(this), scope.amPmOptions = [ "AM", "PM" ];
                }, resetToNull = function() {
                    return scope.hour = null, scope.minute = null, scope.amPm = null;
                }, ngModelCtrl.$render = function() {
                    return pullTimeFromModel();
                }, pullTimeFromModel = function() {
                    var d, _ref;
                    return angular.isDate(ngModelCtrl.$viewValue) ? (d = angular.copy(ngModelCtrl.$viewValue), 
                    _ref = aaTimeUtil.getMinuteAndHourFromDate(d, scope.useAmPm), scope.hour = _ref[0], 
                    scope.minute = _ref[1], scope.amPm = _ref[2], _ref) : resetToNull();
                }, scope.setTimeFromFields = function() {
                    var d;
                    if (null != scope.hour && null == scope.minute && (scope.minute = 0), null != scope.hour && scope.useAmPm && null == scope.amPm && (scope.amPm = "AM"), 
                    !(null == scope.hour || null == scope.minute || scope.useAmPm && null == scope.amPm)) return d = null != ngModelCtrl.$viewValue && angular.isDate(ngModelCtrl.$viewValue) ? new Date(ngModelCtrl.$viewValue) : aaDateUtil.todayStart(), 
                    aaTimeUtil.applyTimeValuesToDateObject([ scope.hour, parseInt(scope.minute), scope.amPm ], d), 
                    ngModelCtrl.$setViewValue(d);
                }, init();
            },
            template: "<div class='aa-timepicker'>\n  <select\n    tabindex='-1'\n    class='aa-timepicker-hour'\n    ng-model='hour'\n    ng-options='hour as hour for hour in hourOptions'\n    ng-change='setTimeFromFields()'>\n  </select>\n  <select\n    tabindex='-1'\n    class='aa-timepicker-minute'\n    ng-model='minute'\n    ng-options=\"min as ((min < 10) ? ('0' + min) : ('' + min)) for min in minuteOptions\"\n    ng-change='setTimeFromFields()'>\n  </select>\n  <select\n    tabindex='-1'\n    class='aa-timepicker-ampm'\n    ng-show='useAmPm'\n    ng-model='amPm'\n    ng-options='v for v in amPmOptions'\n    ng-change='setTimeFromFields()'>\n  </select>\n</div>"
        };
    } ]);
}.call(this), function($, window, document) {
    "use strict";
    var BROWSER_IS_IE7, BROWSER_SCROLLBAR_WIDTH, DOMSCROLL, DOWN, DRAG, ENTER, KEYDOWN, KEYUP, MOUSEDOWN, MOUSEENTER, MOUSEMOVE, MOUSEUP, MOUSEWHEEL, NanoScroll, PANEDOWN, RESIZE, SCROLL, SCROLLBAR, TOUCHMOVE, UP, WHEEL, cAF, defaults, getBrowserScrollbarWidth, hasTransform, isFFWithBuggyScrollbar, rAF, transform, _elementStyle, _prefixStyle, _vendor;
    defaults = {
        paneClass: "nano-pane",
        sliderClass: "nano-slider",
        contentClass: "nano-content",
        iOSNativeScrolling: !1,
        preventPageScrolling: !1,
        disableResize: !1,
        alwaysVisible: !1,
        flashDelay: 1500,
        sliderMinHeight: 20,
        sliderMaxHeight: null,
        documentContext: null,
        windowContext: null
    }, SCROLLBAR = "scrollbar", SCROLL = "scroll", MOUSEDOWN = "mousedown", MOUSEENTER = "mouseenter", 
    MOUSEMOVE = "mousemove", MOUSEWHEEL = "mousewheel", MOUSEUP = "mouseup", RESIZE = "resize", 
    DRAG = "drag", ENTER = "enter", UP = "up", PANEDOWN = "panedown", DOMSCROLL = "DOMMouseScroll", 
    DOWN = "down", WHEEL = "wheel", KEYDOWN = "keydown", KEYUP = "keyup", TOUCHMOVE = "touchmove", 
    BROWSER_IS_IE7 = "Microsoft Internet Explorer" === window.navigator.appName && /msie 7./i.test(window.navigator.appVersion) && window.ActiveXObject, 
    BROWSER_SCROLLBAR_WIDTH = null, rAF = window.requestAnimationFrame, cAF = window.cancelAnimationFrame, 
    _elementStyle = document.createElement("div").style, _vendor = function() {
        var i, transform, vendor, vendors, _i, _len;
        for (vendors = [ "t", "webkitT", "MozT", "msT", "OT" ], i = _i = 0, _len = vendors.length; _i < _len; i = ++_i) if (vendor = vendors[i], 
        transform = vendors[i] + "ransform", transform in _elementStyle) return vendors[i].substr(0, vendors[i].length - 1);
        return !1;
    }(), _prefixStyle = function(style) {
        return _vendor !== !1 && ("" === _vendor ? style : _vendor + style.charAt(0).toUpperCase() + style.substr(1));
    }, transform = _prefixStyle("transform"), hasTransform = transform !== !1, getBrowserScrollbarWidth = function() {
        var outer, outerStyle, scrollbarWidth;
        return outer = document.createElement("div"), outerStyle = outer.style, outerStyle.position = "absolute", 
        outerStyle.width = "100px", outerStyle.height = "100px", outerStyle.overflow = SCROLL, 
        outerStyle.top = "-9999px", document.body.appendChild(outer), scrollbarWidth = outer.offsetWidth - outer.clientWidth, 
        document.body.removeChild(outer), scrollbarWidth;
    }, isFFWithBuggyScrollbar = function() {
        var isOSXFF, ua, version;
        return ua = window.navigator.userAgent, !!(isOSXFF = /(?=.+Mac OS X)(?=.+Firefox)/.test(ua)) && (version = /Firefox\/\d{2}\./.exec(ua), 
        version && (version = version[0].replace(/\D+/g, "")), isOSXFF && +version > 23);
    }, NanoScroll = function() {
        function NanoScroll(el, options) {
            this.el = el, this.options = options, BROWSER_SCROLLBAR_WIDTH || (BROWSER_SCROLLBAR_WIDTH = getBrowserScrollbarWidth()), 
            this.$el = $(this.el), this.doc = $(this.options.documentContext || document), this.win = $(this.options.windowContext || window), 
            this.body = this.doc.find("body"), this.$content = this.$el.children("." + options.contentClass), 
            this.$content.attr("tabindex", this.options.tabIndex || 0), this.content = this.$content[0], 
            this.previousPosition = 0, this.options.iOSNativeScrolling && (null != this.el.style.WebkitOverflowScrolling || navigator.userAgent.match(/mobi.+Gecko/i)) ? this.nativeScrolling() : this.generate(), 
            this.createEvents(), this.addEvents(), this.reset();
        }
        return NanoScroll.prototype.preventScrolling = function(e, direction) {
            if (this.isActive) if (e.type === DOMSCROLL) (direction === DOWN && e.originalEvent.detail > 0 || direction === UP && e.originalEvent.detail < 0) && e.preventDefault(); else if (e.type === MOUSEWHEEL) {
                if (!e.originalEvent || !e.originalEvent.wheelDelta) return;
                (direction === DOWN && e.originalEvent.wheelDelta < 0 || direction === UP && e.originalEvent.wheelDelta > 0) && e.preventDefault();
            }
        }, NanoScroll.prototype.nativeScrolling = function() {
            this.$content.css({
                WebkitOverflowScrolling: "touch"
            }), this.iOSNativeScrolling = !0, this.isActive = !0;
        }, NanoScroll.prototype.updateScrollValues = function() {
            var content, direction;
            content = this.content, this.maxScrollTop = content.scrollHeight - content.clientHeight, 
            this.prevScrollTop = this.contentScrollTop || 0, this.contentScrollTop = content.scrollTop, 
            direction = this.contentScrollTop > this.previousPosition ? "down" : this.contentScrollTop < this.previousPosition ? "up" : "same", 
            this.previousPosition = this.contentScrollTop, "same" !== direction && this.$el.trigger("update", {
                position: this.contentScrollTop,
                maximum: this.maxScrollTop,
                direction: direction
            }), this.iOSNativeScrolling || (this.maxSliderTop = this.paneHeight - this.sliderHeight, 
            this.sliderTop = 0 === this.maxScrollTop ? 0 : this.contentScrollTop * this.maxSliderTop / this.maxScrollTop);
        }, NanoScroll.prototype.setOnScrollStyles = function() {
            var cssValue;
            hasTransform ? (cssValue = {}, cssValue[transform] = "translate(0, " + this.sliderTop + "px)") : cssValue = {
                top: this.sliderTop
            }, rAF ? (cAF && this.scrollRAF && cAF(this.scrollRAF), this.scrollRAF = rAF(function(_this) {
                return function() {
                    return _this.scrollRAF = null, _this.slider.css(cssValue);
                };
            }(this))) : this.slider.css(cssValue);
        }, NanoScroll.prototype.createEvents = function() {
            this.events = {
                down: function(_this) {
                    return function(e) {
                        return _this.isBeingDragged = !0, _this.offsetY = e.pageY - _this.slider.offset().top, 
                        _this.slider.is(e.target) || (_this.offsetY = 0), _this.pane.addClass("active"), 
                        _this.doc.bind(MOUSEMOVE, _this.events[DRAG]).bind(MOUSEUP, _this.events[UP]), _this.body.bind(MOUSEENTER, _this.events[ENTER]), 
                        !1;
                    };
                }(this),
                drag: function(_this) {
                    return function(e) {
                        return _this.sliderY = e.pageY - _this.$el.offset().top - _this.paneTop - (_this.offsetY || .5 * _this.sliderHeight), 
                        _this.scroll(), _this.contentScrollTop >= _this.maxScrollTop && _this.prevScrollTop !== _this.maxScrollTop ? _this.$el.trigger("scrollend") : 0 === _this.contentScrollTop && 0 !== _this.prevScrollTop && _this.$el.trigger("scrolltop"), 
                        !1;
                    };
                }(this),
                up: function(_this) {
                    return function(e) {
                        return _this.isBeingDragged = !1, _this.pane.removeClass("active"), _this.doc.unbind(MOUSEMOVE, _this.events[DRAG]).unbind(MOUSEUP, _this.events[UP]), 
                        _this.body.unbind(MOUSEENTER, _this.events[ENTER]), !1;
                    };
                }(this),
                resize: function(_this) {
                    return function(e) {
                        _this.reset();
                    };
                }(this),
                panedown: function(_this) {
                    return function(e) {
                        return _this.sliderY = (e.offsetY || e.originalEvent.layerY) - .5 * _this.sliderHeight, 
                        _this.scroll(), _this.events.down(e), !1;
                    };
                }(this),
                scroll: function(_this) {
                    return function(e) {
                        _this.updateScrollValues(), _this.isBeingDragged || (_this.iOSNativeScrolling || (_this.sliderY = _this.sliderTop, 
                        _this.setOnScrollStyles()), null != e && (_this.contentScrollTop >= _this.maxScrollTop ? (_this.options.preventPageScrolling && _this.preventScrolling(e, DOWN), 
                        _this.prevScrollTop !== _this.maxScrollTop && _this.$el.trigger("scrollend")) : 0 === _this.contentScrollTop && (_this.options.preventPageScrolling && _this.preventScrolling(e, UP), 
                        0 !== _this.prevScrollTop && _this.$el.trigger("scrolltop"))));
                    };
                }(this),
                wheel: function(_this) {
                    return function(e) {
                        var delta;
                        if (null != e) return delta = e.delta || e.wheelDelta || e.originalEvent && e.originalEvent.wheelDelta || -e.detail || e.originalEvent && -e.originalEvent.detail, 
                        delta && (_this.sliderY += -delta / 3), _this.scroll(), !1;
                    };
                }(this),
                enter: function(_this) {
                    return function(e) {
                        var _ref;
                        if (_this.isBeingDragged) return 1 !== (e.buttons || e.which) ? (_ref = _this.events)[UP].apply(_ref, arguments) : void 0;
                    };
                }(this)
            };
        }, NanoScroll.prototype.addEvents = function() {
            var events;
            this.removeEvents(), events = this.events, this.options.disableResize || this.win.bind(RESIZE, events[RESIZE]), 
            this.iOSNativeScrolling || (this.slider.bind(MOUSEDOWN, events[DOWN]), this.pane.bind(MOUSEDOWN, events[PANEDOWN]).bind("" + MOUSEWHEEL + " " + DOMSCROLL, events[WHEEL])), 
            this.$content.bind("" + SCROLL + " " + MOUSEWHEEL + " " + DOMSCROLL + " " + TOUCHMOVE, events[SCROLL]);
        }, NanoScroll.prototype.removeEvents = function() {
            var events;
            events = this.events, this.win.unbind(RESIZE, events[RESIZE]), this.iOSNativeScrolling || (this.slider.unbind(), 
            this.pane.unbind()), this.$content.unbind("" + SCROLL + " " + MOUSEWHEEL + " " + DOMSCROLL + " " + TOUCHMOVE, events[SCROLL]);
        }, NanoScroll.prototype.generate = function() {
            var contentClass, cssRule, currentPadding, options, pane, paneClass, sliderClass;
            return options = this.options, paneClass = options.paneClass, sliderClass = options.sliderClass, 
            contentClass = options.contentClass, (pane = this.$el.children("." + paneClass)).length || pane.children("." + sliderClass).length || this.$el.append('<div class="' + paneClass + '"><div class="' + sliderClass + '" /></div>'), 
            this.pane = this.$el.children("." + paneClass), this.slider = this.pane.find("." + sliderClass), 
            0 === BROWSER_SCROLLBAR_WIDTH && isFFWithBuggyScrollbar() ? (currentPadding = window.getComputedStyle(this.content, null).getPropertyValue("padding-right").replace(/[^0-9.]+/g, ""), 
            cssRule = {
                right: -14,
                paddingRight: +currentPadding + 14
            }) : BROWSER_SCROLLBAR_WIDTH && (cssRule = {
                right: -BROWSER_SCROLLBAR_WIDTH
            }, this.$el.addClass("has-scrollbar")), null != cssRule && this.$content.css(cssRule), 
            this;
        }, NanoScroll.prototype.restore = function() {
            this.stopped = !1, this.iOSNativeScrolling || this.pane.show(), this.addEvents();
        }, NanoScroll.prototype.reset = function() {
            var content, contentHeight, contentPosition, contentStyle, contentStyleOverflowY, paneBottom, paneHeight, paneOuterHeight, paneTop, parentMaxHeight, right, sliderHeight;
            return this.iOSNativeScrolling ? void (this.contentHeight = this.content.scrollHeight) : (this.$el.find("." + this.options.paneClass).length || this.generate().stop(), 
            this.stopped && this.restore(), content = this.content, contentStyle = content.style, 
            contentStyleOverflowY = contentStyle.overflowY, BROWSER_IS_IE7 && this.$content.css({
                height: this.$content.height()
            }), contentHeight = content.scrollHeight + BROWSER_SCROLLBAR_WIDTH, parentMaxHeight = parseInt(this.$el.css("max-height"), 10), 
            parentMaxHeight > 0 && (this.$el.height(""), this.$el.height(content.scrollHeight > parentMaxHeight ? parentMaxHeight : content.scrollHeight)), 
            paneHeight = this.pane.outerHeight(!1), paneTop = parseInt(this.pane.css("top"), 10), 
            paneBottom = parseInt(this.pane.css("bottom"), 10), paneOuterHeight = paneHeight + paneTop + paneBottom, 
            sliderHeight = Math.round(paneOuterHeight / contentHeight * paneOuterHeight), sliderHeight < this.options.sliderMinHeight ? sliderHeight = this.options.sliderMinHeight : null != this.options.sliderMaxHeight && sliderHeight > this.options.sliderMaxHeight && (sliderHeight = this.options.sliderMaxHeight), 
            contentStyleOverflowY === SCROLL && contentStyle.overflowX !== SCROLL && (sliderHeight += BROWSER_SCROLLBAR_WIDTH), 
            this.maxSliderTop = paneOuterHeight - sliderHeight, this.contentHeight = contentHeight, 
            this.paneHeight = paneHeight, this.paneOuterHeight = paneOuterHeight, this.sliderHeight = sliderHeight, 
            this.paneTop = paneTop, this.slider.height(sliderHeight), this.events.scroll(), 
            this.pane.show(), this.isActive = !0, content.scrollHeight === content.clientHeight || this.pane.outerHeight(!0) >= content.scrollHeight && contentStyleOverflowY !== SCROLL ? (this.pane.hide(), 
            this.isActive = !1) : this.el.clientHeight === content.scrollHeight && contentStyleOverflowY === SCROLL ? this.slider.hide() : this.slider.show(), 
            this.pane.css({
                opacity: this.options.alwaysVisible ? 1 : "",
                visibility: this.options.alwaysVisible ? "visible" : ""
            }), contentPosition = this.$content.css("position"), "static" !== contentPosition && "relative" !== contentPosition || (right = parseInt(this.$content.css("right"), 10), 
            right && this.$content.css({
                right: "",
                marginRight: right
            })), this);
        }, NanoScroll.prototype.scroll = function() {
            if (this.isActive) return this.sliderY = Math.max(0, this.sliderY), this.sliderY = Math.min(this.maxSliderTop, this.sliderY), 
            this.$content.scrollTop(this.maxScrollTop * this.sliderY / this.maxSliderTop), this.iOSNativeScrolling || (this.updateScrollValues(), 
            this.setOnScrollStyles()), this;
        }, NanoScroll.prototype.scrollBottom = function(offsetY) {
            if (this.isActive) return this.$content.scrollTop(this.contentHeight - this.$content.height() - offsetY).trigger(MOUSEWHEEL), 
            this.stop().restore(), this;
        }, NanoScroll.prototype.scrollTop = function(offsetY) {
            if (this.isActive) return this.$content.scrollTop(+offsetY).trigger(MOUSEWHEEL), 
            this.stop().restore(), this;
        }, NanoScroll.prototype.scrollTo = function(node) {
            if (this.isActive) return this.scrollTop(this.$el.find(node).get(0).offsetTop), 
            this;
        }, NanoScroll.prototype.stop = function() {
            return cAF && this.scrollRAF && (cAF(this.scrollRAF), this.scrollRAF = null), this.stopped = !0, 
            this.removeEvents(), this.iOSNativeScrolling || this.pane.hide(), this;
        }, NanoScroll.prototype.destroy = function() {
            return this.stopped || this.stop(), !this.iOSNativeScrolling && this.pane.length && this.pane.remove(), 
            BROWSER_IS_IE7 && this.$content.height(""), this.$content.removeAttr("tabindex"), 
            this.$el.hasClass("has-scrollbar") && (this.$el.removeClass("has-scrollbar"), this.$content.css({
                right: ""
            })), this;
        }, NanoScroll.prototype.flash = function() {
            if (!this.iOSNativeScrolling && this.isActive) return this.reset(), this.pane.addClass("flashed"), 
            setTimeout(function(_this) {
                return function() {
                    _this.pane.removeClass("flashed");
                };
            }(this), this.options.flashDelay), this;
        }, NanoScroll;
    }(), $.fn.nanoScroller = function(settings) {
        return this.each(function() {
            var options, scrollbar;
            if ((scrollbar = this.nanoscroller) || (options = $.extend({}, defaults, settings), 
            this.nanoscroller = scrollbar = new NanoScroll(this, options)), settings && "object" == typeof settings) {
                if ($.extend(scrollbar.options, settings), null != settings.scrollBottom) return scrollbar.scrollBottom(settings.scrollBottom);
                if (null != settings.scrollTop) return scrollbar.scrollTop(settings.scrollTop);
                if (settings.scrollTo) return scrollbar.scrollTo(settings.scrollTo);
                if ("bottom" === settings.scroll) return scrollbar.scrollBottom(0);
                if ("top" === settings.scroll) return scrollbar.scrollTop(0);
                if (settings.scroll && settings.scroll instanceof $) return scrollbar.scrollTo(settings.scroll);
                if (settings.stop) return scrollbar.stop();
                if (settings.destroy) return scrollbar.destroy();
                if (settings.flash) return scrollbar.flash();
            }
            return scrollbar.reset();
        });
    }, $.fn.nanoScroller.Constructor = NanoScroll;
}(jQuery, window, document), function($) {
    $.fn.addBack = $.fn.addBack || $.fn.andSelf, $.fn.extend({
        actual: function(method, options) {
            if (!this[method]) throw '$.actual => The jQuery method "' + method + '" you called does not exist';
            var fix, restore, defaults = {
                absolute: !1,
                clone: !1,
                includeMargin: !1
            }, configs = $.extend(defaults, options), $target = this.eq(0);
            if (configs.clone === !0) fix = function() {
                var style = "position: absolute !important; top: -1000 !important; ";
                $target = $target.clone().attr("style", style).appendTo("body");
            }, restore = function() {
                $target.remove();
            }; else {
                var $hidden, tmp = [], style = "";
                fix = function() {
                    $hidden = $target.parents().addBack().filter(":hidden"), style += "visibility: hidden !important; display: block !important; ", 
                    configs.absolute === !0 && (style += "position: absolute !important; "), $hidden.each(function() {
                        var $this = $(this), thisStyle = $this.attr("style");
                        tmp.push(thisStyle), $this.attr("style", thisStyle ? thisStyle + ";" + style : style);
                    });
                }, restore = function() {
                    $hidden.each(function(i) {
                        var $this = $(this), _tmp = tmp[i];
                        void 0 === _tmp ? $this.removeAttr("style") : $this.attr("style", _tmp);
                    });
                };
            }
            fix();
            var actual = /(outer)/.test(method) ? $target[method](configs.includeMargin) : $target[method]();
            return restore(), actual;
        }
    });
}(jQuery), !function() {
    "use strict";
    function a(a, b, c) {
        "addEventListener" in window ? a.addEventListener(b, c, !1) : "attachEvent" in window && a.attachEvent("on" + b, c);
    }
    function b(a) {
        return $ + "[" + ab + "] " + a;
    }
    function c(a) {
        Z && "object" == typeof window.console && console.log(b(a));
    }
    function d(a) {
        "object" == typeof window.console && console.warn(b(a));
    }
    function e() {
        c("Initialising iFrame"), f(), i(), h("background", L), h("padding", O), o(), m(), 
        j(), p(), n(), D("init", "Init message from host page");
    }
    function f() {
        function a(a) {
            return "true" === a;
        }
        var b = X.substr(_).split(":");
        ab = b[0], M = void 0 !== b[1] ? Number(b[1]) : M, P = void 0 !== b[2] ? a(b[2]) : P, 
        Z = void 0 !== b[3] ? a(b[3]) : Z, Y = void 0 !== b[4] ? Number(b[4]) : Y, bb = void 0 !== b[5] ? a(b[5]) : bb, 
        J = void 0 !== b[6] ? a(b[6]) : J, N = b[7], V = void 0 !== b[8] ? b[8] : V, L = b[9], 
        O = b[10], fb = void 0 !== b[11] ? Number(b[11]) : fb;
    }
    function g(a, b) {
        return -1 !== b.indexOf("-") && (d("Negative CSS value ignored for " + a), b = ""), 
        b;
    }
    function h(a, b) {
        void 0 !== b && "" !== b && "null" !== b && (document.body.style[a] = b, c("Body " + a + ' set to "' + b + '"'));
    }
    function i() {
        void 0 === N && (N = M + "px"), g("margin", N), h("margin", N);
    }
    function j() {
        document.documentElement.style.height = "", document.body.style.height = "", c('HTML & body height set to "auto"');
    }
    function k() {
        a(window, "resize", function() {
            D("resize", "Window resized");
        });
    }
    function l() {
        a(window, "click", function() {
            D("click", "Window clicked");
        });
    }
    function m() {
        U !== V && (V in jb || (d(V + " is not a valid option for heightCalculationMethod."), 
        V = "bodyScroll"), c('Height calculation method set to "' + V + '"'));
    }
    function n() {
        !0 === J ? (k(), l(), s()) : c("Auto Resize disabled");
    }
    function o() {
        var a = document.createElement("div");
        a.style.clear = "both", a.style.display = "block", document.body.appendChild(a);
    }
    function p() {
        bb && (c("Enable public methods"), window.parentIFrame = {
            close: function() {
                D("close", "parentIFrame.close()", 0, 0);
            },
            getId: function() {
                return ab;
            },
            reset: function() {
                G("parentIFrame.size");
            },
            scrollTo: function(a, b) {
                H(b, a, "scrollTo");
            },
            scrollToOffset: function(a, b) {
                H(b, a, "scrollToOffset");
            },
            sendMessage: function(a, b) {
                H(0, 0, "message", JSON.stringify(a), b);
            },
            setHeightCalculationMethod: function(a) {
                V = a, m();
            },
            setTargetOrigin: function(a) {
                c("Set targetOrigin: " + a), db = a;
            },
            size: function(a, b) {
                var c = "" + (a ? a : "") + (b ? "," + b : "");
                E(), D("size", "parentIFrame.size(" + c + ")", a, b);
            }
        });
    }
    function q() {
        0 !== Y && (c("setInterval: " + Y + "ms"), setInterval(function() {
            D("interval", "setInterval: " + Y);
        }, Math.abs(Y)));
    }
    function r(b) {
        function d(b) {
            (void 0 === b.height || void 0 === b.width || 0 === b.height || 0 === b.width) && (c("Attach listerner to " + b.src), 
            a(b, "load", function() {
                D("imageLoad", "Image loaded");
            }));
        }
        b.forEach(function(a) {
            if ("attributes" === a.type && "src" === a.attributeName) d(a.target); else if ("childList" === a.type) {
                var b = a.target.querySelectorAll("img");
                Array.prototype.forEach.call(b, function(a) {
                    d(a);
                });
            }
        });
    }
    function s() {
        function a() {
            var a = document.querySelector("body"), d = {
                attributes: !0,
                attributeOldValue: !1,
                characterData: !0,
                characterDataOldValue: !1,
                childList: !0,
                subtree: !0
            }, e = new b(function(a) {
                D("mutationObserver", "mutationObserver: " + a[0].target + " " + a[0].type), r(a);
            });
            c("Enable MutationObserver"), e.observe(a, d);
        }
        var b = window.MutationObserver || window.WebKitMutationObserver;
        b ? 0 > Y ? q() : a() : (d("MutationObserver not supported in this browser!"), q());
    }
    function t() {
        function a(a) {
            function b(a) {
                var b = /^\d+(px)?$/i;
                if (b.test(a)) return parseInt(a, K);
                var d = c.style.left, e = c.runtimeStyle.left;
                return c.runtimeStyle.left = c.currentStyle.left, c.style.left = a || 0, a = c.style.pixelLeft, 
                c.style.left = d, c.runtimeStyle.left = e, a;
            }
            var c = document.body, d = 0;
            return "defaultView" in document && "getComputedStyle" in document.defaultView ? (d = document.defaultView.getComputedStyle(c, null), 
            d = null !== d ? d[a] : 0) : d = b(c.currentStyle[a]), parseInt(d, K);
        }
        return document.body.offsetHeight + a("marginTop") + a("marginBottom");
    }
    function u() {
        return document.body.scrollHeight;
    }
    function v() {
        return document.documentElement.offsetHeight;
    }
    function w() {
        return document.documentElement.scrollHeight;
    }
    function x() {
        for (var a = document.querySelectorAll("body *"), b = a.length, d = 0, e = new Date().getTime(), f = 0; b > f; f++) a[f].getBoundingClientRect().bottom > d && (d = a[f].getBoundingClientRect().bottom);
        return e = new Date().getTime() - e, c("Parsed " + b + " HTML elements"), c("LowestElement bottom position calculated in " + e + "ms"), 
        d;
    }
    function y() {
        return [ t(), u(), v(), w() ];
    }
    function z() {
        return Math.max.apply(null, y());
    }
    function A() {
        return Math.min.apply(null, y());
    }
    function B() {
        return Math.max(t(), x());
    }
    function C() {
        return Math.max(document.documentElement.scrollWidth, document.body.scrollWidth);
    }
    function D(a, b, d, e) {
        function f() {
            a in {
                reset: 1,
                resetPage: 1,
                init: 1
            } || c("Trigger event: " + b);
        }
        function g() {
            S = n, ib = o, H(S, ib, a);
        }
        function h() {
            return gb && a in Q;
        }
        function i() {
            function a(a, b) {
                var c = Math.abs(a - b) <= fb;
                return !c;
            }
            return n = void 0 !== d ? d : jb[V](), o = void 0 !== e ? e : C(), a(S, n) || P && a(ib, o);
        }
        function j() {
            return !(a in {
                init: 1,
                interval: 1,
                size: 1
            });
        }
        function k() {
            return V in cb;
        }
        function l() {
            c("No change in size detected");
        }
        function m() {
            j() && k() ? G(b) : a in {
                interval: 1
            } || (f(), l());
        }
        var n, o;
        h() ? c("Trigger event cancelled: " + a) : i() ? (f(), E(), g()) : m();
    }
    function E() {
        gb || (gb = !0, c("Trigger event lock on")), clearTimeout(hb), hb = setTimeout(function() {
            gb = !1, c("Trigger event lock off"), c("--");
        }, R);
    }
    function F(a) {
        S = jb[V](), ib = C(), H(S, ib, a);
    }
    function G(a) {
        var b = V;
        V = U, c("Reset trigger event: " + a), E(), F("reset"), V = b;
    }
    function H(a, b, d, e, f) {
        function g() {
            void 0 === f ? f = db : c("Message targetOrigin: " + f);
        }
        function h() {
            var g = a + ":" + b, h = ab + ":" + g + ":" + d + (void 0 !== e ? ":" + e : "");
            c("Sending message to host page (" + h + ")"), eb.postMessage($ + h, f);
        }
        g(), h();
    }
    function I(a) {
        function b() {
            return $ === ("" + a.data).substr(0, _);
        }
        function f() {
            X = a.data, eb = a.source, e(), T = !1, setTimeout(function() {
                W = !1;
            }, R);
        }
        function g() {
            W ? c("Page reset ignored by init") : (c("Page size reset by host page"), F("resetPage"));
        }
        function h() {
            return a.data.split("]")[1];
        }
        function i() {
            return "iFrameResize" in window;
        }
        function j() {
            return a.data.split(":")[2] in {
                true: 1,
                false: 1
            };
        }
        b() && (T && j() ? f() : "reset" === h() ? g() : a.data === X || i() || d("Unexpected message (" + a.data + ")"));
    }
    var J = !0, K = 10, L = "", M = 0, N = "", O = "", P = !1, Q = {
        resize: 1,
        click: 1
    }, R = 128, S = 1, T = !0, U = "offset", V = U, W = !0, X = "", Y = 32, Z = !1, $ = "[iFrameSizer]", _ = $.length, ab = "", bb = !1, cb = {
        max: 1,
        scroll: 1,
        bodyScroll: 1,
        documentElementScroll: 1
    }, db = "*", eb = window.parent, fb = 0, gb = !1, hb = null, ib = 1, jb = {
        offset: t,
        bodyOffset: t,
        bodyScroll: u,
        documentElementOffset: v,
        scroll: w,
        documentElementScroll: w,
        max: z,
        min: A,
        grow: z,
        lowestElement: B
    };
    a(window, "message", I);
}();

var t = void 0, u = !1, sjcl = {
    cipher: {},
    hash: {},
    keyexchange: {},
    mode: {},
    misc: {},
    codec: {},
    exception: {
        corrupt: function(a) {
            this.toString = function() {
                return "CORRUPT: " + this.message;
            }, this.message = a;
        },
        invalid: function(a) {
            this.toString = function() {
                return "INVALID: " + this.message;
            }, this.message = a;
        },
        bug: function(a) {
            this.toString = function() {
                return "BUG: " + this.message;
            }, this.message = a;
        },
        notReady: function(a) {
            this.toString = function() {
                return "NOT READY: " + this.message;
            }, this.message = a;
        }
    }
};

"undefined" != typeof module && module.exports && (module.exports = sjcl), sjcl.cipher.aes = function(a) {
    this.j[0][0][0] || this.D();
    var b, c, d, e, f = this.j[0][4], g = this.j[1];
    b = a.length;
    var h = 1;
    for (4 !== b && 6 !== b && 8 !== b && q(new sjcl.exception.invalid("invalid aes key size")), 
    this.a = [ d = a.slice(0), e = [] ], a = b; a < 4 * b + 28; a++) c = d[a - 1], (0 === a % b || 8 === b && 4 === a % b) && (c = f[c >>> 24] << 24 ^ f[c >> 16 & 255] << 16 ^ f[c >> 8 & 255] << 8 ^ f[255 & c], 
    0 === a % b && (c = c << 8 ^ c >>> 24 ^ h << 24, h = h << 1 ^ 283 * (h >> 7))), 
    d[a] = d[a - b] ^ c;
    for (b = 0; a; b++, a--) c = d[3 & b ? a : a - 4], e[b] = 4 >= a || 4 > b ? c : g[0][f[c >>> 24]] ^ g[1][f[c >> 16 & 255]] ^ g[2][f[c >> 8 & 255]] ^ g[3][f[255 & c]];
}, sjcl.cipher.aes.prototype = {
    encrypt: function(a) {
        return y(this, a, 0);
    },
    decrypt: function(a) {
        return y(this, a, 1);
    },
    j: [ [ [], [], [], [], [] ], [ [], [], [], [], [] ] ],
    D: function() {
        var e, f, g, k, n, m, p, a = this.j[0], b = this.j[1], c = a[4], d = b[4], h = [], l = [];
        for (e = 0; 256 > e; e++) l[(h[e] = e << 1 ^ 283 * (e >> 7)) ^ e] = e;
        for (f = g = 0; !c[f]; f ^= k || 1, g = l[g] || 1) for (m = g ^ g << 1 ^ g << 2 ^ g << 3 ^ g << 4, 
        m = m >> 8 ^ 255 & m ^ 99, c[f] = m, d[m] = f, n = h[e = h[k = h[f]]], p = 16843009 * n ^ 65537 * e ^ 257 * k ^ 16843008 * f, 
        n = 257 * h[m] ^ 16843008 * m, e = 0; 4 > e; e++) a[e][f] = n = n << 24 ^ n >>> 8, 
        b[e][m] = p = p << 24 ^ p >>> 8;
        for (e = 0; 5 > e; e++) a[e] = a[e].slice(0), b[e] = b[e].slice(0);
    }
}, sjcl.bitArray = {
    bitSlice: function(a, b, c) {
        return a = sjcl.bitArray.P(a.slice(b / 32), 32 - (31 & b)).slice(1), c === t ? a : sjcl.bitArray.clamp(a, c - b);
    },
    extract: function(a, b, c) {
        var d = Math.floor(-b - c & 31);
        return ((b + c - 1 ^ b) & -32 ? a[b / 32 | 0] << 32 - d ^ a[b / 32 + 1 | 0] >>> d : a[b / 32 | 0] >>> d) & (1 << c) - 1;
    },
    concat: function(a, b) {
        if (0 === a.length || 0 === b.length) return a.concat(b);
        var c = a[a.length - 1], d = sjcl.bitArray.getPartial(c);
        return 32 === d ? a.concat(b) : sjcl.bitArray.P(b, d, 0 | c, a.slice(0, a.length - 1));
    },
    bitLength: function(a) {
        var b = a.length;
        return 0 === b ? 0 : 32 * (b - 1) + sjcl.bitArray.getPartial(a[b - 1]);
    },
    clamp: function(a, b) {
        if (32 * a.length < b) return a;
        a = a.slice(0, Math.ceil(b / 32));
        var c = a.length;
        return b &= 31, 0 < c && b && (a[c - 1] = sjcl.bitArray.partial(b, a[c - 1] & 2147483648 >> b - 1, 1)), 
        a;
    },
    partial: function(a, b, c) {
        return 32 === a ? b : (c ? 0 | b : b << 32 - a) + 1099511627776 * a;
    },
    getPartial: function(a) {
        return Math.round(a / 1099511627776) || 32;
    },
    equal: function(a, b) {
        if (sjcl.bitArray.bitLength(a) !== sjcl.bitArray.bitLength(b)) return u;
        var d, c = 0;
        for (d = 0; d < a.length; d++) c |= a[d] ^ b[d];
        return 0 === c;
    },
    P: function(a, b, c, d) {
        var e;
        for (e = 0, d === t && (d = []); 32 <= b; b -= 32) d.push(c), c = 0;
        if (0 === b) return d.concat(a);
        for (e = 0; e < a.length; e++) d.push(c | a[e] >>> b), c = a[e] << 32 - b;
        return e = a.length ? a[a.length - 1] : 0, a = sjcl.bitArray.getPartial(e), d.push(sjcl.bitArray.partial(b + a & 31, 32 < b + a ? c : d.pop(), 1)), 
        d;
    },
    k: function(a, b) {
        return [ a[0] ^ b[0], a[1] ^ b[1], a[2] ^ b[2], a[3] ^ b[3] ];
    }
}, sjcl.codec.utf8String = {
    fromBits: function(a) {
        var d, e, b = "", c = sjcl.bitArray.bitLength(a);
        for (d = 0; d < c / 8; d++) 0 === (3 & d) && (e = a[d / 4]), b += String.fromCharCode(e >>> 24), 
        e <<= 8;
        return decodeURIComponent(escape(b));
    },
    toBits: function(a) {
        a = unescape(encodeURIComponent(a));
        var c, b = [], d = 0;
        for (c = 0; c < a.length; c++) d = d << 8 | a.charCodeAt(c), 3 === (3 & c) && (b.push(d), 
        d = 0);
        return 3 & c && b.push(sjcl.bitArray.partial(8 * (3 & c), d)), b;
    }
}, sjcl.codec.hex = {
    fromBits: function(a) {
        var c, b = "";
        for (c = 0; c < a.length; c++) b += ((0 | a[c]) + 0xf00000000000).toString(16).substr(4);
        return b.substr(0, sjcl.bitArray.bitLength(a) / 4);
    },
    toBits: function(a) {
        var b, d, c = [];
        for (a = a.replace(/\s|0x/g, ""), d = a.length, a += "00000000", b = 0; b < a.length; b += 8) c.push(0 ^ parseInt(a.substr(b, 8), 16));
        return sjcl.bitArray.clamp(c, 4 * d);
    }
}, sjcl.codec.base64 = {
    J: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    fromBits: function(a, b, c) {
        var d = "", e = 0, f = sjcl.codec.base64.J, g = 0, h = sjcl.bitArray.bitLength(a);
        for (c && (f = f.substr(0, 62) + "-_"), c = 0; 6 * d.length < h; ) d += f.charAt((g ^ a[c] >>> e) >>> 26), 
        6 > e ? (g = a[c] << 6 - e, e += 26, c++) : (g <<= 6, e -= 6);
        for (;3 & d.length && !b; ) d += "=";
        return d;
    },
    toBits: function(a, b) {
        a = a.replace(/\s|=/g, "");
        var d, h, c = [], e = 0, f = sjcl.codec.base64.J, g = 0;
        for (b && (f = f.substr(0, 62) + "-_"), d = 0; d < a.length; d++) h = f.indexOf(a.charAt(d)), 
        0 > h && q(new sjcl.exception.invalid("this isn't base64!")), 26 < e ? (e -= 26, 
        c.push(g ^ h >>> e), g = h << 32 - e) : (e += 6, g ^= h << 32 - e);
        return 56 & e && c.push(sjcl.bitArray.partial(56 & e, g, 1)), c;
    }
}, sjcl.codec.base64url = {
    fromBits: function(a) {
        return sjcl.codec.base64.fromBits(a, 1, 1);
    },
    toBits: function(a) {
        return sjcl.codec.base64.toBits(a, 1);
    }
}, sjcl.hash.sha256 = function(a) {
    this.a[0] || this.D(), a ? (this.q = a.q.slice(0), this.n = a.n.slice(0), this.g = a.g) : this.reset();
}, sjcl.hash.sha256.hash = function(a) {
    return new sjcl.hash.sha256().update(a).finalize();
}, sjcl.hash.sha256.prototype = {
    blockSize: 512,
    reset: function() {
        return this.q = this.N.slice(0), this.n = [], this.g = 0, this;
    },
    update: function(a) {
        "string" == typeof a && (a = sjcl.codec.utf8String.toBits(a));
        var b, c = this.n = sjcl.bitArray.concat(this.n, a);
        for (b = this.g, a = this.g = b + sjcl.bitArray.bitLength(a), b = 512 + b & -512; b <= a; b += 512) z(this, c.splice(0, 16));
        return this;
    },
    finalize: function() {
        var a, b = this.n, c = this.q, b = sjcl.bitArray.concat(b, [ sjcl.bitArray.partial(1, 1) ]);
        for (a = b.length + 2; 15 & a; a++) b.push(0);
        for (b.push(Math.floor(this.g / 4294967296)), b.push(0 | this.g); b.length; ) z(this, b.splice(0, 16));
        return this.reset(), c;
    },
    N: [],
    a: [],
    D: function() {
        function a(a) {
            return 4294967296 * (a - Math.floor(a)) | 0;
        }
        var d, b = 0, c = 2;
        a: for (;64 > b; c++) {
            for (d = 2; d * d <= c; d++) if (0 === c % d) continue a;
            8 > b && (this.N[b] = a(Math.pow(c, .5))), this.a[b] = a(Math.pow(c, 1 / 3)), b++;
        }
    }
}, sjcl.mode.ccm = {
    name: "ccm",
    encrypt: function(a, b, c, d, e) {
        var f, g = b.slice(0), h = sjcl.bitArray, l = h.bitLength(c) / 8, k = h.bitLength(g) / 8;
        for (e = e || 64, d = d || [], 7 > l && q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")), 
        f = 2; 4 > f && k >>> 8 * f; f++) ;
        return f < 15 - l && (f = 15 - l), c = h.clamp(c, 8 * (15 - f)), b = sjcl.mode.ccm.L(a, b, c, d, e, f), 
        g = sjcl.mode.ccm.o(a, g, c, b, e, f), h.concat(g.data, g.tag);
    },
    decrypt: function(a, b, c, d, e) {
        e = e || 64, d = d || [];
        var f = sjcl.bitArray, g = f.bitLength(c) / 8, h = f.bitLength(b), l = f.clamp(b, h - e), k = f.bitSlice(b, h - e), h = (h - e) / 8;
        for (7 > g && q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")), 
        b = 2; 4 > b && h >>> 8 * b; b++) ;
        return b < 15 - g && (b = 15 - g), c = f.clamp(c, 8 * (15 - b)), l = sjcl.mode.ccm.o(a, l, c, k, e, b), 
        a = sjcl.mode.ccm.L(a, l.data, c, d, e, b), f.equal(l.tag, a) || q(new sjcl.exception.corrupt("ccm: tag doesn't match")), 
        l.data;
    },
    L: function(a, b, c, d, e, f) {
        var g = [], h = sjcl.bitArray, l = h.k;
        if (e /= 8, (e % 2 || 4 > e || 16 < e) && q(new sjcl.exception.invalid("ccm: invalid tag length")), 
        (4294967295 < d.length || 4294967295 < b.length) && q(new sjcl.exception.bug("ccm: can't deal with 4GiB or more data")), 
        f = [ h.partial(8, (d.length ? 64 : 0) | e - 2 << 2 | f - 1) ], f = h.concat(f, c), 
        f[3] |= h.bitLength(b) / 8, f = a.encrypt(f), d.length) for (c = h.bitLength(d) / 8, 
        65279 >= c ? g = [ h.partial(16, c) ] : 4294967295 >= c && (g = h.concat([ h.partial(16, 65534) ], [ c ])), 
        g = h.concat(g, d), d = 0; d < g.length; d += 4) f = a.encrypt(l(f, g.slice(d, d + 4).concat([ 0, 0, 0 ])));
        for (d = 0; d < b.length; d += 4) f = a.encrypt(l(f, b.slice(d, d + 4).concat([ 0, 0, 0 ])));
        return h.clamp(f, 8 * e);
    },
    o: function(a, b, c, d, e, f) {
        var g, h = sjcl.bitArray;
        g = h.k;
        var l = b.length, k = h.bitLength(b);
        if (c = h.concat([ h.partial(8, f - 1) ], c).concat([ 0, 0, 0 ]).slice(0, 4), d = h.bitSlice(g(d, a.encrypt(c)), 0, e), 
        !l) return {
            tag: d,
            data: []
        };
        for (g = 0; g < l; g += 4) c[3]++, e = a.encrypt(c), b[g] ^= e[0], b[g + 1] ^= e[1], 
        b[g + 2] ^= e[2], b[g + 3] ^= e[3];
        return {
            tag: d,
            data: h.clamp(b, k)
        };
    }
}, sjcl.mode.ocb2 = {
    name: "ocb2",
    encrypt: function(a, b, c, d, e, f) {
        128 !== sjcl.bitArray.bitLength(c) && q(new sjcl.exception.invalid("ocb iv must be 128 bits"));
        var g, h = sjcl.mode.ocb2.H, l = sjcl.bitArray, k = l.k, n = [ 0, 0, 0, 0 ];
        c = h(a.encrypt(c));
        var m, p = [];
        for (d = d || [], e = e || 64, g = 0; g + 4 < b.length; g += 4) m = b.slice(g, g + 4), 
        n = k(n, m), p = p.concat(k(c, a.encrypt(k(c, m)))), c = h(c);
        return m = b.slice(g), b = l.bitLength(m), g = a.encrypt(k(c, [ 0, 0, 0, b ])), 
        m = l.clamp(k(m.concat([ 0, 0, 0 ]), g), b), n = k(n, k(m.concat([ 0, 0, 0 ]), g)), 
        n = a.encrypt(k(n, k(c, h(c)))), d.length && (n = k(n, f ? d : sjcl.mode.ocb2.pmac(a, d))), 
        p.concat(l.concat(m, l.clamp(n, e)));
    },
    decrypt: function(a, b, c, d, e, f) {
        128 !== sjcl.bitArray.bitLength(c) && q(new sjcl.exception.invalid("ocb iv must be 128 bits")), 
        e = e || 64;
        var m, p, g = sjcl.mode.ocb2.H, h = sjcl.bitArray, l = h.k, k = [ 0, 0, 0, 0 ], n = g(a.encrypt(c)), s = sjcl.bitArray.bitLength(b) - e, r = [];
        for (d = d || [], c = 0; c + 4 < s / 32; c += 4) m = l(n, a.decrypt(l(n, b.slice(c, c + 4)))), 
        k = l(k, m), r = r.concat(m), n = g(n);
        return p = s - 32 * c, m = a.encrypt(l(n, [ 0, 0, 0, p ])), m = l(m, h.clamp(b.slice(c), p).concat([ 0, 0, 0 ])), 
        k = l(k, m), k = a.encrypt(l(k, l(n, g(n)))), d.length && (k = l(k, f ? d : sjcl.mode.ocb2.pmac(a, d))), 
        h.equal(h.clamp(k, e), h.bitSlice(b, s)) || q(new sjcl.exception.corrupt("ocb: tag doesn't match")), 
        r.concat(h.clamp(m, p));
    },
    pmac: function(a, b) {
        var c, d = sjcl.mode.ocb2.H, e = sjcl.bitArray, f = e.k, g = [ 0, 0, 0, 0 ], h = a.encrypt([ 0, 0, 0, 0 ]), h = f(h, d(d(h)));
        for (c = 0; c + 4 < b.length; c += 4) h = d(h), g = f(g, a.encrypt(f(h, b.slice(c, c + 4))));
        return c = b.slice(c), 128 > e.bitLength(c) && (h = f(h, d(h)), c = e.concat(c, [ -2147483648, 0, 0, 0 ])), 
        g = f(g, c), a.encrypt(f(d(f(h, d(h))), g));
    },
    H: function(a) {
        return [ a[0] << 1 ^ a[1] >>> 31, a[1] << 1 ^ a[2] >>> 31, a[2] << 1 ^ a[3] >>> 31, a[3] << 1 ^ 135 * (a[0] >>> 31) ];
    }
}, sjcl.mode.gcm = {
    name: "gcm",
    encrypt: function(a, b, c, d, e) {
        var f = b.slice(0);
        return b = sjcl.bitArray, d = d || [], a = sjcl.mode.gcm.o(!0, a, f, d, c, e || 128), 
        b.concat(a.data, a.tag);
    },
    decrypt: function(a, b, c, d, e) {
        var f = b.slice(0), g = sjcl.bitArray, h = g.bitLength(f);
        return e = e || 128, d = d || [], e <= h ? (b = g.bitSlice(f, h - e), f = g.bitSlice(f, 0, h - e)) : (b = f, 
        f = []), a = sjcl.mode.gcm.o(u, a, f, d, c, e), g.equal(a.tag, b) || q(new sjcl.exception.corrupt("gcm: tag doesn't match")), 
        a.data;
    },
    W: function(a, b) {
        var c, d, e, f, g, h = sjcl.bitArray.k;
        for (e = [ 0, 0, 0, 0 ], f = b.slice(0), c = 0; 128 > c; c++) {
            for ((d = 0 !== (a[Math.floor(c / 32)] & 1 << 31 - c % 32)) && (e = h(e, f)), g = 0 !== (1 & f[3]), 
            d = 3; 0 < d; d--) f[d] = f[d] >>> 1 | (1 & f[d - 1]) << 31;
            f[0] >>>= 1, g && (f[0] ^= -520093696);
        }
        return e;
    },
    f: function(a, b, c) {
        var d, e = c.length;
        for (b = b.slice(0), d = 0; d < e; d += 4) b[0] ^= 4294967295 & c[d], b[1] ^= 4294967295 & c[d + 1], 
        b[2] ^= 4294967295 & c[d + 2], b[3] ^= 4294967295 & c[d + 3], b = sjcl.mode.gcm.W(b, a);
        return b;
    },
    o: function(a, b, c, d, e, f) {
        var g, h, l, k, n, m, p, s, r = sjcl.bitArray;
        for (m = c.length, p = r.bitLength(c), s = r.bitLength(d), h = r.bitLength(e), g = b.encrypt([ 0, 0, 0, 0 ]), 
        96 === h ? (e = e.slice(0), e = r.concat(e, [ 1 ])) : (e = sjcl.mode.gcm.f(g, [ 0, 0, 0, 0 ], e), 
        e = sjcl.mode.gcm.f(g, e, [ 0, 0, Math.floor(h / 4294967296), 4294967295 & h ])), 
        h = sjcl.mode.gcm.f(g, [ 0, 0, 0, 0 ], d), n = e.slice(0), d = h.slice(0), a || (d = sjcl.mode.gcm.f(g, h, c)), 
        k = 0; k < m; k += 4) n[3]++, l = b.encrypt(n), c[k] ^= l[0], c[k + 1] ^= l[1], 
        c[k + 2] ^= l[2], c[k + 3] ^= l[3];
        return c = r.clamp(c, p), a && (d = sjcl.mode.gcm.f(g, h, c)), a = [ Math.floor(s / 4294967296), 4294967295 & s, Math.floor(p / 4294967296), 4294967295 & p ], 
        d = sjcl.mode.gcm.f(g, d, a), l = b.encrypt(e), d[0] ^= l[0], d[1] ^= l[1], d[2] ^= l[2], 
        d[3] ^= l[3], {
            tag: r.bitSlice(d, 0, f),
            data: c
        };
    }
}, sjcl.misc.hmac = function(a, b) {
    this.M = b = b || sjcl.hash.sha256;
    var d, c = [ [], [] ], e = b.prototype.blockSize / 32;
    for (this.m = [ new b(), new b() ], a.length > e && (a = b.hash(a)), d = 0; d < e; d++) c[0][d] = 909522486 ^ a[d], 
    c[1][d] = 1549556828 ^ a[d];
    this.m[0].update(c[0]), this.m[1].update(c[1]), this.G = new b(this.m[0]);
}, sjcl.misc.hmac.prototype.encrypt = sjcl.misc.hmac.prototype.mac = function(a) {
    return this.Q && q(new sjcl.exception.invalid("encrypt on already updated hmac called!")), 
    this.update(a), this.digest(a);
}, sjcl.misc.hmac.prototype.reset = function() {
    this.G = new this.M(this.m[0]), this.Q = u;
}, sjcl.misc.hmac.prototype.update = function(a) {
    this.Q = !0, this.G.update(a);
}, sjcl.misc.hmac.prototype.digest = function() {
    var a = this.G.finalize(), a = new this.M(this.m[1]).update(a).finalize();
    return this.reset(), a;
}, sjcl.misc.pbkdf2 = function(a, b, c, d, e) {
    c = c || 1e3, (0 > d || 0 > c) && q(sjcl.exception.invalid("invalid params to pbkdf2")), 
    "string" == typeof a && (a = sjcl.codec.utf8String.toBits(a)), "string" == typeof b && (b = sjcl.codec.utf8String.toBits(b)), 
    e = e || sjcl.misc.hmac, a = new e(a);
    var f, g, h, l, k = [], n = sjcl.bitArray;
    for (l = 1; 32 * k.length < (d || 1); l++) {
        for (e = f = a.encrypt(n.concat(b, [ l ])), g = 1; g < c; g++) for (f = a.encrypt(f), 
        h = 0; h < f.length; h++) e[h] ^= f[h];
        k = k.concat(e);
    }
    return d && (k = n.clamp(k, d)), k;
}, sjcl.prng = function(a) {
    this.b = [ new sjcl.hash.sha256() ], this.h = [ 0 ], this.F = 0, this.t = {}, this.C = 0, 
    this.K = {}, this.O = this.c = this.i = this.V = 0, this.a = [ 0, 0, 0, 0, 0, 0, 0, 0 ], 
    this.e = [ 0, 0, 0, 0 ], this.A = t, this.B = a, this.p = u, this.z = {
        progress: {},
        seeded: {}
    }, this.l = this.U = 0, this.u = 1, this.w = 2, this.S = 65536, this.I = [ 0, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024 ], 
    this.T = 3e4, this.R = 80;
}, sjcl.prng.prototype = {
    randomWords: function(a, b) {
        var d, c = [];
        d = this.isReady(b);
        var e;
        if (d === this.l && q(new sjcl.exception.notReady("generator isn't seeded")), d & this.w) {
            d = !(d & this.u), e = [];
            var g, f = 0;
            for (this.O = e[0] = new Date().valueOf() + this.T, g = 0; 16 > g; g++) e.push(4294967296 * Math.random() | 0);
            for (g = 0; g < this.b.length && (e = e.concat(this.b[g].finalize()), f += this.h[g], 
            this.h[g] = 0, !(!d && this.F & 1 << g)); g++) ;
            for (this.F >= 1 << this.b.length && (this.b.push(new sjcl.hash.sha256()), this.h.push(0)), 
            this.c -= f, f > this.i && (this.i = f), this.F++, this.a = sjcl.hash.sha256.hash(this.a.concat(e)), 
            this.A = new sjcl.cipher.aes(this.a), d = 0; 4 > d && (this.e[d] = this.e[d] + 1 | 0, 
            !this.e[d]); d++) ;
        }
        for (d = 0; d < a; d += 4) 0 === (d + 1) % this.S && A(this), e = B(this), c.push(e[0], e[1], e[2], e[3]);
        return A(this), c.slice(0, a);
    },
    setDefaultParanoia: function(a) {
        this.B = a;
    },
    addEntropy: function(a, b, c) {
        c = c || "user";
        var d, e, f = new Date().valueOf(), g = this.t[c], h = this.isReady(), l = 0;
        switch (d = this.K[c], d === t && (d = this.K[c] = this.V++), g === t && (g = this.t[c] = 0), 
        this.t[c] = (this.t[c] + 1) % this.b.length, typeof a) {
          case "number":
            b === t && (b = 1), this.b[g].update([ d, this.C++, 1, b, f, 1, 0 | a ]);
            break;

          case "object":
            if (c = Object.prototype.toString.call(a), "[object Uint32Array]" === c) {
                for (e = [], c = 0; c < a.length; c++) e.push(a[c]);
                a = e;
            } else for ("[object Array]" !== c && (l = 1), c = 0; c < a.length && !l; c++) "number" != typeof a[c] && (l = 1);
            if (!l) {
                if (b === t) for (c = b = 0; c < a.length; c++) for (e = a[c]; 0 < e; ) b++, e >>>= 1;
                this.b[g].update([ d, this.C++, 2, b, f, a.length ].concat(a));
            }
            break;

          case "string":
            b === t && (b = a.length), this.b[g].update([ d, this.C++, 3, b, f, a.length ]), 
            this.b[g].update(a);
            break;

          default:
            l = 1;
        }
        l && q(new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string")), 
        this.h[g] += b, this.c += b, h === this.l && (this.isReady() !== this.l && C("seeded", Math.max(this.i, this.c)), 
        C("progress", this.getProgress()));
    },
    isReady: function(a) {
        return a = this.I[a !== t ? a : this.B], this.i && this.i >= a ? this.h[0] > this.R && new Date().valueOf() > this.O ? this.w | this.u : this.u : this.c >= a ? this.w | this.l : this.l;
    },
    getProgress: function(a) {
        return a = this.I[a ? a : this.B], this.i >= a ? 1 : this.c > a ? 1 : this.c / a;
    },
    startCollectors: function() {
        this.p || (window.addEventListener ? (window.addEventListener("load", this.r, u), 
        window.addEventListener("mousemove", this.s, u)) : document.attachEvent ? (document.attachEvent("onload", this.r), 
        document.attachEvent("onmousemove", this.s)) : q(new sjcl.exception.bug("can't attach event")), 
        this.p = !0);
    },
    stopCollectors: function() {
        this.p && (window.removeEventListener ? (window.removeEventListener("load", this.r, u), 
        window.removeEventListener("mousemove", this.s, u)) : window.detachEvent && (window.detachEvent("onload", this.r), 
        window.detachEvent("onmousemove", this.s)), this.p = u);
    },
    addEventListener: function(a, b) {
        this.z[a][this.U++] = b;
    },
    removeEventListener: function(a, b) {
        var c, d, e = this.z[a], f = [];
        for (d in e) e.hasOwnProperty(d) && e[d] === b && f.push(d);
        for (c = 0; c < f.length; c++) d = f[c], delete e[d];
    },
    s: function(a) {
        sjcl.random.addEntropy([ a.x || a.clientX || a.offsetX || 0, a.y || a.clientY || a.offsetY || 0 ], 2, "mouse");
    },
    r: function() {
        sjcl.random.addEntropy(new Date().valueOf(), 2, "loadtime");
    }
}, sjcl.random = new sjcl.prng(6);

try {
    if ("undefined" != typeof module && module.exports) {
        var D = require("crypto").randomBytes(128);
        sjcl.random.addEntropy(D, 1024, "crypto['randomBytes']");
    } else if (window && window.crypto && window.crypto.getRandomValues) {
        var E = new Uint32Array(32);
        window.crypto.getRandomValues(E), sjcl.random.addEntropy(E, 1024, "crypto['getRandomValues']");
    }
} catch (F) {}

sjcl.json = {
    defaults: {
        v: 1,
        iter: 1e3,
        ks: 128,
        ts: 64,
        mode: "ccm",
        adata: "",
        cipher: "aes"
    },
    encrypt: function(a, b, c, d) {
        c = c || {}, d = d || {};
        var g, e = sjcl.json, f = e.d({
            iv: sjcl.random.randomWords(4, 0)
        }, e.defaults);
        return e.d(f, c), c = f.adata, "string" == typeof f.salt && (f.salt = sjcl.codec.base64.toBits(f.salt)), 
        "string" == typeof f.iv && (f.iv = sjcl.codec.base64.toBits(f.iv)), (!sjcl.mode[f.mode] || !sjcl.cipher[f.cipher] || "string" == typeof a && 100 >= f.iter || 64 !== f.ts && 96 !== f.ts && 128 !== f.ts || 128 !== f.ks && 192 !== f.ks && 256 !== f.ks || 2 > f.iv.length || 4 < f.iv.length) && q(new sjcl.exception.invalid("json encrypt: invalid parameters")), 
        "string" == typeof a ? (g = sjcl.misc.cachedPbkdf2(a, f), a = g.key.slice(0, f.ks / 32), 
        f.salt = g.salt) : sjcl.ecc && a instanceof sjcl.ecc.elGamal.publicKey && (g = a.kem(), 
        f.kemtag = g.tag, a = g.key.slice(0, f.ks / 32)), "string" == typeof b && (b = sjcl.codec.utf8String.toBits(b)), 
        "string" == typeof c && (c = sjcl.codec.utf8String.toBits(c)), g = new sjcl.cipher[f.cipher](a), 
        e.d(d, f), d.key = a, f.ct = sjcl.mode[f.mode].encrypt(g, b, f.iv, c, f.ts), e.encode(f);
    },
    decrypt: function(a, b, c, d) {
        c = c || {}, d = d || {};
        var e = sjcl.json;
        b = e.d(e.d(e.d({}, e.defaults), e.decode(b)), c, !0);
        var f;
        return c = b.adata, "string" == typeof b.salt && (b.salt = sjcl.codec.base64.toBits(b.salt)), 
        "string" == typeof b.iv && (b.iv = sjcl.codec.base64.toBits(b.iv)), (!sjcl.mode[b.mode] || !sjcl.cipher[b.cipher] || "string" == typeof a && 100 >= b.iter || 64 !== b.ts && 96 !== b.ts && 128 !== b.ts || 128 !== b.ks && 192 !== b.ks && 256 !== b.ks || !b.iv || 2 > b.iv.length || 4 < b.iv.length) && q(new sjcl.exception.invalid("json decrypt: invalid parameters")), 
        "string" == typeof a ? (f = sjcl.misc.cachedPbkdf2(a, b), a = f.key.slice(0, b.ks / 32), 
        b.salt = f.salt) : sjcl.ecc && a instanceof sjcl.ecc.elGamal.secretKey && (a = a.unkem(sjcl.codec.base64.toBits(b.kemtag)).slice(0, b.ks / 32)), 
        "string" == typeof c && (c = sjcl.codec.utf8String.toBits(c)), f = new sjcl.cipher[b.cipher](a), 
        c = sjcl.mode[b.mode].decrypt(f, b.ct, b.iv, c, b.ts), e.d(d, b), d.key = a, sjcl.codec.utf8String.fromBits(c);
    },
    encode: function(a) {
        var b, c = "{", d = "";
        for (b in a) if (a.hasOwnProperty(b)) switch (b.match(/^[a-z0-9]+$/i) || q(new sjcl.exception.invalid("json encode: invalid property name")), 
        c += d + '"' + b + '":', d = ",", typeof a[b]) {
          case "number":
          case "boolean":
            c += a[b];
            break;

          case "string":
            c += '"' + escape(a[b]) + '"';
            break;

          case "object":
            c += '"' + sjcl.codec.base64.fromBits(a[b], 0) + '"';
            break;

          default:
            q(new sjcl.exception.bug("json encode: unsupported type"));
        }
        return c + "}";
    },
    decode: function(a) {
        a = a.replace(/\s/g, ""), a.match(/^\{.*\}$/) || q(new sjcl.exception.invalid("json decode: this isn't json!")), 
        a = a.replace(/^\{|\}$/g, "").split(/,/);
        var c, d, b = {};
        for (c = 0; c < a.length; c++) (d = a[c].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)) || q(new sjcl.exception.invalid("json decode: this isn't json!")), 
        b[d[2]] = d[3] ? parseInt(d[3], 10) : d[2].match(/^(ct|salt|iv)$/) ? sjcl.codec.base64.toBits(d[4]) : unescape(d[4]);
        return b;
    },
    d: function(a, b, c) {
        if (a === t && (a = {}), b === t) return a;
        for (var d in b) b.hasOwnProperty(d) && (c && a[d] !== t && a[d] !== b[d] && q(new sjcl.exception.invalid("required parameter overridden")), 
        a[d] = b[d]);
        return a;
    },
    Z: function(a, b) {
        var d, c = {};
        for (d in a) a.hasOwnProperty(d) && a[d] !== b[d] && (c[d] = a[d]);
        return c;
    },
    Y: function(a, b) {
        var d, c = {};
        for (d = 0; d < b.length; d++) a[b[d]] !== t && (c[b[d]] = a[b[d]]);
        return c;
    }
}, sjcl.encrypt = sjcl.json.encrypt, sjcl.decrypt = sjcl.json.decrypt, sjcl.misc.X = {}, 
sjcl.misc.cachedPbkdf2 = function(a, b) {
    var d, c = sjcl.misc.X;
    return b = b || {}, d = b.iter || 1e3, c = c[a] = c[a] || {}, d = c[d] = c[d] || {
        firstSalt: b.salt && b.salt.length ? b.salt.slice(0) : sjcl.random.randomWords(2, 0)
    }, c = b.salt === t ? d.firstSalt : b.salt, d[c] = d[c] || sjcl.misc.pbkdf2(a, c, b.iter), 
    {
        key: d[c].slice(0),
        salt: c.slice(0)
    };
}, Random = {}, Random.getRandomInteger = function(max) {
    var random, bit_length = max.bitLength();
    random = sjcl.random.randomWords(bit_length / 32, 0);
    var rand_bi = new BigInt(sjcl.codec.hex.fromBits(random), 16);
    return rand_bi.mod(max);
};